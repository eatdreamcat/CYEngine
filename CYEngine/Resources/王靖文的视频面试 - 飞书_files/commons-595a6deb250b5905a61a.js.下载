(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[function(e,t,i){"use strict";var n;i.r(t),i.d(t,"ContainerEvent",(function(){return n})),i.d(t,"REQUEST_ERROR_MAP",(function(){return r})),i.d(t,"START_ERROR_MAP",(function(){return o})),i.d(t,"NAME_PROPERTY_MAP",(function(){return s})),i.d(t,"LogType",(function(){return a})),i.d(t,"LogPrefix",(function(){return d})),i.d(t,"ToastEvent",(function(){return c})),i.d(t,"ThumbnailType",(function(){return l})),i.d(t,"BroadcastEvent",(function(){return p})),i.d(t,"Command",(function(){return u})),i.d(t,"SyncCommand",(function(){return _})),i.d(t,"I18nLocale",(function(){return E})),i.d(t,"SERVER_NAME",(function(){return h})),i.d(t,"MonitorEvents",(function(){return T})),i.d(t,"PageLoadMetrics",(function(){return y})),i.d(t,"BootKeyMetrics",(function(){return f})),i.d(t,"RTCSDKTrackMetrics",(function(){return I})),i.d(t,"MonitorType",(function(){return g})),i.d(t,"SleepBlockAction",(function(){return S})),i.d(t,"ConfirmPopUpEvent",(function(){return C})),i.d(t,"RustPushEvent",(function(){return m})),i.d(t,"CommandType",(function(){return N})),i.d(t,"CommandNumber",(function(){return A})),i.d(t,"Homeric",(function(){return ne.Homeric})),i.d(t,"UserType",(function(){return U})),i.d(t,"CallType",(function(){return w})),i.d(t,"NetworkType",(function(){return k})),i.d(t,"InteruptType",(function(){return G})),i.d(t,"MeetingPageAction",(function(){return V})),i.d(t,"SubtitlePageAction",(function(){return H})),i.d(t,"SubtitlePopupAction",(function(){return B})),i.d(t,"MeetingAttendAction",(function(){return F})),i.d(t,"InvitePageAction",(function(){return j})),i.d(t,"RTC_SDK_TRACK_ERROR",(function(){return W})),i.d(t,"SketchBarActionName",(function(){return x})),i.d(t,"VCLabsAction",(function(){return K})),i.d(t,"VCMeetingDriveSource",(function(){return q})),i.d(t,"VCMeetingDriveAction",(function(){return Y})),i.d(t,"WaitingRoomsPopupPageAction",(function(){return J})),i.d(t,"MeetingPopupPageAction",(function(){return z})),i.d(t,"UpgradePlanWindowAction",(function(){return X})),i.d(t,"LarkShareScreenPreviewAction",(function(){return Q})),i.d(t,"InMeetingConfirmNextStatus",(function(){return $})),i.d(t,"MiniVideoAction",(function(){return Z})),i.d(t,"RingingSource",(function(){return ee})),i.d(t,"TRANSITION_TO_TRACKINPUT_MAP",(function(){return te})),i.d(t,"FINISH_TYPE",(function(){return ie})),i.d(t,"UISDKLeaveMeetingType2FinishType",(function(){return re})),i.d(t,"UISDKLeaveMeetingType2FinishReason",(function(){return oe})),i.d(t,"WindowEvent",(function(){return se})),i.d(t,"ShortcutCloseAction",(function(){return ae})),i.d(t,"PageEvent",(function(){return de})),i.d(t,"PageSendEvent",(function(){return ce})),i.d(t,"CommonConfirmMessageType",(function(){return le})),i.d(t,"PreviewPageUsage",(function(){return pe})),i.d(t,"PageInMeetingNoticeType",(function(){return ue})),i.d(t,"MeetingConfirmType",(function(){return _e})),i.d(t,"RecordConfirmType",(function(){return Ee})),i.d(t,"LiveConfirmModalType",(function(){return he})),i.d(t,"LiveSettingModalType",(function(){return Te})),i.d(t,"ToggleLiveSettingSource",(function(){return ye})),i.d(t,"AVSettingType",(function(){return fe})),i.d(t,"ConfirmModalType",(function(){return Ie})),i.d(t,"ShareScreenChoosePanelSource",(function(){return ge})),i.d(t,"RemoteControlModalType",(function(){return Se})),i.d(t,"PageName",(function(){return Ce})),i.d(t,"LocalEndReason",(function(){return me})),i.d(t,"PageNameRouteMap",(function(){return Ne})),i.d(t,"PageNamePathMap",(function(){return Ae})),i.d(t,"AppType",(function(){return Re})),i.d(t,"HeartbeatStopReason",(function(){return Oe})),i.d(t,"HeartbeatServiceType",(function(){return ve})),i.d(t,"LobbyQueryType",(function(){return Pe})),i.d(t,"LeaveReason",(function(){return Me})),i.d(t,"ParticipantStatus",(function(){return Le})),i.d(t,"HandsStatus",(function(){return be})),i.d(t,"OfflineReason",(function(){return De})),i.d(t,"UserDeviceType",(function(){return Ue})),i.d(t,"DeviceType",(function(){return we})),i.d(t,"ParticipantType",(function(){return ke})),i.d(t,"TenantTag",(function(){return Ge})),i.d(t,"ParticipantRole",(function(){return Ve})),i.d(t,"PSTNBindType",(function(){return He})),i.d(t,"ParticipantMeetingRole",(function(){return Be})),i.d(t,"Action",(function(){return Fe})),i.d(t,"noRequestActionSet",(function(){return je})),i.d(t,"CLIENT_ACTION_2_SERVER_ACTION",(function(){return We})),i.d(t,"HANGUP_ACTION_2_UISDK_LEAVE_MEETING_TYPE",(function(){return xe})),i.d(t,"PreviewJoinVideoChatType",(function(){return Ke})),i.d(t,"PreviewJoinVideoChatErrorType",(function(){return qe})),i.d(t,"EndReason",(function(){return Ye})),i.d(t,"VideoChatType",(function(){return Je})),i.d(t,"MsgInfoType",(function(){return ze})),i.d(t,"MsgInfoPopupType",(function(){return Xe})),i.d(t,"MeetingSource",(function(){return Qe})),i.d(t,"VideoChatExtraType",(function(){return $e})),i.d(t,"InMeetingDataType",(function(){return Ze})),i.d(t,"RecordMeetingDataType",(function(){return et})),i.d(t,"LiveMeetingDataType",(function(){return tt})),i.d(t,"LiveVoteReason",(function(){return it})),i.d(t,"BINDING_TYPE",(function(){return nt})),i.d(t,"NotificationType",(function(){return rt})),i.d(t,"NoticeType",(function(){return ot})),i.d(t,"PopupType",(function(){return st})),i.d(t,"NoticeStatus",(function(){return at})),i.d(t,"NoticeReplyAction",(function(){return dt})),i.d(t,"ToastPositionMask",(function(){return ct})),i.d(t,"VideoChatNoticeUpdate_Action",(function(){return lt})),i.d(t,"SubType",(function(){return pt})),i.d(t,"MeetingLayoutType",(function(){return ut})),i.d(t,"PlanType",(function(){return _t})),i.d(t,"FSMErrorType",(function(){return Et})),i.d(t,"PollingServiceType",(function(){return ht})),i.d(t,"TargetUserPermissions",(function(){return Tt})),i.d(t,"UserState",(function(){return yt})),i.d(t,"UserWorkStatusType",(function(){return ft})),i.d(t,"WorkStatus",(function(){return It})),i.d(t,"UserStatus",(function(){return gt})),i.d(t,"ChatApplicationStatus",(function(){return St})),i.d(t,"InaccessableCode",(function(){return Ct})),i.d(t,"SearchResultType",(function(){return mt})),i.d(t,"FeedType",(function(){return Nt})),i.d(t,"SearchUserType",(function(){return At})),i.d(t,"SearchUserStatus",(function(){return Rt})),i.d(t,"I18nLocal",(function(){return Ot})),i.d(t,"QueryType",(function(){return vt})),i.d(t,"SearchIDType",(function(){return Pt})),i.d(t,"ShareScreenAction",(function(){return Mt})),i.d(t,"ShareScreenType",(function(){return Lt})),i.d(t,"SDKType",(function(){return bt})),i.d(t,"SDKName",(function(){return Dt})),i.d(t,"VendorType",(function(){return Ut})),i.d(t,"VENDOR_SDK_MAP",(function(){return wt})),i.d(t,"VENDOR_DEFAULT_SDK_MAP",(function(){return kt})),i.d(t,"ErrorCode",(function(){return Gt})),i.d(t,"OperationQueueName",(function(){return Vt})),i.d(t,"HostManageAction",(function(){return Ht})),i.d(t,"SecurityLevel",(function(){return Bt})),i.d(t,"SetCoHostAction",(function(){return Ft})),i.d(t,"ApprovalType",(function(){return jt})),i.d(t,"ApprovalAction",(function(){return Wt})),i.d(t,"FeedbackType",(function(){return xt})),i.d(t,"VideoChatMeetingQuality",(function(){return Kt})),i.d(t,"FeedbackNetworkType",(function(){return qt})),i.d(t,"FeedbackFor1v1NetworkType",(function(){return Yt})),i.d(t,"RejoinMeetingResponseStatusCode",(function(){return Jt})),i.d(t,"ShareToRoomType",(function(){return zt})),i.d(t,"ShareScreenCreateVideoChatErrorType",(function(){return Xt})),i.d(t,"newVcDocShareScreenItem",(function(){return oi})),i.d(t,"newVcDocShareScreenNewDocItem",(function(){return si})),i.d(t,"HangupAllOtherChatRoomRequestType",(function(){return Qt})),i.d(t,"I18nKeyType",(function(){return $t})),i.d(t,"MegaI18nDataType",(function(){return Zt})),i.d(t,"FollowActionType",(function(){return Ti})),i.d(t,"FollowInfoSupportLevel",(function(){return yi})),i.d(t,"NavigationChangeMode",(function(){return fi})),i.d(t,"FollowLifeTime",(function(){return Ii})),i.d(t,"Characteristic",(function(){return gi})),i.d(t,"CipherType",(function(){return Si})),i.d(t,"FollowShareType",(function(){return Ci})),i.d(t,"FollowShareSubType",(function(){return mi})),i.d(t,"FollowInitSource",(function(){return Ni})),i.d(t,"FollowVCDataType",(function(){return Ai})),i.d(t,"FyhStatus",(function(){return Ri})),i.d(t,"FollowDataType",(function(){return Oi})),i.d(t,"FollowPatchType",(function(){return vi})),i.d(t,"FollowGrootCellPayloadType",(function(){return Pi})),i.d(t,"FollowResourceType",(function(){return Mi})),i.d(t,"FollowResourceJsContext",(function(){return Li})),i.d(t,"FollowStrategyUseDeviceIdScope",(function(){return bi})),i.d(t,"ResourceInjectTiming",(function(){return Di})),i.d(t,"docSubType2ShareFollowSubType",(function(){return Gn})),i.d(t,"shareFollowSubType2DocSubType",(function(){return Vn})),i.d(t,"FollowNoticeAction",(function(){return Ui})),i.d(t,"DocType",(function(){return ei})),i.d(t,"DocSubType",(function(){return ti})),i.d(t,"CreateDocType",(function(){return ii})),i.d(t,"docType2CreateDocType",(function(){return ai})),i.d(t,"DocShareStatus",(function(){return ni})),i.d(t,"CreateDocSource",(function(){return ri})),i.d(t,"iconFileMap",(function(){return di})),i.d(t,"iconFeedMap",(function(){return ci})),i.d(t,"iconSubFeedMap",(function(){return li})),i.d(t,"iconSubFileMap",(function(){return pi})),i.d(t,"MAGIC_SHARE_ID",(function(){return ui})),i.d(t,"DEFAULT_DOC_THUMBNAIL",(function(){return _i})),i.d(t,"DocSubTypeStringMap",(function(){return Ei})),i.d(t,"DocTypeStringMap",(function(){return hi})),i.d(t,"ShareFollowAction",(function(){return wi})),i.d(t,"FollowAuthority",(function(){return ki})),i.d(t,"AuthorityMask",(function(){return Gi})),i.d(t,"RecordMeetingRequestAction",(function(){return Vi})),i.d(t,"IDType",(function(){return Hi})),i.d(t,"JoinChatRoomFrom",(function(){return Bi})),i.d(t,"JoinType",(function(){return Fi})),i.d(t,"ClientExtraAction",(function(){return ji})),i.d(t,"JoinMeetingResponseType",(function(){return Wi})),i.d(t,"HttpErrorCode",(function(){return xi})),i.d(t,"ScaleMode",(function(){return Ki})),i.d(t,"SettingConfig",(function(){return qi})),i.d(t,"SubtitleEventType",(function(){return Yi})),i.d(t,"SubtitleType",(function(){return Ji})),i.d(t,"LangDetectInfoType",(function(){return zi})),i.d(t,"SubtitleStatus",(function(){return Xi})),i.d(t,"JoinMeetingCheckIDType",(function(){return Qi})),i.d(t,"JoinMeetingCheckType",(function(){return $i})),i.d(t,"RoomMeetingStatus",(function(){return Zi})),i.d(t,"CalendarAcceptStatus",(function(){return en})),i.d(t,"EventType",(function(){return tn})),i.d(t,"DescriptionFlag",(function(){return nn})),i.d(t,"ChatterMeetingStatus",(function(){return rn})),i.d(t,"GetCalendarGroupStatus",(function(){return on})),i.d(t,"JoinCalendarMeetingResponseType",(function(){return sn})),i.d(t,"EntrySource",(function(){return an})),i.d(t,"Method",(function(){return dn})),i.d(t,"HostAlias",(function(){return cn})),i.d(t,"HttpResponseStatus",(function(){return ln})),i.d(t,"NoticeByteviewEventType",(function(){return pn})),i.d(t,"VideoChatHistoryType",(function(){return un})),i.d(t,"MeetingStatus",(function(){return _n})),i.d(t,"UserAction",(function(){return En})),i.d(t,"VideoChatEventSource",(function(){return hn})),i.d(t,"NetWorkStatus",(function(){return Tn})),i.d(t,"GrootChannel",(function(){return yn})),i.d(t,"GrootCellAction",(function(){return fn})),i.d(t,"GrootChannelStatus",(function(){return In})),i.d(t,"SketchTestRequest_TestType",(function(){return gn})),i.d(t,"BrushType",(function(){return Sn})),i.d(t,"VideoChatPromptType",(function(){return Cn})),i.d(t,"VideoChatPromptAction",(function(){return mn})),i.d(t,"ReplyVideoChatPromptAction",(function(){return Nn})),i.d(t,"RemoteControllerStatus",(function(){return An})),i.d(t,"RemoteControlActionType",(function(){return Rn})),i.d(t,"VideoChatLiveActionRequestAction",(function(){return On})),i.d(t,"BINDING_ACTION",(function(){return vn})),i.d(t,"Privilege",(function(){return Pn})),i.d(t,"LiveLayoutStyle",(function(){return Mn})),i.d(t,"RegisterClientInfoSourceType",(function(){return Ln})),i.d(t,"RegisterClientInfoResponseStatus",(function(){return bn})),i.d(t,"DynamicNetStatusEnum",(function(){return Dn})),i.d(t,"VCManageResultType",(function(){return Un})),i.d(t,"VCManageResultAction",(function(){return wn})),i.d(t,"TimeFormat",(function(){return kn})),i.d(t,"SDKErrorType",(function(){return R})),i.d(t,"SDKCrashCode",(function(){return O})),i.d(t,"WEBGL_RTC_EVENTS",(function(){return v})),i.d(t,"UISDKJoinMeetingType",(function(){return P})),i.d(t,"SDKExceptionReason",(function(){return M})),i.d(t,"UISDKLeaveMeetingType",(function(){return L})),i.d(t,"EquipmentStatus",(function(){return b})),i.d(t,"SDKDeviceType",(function(){return D})),function(e){e.TRACK="TRACK",e.TOAST="TOAST",e.CONFIRM="CONFIRM",e.ALERT="ALERT",e.LOG="LOG",e.NEW_LOG="NEW_LOG",e.MONITOR="MONITOR",e.DATA_UPDATE="DATA_UPDATE",e.PREVIEW_MODAL="PREVIEW_MODAL",e.SLEEP_BLOCK="SLEEP_BLOCK",e.SDK_SERVER_RESTART="SDK_SERVER_RESTART",e.BYTEVIEW_SHARESCREENBAR_SETWINTOP="BYTEVIEW_SHARESCREENBAR_SETWINTOP",e.BYTEVIEW_SKETCH_SETWINTOP="BYTEVIEW_SKETCH_SETWINTOP",e.BYTEVIEW_SKETCH_CANCELWINTOP="BYTEVIEW_SKETCH_CANCELWINTOP",e.BYTEVIEW_PAGE_OWNER="BYTEVIEW_PAGE_OWNER",e.BYTEVIEW_SESSION_CLEAR="BYTEVIEW_SESSION_CLEAR",e.NOTICE_BYTEVIEW_EVENT="NOTICE_BYTEVIEW_EVENT",e.CLOSE_AV_SETTING="CLOSE_AV_SETTING"}(n||(n={}));const r={220001:"View_G_CurrentlyInCall",220002:"View_G_RecipientNeedsUpdate",220003:"View_G_RecipientUnavailable",220005:"View_G_UpdateToUse",220006:"View_M_CannotStartMeetings",220102:"View_M_NoVideoMeetingsToast"},o={220005:5,220001:4,220002:3,220003:2,10008:1,10009:1},s={en_US:"enUsName",zh_CN:"name"};var a,d,c,l,p,u,_,E;!function(e){e.TRACE="trace",e.DEBUG="debug",e.INFO="info",e.WARN="warn",e.ERROR="error"}(a||(a={})),function(e){e.NORMAL="BYTEVIEW",e.RENDER="BYTEVIEW RENDER",e.CORE="BYTEVIEW CORE",e.COREMANAGER="BYTEVIEW CORE MANAGER",e.PM="BYTEVIEW PM",e.SDK="BYTEVIEW SDK",e.SDK_SERVER="BYTEVIEW SDK SERVER",e.C="BYTEVIEW C++",e.PERF="BYTEVIEW PERF",e.DIAGNOSE="BYTEVIEW DIAGNOSE",e.MEETING_SPACE="BYTEVIEW MEETING_SPACE",e.WHITEBOARD="WHITEBOARD"}(d||(d={})),function(e){e.INFO="info",e.SUCCESS="success",e.ERROR="error",e.WARNING="warning",e.LOADING="loading",e.REMOVE="remove",e.HINT="hint",e.WARN="warn",e.NONE="none"}(c||(c={})),function(e){e[e.DESKTOP=1]="DESKTOP",e[e.WINDOW=2]="WINDOW"}(l||(l={})),function(e){e.PAGE_DATA_UPDATE="PAGE_DATA_UPDATE",e.NOTICE_SHAREMODE_SHOW_INTERACTION="NOTICE_SHAREMODE_SHOW_INTERACTION",e.NOTICE_MAINPAGE_SHOW_HANGUP_MODAL="NOTICE_MAINPAGE_SHOW_HANGUP_MODAL",e.LEAVE_MEETING="LEAVE_MEETING",e.PINEDID_UPDATE="PINEDID_UPDATE",e.NETWORK_STATUS_UPDATE="NETWORK_STATUS_UPDATE",e.DATA_ASYNC_REQUEST="DATA_ASYNC_REQUEST",e.SEND_DATA_TO_MEETING_PAGE="SEND_DATA_TO_MEETING_PAGE",e.SEND_DATA_TO_MINI_VIDEO="SEND_DATA_TO_MINI_VIDEO",e.SEND_DATA_TO_MINI_VIDEO_LOBBY="SEND_DATA_TO_MINI_VIDEO_LOBBY",e.MINI_VIDEO_LOBBY_LOADED="MINI_VIDEO_LOBBY_LOADED",e.SEND_DATA_TO_SHARE_SCREEN_CONTROL_BAR="SEND_DATA_TO_SHARE_SCREEN_CONTROL_BAR",e.SEND_DATA_TO_SHARE_SCREEN_PANEL="SEND_DATA_TO_SHARE_SCREEN_PANEL",e.SHARE_SCREEN_CHOOSE_ITEM="SHARE_SCREEN_CHOOSE_ITEM",e.SHARE_SCREEN_CHOOSE_CLOSE="SHARE_SCREEN_CHOOSE_CLOSE",e.SUBTITLE_DATA_UPDATE="SUBTITLE_DATA_UPDATE",e.SWITCH_LOCAL_VIDEO_MIRROR="SWITCH_LOCAL_VIDEO_MIRROR",e.LIVE_DATA_UPDATE="LIVE_DATA_UPDATE",e.CLOSE_AV_SETTING="CLOSE_AV_SETTING",e.AV_SETTING_CLOSE="AV_SETTING_CLOSE",e.HIDE_AV_SETTING="HIDE_AV_SETTING",e.TRY_DESTORY_SDK_SERVER="TRY_DESTORY_SDK_SERVER",e.SHARE_AUDIO_TO_ROOM="SHARE_AUDIO_TO_ROOM",e.HIDE_SHARE_SCREEN_CONTROLLBAR="HIDE_SHARE_SCREEN_CONTROLLBAR",e.CLOSE_INTERACTION_TAB_IN_SHAREMODE="CLOSE_INTERACTION_TAB_IN_SHAREMODE",e.USER_WINDOW_CARD_LOADED="USER_WINDOW_CARD_LOADED",e.GOOGLE_REDIRECT="GOOGLE_REDIRECT",e.MINI_INTERACTION_WINDOW_CHANGE="MINI_INTERACTION_WINDOW_CHANGE",e.DISPATCH_UNIVERSAL_THUMBNAIL="DISPATCH_UNIVERSAL_THUMBNAIL",e.SYNC_UNIVERSAL_FOLLOW_INFO="SYNC_UNIVERSAL_FOLLOW_INFO",e.INVOKE_MESSAGER_INIT="INVOKE_MESSAGER_INIT",e.CAPTURE_WEBVIEW="CAPTURE_WEBVIEW",e.REJOIN_MEETING_RESET_PCSDK_CLIENT="REJOIN_MEETING_RESET_PCSDK_CLIENT",e.CONFIRM_REMOVE_PARTICIPANT="CONFIRM_REMOVE_PARTICIPANT",e.CONFIRM_REMOVE_LOBBY_PARTICIPANT="CONFIRM_REMOVE_LOBBY_PARTICIPANT",e.CONFIRM_MAKE_HOST="CONFIRM_MAKE_HOST"}(p||(p={})),function(e){e.GET_LOCAL_CALENDAR_SETTINGS="GET_LOCAL_CALENDAR_SETTINGS",e.REGISTER_CLIENT_INFO="REGISTER_CLIENT_INFO",e.CREATE_VIDEO_CHAT="CREATE_VIDEO_CHAT",e.UPDATE_VIDEO_CHAT="UPDATE_VIDEO_CHAT",e.INVITE_VIDEO_CHAT="INVITE_VIDEO_CHAT",e.REPLY_VIDEO_CHAT_NOTICE="REPLY_VIDEO_CHAT_NOTICE",e.SHARE_VIDEO_CHAT="SHARE_VIDEO_CHAT",e.PULL_VIDEO_CHAT_CONFIG="PULL_VIDEO_CHAT_CONFIG",e.START_HEARTBEAT="START_BYTEVIEW_HEARTBEAT",e.STOP_HEARTBEAT="STOP_BYTEVIEW_HEARTBEAT",e.GET_NTP_TIME="GET_NTP_TIME",e.START_POLLING="START_BYTEVIEW_POLLING",e.STOP_POLLING="STOP_BYTEVIEW_POLLING",e.PREVIEW_JOIN_VIDEO_CHAT="PREVIEW_JOIN_VIDEO_CHAT",e.GET_USERS="BV_GET_USERS",e.GET_ROOMS="BV_GET_ROOMS",e.GENERATE_AVATARS="BV_GENERATE_AVATARS",e.GET_I18N_RESOURCE="GET_I18N_RESOURCE",e.GET_GROUP="GET_GROUP",e.HOST_MANAGE="HOST_MANAGE",e.HOST_CHANGE_SETTINGS="HOST_CHANGE_SETTINGS",e.PARTICIPANT_CHANGE_SETTINGS="PARTICIPANT_CHANGE_SETTINGS",e.SHARE_SCREEN="SHARE_SCREEN",e.GET_FEED_CARDS="GET_FEED_CARDS",e.SEARCH_USER="SEARCH_USER",e.SEARCH_USERS="SEARCH_USERS",e.SEARCH_ALL="SEARCH_ALL",e.SEARCH_USERS_AND_CHATS="SEARCH_USERS_AND_CHATS",e.SEARCH_IN_GROUP="SEARCH_IN_GROUP",e.SEARCH_IN_DEPARTMENT="SEARCH_IN_DEPARTMENT",e.FORCE_LEAVE_VIDEO_CHAT="FORCE_LEAVE_VIDEO_CHAT",e.QUERY_SELF_STATUS="QUERY_SELF_STATUS",e.GET_FEEDBACK_REASONS="GET_FEEDBACK_REASONS",e.PUT_FEEDBACKS="PUT_FEEDBACKS",e.PUT_VIDEO_CHAT_FEEDBACKS="PUT_VIDEO_CHAT_FEEDBACKS",e.REJOIN_VIDEO_CHAT="REJOIN_VIDEO_CHAT",e.SHARE_SCREEN_TO_ROOM="SHARE_SCREEN_TO_ROOM",e.JOIN_BY_MEETING_NUMBER="JOIN_BY_MEETING_NUMBER",e.JOIN_INTERVIEW_GROUP_MEETING="JOIN_INTERVIEW_GROUP_MEETING",e.GET_VIEW_I18N_TEMPLATE="GET_VIEW_I18N_TEMPLATE",e.GET_RTC_DNS="GET_RTC_DNS",e.GET_NEW_VERSION="GET_NEW_VERSION",e.INVOKE_CUSTOMER_SUPPORT="INVOKE_CUSTOMER_SUPPORT",e.INVOKE_SETTING_ABOUT_PAGE="INVOKE_SETTING_ABOUT_PAGE",e.INVOKE_SETTING_UPDATE_PAGE="INVOKE_SETTING_UPDATE_PAGE",e.INVOKE_JUMP_TO_SCHEMA_URL="INVOKE_JUMP_TO_SCHEMA_URL",e.PULL_PRE_VIDEO_CHAT_SETTING="PULL_PRE_VIDEO_CHAT_SETTING",e.JOIN_MEETING="JOIN_MEETING",e.PULL_SUBTITLES="PULL_SUBTITLES",e.SET_SUBTITLES_FILTER="SET_SUBTITLES_FILTER",e.GET_PARTICIPANT_LIST="GET_PARTICIPANT_LIST",e.JOIN_MEETING_PRE_CHECK="JOIN_MEETING_PRE_CHECK",e.TRIGGER_PULL_IN_MEETING_INFO="TRIGGER_PULL_IN_MEETING_INFO",e.GET_MEETING_URL_INFO="GET_MEETING_URL_INFO",e.SEARCH_SUBTITLES="SEARCH_SUBTITLES",e.SYNC_SUBTITLES="SYNC_SUBTITLES",e.VC_OWNER_FORCE_TRANSFER_HOST="VC_OWNER_FORCE_TRANSFER_HOST",e.SHARE_FOLLOW="SHARE_FOLLOW",e.SYNC_FOLLOW_ACTION="SYNC_FOLLOW_ACTION",e.GET_CALENDAR_GROUP="GET_CALENDAR_GROUP",e.JOIN_CALENDAR_GROUP_MEETING="JOIN_CALENDAR_GROUP_MEETING",e.GET_CALENDAR_INFO="GET_CALENDAR_INFO",e.GET_CALENDAR_MEMBER="GET_CALENDAR_MEMBER",e.QUERY_MEETING_JOINABLE="QUERY_MEETING_JOINABLE",e.GET_ASSOCIATED_VC="GET_ASSOCIATED_VC",e.REQUEST_FOLLOW_TOKEN="REQUEST_FOLLOW_TOKEN",e.GRANT_FOLLOW_TOKEN="GRANT_FOLLOW_TOKEN",e.REQUEST_FOLLOW_PERM="REQUEST_FOLLOW_PERM",e.VC_QUERY_DOCS="VC_QUERY_DOCS",e.GET_FOLLOW_RESOURCES="GET_FOLLOW_RESOURCES",e.PULL_ALL_FOLLOW_STATES="PULL_ALL_FOLLOW_STATES",e.GET_URL_BRIEFS="GET_URL_BRIEFS",e.GET_GOOGLE_TOKEN="GET_GOOGLE_TOKEN",e.EXCHANGE_GOOGLE_TOKEN="EXCHANGE_GOOGLE_TOKEN",e.UPLOAD_GOOGLE_TOKEN="UPLOAD_GOOGLE_TOKEN",e.GET_SETTINGS="GET_SETTINGS",e.REQUEST_DISPOSABLE_TOKEN="REQUEST_DISPOSABLE_TOKEN",e.RECORD_MEETING="RECORD_MEETING",e.GET_USER_PROFILE="GET_USER_PROFILE",e.SEND_CHAT_APPLICATION="SEND_CHAT_APPLICATION",e.PROCESS_CHAT_APPLICATION="PROCESS_CHAT_APPLICATION",e.GET_DOMAIN_CONFIG="GET_DOMAIN_CONFIG",e.GET_PRODUCT_GUIDE="GET_PRODUCT_GUIDE",e.DELETE_PRODUCT_GUIDE="DELETE_PRODUCT_GUIDE",e.SEND_HTTP="SEND_HTTP",e.SEND_UPGRADE_PLAN_NOTICE="SEND_UPGRADE_PLAN_NOTICE",e.NOTICE_BYTEVIEW_EVENT="NOTICE_BYTEVIEW_EVENT",e.ADJUEST_MEETING_DURATION="ADJUEST_MEETING_DURATION",e.GET_ADMIN_SETTINGS="GET_ADMIN_SETTINGS",e.OPEN_GROOT_CHANNEL="OPEN_GROOT_CHANNEL",e.SEND_GROOT_CELLS="SEND_GROOT_CELLS",e.CLOSE_GROOT_CHANNEL="CLOSE_GROOT_CHANNEL",e.SKETCH_START="SKETCH_START",e.FETCH_ALL_SKETCH_DATA="FETCH_ALL_SKETCH_DATA",e.UPDATE_SHARE_SCREEN_SETTINGS="UPDATE_SHARE_SCREEN_SETTINGS",e.REPLY_VIDEO_CHAT_PROMPT="REPLY_VIDEO_CHAT_PROMPT",e.APPLY_BYTEVIEW_ACCESSIBILITY="APPLY_BYTEVIEW_ACCESSIBILITY",e.REMOTE_CONTROL="REMOTE_CONTROL",e.UPDATE_REMOTE_CONTROL_SETTINGS="UPDATE_REMOTE_CONTROL_SETTINGS",e.LIVE_MEETING_ACTION="LIVE_MEETING_ACTION",e.LIVE_MEETING_JOIN_PRE_CHECK="LIVE_MEETING_JOIN_PRE_CHECK",e.LIVE_MEETING_ACCOUNT_BINDING_INFO="LIVE_MEETING_ACCOUNT_BINDING_INFO",e.LIVE_MEETING_STREAM_SETTING="LIVE_MEETING_STREAM_SETTING",e.LIVE_MEETING_FETCH_LIVE_POLICY="LIVE_MEETING_FETCH_LIVE_POLICY",e.LIVE_MEETING_GET_VERIFICATION_QR_CODE="LIVE_MEETING_GET_VERIFICATION_QR_CODE",e.LIVE_MEETING_POLL_VERIFICATION_STATUS="LIVE_MEETING_POLL_VERIFICATION_STATUS",e.LIVE_MEETING_GET_LIVE_PERMISSION="LIVE_MEETING_GET_LIVE_PERMISSION",e.PULL_VIEW_USER_SETTING="PULL_VIEW_USER_SETTING",e.GET_VIEW_USER_SETTING="GET_VIEW_USER_SETTING",e.PATCH_VIEW_USER_SETTING="PATCH_VIEW_USER_SETTING",e.PUSH_VIEW_USER_SETTING="PUSH_VIEW_USER_SETTING",e.GET_SUGGESTED_PARTICIPANTS="GET_SUGGESTED_PARTICIPANTS",e.WHITEBOARD_START="WHITEBOARD_START",e.WHITEBOARD_STOP="WHITEBOARD_STOP",e.TEST_WHITEBOARD="TEST_WHITEBOARD",e.CREATE_DOC="CREATE_DOC",e.APPLY_DTMF="APPLY_DTMF",e.GET_PARTICIPANTS_BY_IDS="GET_PARTICIPANTS_BY_IDS",e.BV_PULL_PARTICIPANT_INFO="BV_PULL_PARTICIPANT_INFO",e.TRIG_PUSH_FULL_MEETING_INFO="TRIG_PUSH_FULL_MEETING_INFO",e.TRIG_PUSH_SELF_INFO="TRIG_PUSH_SELF_INFO",e.GET_VC_VIRTUAL_BACKGROUND="GET_VC_VIRTUAL_BACKGROUND",e.UPDATE_VC_LOBBY_PARTICIPANT="UPDATE_VC_LOBBY_PARTICIPANT",e.GET_VC_LOBBY_PARTICIPANTS="GET_VC_LOBBY_PARTICIPANTS",e.VC_MANAGE_APPROVAL="VC_MANAGE_APPROVAL",e.TRIGGER_PUSH_FULL_VC_LOBBY_PARTICIPANTS="TRIGGER_PUSH_FULL_VC_LOBBY_PARTICIPANTS",e.REPLY_FOLLOW_NOTICE="REPLY_FOLLOW_NOTICE",e.KEEP_MEETING="KEEP_MEETING"}(u||(u={})),function(e){e.I18N="I18N"}(_||(_={})),function(e){e.ZH_CN="zh_CN",e.EN_US="en_US",e.JA_JP="ja_JP",e.ID_ID="id_ID",e.DE_DE="de_DE",e.ES_ES="es_ES",e.FR_FR="fr_FR",e.IT_IT="it_IT",e.PT_BR="pt_BR",e.VI_VN="vi_VN",e.RU_RU="ru_RU",e.HI_IN="hi_IN",e.TH_TH="th_TH",e.KO_KR="ko_KR"}(E||(E={}));const h="byteview.server.monitor";var T,y,f,I,g,S,C,m,N,A,R,O;!function(e){e.AppBoot="app_boot",e.PageLoad="page_load",e.PagePaint="page_paint",e.PageReady="page_ready",e.RTCSDK="rtc_sdk",e.CPU="cpu",e.Memory="memory"}(T||(T={})),function(e){e.DOM_COMPLETE="domComplete",e.TTFP="first-paint",e.TTFCP="first-contentful-paint",e.TTFMP="first_meaningful_paint",e.TTFCPUIDLE="first_cpu_idle",e.TTI="interactive",e.SI="speed_index"}(y||(y={})),function(e){e.RootDidMount="root_did_mount",e.PageDidMount="page_did_mount",e.SDKInit="sdk_init",e.PreparePreview="prepare_preview",e.InitByteviewAPI="init_byteview_api",e.StartPreview="start_preview",e.PageReady="page_ready"}(f||(f={})),function(e){e.Inited="inited",e.JoinMeeting="join_meeting",e.FirstUserJoined="first_user_joined",e.FirstStreamAdded="first_stream_added",e.ScreenStreamAdded="screen_stream_added",e.FirstLocalVideoFrame="first_local_video_frame",e.FirstLocalAudioFrame="first_local_audio_frame",e.FirstRemoteVideoFrame="first_remote_video_frame",e.FirstRemoteAudioFrame="first_remote_audio_frame",e.FirstRemoteScreenFrame="first_remote_screen_frame",e.FirstVideoFrameRenderSuccess="first_video_frame_render_success",e.FirstRemoteVideoDecoded="first_remote_video_decoded",e.FirstDataSendToRemote="first_data_send_to_remote"}(I||(I={})),function(e){e.StartTime="monitorStartTime",e.StatusAndDuration="monitorStatusAndDuration",e.PageLoad="monitorPageLoad",e.Performance="monitorPerformance",e.CommonLog="monitorCommonLog",e.Duration="monitorDuration"}(g||(g={})),function(e){e[e.START=0]="START",e[e.END=1]="END"}(S||(S={})),function(e){e.INFO="info",e.SUCCESS="success",e.ERROR="error",e.WARNING="warning",e.LOADING="loading",e.REMOVE="remove",e.HINT="hint",e.WARN="warn",e.NONE="none"}(C||(C={})),function(e){e.NOTIFY_VIDEO_CHAT="NOTIFY_VIDEO_CHAT",e.NOTIFY_VIDEO_CHAT_EXTRA="NOTIFY_VIDEO_CHAT_EXTRA",e.PUSH_VIDEO_CHAT_NOTICE="PUSH_VIDEO_CHAT_NOTICE",e.PUSH_BYTEVIEW_HEARTBEAT_STOP="PUSH_BYTEVIEW_HEARTBEAT_STOP",e.PUSH_RECONNECTION="PUSH_RECONNECTION",e.PUSH_VIDEO_CHAT_COMBINED_INFO="PUSH_VIDEO_CHAT_COMBINED_INFO",e.PUSH_VIDEO_CHAT_NOTICE_UPDATE="PUSH_VIDEO_CHAT_NOTICE_UPDATE",e.PUSH_VIDEO_CHAT_PROMPT="PUSH_VIDEO_CHAT_PROMPT",e.PUSH_MEETING_PARTICIPANT_CHANGE="PUSH_MEETING_PARTICIPANT_CHANGE",e.PUSH_GROOT_CELLS_SKETCH="PUSH_GROOT_CELLS_SKETCH",e.PUSH_GROOT_CHANNEL_STATUS="PUSH_GROOT_CHANNEL_STATUS",e.PUSH_GROOT_CELLS_FOLLOW="PUSH_GROOT_CELLS_FOLLOW",e.PUSH_MEETING_INFO="PUSH_MEETING_INFO",e.PUSH_DYNAMIC_NET_STATUS="PUSH_DYNAMIC_NET_STATUS",e.PUSH_MEETING_CHANGED_INFO="PUSH_MEETING_CHANGED_INFO",e.PUSH_VC_MANAGE_NOTIFY="PUSH_VC_MANAGE_NOTIFY",e.PUSH_VC_MANAGE_RESULT="PUSH_VC_MANAGE_RESULT",e.PUSH_FULL_VC_LOBBY_PARTICIPANTS="PUSH_FULL_VC_LOBBY_PARTICIPANTS"}(m||(m={})),function(e){e.ShareScreenCommand="SHARE_SCREEN_COMMAND"}(N||(N={})),function(e){e[e.NOTIFY_VIDEO_CHAT_EXTRA=2306]="NOTIFY_VIDEO_CHAT_EXTRA",e[e.PUSH_INIT_SDK=5025]="PUSH_INIT_SDK",e[e.PUSH_VIDEO_CHAT_COMBINED_INFO=2313]="PUSH_VIDEO_CHAT_COMBINED_INFO",e[e.PUSH_GROOT_CELLS_MEETING_SPACE=89100]="PUSH_GROOT_CELLS_MEETING_SPACE",e[e.PUSH_GROOT_CELLS_SKETCH=89101]="PUSH_GROOT_CELLS_SKETCH",e[e.PUSH_GROOT_CELLS_WHITEBOARD=89102]="PUSH_GROOT_CELLS_WHITEBOARD",e[e.PUSH_GROOT_CELLS_REMOTE_CONTROL=89103]="PUSH_GROOT_CELLS_REMOTE_CONTROL",e[e.PUSH_GROOT_CHANNEL_STATUS=89097]="PUSH_GROOT_CHANNEL_STATUS",e[e.PUSH_MEETING_SPACE_INFO=89004]="PUSH_MEETING_SPACE_INFO",e[e.PUSH_GROOT_CELLS_FOLLOW=89104]="PUSH_GROOT_CELLS_FOLLOW",e[e.PUSH_VIDEO_CHAT_INTERACTION_MESSAGES=2360]="PUSH_VIDEO_CHAT_INTERACTION_MESSAGES",e[e.PUSH_MEETING_INFO=87103]="PUSH_MEETING_INFO",e[e.PUSH_FULL_VC_LOBBY_PARTICIPANTS=89325]="PUSH_FULL_VC_LOBBY_PARTICIPANTS"}(A||(A={})),function(e){e[e.CRASH=0]="CRASH",e[e.ERROR=1]="ERROR",e[e.WARNING=2]="WARNING",e[e.WINDOW_CRASH=3]="WINDOW_CRASH"}(R||(R={})),function(e){e[e.BYTERTC_SDK_CRASH=0]="BYTERTC_SDK_CRASH",e[e.BYTERTC_WINDOW_CRASH=1]="BYTERTC_WINDOW_CRASH"}(O||(O={}));const v={USER_JOIN:"user_join",HANG_UP:"hang_up",USER_LEAVE:"user_leave",MUTE_VIDEO:"mute_video",UNMUTE_VIDEO:"unmute_video",MUTE_AUDIO:"mute_audio",UNMUTE_AUDIO:"unmute_audio",CLIENT_BANNED:"client_banned",STREAM_SUBSCRIBED:"stream_subscribed",ERROR:"error",CRASHED:"crashed",WARNING:"warning",FIRST_REMOTE_AUDIO_FRAME:"first_remote_audio_frame",FIRST_REMOTE_VIDEO_FRAME:"first_remote_video_frame",FIRST_VIDEO_FRAME_RENDER_SUCCESS:"first_video_frame_render_success"};var P,M,L,b,D;!function(e){e[e.JOIN_MEETING=0]="JOIN_MEETING",e[e.ACCEPT_INVITATION=1]="ACCEPT_INVITATION",e[e.RECOVERY_MEETING=2]="RECOVERY_MEETING",e[e.FORCE_JOIN_MEETING=3]="FORCE_JOIN_MEETING",e[e.JOIN_ANOTHER_MEETING=4]="JOIN_ANOTHER_MEETING",e[e.SCREEN_SHARE_JOIN_MEETING=5]="SCREEN_SHARE_JOIN_MEETING",e[e.JOIN_CHAT_ROOM=6]="JOIN_CHAT_ROOM"}(P||(P={})),function(e){e.JOIN_MEETING_TIMEOUT="Join Meeting Timeout",e.SERVER_CRASH="Server Crash",e.THOR_EXCEPTION="Thor Exception",e.SERVER_ERROR="Server Error",e.SERVER_WINDOW_CRASH="Server Window Crash",e.IPC_DISCONNECTED="IPC disconnected",e.JOIN_MEETING_ERROR="Join Meeting Error"}(M||(M={})),function(e){e[e.LEAVE=0]="LEAVE",e[e.END=1]="END",e[e.SDK_EXCEPTION=2]="SDK_EXCEPTION",e[e.FORCE_LEAVE=3]="FORCE_LEAVE",e[e.JOIN_ANOTHER=4]="JOIN_ANOTHER",e[e.CHANGE_TANENT=5]="CHANGE_TANENT",e[e.FINISH_SHARE_SCREEN=6]="FINISH_SHARE_SCREEN",e[e.CLOSE_SCREEN=7]="CLOSE_SCREEN",e[e.ANOTHER_ACCEPT=8]="ANOTHER_ACCEPT",e[e.TERMINATE=9]="TERMINATE",e[e.HEARTBEAT_STOP=10]="HEARTBEAT_STOP",e[e.NET_EXCEPTION=11]="NET_EXCEPTION",e[e.TRIAL_TIMEOUT=12]="TRIAL_TIMEOUT",e[e.KICKED_OUT=13]="KICKED_OUT",e[e.INTERRUPTED=14]="INTERRUPTED",e[e.SHARING_APP_CLOSED=15]="SHARING_APP_CLOSED",e[e.RELOAD_PAGE=16]="RELOAD_PAGE",e[e.LOG_OUT=17]="LOG_OUT"}(L||(L={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_EXIST=1]="NOT_EXIST",e[e.NO_PERMISSION=2]="NO_PERMISSION",e[e.UNAVAILABLE=3]="UNAVAILABLE",e[e.NORMAL=4]="NORMAL"}(b||(b={})),function(e){e.PLAYBACK="PLAYBACK",e.RECORD="RECORD",e.CAMERA="CAMERA"}(D||(D={}));var U,w,k,G,V,H,B,F,j,W,x,K,q,Y,J,z,X,Q,$,Z,ee,te,ie,ne=i(168);!function(e){e.CALLER="caller",e.CALLEE="callee",e.HOST="host",e.COHOST="cohost",e.ATTENDEE="attendee"}(U||(U={})),function(e){e.CALL="call",e.MEETING="meeting"}(w||(w={})),function(e){e.LAN="LAN",e.OTHERS="others"}(k||(k={})),function(e){e.SDK_ERROR="SDK",e.HEARTBEAT_TIMEOUT="timeout",e.CRASH="crash",e.CREATE_FAILED="failCreate",e.ACCEPT_FAILED="failAccept",e.OTHER="other"}(G||(G={})),function(e){e.muteOnEntry="mute_on_entry",e.joinPermission="join_permission",e.self_lower_hand="self_lower_hand",e.lower_hand="lower_hand",e.invite="invite",e.camera="camera",e.mic="mic",e.speaker="speaker",e.attendeeMic="attendee_mic",e.hangup="hangup",e.sharedesk="sharedesk",e.finishshare="finishshare",e.calendarDetail="calendar_detail",e.enterMeetingGroup="enter_meeting_group",e.switchview="switchview",e.display="display",e.meeting_lock="meeting_lock",e.finishContentShare="finishcontentshare",e.follow="follow",e.unfollow="unfollow",e.refresh="refresh",e.confirm="confirm",e.cancel="cancel",e.entryReminder="entry_reminder",e.selectModel="select_model",e.removeUser="remove_user",e.reshare="reshare",e.lost_focus="lost_focus",e.change_title="change_title",e.recordStart="record_start",e.requestRecord="request_record",e.recordStop="record_stop",e.refuse="refuse",e.assignHost="assign_host",e.doubleclick_pin="doubleclick_pin",e.doubleclick_unpin="doubleclick_unpin",e.back_to_shared_content="back_to_shared_content",e.pin="pin",e.unpin="unpin",e.changeDocAccess="change_doc_access",e.browseDoc="browse_doc",e.assignPresent="assign_present",e.documentSetting="document_setting",e.hangupWindow="hangup_window",e.endMeeting="end_meeting",e.cancelHangup="cancel_hangup",e.leaveMeeting="leave_meeting",e.stayMeeting="stay_meeting",e.subtitle="subtitle",e.all_subtitles="all_subtitles",e.participant="participant",e.event="event",e.subtitle_setting="subtitle_setting",e.meeting_space="meeting_space",e.annotate="annotate",e.mirroring="mirroring",e.remote_control="remote_control",e.stop_remote_control="stop_remote_control",e.begin_live="begin_live",e.end_live="end_live",e.live="live",e.copy_livestreaminglink="copy_livestreaminglink",e.ask_host_to_livestream="ask_host_to_livestream",e.participants_unmute_permission="participants_unmute_permission",e.mute_all="mute_all",e.unmute_all="unmute_all",e.attendee_cam="attendee_cam",e.show_control_bar="show_control_bar",e.hide_control_bar="hide_control_bar",e.share_device_audio="share_device_audio",e.stop_device_audio="stop_device_audio",e.device_audio="device_audio",e.livestream_settings="livestream_settings",e.copy_meeting_link="copy_meeting_link",e.vc_labs="vc_labs",e.backward="backward",e.forward="forward",e.copy_file_link="copy_file_link",e.authorization="authorization",e.stop_sharecontent="stop_sharecontent",e.steal_present="steal_present",e.loading_finish="loading_finish",e.loading_fail="loading_fail",e.first_render="first_render",e.subtitle_history="subtitle_history",e.voice_source="voice_source",e.video_source="video_source",e.share="share",e.show_meeting_info="show_meeting_info",e.copy_meeting_id="copy_meeting_id",e.as_mode="as_mode",e.float_mode="float_mode",e.gallery_view="gallery_view",e.no_access="no_access",e.begin_install="begin_install",e.cancel_install="cancel_install",e.install_success="install_success",e.install_fail="install_fail",e.previous_page="previous_page",e.next_page="next_page",e.change_virtual_background="change_virtual_background",e.ms_received_new_share="ms_received_new_share",e.ms_groot_channel_open="ms_groot_channel_open",e.ms_groot_channel_open_failed="ms_groot_channel_open_failed",e.ms_pull_resource_begin="ms_pull_resource_begin",e.ms_pull_resource_end="ms_pull_resource_end",e.ms_pull_resource_failed="ms_pull_resource_failed",e.ms_inject_resource_begin="ms_inject_resource_begin",e.ms_inject_resource_end="ms_inject_resource_end",e.ms_inject_resource_failed="ms_inject_resource_failed",e.ms_handshake_with_ccm="ms_handshake_with_ccm",e.ms_received_ccm_handshake="ms_received_ccm_handshake",e.ms_reply_ccm_handshake="ms_reply_ccm_handshake",e.lobby_entry="lobby_entry",e.admit="admit",e.remove="remove",e.admit_all="admit_all",e.copy_join_info="copy_join_info",e.more_phone_numbers="more_phone_numbers",e.addition="addition",e.user_list="user_list",e.more="more",e.assign_cohost="assign_cohost",e.withdraw_cohost="withdraw_cohost",e.move_to_lobby="move_to_lobby",e.reclaim_host="reclaim_host"}(V||(V={})),function(e){e.display="display",e.to_bottom="to_bottom",e.subtitle_setting="subtitle_setting",e.search="search",e.search_up="search_up",e.search_down="search_down",e.search_clear="search_clear",e.filter="filter",e.filter_user="filter_user",e.filter_clear="filter_clear",e.copy_subtitle="copy_subtitle",e.docs_link="docs_link",e.user_profile="user_profile"}(H||(H={})),function(e){e.allow="allow",e.deny="deny"}(B||(B={})),function(e){e.onlyVoice="only_voice",e.onlyVideo="only_video",e.allClose="all_close",e.allOpen="all_open"}(F||(F={})),function(e){e.cancel="cancel"}(j||(j={})),function(e){e.WindowCrash="window_crash",e.SdkServerCrash="sdk_server_crash",e.SDKError="sdk_error",e.SDKWarning="sdk_warning",e.WindowRennderTimeOut="render_timeout"}(W||(W={})),function(e){e.mouse="mouse",e.pointer="pointer",e.undo="undo",e.clear_all_drawings="clear_all_drawings",e.clear_my_drawings="clear_my_drawings",e.clear_viewer_drawings="clear_viewer_drawings"}(x||(x={})),function(e){e.vc_labs="vc_labs",e.blur_my_background="blur_my_background",e.beautify="beautify",e.layout="layout",e.remove_background_noise="remove_background_noise",e.remove_keyboard_noise="remove_keyboard_noise",e.video_enhancement="video_enhancement",e.virtual_background="virtual_background"}(K||(K={})),function(e){e.search="search",e.public_setting="public_setting",e.off="off",e.public_view="public_view",e.public_comment="public_comment",e.share_drive_window_error="share_drive_window_error"}(q||(q={})),function(e){e.access_init="access_init",e.access_remove="access_remove",e.access_success="access_success",e.display="display",e.search="search",e.drive_file="drive_file",e.back="back",e.file_not_found="file_not_found",e.page_not_found="page_not_found",e.fail="fail",e.question_mark="question_mark",e.accept="accept",e.cancel="cancel",e.back_to_list="back_to_list",e.start_sharecontent="start_sharecontent",e.start_sharescreen="start_share_screen"}(Y||(Y={})),function(e){e.view_lobby="view_lobby",e.admit="admit",e.close="close",e.user_profile="user_profile"}(J||(J={})),function(e){e.display="display",e.confirm="confirm",e.cancel="cancel",e.close="close",e.view_details="view_details",e.unmute="unmute",e.user_profile="user_profile",e.raise_hand="raise_hand",e.lower_hand="lower_hand",e.keep_raising="keep_raising",e.magic_share_invisible_download="magic_share_invisible_download",e.unknown_error_refresh="unknown_error_refresh",e.unknown_error_leave="unknown_error_leave"}(z||(z={})),function(e){e.SEND_REQUEST="send_request",e.CLOSE="close"}(X||(X={})),function(e){e.CONFIRM="confirm",e.CANCEL="cancel"}(Q||(Q={})),function(e){e.root_setting="root_setting",e.no_camera="no_camera",e.is_open="is_open"}($||($={})),function(e){e.camera="camera",e.mic="mic",e.hangup="hangup",e.maximize="maximize",e.pick_up_video="pick_up_video"}(Z||(Z={})),function(e){e.ws="ws",e.pull="pull"}(ee||(ee={})),function(e){e.invite="userStartCall",e.acceptInvitation="userAccept",e.cancelInvitation="userCancel",e.refuseInvitation="userReject",e.hangup="userHangup",e.receiveInvitation="noticeRinging",e.recoverToOnCall="noticeOnthecall",e.reset="noticeTerminated"}(te||(te={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.hang_up=1]="hang_up",e[e.heartbeat_fail=2]="heartbeat_fail",e[e.stream_sdk_bad=3]="stream_sdk_bad",e[e.no_network=4]="no_network",e[e.kill_process=5]="kill_process",e[e.app_crash=6]="app_crash",e[e.freetime_out=7]="freetime_out",e[e.another_accept=8]="another_accept",e[e.other=100]="other"}(ie||(ie={}));const re={[L.LEAVE]:ie.hang_up,[L.END]:ie.hang_up,[L.SDK_EXCEPTION]:ie.stream_sdk_bad,[L.FORCE_LEAVE]:ie.hang_up,[L.JOIN_ANOTHER]:ie.hang_up,[L.CHANGE_TANENT]:ie.other,[L.TERMINATE]:ie.hang_up,[L.HEARTBEAT_STOP]:ie.heartbeat_fail,[L.TRIAL_TIMEOUT]:ie.freetime_out,[L.RELOAD_PAGE]:ie.hang_up},oe={[L.LEAVE]:"leave",[L.END]:"hang_up",[L.SDK_EXCEPTION]:"stream_sdk_bad",[L.FORCE_LEAVE]:"hang_up",[L.JOIN_ANOTHER]:"hang_up",[L.CHANGE_TANENT]:"interrupted",[L.TERMINATE]:"hang_up",[L.HEARTBEAT_STOP]:"heartbeat_fail",[L.TRIAL_TIMEOUT]:"freetime_out",[L.FINISH_SHARE_SCREEN]:"finish_share_screen",[L.ANOTHER_ACCEPT]:"another_accept",[L.NET_EXCEPTION]:"no_network",[L.KICKED_OUT]:"kickout",[L.CLOSE_SCREEN]:"close_screen",[L.INTERRUPTED]:"interrupted",[L.RELOAD_PAGE]:"reload_page"};var se,ae,de,ce,le,pe,ue,_e,Ee,he,Te,ye,fe,Ie,ge,Se,Ce,me;!function(e){e.BYTEVIEW_RENDER_INIT="BYTEVIEW_RENDER_INIT",e.BYTEVIEW_SEND_EVENT="BYTEVIEW_SEND_EVENT"}(se||(se={})),function(e){e[e.JUST_CLOSE=0]="JUST_CLOSE",e[e.DO_NOTHING=1]="DO_NOTHING",e[e.SEND_MESSAGE=2]="SEND_MESSAGE"}(ae||(ae={})),function(e){e.OPENED="opened",e.CLOSED="closed",e.CRASHED="crashed",e.HIDE="hide",e.SHOW="show",e.FOCUS="focus",e.UNRESPONSIVE="unresponsive",e.RENDER_TIMEOUT="renderTimeout"}(de||(de={})),function(e){e.TOAST="toast",e.OPTIONS="options",e.PREVIEW_PAGE="previewPage",e.PAGE_DATA="page-data",e.IN_MEETING_DATA="IN_MEETING_DATA",e.PAGE_WILL_CLOSE="PAGE_WILL_CLOSE",e.IN_MEETING_NOTICE="IN_MEETING_NOTICE",e.FEEDBACK="FEEDBACK",e.TIP="tip",e.MODAL_MESSAGE="MODAL_MESSAGE",e.SHARE_ANOTHER_SCREEN="share_another_screen",e.LOBBY="lobby",e.UPDATE_PARTICIPANT_UNREAD="UPDATE_PARTICIPANT_UNREAD",e.UPDATE_LOBBY_UNREAD="UPDATE_LOBBY_UNREAD",e.UPDATE_HANDS_UP_UNREAD="UPDATE_HANDS_UP_UNREAD",e.SWITCH_ROUTE="switch_route",e.NATIVE_WINDOW="NATIVE_WINDOW"}(ce||(ce={})),function(e){e.REMOVE_PARTICIPANT="REMOVE_PARTICIPANT",e.REMOVE_LOBBY_PARTICIPANT="REMOVE_LOBBY_PARTICIPANT",e.MAKE_HOST="MAKE_HOST"}(le||(le={})),function(e){e.INITIATE="INITIATE",e.JOIN="JOIN"}(pe||(pe={})),function(e){e.TOAST_HOST_CHANGE_TO_ME="TOAST_HOST_CHANGE_TO_ME",e.TOAST_BECOME_CO_HOST="TOAST_BECOME_CO_HOST",e.TOAST_REMOVE_CO_HOST="TOAST_REMOVE_CO_HOST",e.TOAST_HOST_APPROVED_MICROPHONE_UNMUTE="TOAST_HOST_APPROVED_MICROPHONE_UNMUTE",e.TOAST_HOST_REJECTED_MICROPHONE_UNMUTE="TOAST_HOST_REJECTED_MICROPHONE_UNMUTE",e.TOAST_CAN_UNMUTE_MICROPHONE_BY_SELF="TOAST_CAN_UNMUTE_MICROPHONE_BY_SELF",e.TOAST_ALL_MUTE_INCLUDING_NEW="TOAST_ALL_MUTE_INCLUDING_NEW",e.TOAST_ALL_MICROPHONE_MUTE="TOAST_ALL_MICROPHONE_MUTE",e.TOAST_ALL_MICROPHONE_UNMUTE="TOAST_ALL_MICROPHONE_UNMUTE",e.CONFIRM_ALL_MICROPHONE_UNMUTE="CONFIRM_ALL_MICROPHONE_UNMUTE",e.TOAST_ALL_START_SHARE_SCREEN="TOAST_ALL_START_SHARE_SCREEN",e.TOAST_ALL_STOP_SHARE_SCREEN="TOAST_ALL_STOP_SHARE_SCREEN",e.TOAST_UNMUTE_MY_MICROPHONE="TOAST_UNMUTE_MY_MICROPHONE",e.TOAST_MUTE_MY_MICROPHONE="TOAST_MUTE_MY_MICROPHONE",e.CONFIRM_UNMUTE_MY_CAMERA="CONFIRM_UNMUTE_MY_CAMERA",e.CONFIRM_UNMUTE_MY_MICROPHONE="CONFIRM_UNMUTE_MY_MICROPHONE",e.TOAST_MUTE_MY_CAMERA="TOAST_MUTE_MY_CAMERA",e.TOAST_KICKED_OUT_BY_HOST="TOAST_KICKED_OUT_BY_HOST",e.TOAST_HOST_KICK_OUT_PARTICIPANT="TOAST_HOST_KICK_OUT_PARTICIPANT",e.TOAST_HOST_REQUEST_SENT="TOAST_HOST_REQUEST_SENT",e.TOAST_SOMEONE_JOIN="TOAST_SOMEONE_JOIN",e.TOAST_SOMEONE_LEAVE="TOAST_SOMEONE_LEAVE",e.TOAST_MEETING_LOCKED="TOAST_MEETING_LOCKED",e.TOAST_MEETING_UNLOCKED="TOAST_MEETING_UNLOCKED",e.CONFIRM_START_RECORD="CONFIRM_START_RECORD",e.TOAST_DOC_SHARE_START="TOAST_DOC_SHARE_START",e.TOAST_DOC_SHARE_TRANSFER_PRESENTER="TOAST_DOC_SHARE_TRANSFER_PRESENTER",e.TOAST_DOC_SHARE_FORCE_FOLLOW="TOAST_DOC_SHARE_FORCE_FOLLOW",e.TOAST_DOC_SHARE_CANCEL_FORCE_FOLLOW="TOAST_DOC_SHARE_CANCEL_FORCE_FOLLOW",e.TOAST_SUBTITLE_OPEN_FAILED="TOAST_SUBTITLE_OPEN_FAILED",e.TOAST_SUBTITLE_LOAD_FAILED="TOAST_SUBTITLE_LOAD_FAILED",e.TOAST_MUTE_ON_ENTRY="TOAST_MUTE_ON_ENTRY",e.TOAST_UNMUTE_ON_ENTRY="TOAST_UNMUTE_ON_ENTRY",e.CONFIRM_SKETCH_CANNOT_SEE="CONFIRM_SKETCH_CANNOT_SEE",e.SKETCH_NO_ACCESSIBILITY="SKETCH_NO_ACCESSIBILITY",e.SKETCH_INNER_CRASH="SKETCH_INNER_CRASH",e.SKETCH_SERVER_UNAVAIUNAVAILABLE="SKETCH_SERVER_UNAVAIUNAVAILABLE",e.SKETCH_SERVER_CANNOT_START="SKETCH_SERVER_CANNOT_START",e.CONFIRM_POPUP="CONFIRM_POPUP",e.TOAST_FIRST_OPEN_SUBTITLE="TOAST_FIRST_OPEN_SUBTITLE",e.TOAST_MEETING_ANYONE="TOAST_MEETING_ANYONE",e.TOAST_MEETING_SAME_COMPANY="TOAST_MEETING_SAME_COMPANY",e.TOAST_MEETING_SELECTED="TOAST_MEETING_SELECTED",e.TOAST_MEETING_HOST_INVITED="TOAST_MEETING_HOST_INVITED",e.CONFIRM_RECORDING="CONFIRM_RECORDING",e.CLOSE_RECORD_POPUP="CLOSE_RECORD_POPUP",e.CONFIRM_DOC_PERM="CONFIRM_DOC_PERM",e.MEETING_END_CONFIRM="MEETING_END_CONFIRM"}(ue||(ue={})),function(e){e[e.OPEN_MIC=1]="OPEN_MIC",e[e.OPEN_CAMERA=2]="OPEN_CAMERA",e[e.SKETCH_CANNOT_SEE=3]="SKETCH_CANNOT_SEE",e[e.NO_ACCESSIBILITY=4]="NO_ACCESSIBILITY",e[e.SKETCH_CRASH=5]="SKETCH_CRASH",e[e.SKETCH_SERVER_CANNOT_START=6]="SKETCH_SERVER_CANNOT_START",e[e.SKETCH_SERVER_UNAVAIUNAVAILABLE=7]="SKETCH_SERVER_UNAVAIUNAVAILABLE",e[e.NORMAL_CONFIRM=8]="NORMAL_CONFIRM"}(_e||(_e={})),function(e){e[e.STOP=1]="STOP",e[e.REQUEST_RECORD=2]="REQUEST_RECORD",e[e.RECORDING_CONFIRM=3]="RECORDING_CONFIRM"}(Ee||(Ee={})),function(e){e[e.NONE=0]="NONE",e[e.CONFIRM_END=1]="CONFIRM_END",e[e.CONFIRM_REQUEST=2]="CONFIRM_REQUEST",e[e.CONFIRM_COPY_FAILED=3]="CONFIRM_COPY_FAILED",e[e.VOTE=4]="VOTE"}(he||(he={})),function(e){e[e.NONE=0]="NONE",e[e.LIVE_SETTING_MAIN=1]="LIVE_SETTING_MAIN",e[e.LIVE_SETTING_BINDING=2]="LIVE_SETTING_BINDING",e[e.LIVE_SETTING_EDIT_THD_BINDING=3]="LIVE_SETTING_EDIT_THD_BINDING",e[e.LIVE_SETTING_AUTH=4]="LIVE_SETTING_AUTH"}(Te||(Te={})),function(e){e[e.ControlBar=0]="ControlBar",e[e.RequestConfirm=1]="RequestConfirm",e[e.RequestConfirmNative=2]="RequestConfirmNative"}(ye||(ye={})),function(e){e[e.DEVICE_SETTING=0]="DEVICE_SETTING",e[e.BACKGROUND_BLUR=1]="BACKGROUND_BLUR",e[e.FACE_BEAUTY=2]="FACE_BEAUTY"}(fe||(fe={})),function(e){e.CALL="call",e.MEETING="meeting"}(Ie||(Ie={})),function(e){e.MEETING_CONTROL_BAR="from_meeting_controlbar_btn",e.SHARE_SCREEN_CONTROL_BAR="from_sharescreen_controlbar_btn",e.SHARE_TO_ROOM="from_sharescreen_to_room"}(ge||(ge={})),function(e){e[e.APPLY=0]="APPLY",e[e.REJECT=1]="REJECT",e[e.INVITE_ERROR=2]="INVITE_ERROR",e[e.APPLY_ERROR=3]="APPLY_ERROR"}(Se||(Se={})),function(e){e.SECURITY="security",e.CALENDAR_PROMPT="calendarPrompt",e.CALLING="calling",e.RINGING="ringing",e.INVITE="invite",e.MEETING="meeting",e.PREVIEW="preview",e.SHARE_SCREEN_CONTROL_BAR="shareScreenControlBar",e.SHARE_SCREEN_CHOOSE_WINDOW="shareScreenChooseWindow",e.SHARE_SCREEN_CHOOSE_MODAL="shareScreenChooseModal",e.IN_MEETING_CONFIRM="inMeetingConfirm",e.IN_MEETING_MIC_CONFIRM="inMeetingMicConfirm",e.MINI_VIDEO="miniVideo",e.MINI_VIDEO_LOBBY="miniVideoLobby",e.MINI_INTERACTION="miniInteraction",e.FEED_BACK="feedback",e.RECORD_CONFIRM="recordConfirm",e.HANGUP_CONFIRM="hangupConfirm",e.LIVE_CONFIRM="liveConfirm",e.LIVE_SETTING="liveSetting",e.ACCESSIBILITY_CONFIRM="accessibilityConfirm",e.SHARE_SCREEN_SKETCH="shareScreenSketch",e.SHARE_SCREEN_SKETCH_BAR="shareScreenSketchBar",e.CHAT_ROOM="chatRoom",e.REMOTE_CONTROL_MODAL="remoteControlModal",e.AV_SETTING="avSetting",e.LIVE_ACCOUNT_BIND="LIVE_ACCOUNT_BIND",e.USER_CARD="userCard",e.MEETING_SUBTITLE_SETTING="MEETING_SUBTITLE_SETTING",e.PHONE_INVITE="phoneInvite",e.LOBBY="lobby",e.COMMON_CONFIRM="commonConfirm",e.LOBBY_NOTIFICATION="lobbyNotification",e.PSTN_INFO_MODAL="pstnInfo",e.HANDS_UP_NOTIFICATION="handsUpNotification",e.HANDS_UP_CONFIRM="handsUpConfirm",e.MUTE_ALL_CONFIRM="muteAllConfirm",e.SWITCHING="SWITCHING",e.END="END"}(Ce||(Ce={})),function(e){e[e.NOT_DETERMINED=0]="NOT_DETERMINED",e[e.OTHER_SIDE_END=1]="OTHER_SIDE_END",e[e.CALL_END=2]="CALL_END",e[e.CALL_UNEXPECTEDLY_END=3]="CALL_UNEXPECTEDLY_END",e[e.MEETING_UNEXPECTEDLY_END=4]="MEETING_UNEXPECTEDLY_END",e[e.LEAVE=5]="LEAVE",e[e.REJOIN_FAILED=6]="REJOIN_FAILED",e[e.HOST_END=7]="HOST_END",e[e.HOST_KICK_OUT=8]="HOST_KICK_OUT",e[e.OVERTIME_NON_TRIAL=9]="OVERTIME_NON_TRIAL",e[e.OVERTIME_TRIAL=10]="OVERTIME_TRIAL",e[e.END_AS_HOST=11]="END_AS_HOST",e[e.LEAVE_LOBBY=12]="LEAVE_LOBBY",e[e.HOST_KICK_OUT_LOBBY=13]="HOST_KICK_OUT_LOBBY",e[e.RELOAD_PAGE=14]="RELOAD_PAGE",e[e.LOG_OUT=15]="LOG_OUT"}(me||(me={}));const Ne={[Ce.CALENDAR_PROMPT]:"calendar-prompt",[Ce.CALLING]:"calling",[Ce.RINGING]:"ringing",[Ce.INVITE]:"invite",[Ce.SECURITY]:"set-security",[Ce.MEETING]:"meeting",[Ce.CHAT_ROOM]:"chat-room",[Ce.PREVIEW]:"preview",[Ce.SHARE_SCREEN_CONTROL_BAR]:"ss-control-bar",[Ce.SHARE_SCREEN_CHOOSE_WINDOW]:"ss-choose-window",[Ce.SHARE_SCREEN_CHOOSE_MODAL]:"ss-choose-modal",[Ce.IN_MEETING_CONFIRM]:"in-meeting-confirm",[Ce.IN_MEETING_MIC_CONFIRM]:"in-meeting-mic-confirm",[Ce.RECORD_CONFIRM]:"record-confirm",[Ce.HANGUP_CONFIRM]:"hangup-confirm",[Ce.ACCESSIBILITY_CONFIRM]:"accessibility-confirm",[Ce.MINI_VIDEO]:"mini-video",[Ce.MINI_INTERACTION]:"mini-interaction",[Ce.FEED_BACK]:"feedback",[Ce.SHARE_SCREEN_SKETCH]:"ss-sketch",[Ce.SHARE_SCREEN_SKETCH_BAR]:"ss-sketch-bar",[Ce.REMOTE_CONTROL_MODAL]:"remote-control-modal",[Ce.LIVE_CONFIRM]:"live-confirm",[Ce.AV_SETTING]:"av-setting",[Ce.LIVE_SETTING]:"live-setting",[Ce.LIVE_ACCOUNT_BIND]:"live-account-bind",[Ce.USER_CARD]:"user-card",[Ce.PHONE_INVITE]:"phone-invite",[Ce.MEETING_SUBTITLE_SETTING]:"meeting-subtitle-setting",[Ce.MINI_VIDEO_LOBBY]:"mini-video-lobby",[Ce.LOBBY]:"lobby",[Ce.COMMON_CONFIRM]:"common-confirm",[Ce.LOBBY_NOTIFICATION]:"lobby-notification",[Ce.HANDS_UP_CONFIRM]:"hands-up-confirm",[Ce.HANDS_UP_NOTIFICATION]:"hands-up-notification",[Ce.PSTN_INFO_MODAL]:"pstnInfo",[Ce.MUTE_ALL_CONFIRM]:"mute-confirm",[Ce.SWITCHING]:"switching",[Ce.END]:"end"},Ae=Object.assign(Object.assign({},Ne),{[Ce.IN_MEETING_MIC_CONFIRM]:"in-meeting-confirm"});var Re,Oe,ve,Pe,Me,Le,be,De,Ue,we,ke,Ge,Ve,He,Be,Fe;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LARK=1]="LARK",e[e.ROOM=2]="ROOM",e[e.Neo=3]="Neo",e[e.WEB=4]="WEB"}(Re||(Re={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.DISCONNECT=1]="DISCONNECT"}(Oe||(Oe={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VOIP=1]="VOIP",e[e.VC=2]="VC",e[e.VCLOBBY=3]="VCLOBBY"}(ve||(ve={})),function(e){e[e.ALL=0]="ALL",e[e.EXPIRED_BY_LAST_QUERY_TIME=1]="EXPIRED_BY_LAST_QUERY_TIME",e[e.GET_LOBBY_BY_USER=2]="GET_LOBBY_BY_USER"}(Pe||(Pe={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.HEARBEAT_EXPIRE=1]="HEARBEAT_EXPIRE",e[e.EXIT=2]="EXIT",e[e.HOST_REJECT=3]="HOST_REJECT",e[e.MEETING_END=4]="MEETING_END",e[e.HOST_APPROVE=5]="HOST_APPROVE"}(Me||(Me={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.CALLING=1]="CALLING",e[e.ON_THE_CALL=2]="ON_THE_CALL",e[e.RINGING=3]="RINGING",e[e.IDLE=4]="IDLE"}(Le||(Le={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.PUT_UP=1]="PUT_UP",e[e.PUT_DOWN=2]="PUT_DOWN",e[e.APPROVED=3]="APPROVED",e[e.REJECT=4]="REJECT"}(be||(be={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.BUSY=1]="BUSY",e[e.REFUSE=2]="REFUSE",e[e.RING_TIMEOUT=3]="RING_TIMEOUT",e[e.KICK_OUT=4]="KICK_OUT",e[e.LEAVE=5]="LEAVE",e[e.END=6]="END",e[e.CANCEL=7]="CANCEL",e[e.OVERTIME=8]="OVERTIME",e[e.ACCEPT_OTHER=9]="ACCEPT_OTHER",e[e.FORBIDDEN_TARGET=12]="FORBIDDEN_TARGET",e[e.JOIN_LOBBY=13]="JOIN_LOBBY"}(De||(De={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.DESKTOP=1]="DESKTOP",e[e.MOBILE=2]="MOBILE",e[e.WEB=3]="WEB"}(Ue||(Ue={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.DESKTOP=1]="DESKTOP",e[e.MOBILE=2]="MOBILE",e[e.WEB=3]="WEB"}(we||(we={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LARK_USER=1]="LARK_USER",e[e.ROOM=2]="ROOM",e[e.DOC_USER=3]="DOC_USER",e[e.NEO_USER=4]="NEO_USER",e[e.NEO_GUEST_USER=5]="NEO_GUEST_USER",e[e.PSTN_USER=6]="PSTN_USER",e[e.SIP_USER=7]="SIP_USER",e[e.RESERVED_USER_1=8]="RESERVED_USER_1",e[e.RESERVED_USER_2=9]="RESERVED_USER_2",e[e.RESERVED_USER_3=10]="RESERVED_USER_3",e[e.RESERVED_USER_4=11]="RESERVED_USER_4",e[e.RESERVED_USER_5=12]="RESERVED_USER_5",e[e.RESERVED_USER_6=13]="RESERVED_USER_6",e[e.RESERVED_USER_7=14]="RESERVED_USER_7",e[e.RESERVED_USER_8=15]="RESERVED_USER_8",e[e.RESERVED_USER_9=16]="RESERVED_USER_9",e[e.RESERVED_USER_10=17]="RESERVED_USER_10",e[e.RESERVED_USER_12=18]="RESERVED_USER_12",e[e.RESERVED_USER_13=19]="RESERVED_USER_13",e[e.RESERVED_USER_14=20]="RESERVED_USER_14",e[e.RESERVED_USER_15=21]="RESERVED_USER_15",e[e.RESERVED_USER_16=22]="RESERVED_USER_16",e[e.RESERVED_USER_17=23]="RESERVED_USER_17",e[e.RESERVED_USER_18=24]="RESERVED_USER_18",e[e.RESERVED_USER_19=25]="RESERVED_USER_19",e[e.RESERVED_USER_20=26]="RESERVED_USER_20"}(ke||(ke={})),function(e){e[e.STANDARD=0]="STANDARD",e[e.UNDEFINED=1]="UNDEFINED",e[e.SIMPLE=2]="SIMPLE"}(Ge||(Ge={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.INTERVIEWER=1]="INTERVIEWER",e[e.INTERVIEWEE=2]="INTERVIEWEE"}(Ve||(Ve={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LARK=1]="LARK"}(He||(He={})),function(e){e[e.PARTICIPANT=0]="PARTICIPANT",e[e.HOST=1]="HOST",e[e.CO_HOST=2]="CO_HOST"}(Be||(Be={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ACCEPT=1]="ACCEPT",e[e.REFUSE=2]="REFUSE",e[e.CANCEL=3]="CANCEL",e[e.LEAVE=4]="LEAVE",e[e.END=5]="END",e[e.RECEIVED_INVITATION=6]="RECEIVED_INVITATION",e[e.SDK_EXCEPTION=7]="SDK_EXCEPTION",e[e.TERMINAL=8]="TERMINAL",e[e.TRIAL_TIMEOUT=9]="TRIAL_TIMEOUT",e[e.LEAVE_LOBBY=10]="LEAVE_LOBBY",e[e.AUTO_END=12]="AUTO_END",e[e.NET_EXCEPTION=1e3]="NET_EXCEPTION",e[e.CHANGE_TANENT=1001]="CHANGE_TANENT",e[e.FINISH_SHARE_SCREEN=1002]="FINISH_SHARE_SCREEN",e[e.ANOTHER_ACCEPT=1003]="ANOTHER_ACCEPT",e[e.HEARTBEAT_STOP=1e4]="HEARTBEAT_STOP",e[e.HEARTBEAT_STOP_LOBBY=10001]="HEARTBEAT_STOP_LOBBY",e[e.CLOSE_SCREEN=10002]="CLOSE_SCREEN",e[e.INTERRUPTED=10003]="INTERRUPTED",e[e.SHARING_APP_CLOSED=10004]="SHARING_APP_CLOSED",e[e.RELOAD_PAGE=10005]="RELOAD_PAGE",e[e.LOG_OUT=10006]="LOG_OUT"}(Fe||(Fe={}));const je=new Set([Fe.NET_EXCEPTION,Fe.HEARTBEAT_STOP]),We={[Fe.FINISH_SHARE_SCREEN]:Fe.LEAVE,[Fe.HEARTBEAT_STOP]:Fe.LEAVE,[Fe.HEARTBEAT_STOP_LOBBY]:Fe.LEAVE_LOBBY,[Fe.CHANGE_TANENT]:Fe.LEAVE,[Fe.NET_EXCEPTION]:Fe.LEAVE,[Fe.ANOTHER_ACCEPT]:Fe.LEAVE,[Fe.TERMINAL]:Fe.LEAVE,[Fe.CLOSE_SCREEN]:Fe.LEAVE,[Fe.INTERRUPTED]:Fe.LEAVE,[Fe.SHARING_APP_CLOSED]:Fe.END,[Fe.RELOAD_PAGE]:Fe.LEAVE},xe={[Fe.END]:L.END,[Fe.LEAVE]:L.LEAVE,[Fe.SDK_EXCEPTION]:L.SDK_EXCEPTION,[Fe.HEARTBEAT_STOP]:L.HEARTBEAT_STOP,[Fe.CHANGE_TANENT]:L.CHANGE_TANENT,[Fe.NET_EXCEPTION]:L.NET_EXCEPTION,[Fe.FINISH_SHARE_SCREEN]:L.FINISH_SHARE_SCREEN,[Fe.ANOTHER_ACCEPT]:L.ANOTHER_ACCEPT,[Fe.CLOSE_SCREEN]:L.CLOSE_SCREEN,[Fe.INTERRUPTED]:L.INTERRUPTED,[Fe.TRIAL_TIMEOUT]:L.TRIAL_TIMEOUT,[Fe.SHARING_APP_CLOSED]:L.SHARING_APP_CLOSED,[Fe.RELOAD_PAGE]:L.RELOAD_PAGE,[Fe.LOG_OUT]:L.LOG_OUT};var Ke,qe,Ye,Je,ze,Xe,Qe,$e,Ze,et,tt,it,nt,rt,ot,st,at,dt,ct,lt,pt,ut,_t,Et,ht,Tt,yt,ft,It,gt,St,Ct,mt,Nt,At,Rt,Ot,vt,Pt,Mt,Lt,bt,Dt,Ut;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.JOIN_SUCCESS=1]="JOIN_SUCCESS",e[e.JOIN_ERROR=2]="JOIN_ERROR"}(Ke||(Ke={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.BUSY=1]="BUSY",e[e.MEETING_ENDED=2]="MEETING_ENDED",e[e.PARTICIPANT_LIMIT_EXCEED=3]="PARTICIPANT_LIMIT_EXCEED",e[e.VERSION_LOW=4]="VERSION_LOW",e[e.LOCAL_BUSY=5]="LOCAL_BUSY"}(qe||(qe={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.HANG_UP=1]="HANG_UP",e[e.CONNECTION_FAILED=2]="CONNECTION_FAILED",e[e.RING_TIMEOUT=3]="RING_TIMEOUT",e[e.SDK_EXCEPTION=4]="SDK_EXCEPTION",e[e.CANCEL=5]="CANCEL",e[e.REFUSE=6]="REFUSE",e[e.HOST_BUSY=1e3]="HOST_BUSY"}(Ye||(Ye={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.CALL=1]="CALL",e[e.MEETING=2]="MEETING"}(Je||(Je={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.TIPS=1]="TIPS",e[e.TOAST=2]="TOAST",e[e.POPUP=3]="POPUP"}(ze||(ze={})),function(e){e[e.PopupUNKNOWN=0]="PopupUNKNOWN",e[e.PopupINFO=1]="PopupINFO",e[e.PopupWARNING=2]="PopupWARNING",e[e.PopupERROR=3]="PopupERROR"}(Xe||(Xe={})),function(e){e[e.VC_UNKNOWN_SOURCE_TYPE=0]="VC_UNKNOWN_SOURCE_TYPE",e[e.VC_FROM_USER=1]="VC_FROM_USER",e[e.VC_FROM_CALENDAR=2]="VC_FROM_CALENDAR",e[e.VC_FROM_PEOPLE=3]="VC_FROM_PEOPLE",e[e.VC_FROM_MEETING_NUMBER=4]="VC_FROM_MEETING_NUMBER",e[e.VC_FROM_DOCS=5]="VC_FROM_DOCS"}(Qe||(Qe={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.RINGING_RECEIVED=1]="RINGING_RECEIVED",e[e.IN_MEETING_CHANGED=2]="IN_MEETING_CHANGED",e[e.SUBTITLE=3]="SUBTITLE",e[e.UPDATE_LIVE_EXTRA_INFO=4]="UPDATE_LIVE_EXTRA_INFO"}($e||($e={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SETTINGS_CHANGED=1]="SETTINGS_CHANGED",e[e.PARTICIPANTS_CHANGED=2]="PARTICIPANTS_CHANGED",e[e.HOST_TRANSFERRED=3]="HOST_TRANSFERRED",e[e.ALL_MICROPHONE_MUTED=4]="ALL_MICROPHONE_MUTED",e[e.SCREEN_SHARED=5]="SCREEN_SHARED",e[e.UNMUTE_CAMERA_CONFIRMED=6]="UNMUTE_CAMERA_CONFIRMED",e[e.UPGRADE_MEETING=7]="UPGRADE_MEETING",e[e.FOLLOW_CHANGED=8]="FOLLOW_CHANGED",e[e.FOLLOW_ACTION_CHANGED=9]="FOLLOW_ACTION_CHANGED",e[e.UNMUTE_MICROPHONE_CONFIRMED=10]="UNMUTE_MICROPHONE_CONFIRMED",e[e.RECORD_MEETING=11]="RECORD_MEETING",e[e.REQUEST_FOLLOW_TOKEN=12]="REQUEST_FOLLOW_TOKEN",e[e.GRANT_FOLLOW_TOKEN=13]="GRANT_FOLLOW_TOKEN",e[e.SUBTITLE_STATUS_CONFIRMED=14]="SUBTITLE_STATUS_CONFIRMED",e[e.APPLY_REMOTE_CONTROL=15]="APPLY_REMOTE_CONTROL",e[e.LIVE_MEETING=16]="LIVE_MEETING",e[e.APPLY_BYTEVIEW_ACCESSIBILITY=17]="APPLY_BYTEVIEW_ACCESSIBILITY",e[e.HOST_MUTE_MIC=101]="HOST_MUTE_MIC",e[e.HOST_MUTE_CAMERA=102]="HOST_MUTE_CAMERA",e[e.SECURITY_LEVEL_FASTEN=103]="SECURITY_LEVEL_FASTEN",e[e.SECURITY_LEVEL_UNFASTEN=104]="SECURITY_LEVEL_UNFASTEN"}(Ze||(Ze={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.RECORDING_STATUS_CHANGE=1]="RECORDING_STATUS_CHANGE",e[e.PARTICIPANT_REQUEST=2]="PARTICIPANT_REQUEST",e[e.HOST_RESPONSE=3]="HOST_RESPONSE"}(et||(et={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LIVE_INFO_CHANGE=1]="LIVE_INFO_CHANGE",e[e.PARTICIPANT_REQUEST=2]="PARTICIPANT_REQUEST",e[e.HOST_RESPONSE=3]="HOST_RESPONSE"}(tt||(tt={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.CANCEL=1]="CANCEL",e[e.REFUSED=2]="REFUSED",e[e.ACCEPT=3]="ACCEPT"}(it||(it={})),function(e){e[e.UNKONWN=0]="UNKONWN",e[e.DOUYIN=1]="DOUYIN",e[e.XIGUA=2]="XIGUA",e[e.FACEBOOK=3]="FACEBOOK",e[e.YOUTUBE=4]="YOUTUBE",e[e.TIKTOK=5]="TIKTOK",e[e.TIKTOK_WEB=6]="TIKTOK_WEB",e[e.TIKTOK_APP=7]="TIKTOK_APP",e[e.NEO_DOUYIN_WEB=8]="NEO_DOUYIN_WEB",e[e.NEO_DOUYIN_APP=9]="NEO_DOUYIN_APP",e[e.THD_PARTY=10]="THD_PARTY",e[e.THD_FACEBOOK=11]="THD_FACEBOOK",e[e.THD_YOUTUBE=12]="THD_YOUTUBE"}(nt||(nt={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.MEETINGLOBBY=1]="MEETINGLOBBY"}(rt||(rt={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.TOAST=1]="TOAST",e[e.POPUP=2]="POPUP",e[e.ALERT=3]="ALERT",e[e.PREVIEW=4]="PREVIEW",e[e.TIPS=5]="TIPS"}(ot||(ot={})),function(e){e[e.UNKNOWN_POPUP_TYPE=0]="UNKNOWN_POPUP_TYPE",e[e.POPUP_FORCE_JOIN=1]="POPUP_FORCE_JOIN",e[e.POPUP_PREVIEW=2]="POPUP_PREVIEW",e[e.POPUP_NORMAL=3]="POPUP_NORMAL",e[e.POPUP_RECORDING_CONFIRM=4]="POPUP_RECORDING_CONFIRM",e[e.POPUP_DOC_PERM_CONFIRM=5]="POPUP_DOC_PERM_CONFIRM",e[e.NOTICE_EXTERNAL_PERM_CHANGED=6]="NOTICE_EXTERNAL_PERM_CHANGED",e[e.POPUP_MEETING_END_CONFIRM=7]="POPUP_MEETING_END_CONFIRM"}(st||(st={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SUCCESS=1]="SUCCESS",e[e.USER_BUSY_ERROR=2]="USER_BUSY_ERROR"}(at||(at={})),function(e){e[e.CANCEL=0]="CANCEL",e[e.CONFIRM=1]="CONFIRM"}(dt||(dt={})),function(e){e[e.LARK=1]="LARK",e[e.VC=2]="VC"}(ct||(ct={})),function(e){e[e.DISMISS=1]="DISMISS"}(lt||(lt={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.SCREEN_SHARE=1]="SCREEN_SHARE",e[e.WIRED_SCREEN_SHARE=2]="WIRED_SCREEN_SHARE",e[e.FOLLOW_SHARE=3]="FOLLOW_SHARE",e[e.CHAT_ROOM=4]="CHAT_ROOM"}(pt||(pt={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.Squared=1]="Squared",e[e.Sidebar=2]="Sidebar",e[e.Float=3]="Float"}(ut||(ut={})),function(e){e[e.PLAN_UNKNOWN=0]="PLAN_UNKNOWN",e[e.PLAN_FREE=1]="PLAN_FREE",e[e.PLAN_BASIC=2]="PLAN_BASIC",e[e.PLAN_BUSINESS=3]="PLAN_BUSINESS",e[e.PLAN_ENTERPRISE=4]="PLAN_ENTERPRISE"}(_t||(_t={})),function(e){e.INVALID="invalid",e.PENDING="pending"}(Et||(Et={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.CALLING=1]="CALLING",e[e.RINGING=2]="RINGING"}(ht||(ht={})),function(e){e[e.ALL=0]="ALL",e[e.PARTIAL=1]="PARTIAL",e[e.NONE=2]="NONE"}(Tt||(Tt={})),function(e){e.UNKNOWN="UNKNOWN",e.IDLE="IDLE",e.CALLING="CALLING",e.RINGING="RINGING",e.ON_THE_CALL="ON_THE_CALL",e.WAIT="WAIT"}(yt||(yt={})),function(e){e[e.ON_DEFAULT=0]="ON_DEFAULT",e[e.ON_BUSINESS=1]="ON_BUSINESS",e[e.ON_LEAVE=2]="ON_LEAVE",e[e.ON_MEETING=3]="ON_MEETING"}(ft||(ft={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ON_LEAVE=1]="ON_LEAVE",e[e.ON_MEETING=2]="ON_MEETING"}(It||(It={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.IDLE=1]="IDLE",e[e.VC_BUSY=2]="VC_BUSY",e[e.VOIP_BUSY=3]="VOIP_BUSY"}(gt||(gt={})),function(e){e[e.UNKNOWN_STATUS=0]="UNKNOWN_STATUS",e[e.PENDING=1]="PENDING",e[e.AGREED=2]="AGREED",e[e.REFUSED=3]="REFUSED",e[e.DELETED=4]="DELETED",e[e.EXPIRED=5]="EXPIRED"}(St||(St={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.EXECUTIVES=1]="EXECUTIVES"}(Ct||(Ct={})),function(e){e[e.User=1]="User",e[e.Group=2]="Group"}(mt||(mt={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.INBOX=1]="INBOX",e[e.DONE=2]="DONE"}(Nt||(Nt={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ALL=1]="ALL",e[e.ONLY_LARK=2]="ONLY_LARK",e[e.ONLY_ROOM=3]="ONLY_ROOM"}(At||(At={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.IDLE=1]="IDLE",e[e.BUSY=2]="BUSY",e[e.IN_MEETING=3]="IN_MEETING",e[e.INVITING=4]="INVITING",e[e.IN_LOBBY=5]="IN_LOBBY"}(Rt||(Rt={})),function(e){e[e.ZH_CN=0]="ZH_CN",e[e.EN_US=1]="EN_US",e[e.JA_JP=2]="JA_JP",e[e.ID_ID=3]="ID_ID",e[e.DE_DE=4]="DE_DE",e[e.ES_ES=5]="ES_ES",e[e.FR_FR=6]="FR_FR",e[e.IT_IT=7]="IT_IT",e[e.PT_BR=8]="PT_BR",e[e.VI_VN=9]="VI_VN",e[e.RU_RU=10]="RU_RU",e[e.HI_IN=11]="HI_IN",e[e.TH_TH=12]="TH_TH",e[e.KO_KR=13]="KO_KR"}(Ot||(Ot={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SEARCH_FOR_SHARE_CARD=1]="SEARCH_FOR_SHARE_CARD"}(vt||(vt={})),function(e){e[e.USER=0]="USER",e[e.CHAT=1]="CHAT"}(Pt||(Pt={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.START=1]="START",e[e.STOP=2]="STOP"}(Mt||(Mt={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.LOCAL=1]="LOCAL"}(Lt||(Lt={})),function(e){e[e.ZOOM=1]="ZOOM",e[e.WEBGL_BYTERTC=2]="WEBGL_BYTERTC"}(bt||(bt={})),function(e){e.BYTERTC="bytertc",e.ZOOM="zoom"}(Dt||(Dt={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ZOOM=1]="ZOOM",e[e.RTC=2]="RTC",e[e.LARK_RTC=3]="LARK_RTC",e[e.LARK_PRE_RTC=4]="LARK_PRE_RTC",e[e.TEST_PRE=240]="TEST_PRE",e[e.TEST_GAUSS=241]="TEST_GAUSS",e[e.TEST=255]="TEST"}(Ut||(Ut={}));const wt={[Ut.ZOOM]:[bt.ZOOM],[Ut.RTC]:[bt.WEBGL_BYTERTC],[Ut.LARK_RTC]:[bt.WEBGL_BYTERTC],[Ut.LARK_PRE_RTC]:[bt.WEBGL_BYTERTC]},kt={[Ut.ZOOM]:bt.ZOOM,[Ut.RTC]:bt.WEBGL_BYTERTC,[Ut.LARK_RTC]:bt.WEBGL_BYTERTC,[Ut.LARK_PRE_RTC]:bt.WEBGL_BYTERTC,[Ut.TEST_PRE]:bt.WEBGL_BYTERTC,[Ut.TEST_GAUSS]:bt.WEBGL_BYTERTC,[Ut.TEST]:bt.WEBGL_BYTERTC};var Gt,Vt,Ht,Bt,Ft,jt,Wt,xt,Kt,qt,Yt,Jt,zt,Xt,Qt,$t,Zt,ei,ti,ii,ni,ri;function oi(e,t,i,n){return{title:e||"",docType:t,docSubType:n,docUrl:i||"",isMagic:!0,id:-1001,handle:0,width:0,height:0,x:0,y:0}}function si(e,t){return{title:t,docType:e,docUrl:t,isNewMagic:!0,isMagic:!0,id:-1001,handle:0,width:0,height:0,x:0,y:0}}function ai(e){switch(e){case ei.DOC:return ii.DOC;case ei.SHEET:return ii.SHEET;case ei.MINDNOTE:return ii.MINDNOTE}return ii.UNKNOWN}!function(e){e[e.OFFLINE=10008]="OFFLINE",e[e.ALREADY_IN_CALL=220001]="ALREADY_IN_CALL",e[e.LOW_VERSION=220002]="LOW_VERSION",e[e.CALLEE_BUSY=220003]="CALLEE_BUSY",e[e.UPDATE_APP_VERSION=220005]="UPDATE_APP_VERSION",e[e.BANNED=200006]="BANNED",e[e.ACTION_REFUSED=220102]="ACTION_REFUSED",e[e.EXECUTIVE_MODE_TARGET=232501]="EXECUTIVE_MODE_TARGET",e[e.ALREADY_SCREEN_SHARING=300001]="ALREADY_SCREEN_SHARING",e[e.UNSUPPORT_SCREEN_SHARE=300002]="UNSUPPORT_SCREEN_SHARE",e[e.UNSUPPORT_MUTE_UNMUTE_VIDEO=300003]="UNSUPPORT_MUTE_UNMUTE_VIDEO",e[e.UNSUPPORT_MUTE_UNMUTE_AUDIO=300004]="UNSUPPORT_MUTE_UNMUTE_AUDIO",e[e.UNSUPPORT_SET_DEVICE=300005]="UNSUPPORT_SET_DEVICE",e[e.UNSUPPORT_ADD_CAPTURE_IGNORE_WINDOW=300006]="UNSUPPORT_ADD_CAPTURE_IGNORE_WINDOW",e[e.UNSUPPORT_REMOVE_CAPTURE_IGNORE_WINDOW=300007]="UNSUPPORT_REMOVE_CAPTURE_IGNORE_WINDOW",e[e.UNSUPPORT_CLEAR_CAPTURE_IGNORE_WINDOW=300008]="UNSUPPORT_CLEAR_CAPTURE_IGNORE_WINDOW",e[e.UNSUPPORT_UPDATE_BIT_RATE=300009]="UNSUPPORT_UPDATE_BIT_RATE"}(Gt||(Gt={})),function(e){e.CORE="core",e.UI_SDK="ui-sdk",e.PAGE_MANAGER="page-manager"}(Vt||(Vt={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.KICK_OUT_PARTICIPANT=1]="KICK_OUT_PARTICIPANT",e[e.TRANSFER_HOST=2]="TRANSFER_HOST",e[e.MUTE_MICROPHONE=3]="MUTE_MICROPHONE",e[e.MUTE_CAMERA=4]="MUTE_CAMERA",e[e.MUTE_ALL_MICROPHONE=5]="MUTE_ALL_MICROPHONE",e[e.LOCK_MEETING=6]="LOCK_MEETING",e[e.CHANGE_TOPIC=7]="CHANGE_TOPIC",e[e.MUTE_ON_ENTRY=8]="MUTE_ON_ENTRY",e[e.SET_SECURITY_LEVEL=9]="SET_SECURITY_LEVEL",e[e.APPLY_GLOBAL_SPOKEN_LANGUAGE=10]="APPLY_GLOBAL_SPOKEN_LANGUAGE",e[e.ALLOW_PARTI_UNMUTE=11]="ALLOW_PARTI_UNMUTE",e[e.SET_CO_HOST=12]="SET_CO_HOST"}(Ht||(Ht={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.PUBLIC=1]="PUBLIC",e[e.TENANT=2]="TENANT",e[e.CONTACTS_AND_GROUP=3]="CONTACTS_AND_GROUP",e[e.ONLY_HOST=4]="ONLY_HOST"}(Bt||(Bt={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SET=1]="SET",e[e.UNSET=2]="UNSET"}(Ft||(Ft={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.MEETINGLOBBY=1]="MEETINGLOBBY",e[e.PUT_UP_HANDS=2]="PUT_UP_HANDS"}(jt||(jt={})),function(e){e[e.UNKNOWNACTION=0]="UNKNOWNACTION",e[e.PASS=1]="PASS",e[e.REJECT=2]="REJECT",e[e.ALL_PASS=3]="ALL_PASS",e[e.ALL_REJECT=4]="ALL_REJECT"}(Wt||(Wt={})),function(e){e[e.UNKOWN=0]="UNKOWN",e[e.ALL=1]="ALL",e[e.SINGLE=2]="SINGLE",e[e.MULTI=3]="MULTI"}(xt||(xt={})),function(e){e[e.UNKOWN=0]="UNKOWN",e[e.GOOD=1]="GOOD",e[e.BAD=2]="BAD"}(Kt||(Kt={})),function(e){e[e.OTHER=0]="OTHER",e[e.G3=1]="G3",e[e.G4=2]="G4",e[e.G5=3]="G5",e[e.WIFI=4]="WIFI",e[e.LAN=5]="LAN"}(qt||(qt={})),function(e){e.OTHER="OTHER",e.DATA4G="DATA4G",e.WIFI="WIFI",e.LAN="LAN"}(Yt||(Yt={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SUCCESS=1]="SUCCESS",e[e.VC_BUSY_ERROR=2]="VC_BUSY_ERROR",e[e.VOIP_BUSY_ERROR=3]="VOIP_BUSY_ERROR",e[e.MEETING_END_ERROR=4]="MEETING_END_ERROR",e[e.PARTICIPANT_LIMIT_EXCEED_ERROR=5]="PARTICIPANT_LIMIT_EXCEED_ERROR"}(Jt||(Jt={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SCREEN=1]="SCREEN",e[e.MAGIC_SHARE=2]="MAGIC_SHARE"}(zt||(zt={})),function(e){e[e.INVALID_SHARE_CODE=232401]="INVALID_SHARE_CODE",e[e.HOST_BUSY_ERROR=220001]="HOST_BUSY_ERROR",e[e.INTERNAL_ERROR=220004]="INTERNAL_ERROR",e[e.PARTICIPANT_LIMIT_EXCEED=220801]="PARTICIPANT_LIMIT_EXCEED",e[e.VC_FINISHED=220101]="VC_FINISHED"}(Xt||(Xt={})),function(e){e[e.GROUP=0]="GROUP",e[e.MEETING=1]="MEETING",e[e.USER=2]="USER"}(Qt||(Qt={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NORMAL=1]="NORMAL",e[e.SCHEME_JUMP=2]="SCHEME_JUMP",e[e.UPGRADE_JUMP=3]="UPGRADE_JUMP",e[e.CUSTOMER_JUMP=4]="CUSTOMER_JUMP",e[e.SUBTITLE_SETTING_JUMP=5]="SUBTITLE_SETTING_JUMP"}($t||($t={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.STRING=1]="STRING",e[e.LINK=2]="LINK",e[e.CLICK=3]="CLICK",e[e.EM=4]="EM"}(Zt||(Zt={})),function(e){e[e.UNKNOWN_DOC_TYPE=0]="UNKNOWN_DOC_TYPE",e[e.DOC=1]="DOC",e[e.SHEET=2]="SHEET",e[e.BITABLE=3]="BITABLE",e[e.MINDNOTE=4]="MINDNOTE",e[e.FILE=5]="FILE",e[e.SLIDE=6]="SLIDE",e[e.FOLDER=7]="FOLDER",e[e.DUSTBIN=8]="DUSTBIN",e[e.PERSONAL_FOLDER=9]="PERSONAL_FOLDER",e[e.SHAREWITHME_FOLDER=10]="SHAREWITHME_FOLDER",e[e.SHARE_FOLDER=11]="SHARE_FOLDER",e[e.LINK=12]="LINK",e[e.DEMONSTRATION=13]="DEMONSTRATION",e[e.WIKI=14]="WIKI"}(ei||(ei={})),function(e){e[e.UNKNOWN_DOC_SUBTYPE=0]="UNKNOWN_DOC_SUBTYPE",e[e.PHOTO=1]="PHOTO",e[e.PDF=2]="PDF",e[e.TXT=3]="TXT",e[e.WORD=4]="WORD",e[e.EXCEL=5]="EXCEL",e[e.PPT=6]="PPT",e[e.VIDEO=7]="VIDEO",e[e.AUDIO=8]="AUDIO",e[e.ZIP=9]="ZIP",e[e.PSD=10]="PSD",e[e.APK=11]="APK",e[e.SKETCH=12]="SKETCH",e[e.AE=13]="AE",e[e.KEYNOTE=14]="KEYNOTE"}(ti||(ti={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.DOC=1]="DOC",e[e.SHEET=2]="SHEET",e[e.BITABLE=7]="BITABLE",e[e.MINDNOTE=10]="MINDNOTE",e[e.FILE=11]="FILE",e[e.SLIDE=14]="SLIDE",e[e.WIKI=15]="WIKI"}(ii||(ii={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.FULLY_SHARE=1]="FULLY_SHARE",e[e.PARTIAL_SHARE=2]="PARTIAL_SHARE",e[e.NO_SHARE_PERMISSION=3]="NO_SHARE_PERMISSION"}(ni||(ni={})),function(e){e[e.VIDEO_CONFERENCE=19]="VIDEO_CONFERENCE"}(ri||(ri={}));const di={[ei.UNKNOWN_DOC_TYPE]:"icon-file-unknow",[ei.DOC]:"icon-file-doc",[ei.SHEET]:"icon-file-sheet",[ei.BITABLE]:"icon-file-bitable",[ei.MINDNOTE]:"icon-file-mindnote",[ei.FILE]:"icon-file-doc",[ei.SLIDE]:"icon-file-slide",[ei.FOLDER]:"icon-file-doc",[ei.DUSTBIN]:"icon-file-doc",[ei.PERSONAL_FOLDER]:"icon-file-doc",[ei.SHAREWITHME_FOLDER]:"icon-file-doc",[ei.SHARE_FOLDER]:"icon-file-doc",[ei.LINK]:"icon-file-doc",[ei.DEMONSTRATION]:"icon-file-doc",[ei.WIKI]:"icon-file-doc"},ci={[ei.UNKNOWN_DOC_TYPE]:"icon-feed-unknow",[ei.DOC]:"icon-feed-doc",[ei.SHEET]:"icon-feed-sheet",[ei.BITABLE]:"icon-feed-bitable",[ei.MINDNOTE]:"icon-feed-mindnote",[ei.FILE]:"icon-feed-doc",[ei.SLIDE]:"icon-feed-slide",[ei.FOLDER]:"icon-feed-doc",[ei.DUSTBIN]:"icon-feed-doc",[ei.PERSONAL_FOLDER]:"icon-feed-doc",[ei.SHAREWITHME_FOLDER]:"icon-feed-doc",[ei.SHARE_FOLDER]:"icon-feed-doc",[ei.LINK]:"icon-feed-doc",[ei.DEMONSTRATION]:"icon-feed-doc",[ei.WIKI]:"icon-feed-doc"},li={[ti.AE]:"icon-feed-ae",[ti.APK]:"icon-feed-android",[ti.AUDIO]:"icon-feed-audio",[ti.EXCEL]:"icon-feed-excel",[ti.KEYNOTE]:"icon-feed-keynote",[ti.PDF]:"icon-feed-pdf",[ti.PHOTO]:"icon-feed-image",[ti.PPT]:"icon-feed-ppt",[ti.PSD]:"icon-feed-psd",[ti.SKETCH]:"icon-feed-sketch",[ti.TXT]:"icon-feed-text",[ti.UNKNOWN_DOC_SUBTYPE]:"icon-feed-unknow",[ti.VIDEO]:"icon-feed-video",[ti.WORD]:"icon-feed-word",[ti.ZIP]:"icon-feed-zip"},pi={[ti.AE]:"icon-file-ae",[ti.APK]:"icon-file-android",[ti.AUDIO]:"icon-file-audio",[ti.EXCEL]:"icon-file-excel",[ti.KEYNOTE]:"icon-file-keynote",[ti.PDF]:"icon-file-pdf",[ti.PHOTO]:"icon-file-image",[ti.PPT]:"icon-file-ppt",[ti.PSD]:"icon-file-psd",[ti.SKETCH]:"icon-file-sketch",[ti.TXT]:"icon-file-text",[ti.UNKNOWN_DOC_SUBTYPE]:"icon-file-unknow",[ti.VIDEO]:"icon-file-video",[ti.WORD]:"icon-file-word",[ti.ZIP]:"icon-file-zip"},ui="MAGIC_SHARE_ID",_i="DEFAULT_DOC_THUMBNAIL",Ei={[ti.AE]:"ae",[ti.APK]:"apk",[ti.AUDIO]:"audio",[ti.EXCEL]:"excel",[ti.KEYNOTE]:"keynote",[ti.PDF]:"pdf",[ti.PHOTO]:"photo",[ti.PPT]:"ppt",[ti.PSD]:"psd",[ti.SKETCH]:"sketch",[ti.TXT]:"text",[ti.UNKNOWN_DOC_SUBTYPE]:"other",[ti.VIDEO]:"video",[ti.WORD]:"word",[ti.ZIP]:"zip"},hi={[ei.UNKNOWN_DOC_TYPE]:"other",[ei.DOC]:"doc",[ei.SHEET]:"sheet",[ei.BITABLE]:"bitable",[ei.MINDNOTE]:"mindnote",[ei.FILE]:"file",[ei.SLIDE]:"slide",[ei.FOLDER]:"folder",[ei.DUSTBIN]:"dustbin",[ei.PERSONAL_FOLDER]:"personal_folder",[ei.SHAREWITHME_FOLDER]:"sharewithme_folder",[ei.SHARE_FOLDER]:"share_folder",[ei.LINK]:"link",[ei.DEMONSTRATION]:"demonstration",[ei.WIKI]:"wiki"};var Ti,yi,fi,Ii,gi,Si,Ci,mi,Ni,Ai,Ri,Oi,vi,Pi,Mi,Li,bi,Di,Ui,wi,ki,Gi,Vi,Hi,Bi,Fi,ji,Wi,xi,Ki,qi,Yi,Ji,zi,Xi,Qi,$i,Zi,en,tn,nn,rn,on,sn,an,dn,cn,ln,pn,un,_n,En,hn,Tn,yn,fn,In,gn,Sn,Cn,mn,Nn,An,Rn,On,vn,Pn,Mn,Ln,bn,Dn,Un,wn,kn;function Gn(e){switch(e){case ti.PPT:return mi.CCM_PPT;case ti.EXCEL:return mi.CCM_EXCEL;case ti.PDF:return mi.CCM_PDF;case ti.WORD:return mi.CCM_WORD}return mi.UNKNOWN_SHARE_SUBTYPE}function Vn(e){switch(e){case mi.CCM_PPT:return ti.PPT;case mi.CCM_EXCEL:return ti.EXCEL;case mi.CCM_PDF:return ti.PDF;case mi.CCM_WORD:return ti.WORD}return ti.UNKNOWN_DOC_SUBTYPE}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SCROLL=1]="SCROLL",e[e.RESIZE=2]="RESIZE",e[e.NAVIGATION=3]="NAVIGATION",e[e.CUSTOM=61]="CUSTOM"}(Ti||(Ti={})),function(e){e[e.HIGH=1]="HIGH",e[e.NORMAL=2]="NORMAL",e[e.LOW=3]="LOW"}(yi||(yi={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LOAD=1]="LOAD",e[e.GO_FORWARD=2]="GO_FORWARD",e[e.GO_BACK=3]="GO_BACK",e[e.POP_STATE=4]="POP_STATE",e[e.HASH_CHANGED=5]="HASH_CHANGED"}(fi||(fi={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.EPHEMERAL=1]="EPHEMERAL",e[e.PERMANENT=2]="PERMANENT"}(Ii||(Ii={})),function(e){e[e.SEND_HACKY_ACTION=1]="SEND_HACKY_ACTION",e[e.SEND_DOC_ACTION=2]="SEND_DOC_ACTION"}(gi||(gi={})),function(e){e[e.UNENCRYPTED=0]="UNENCRYPTED",e[e.AES_256_GCM=1]="AES_256_GCM",e[e.AES_CBC=2]="AES_CBC"}(Si||(Si={})),function(e){e[e.UNKNOWN_SHARE_TYPE=0]="UNKNOWN_SHARE_TYPE",e[e.CCM=1]="CCM",e[e.GOOGLE=2]="GOOGLE",e[e.UNIVERSAL=3]="UNIVERSAL"}(Ci||(Ci={})),function(e){e[e.UNKNOWN_SHARE_SUBTYPE=0]="UNKNOWN_SHARE_SUBTYPE",e[e.CCM_DOC=1]="CCM_DOC",e[e.CCM_SHEET=2]="CCM_SHEET",e[e.CCM_MINDNOTE=3]="CCM_MINDNOTE",e[e.CCM_WORD=4]="CCM_WORD",e[e.CCM_EXCEL=5]="CCM_EXCEL",e[e.CCM_PPT=6]="CCM_PPT",e[e.CCM_PDF=7]="CCM_PDF",e[e.GOOGLE_DOC=51]="GOOGLE_DOC",e[e.GOOGLE_SHEET=52]="GOOGLE_SHEET",e[e.GOOGLE_SLIDE=53]="GOOGLE_SLIDE",e[e.GOOGLE_WORD=54]="GOOGLE_WORD",e[e.GOOGLE_EXCEL=55]="GOOGLE_EXCEL",e[e.GOOGLE_PPT=56]="GOOGLE_PPT",e[e.GOOGLE_PDF=57]="GOOGLE_PDF"}(mi||(mi={})),function(e){e[e.UNKNOWN_INIT_SOURCE=0]="UNKNOWN_INIT_SOURCE",e[e.INIT_DIRECTLY=1]="INIT_DIRECTLY",e[e.INIT_FROM_LINK=2]="INIT_FROM_LINK",e[e.INIT_REACTIVATED=3]="INIT_REACTIVATED"}(Ni||(Ni={})),function(e){e[e.UNKNOWN_TYPE=0]="UNKNOWN_TYPE",e[e.READ_STATUS_TYPE=1]="READ_STATUS_TYPE",e[e.FYH_STATUS_TYPE=2]="FYH_STATUS_TYPE"}(Ai||(Ai={})),function(e){e[e.UNKNOWN_STATUS=0]="UNKNOWN_STATUS",e[e.READING_STATUS=1]="READING_STATUS",e[e.DISCUSS_STATUS=2]="DISCUSS_STATUS"}(Ri||(Ri={})),function(e){e[e.FOLLOW_DATA_UNKNOWN=0]="FOLLOW_DATA_UNKNOWN",e[e.FOLLOW_WEB_DATA=1]="FOLLOW_WEB_DATA",e[e.FOLLOW_VC_DATA=2]="FOLLOW_VC_DATA"}(Oi||(Oi={})),function(e){e[e.UNKNOWN_PATCH_TYPE=0]="UNKNOWN_PATCH_TYPE",e[e.APPEND_TYPE=1]="APPEND_TYPE"}(vi||(vi={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.PATCHES=1]="PATCHES",e[e.STATES=2]="STATES"}(Pi||(Pi={})),function(e){e[e.UNKNOWN_TYPE=0]="UNKNOWN_TYPE",e[e.JS_TYPE=1]="JS_TYPE",e[e.JSON_STRING_TYPE=2]="JSON_STRING_TYPE"}(Mi||(Mi={})),function(e){e[e.UNKNOWN_CONTEXT=0]="UNKNOWN_CONTEXT",e[e.PREFER_PRELOAD=1]="PREFER_PRELOAD",e[e.WEBVIEW=2]="WEBVIEW"}(Li||(Li={})),function(e){e[e.NONE=0]="NONE",e[e.ALL=1]="ALL",e[e.STATE=2]="STATE",e[e.PATCH=3]="PATCH"}(bi||(bi={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.BEFORE_LOAD=1]="BEFORE_LOAD",e[e.ON_LOAD=2]="ON_LOAD",e[e.DOM_READY=3]="DOM_READY"}(Di||(Di={})),function(e){e[e.UNKNOWN_ACTION=0]="UNKNOWN_ACTION",e[e.APPROVE=1]="APPROVE",e[e.REJECT=2]="REJECT"}(Ui||(Ui={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.START=1]="START",e[e.STOP=2]="STOP",e[e.UPDATE_OPTIONS=3]="UPDATE_OPTIONS",e[e.TRANS_PRESENTER=4]="TRANS_PRESENTER",e[e.TAKE_OVER=5]="TAKE_OVER",e[e.REACTIVATE=6]="REACTIVATE"}(wi||(wi={})),function(e){e[e.UNKNOWN_AUTHORITY=0]="UNKNOWN_AUTHORITY",e[e.GRANT_READ=1]="GRANT_READ",e[e.GRANT_WRITE=2]="GRANT_WRITE"}(ki||(ki={})),function(e){e[e.GRANT_INTERNAL_READ=1]="GRANT_INTERNAL_READ",e[e.GRANT_INTERNAL_EDIT=2]="GRANT_INTERNAL_EDIT",e[e.GRANT_EXTERNAL_READ=16]="GRANT_EXTERNAL_READ",e[e.GRANT_EXTERNAL_EDIT=32]="GRANT_EXTERNAL_EDIT",e[e.GRANT_EXTERNAL_COMMENT=64]="GRANT_EXTERNAL_COMMENT"}(Gi||(Gi={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.START=1]="START",e[e.STOP=2]="STOP",e[e.HOST_ACCEPT=3]="HOST_ACCEPT",e[e.HOST_REFUSE=4]="HOST_REFUSE",e[e.PARTICIPANT_REQUEST_START=5]="PARTICIPANT_REQUEST_START",e[e.PARTICIPANT_CONSENT_LEAVE=6]="PARTICIPANT_CONSENT_LEAVE",e[e.PARTICIPANT_CONSENT_STAY=7]="PARTICIPANT_CONSENT_STAY"}(Vi||(Vi={})),function(e){e[e.UNKNOWN_ID_TYPE=0]="UNKNOWN_ID_TYPE",e[e.GROUP_ID=1]="GROUP_ID",e[e.MEETING_ID=2]="MEETING_ID",e[e.UNIQUE_ID=3]="UNIQUE_ID",e[e.INTERVIEW_UID=4]="INTERVIEW_UID"}(Hi||(Hi={})),function(e){e.CARD="card",e.QUICK_JUMP="quickJump",e.GROUP="group"}(Bi||(Bi={})),function(e){e[e.CREATE_VC_VIA_ROOM_DEVICE=0]="CREATE_VC_VIA_ROOM_DEVICE",e[e.CREATE_VC=1]="CREATE_VC",e[e.JOIN_VC_VIA_MEETING_ID=2]="JOIN_VC_VIA_MEETING_ID",e[e.JOIN_VC_VIA_GROUP_ID=3]="JOIN_VC_VIA_GROUP_ID",e[e.JOIN_VC_VIA_UNIQUE_ID=4]="JOIN_VC_VIA_UNIQUE_ID",e[e.JOIN_VC_VIA_MEETING_NUMBER=5]="JOIN_VC_VIA_MEETING_NUMBER",e[e.CREATE_VC_VIA_DOCS=7]="CREATE_VC_VIA_DOCS",e[e.JOIN_CHAT_ROOM=8]="JOIN_CHAT_ROOM",e[e.JOIN_VC_CREATE_ONLY=9]="JOIN_VC_CREATE_ONLY"}(Fi||(Fi={})),function(e){e[e.UNKNOWN_ACTION=0]="UNKNOWN_ACTION",e[e.START_SHARE_SCREEN=1]="START_SHARE_SCREEN"}(ji||(ji={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SUCCESS=1]="SUCCESS",e[e.VC_BUSY=2]="VC_BUSY",e[e.VOIP_BUSY=3]="VOIP_BUSY",e[e.PARTICIPANT_LIMIT_EXCEED=4]="PARTICIPANT_LIMIT_EXCEED",e[e.MEETING_ENDED=5]="MEETING_ENDED",e[e.MEETING_OUT_OF_DATE=6]="MEETING_OUT_OF_DATE",e[e.MEETING_NEED_EXTENSION=7]="MEETING_NEED_EXTENSION",e[e.VERSION_LOW=8]="VERSION_LOW",e[e.INVALID_MEETING_ID=9]="INVALID_MEETING_ID",e[e.DEVICE_RINGING=10]="DEVICE_RINGING",e[e.MEETING_LOCKED=11]="MEETING_LOCKED",e[e.CHAT_POST_NO_PERMISSION=12]="CHAT_POST_NO_PERMISSION",e[e.TENANT_IN_BLACKLIST=13]="TENANT_IN_BLACKLIST",e[e.MEETING_NUMBER_NOT_CERTIFICATED=14]="MEETING_NUMBER_NOT_CERTIFICATED",e[e.VERSION_INCOMPATIBLE=15]="VERSION_INCOMPATIBLE"}(Wi||(Wi={})),function(e){e[e.VC_FINISHED=220101]="VC_FINISHED",e[e.VC_NOT_EXISTED=220301]="VC_NOT_EXISTED",e[e.PARTICIPANT_LIMIT_EXCEED=220801]="PARTICIPANT_LIMIT_EXCEED",e[e.INTERNAL_ERROR=220004]="INTERNAL_ERROR",e[e.IN_VC=222301]="IN_VC",e[e.IN_VOIP=222302]="IN_VOIP",e[e.CalleeBusyError=220003]="CalleeBusyError"}(xi||(xi={})),function(e){e[e.Auto=0]="Auto",e[e.Stretch=1]="Stretch",e[e.FitWithCropping=2]="FitWithCropping",e[e.FitWithFilling=3]="FitWithFilling"}(Ki||(Ki={})),function(e){e.VC_ACTIVE_SPEAKER_CONFIG="vc_active_speaker_config_v2",e.VC_SIMULCAST_STREAM_DESC="vc_simulcast_stream_desc",e.VC_SCREENSHARE_CONFIG="vc_screenshare_config",e.VC_DEVICE_BLACK_LIST="vc_device_black_list",e.VC_FEEDBACK="vc_feedback",e.VC_ALLOW_TIMEOUT_BEFORE_INIT_CONNNECT="vc_allow_timeout_before_init_connect",e.VC_AUDIOSHARE_CONFIG="vc_audioshare_config",e.VC_WINDOW_DETECTION="vc_window_detection",e.VC_DYNAMIC_LAYOUT_CONFIG="vc_dynamic_layout_config",e.VC_DEVICE_CONFIG="vc_device_config",e.VC_PAGE_TIME_OUT_SETTING="vc_page_time_out_setting",e.VC_VIRTUAL_BACKGROUND_IMAGES="vc_virtual_background_images",e.VC_MUTE_PROMPT_CONFIG="vc_mute_prompt_config",e.VC_MAGIC_SHARE_CONFIG="vc_magic_share_config",e.VC_LAB_DEFAULT_VALUES_CONFIG="vc_lab_default_values_config"}(qi||(qi={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.TURN_SUBTITLE_ON=1]="TURN_SUBTITLE_ON",e[e.START_SHARE_SCREEN=2]="START_SHARE_SCREEN",e[e.STOP_SHARE_SCREEN=3]="STOP_SHARE_SCREEN",e[e.START_FOLLOW=4]="START_FOLLOW",e[e.STOP_FOLLOW=5]="STOP_FOLLOW"}(Yi||(Yi={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.TRANSLATION=1]="TRANSLATION",e[e.TRANSCRIPTION=2]="TRANSCRIPTION",e[e.EVENT=3]="EVENT"}(Ji||(Ji={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.MISMATCH=1]="MISMATCH",e[e.UNSUPPORTED=2]="UNSUPPORTED"}(zi||(zi={})),function(e){e[e.STATUS_UNKNOWN=0]="STATUS_UNKNOWN",e[e.OPEN_SUCCESS=1]="OPEN_SUCCESS",e[e.OPEN_FAILED=2]="OPEN_FAILED",e[e.EXCEPTION=3]="EXCEPTION",e[e.RECOVERABLE_EXCEPTION=4]="RECOVERABLE_EXCEPTION",e[e.RECOVER_SUCCESS=5]="RECOVER_SUCCESS",e[e.LANG_DETECTED=6]="LANG_DETECTED",e[e.FIRST_OPEN=7]="FIRST_OPEN",e[e.MEETING_SUBTITLE_STATUS_CHANGE=8]="MEETING_SUBTITLE_STATUS_CHANGE",e[e.APPLY_GLOBAL_SPOKEN_LANGUAGE=9]="APPLY_GLOBAL_SPOKEN_LANGUAGE"}(Xi||(Xi={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.MEETINGID=1]="MEETINGID",e[e.UNIQUEID=2]="UNIQUEID",e[e.GROUPID=3]="GROUPID",e[e.MEETINGNO=4]="MEETINGNO",e[e.INTERVIEWUID=5]="INTERVIEWUID"}(Qi||(Qi={})),function(e){e[e.UNKNOEN=0]="UNKNOEN",e[e.SUCCESS=1]="SUCCESS",e[e.MEETING_ENDED=2]="MEETING_ENDED",e[e.PARTICIPANT_LIMIT_EXCEED=3]="PARTICIPANT_LIMIT_EXCEED",e[e.MEETING_LOCKED=4]="MEETING_LOCKED",e[e.MEETING_NUMBER_INVALID=5]="MEETING_NUMBER_INVALID",e[e.VOIP_BUSY=6]="VOIP_BUSY",e[e.VERSION_LOW=7]="VERSION_LOW",e[e.DEVICE_IN_MEETING=8]="DEVICE_IN_MEETING",e[e.DEVICE_RINGING=9]="DEVICE_RINGING",e[e.CHAT_POST_NO_PERMISSION=10]="CHAT_POST_NO_PERMISSION",e[e.TENANT_IN_BLACKLIST=11]="TENANT_IN_BLACKLIST",e[e.CALENDAR_OUT_OF_DATE=12]="CALENDAR_OUT_OF_DATE",e[e.INTERVIEW_NO_PERMISSION=13]="INTERVIEW_NO_PERMISSION",e[e.INTERVIEW_OUT_OF_DATE=14]="INTERVIEW_OUT_OF_DATE"}($i||($i={})),function(e){e[e.VIEW_ROOM_UNKNOWN=0]="VIEW_ROOM_UNKNOWN",e[e.VIEW_ROOM_IDLE=1]="VIEW_ROOM_IDLE",e[e.VIEW_ROOM_BUSY=2]="VIEW_ROOM_BUSY",e[e.VIEW_ROOM_IN_MEETING=3]="VIEW_ROOM_IN_MEETING"}(Zi||(Zi={})),function(e){e[e.UNKNOWN_STATUS=0]="UNKNOWN_STATUS",e[e.ACCEPT=1]="ACCEPT",e[e.REJECT=2]="REJECT",e[e.TBD=3]="TBD"}(en||(en={})),function(e){e[e.SINGLE=0]="SINGLE",e[e.CYCLE=1]="CYCLE"}(tn||(tn={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.ON_BUSINESS=1]="ON_BUSINESS",e[e.ON_LEAVE=2]="ON_LEAVE",e[e.ON_MEETING=3]="ON_MEETING"}(nn||(nn={})),function(e){e[e.UNKOWN=0]="UNKOWN",e[e.IDLE=1]="IDLE",e[e.BUSY=2]="BUSY",e[e.INMEETING=3]="INMEETING"}(rn||(rn={})),function(e){e[e.GET_GROUP_UNKNOWN=0]="GET_GROUP_UNKNOWN",e[e.GET_GROUP_SUCCESS=1]="GET_GROUP_SUCCESS",e[e.GET_GROUP_FAILED=2]="GET_GROUP_FAILED",e[e.GET_GROUP_NOT_CREATED=3]="GET_GROUP_NOT_CREATED",e[e.GET_GROUP_NOT_PERMITTED=4]="GET_GROUP_NOT_PERMITTED"}(on||(on={})),function(e){e[e.CALENDAR_MEETING_UNKNOWN=0]="CALENDAR_MEETING_UNKNOWN",e[e.CALENDAR_SUCCESS=1]="CALENDAR_SUCCESS",e[e.CALENDAR_VC_BUSY=2]="CALENDAR_VC_BUSY",e[e.CALENDAR_VOIP_BUSY=3]="CALENDAR_VOIP_BUSY",e[e.CALENDAR_MEETING_ENDED=4]="CALENDAR_MEETING_ENDED",e[e.CALENDAR_PARTICIPANT_LIMIT_EXCEED=5]="CALENDAR_PARTICIPANT_LIMIT_EXCEED",e[e.CALENDAR_MEETING_OUT_OF_DATE=6]="CALENDAR_MEETING_OUT_OF_DATE",e[e.CALENDAR_MEETING_NEED_EXTENSION=7]="CALENDAR_MEETING_NEED_EXTENSION",e[e.CALENDAR_VERSION_LOW=8]="CALENDAR_VERSION_LOW"}(sn||(sn={})),function(e){e[e.FROM_UNKNOWN=0]="FROM_UNKNOWN",e[e.FROM_CALENDAR_DETAIL=1]="FROM_CALENDAR_DETAIL",e[e.FROM_CARD=2]="FROM_CARD",e[e.FROM_CALENDAR_PROMPT=3]="FROM_CALENDAR_PROMPT",e[e.FROM_QUICK_JUMP=4]="FROM_QUICK_JUMP"}(an||(an={})),function(e){e[e.GET=0]="GET",e[e.POST=1]="POST",e[e.DELETE=2]="DELETE",e[e.PUT=3]="PUT",e[e.PATCH=4]="PATCH"}(dn||(dn={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.API=1]="API",e[e.FILE=2]="FILE",e[e.OAPI=3]="OAPI",e[e.DRIVE=4]="DRIVE",e[e.DOCS=5]="DOCS",e[e.MINA=6]="MINA",e[e.OPEN=7]="OPEN"}(cn||(cn={})),function(e){e[e.Normal=0]="Normal",e[e.Timeout=1]="Timeout",e[e.UnknowError=2]="UnknowError"}(ln||(ln={})),function(e){e.ENTER_MEETING="ENTER_MEETING",e.LEAVE_MEETING="LEAVE_MEETING",e.ENTER_IDLE="ENTER_IDLE",e.LEAVE_IDLE="LEAVE_IDLE"}(pn||(pn={})),function(e){e[e.ALL=0]="ALL",e[e.CALL=1]="CALL",e[e.MEETING=2]="MEETING",e[e.EVENT=3]="EVENT"}(un||(un={})),function(e){e[e.MEETING_UNKNOWN=0]="MEETING_UNKNOWN",e[e.MEETING_CALLING=1]="MEETING_CALLING",e[e.MEETING_ON_THE_CALL=2]="MEETING_ON_THE_CALL",e[e.MEETING_END=3]="MEETING_END"}(_n||(_n={})),function(e){e[e.ACTION_UNKNOWN=0]="ACTION_UNKNOWN",e[e.USER_LEAVE=1]="USER_LEAVE",e[e.USER_NOTACCEPT=2]="USER_NOTACCEPT",e[e.USER_REFUSE=3]="USER_REFUSE",e[e.USER_CANCEL=4]="USER_CANCEL",e[e.USER_NO_ANSWER=5]="USER_NO_ANSWER"}(En||(En={})),function(e){e[e.UNKNOWN_SOURCE=0]="UNKNOWN_SOURCE",e[e.WEB=1]="WEB",e[e.IOS=2]="IOS",e[e.IOS_APP=3]="IOS_APP",e[e.ANDROID=4]="ANDROID",e[e.ANDROID_APP=5]="ANDROID_APP",e[e.PC_CLIENT=6]="PC_CLIENT",e[e.GOOGLE=7]="GOOGLE",e[e.PEOPLE=8]="PEOPLE"}(hn||(hn={})),function(e){e[e.ONLINE=0]="ONLINE",e[e.CONNECTING=1]="CONNECTING",e[e.OFFLINE=2]="OFFLINE",e[e.RECONNECTING=3]="RECONNECTING"}(Tn||(Tn={})),function(e){e[e.MEETING_SPACE=1]="MEETING_SPACE",e[e.SKETCH=2]="SKETCH",e[e.REMOTE_CONTROL=3]="REMOTE_CONTROL",e[e.WHITEBOARD=4]="WHITEBOARD",e[e.FOLLOW=5]="FOLLOW",e[e.ROOM_CONTROL=6]="ROOM_CONTROL"}(yn||(yn={})),function(e){e[e.CLIENT_REQ=1]="CLIENT_REQ",e[e.SERVER_SET=3]="SERVER_SET",e[e.TRIGGER=4]="TRIGGER"}(fn||(fn={})),function(e){e[e.UNKNOWN_STATUS=0]="UNKNOWN_STATUS",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED",e[e.UNALAILABLE=3]="UNALAILABLE",e[e.WILL_BE_CLOSED=4]="WILL_BE_CLOSED",e[e.CLOSED=5]="CLOSED"}(In||(In={})),function(e){e[e.ALL=1]="ALL",e[e.BAD_NETWORK=2]="BAD_NETWORK",e[e.DIFFERENT_USER=3]="DIFFERENT_USER",e[e.CLEAR_ALL=4]="CLEAR_ALL",e[e.CLEAR_SELF=5]="CLEAR_SELF",e[e.CLEAR_OTHER=6]="CLEAR_OTHER",e[e.RECTANGLE=7]="RECTANGLE",e[e.OVAL=8]="OVAL",e[e.ARROW=9]="ARROW"}(gn||(gn={})),function(e){e[e.BRUSH_NONE=0]="BRUSH_NONE",e[e.BRUSH_PEN=1]="BRUSH_PEN"}(Sn||(Sn={})),function(e){e[e.UNKNOWN_TYPE=0]="UNKNOWN_TYPE",e[e.CALENDAR_START=1]="CALENDAR_START"}(Cn||(Cn={})),function(e){e[e.UNKNOWN_ACTION=0]="UNKNOWN_ACTION",e[e.SHOW=1]="SHOW",e[e.DISMISS=2]="DISMISS"}(mn||(mn={})),function(e){e[e.CANCEL=0]="CANCEL",e[e.CONFIRM=1]="CONFIRM"}(Nn||(Nn={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.CONTROLLING=1]="CONTROLLING",e[e.PAUSE=2]="PAUSE"}(An||(An={})),function(e){e[e.INVITE=1]="INVITE",e[e.REJECT=2]="REJECT",e[e.CANCEL=3]="CANCEL",e[e.APPLY=4]="APPLY"}(Rn||(Rn={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.START=1]="START",e[e.STOP=2]="STOP",e[e.HOST_ACCEPT=3]="HOST_ACCEPT",e[e.HOST_REFUSE=4]="HOST_REFUSE",e[e.PARTICIPANT_REQUEST_START=5]="PARTICIPANT_REQUEST_START",e[e.VOTE_ACCEPT=6]="VOTE_ACCEPT",e[e.VOTE_REFUSE=7]="VOTE_REFUSE",e[e.LIVE_SETTING=8]="LIVE_SETTING"}(On||(On={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.INIT=1]="INIT",e[e.BIND=2]="BIND",e[e.UNBIND=3]="UNBIND"}(vn||(vn={})),function(e){e[e.PREVILEGE_UNKNOWN=0]="PREVILEGE_UNKNOWN",e[e.ANONYMOUS=1]="ANONYMOUS",e[e.EMPLOYEE=2]="EMPLOYEE"}(Pn||(Pn={})),function(e){e[e.STYLE_UNKNOWN=0]="STYLE_UNKNOWN",e[e.LIST=1]="LIST",e[e.GALLERY=2]="GALLERY",e[e.SIMPLE=3]="SIMPLE",e[e.PORTRAIT=4]="PORTRAIT"}(Mn||(Mn={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LONG_CONNECTION_LOSS=1]="LONG_CONNECTION_LOSS",e[e.CRASHED_STARTUP=2]="CRASHED_STARTUP",e[e.KILLED_STARTUP=3]="KILLED_STARTUP",e[e.DUAL_CHANNEL_POLL=4]="DUAL_CHANNEL_POLL"}(Ln||(Ln={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ACTIVE=1]="ACTIVE",e[e.INACTIVE=2]="INACTIVE",e[e.MEETING_END=3]="MEETING_END",e[e.OTHER_DEV_ACTIVE=4]="OTHER_DEV_ACTIVE"}(bn||(bn={})),function(e){e[e.EXCELLENT=1]="EXCELLENT",e[e.EVALUATING=2]="EVALUATING",e[e.WEAK=3]="WEAK",e[e.NET_UNAVAILABLE=4]="NET_UNAVAILABLE",e[e.SERVICE_UNAVAILABLE=5]="SERVICE_UNAVAILABLE",e[e.OFFLINE=6]="OFFLINE"}(Dn||(Dn={})),function(e){e[e.TYPEUNKNOWN=0]="TYPEUNKNOWN",e[e.MEETINGLOBBY=1]="MEETINGLOBBY"}(Un||(Un={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.HOSTREJECT=1]="HOSTREJECT",e[e.MEETINGEND=2]="MEETINGEND",e[e.HOSTALLOWED=3]="HOSTALLOWED",e[e.LEAVEVCLOBBY=4]="LEAVEVCLOBBY",e[e.ENTERVCLOBBY=5]="ENTERVCLOBBY"}(wn||(wn={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.TWELVE_HOUR=1]="TWELVE_HOUR",e[e.TWENTY_FOUR_HOUR=2]="TWENTY_FOUR_HOUR"}(kn||(kn={}))},,,function(e,t,i){"use strict";i.d(t,"c",(function(){return d})),i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return p})),i.d(t,"d",(function(){return u}));var n=i(175),r=i(64),o=i(69);class s{constructor(e){this.namespace=e||"default"}enableAll(){c(this.namespace,"enableAll")}disableAll(){c(this.namespace,"disableAll")}setLevel(e){c(this.namespace,"setLevel",e)}trace(...e){c(this.namespace,"trace",...e)}debug(...e){c(this.namespace,"debug",...e)}info(...e){c(this.namespace,"info",...e)}warn(...e){c(this.namespace,"warn",...e)}error(...e){c(this.namespace,"error",...e)}}const a={},d=new s,c=(e="default",t,...i)=>{Object(o.a)({target:"sdkLogger",method:t,namespace:e,params:i})},l=e=>Object(o.a)(e),p=e=>(a[e]=a[e]||new s(e),a[e]);function u(){const e=Object(n.b)();Object(o.a)({target:"upload",params:{fileUrl:r.a.suite_tklog,deviceId:e}})}},,function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"j",(function(){return r})),i.d(t,"b",(function(){return o})),i.d(t,"h",(function(){return s})),i.d(t,"e",(function(){return a})),i.d(t,"d",(function(){return d})),i.d(t,"c",(function(){return c})),i.d(t,"g",(function(){return l})),i.d(t,"i",(function(){return p})),i.d(t,"f",(function(){return u})),i.d(t,"l",(function(){return _})),i.d(t,"k",(function(){return E}));const n=Number.MAX_SAFE_INTEGER;function r(e){return new Promise((t,i)=>{setTimeout(t,e)})}function o(e,t){let i=n;for(const n in t){const r=parseInt(t[n],10);if(r>=0){const t=e;if(t===r)return t;r<i&&(i=r)}}return i}function s(e){return e&&"0"!==e?e:""}function a(e){return null==e||""===e||"0"===e||0===e}function d(e){return null==e}function c(e,t,i){const n=t.split(".").map(e=>e.trim()).filter(e=>!!e);if(!n.length)return i;for(const t of n)if(null==(e=e[t]))return null==i?void 0:i;return e}function l(e){return+(e||0).toString()}function p(e,...t){const i=e.split("{}"),n=[];for(let e=0,r=i.length;e<r;e++)n.push(i[e]),n.push(t[e]||"");return n.join("")}function u(e){return null==e}function _(e,t){for(const i of e)if(t&&(!i[t]||isNaN(+i[t])))return;t?e.sort((e,i)=>e[t].length<i[t].length||e[t].length===i[t].length&&e[t]<i[t]?1:-1):e.sort((e,t)=>e.length<t.length||e.length===t.length&&e<t?1:-1)}function E(e,t){t||(t="namePinyin"),e.sort((e,i)=>e[t]>i[t]?1:-1)}},function(e,t,i){"use strict";i.d(t,"c",(function(){return c})),i.d(t,"a",(function(){return d})),i.d(t,"d",(function(){return l})),i.d(t,"b",(function(){return p}));var n=i(50),r=i(407),o=i(70),s=i(134),a=i(79);class d{constructor(e=""){this.prefix="[VC_WEB]",this.logEnable=!0,this.isDebug=!!localStorage.getItem("BYTEVIEW_DEBUG")||!!Object(o.a)("debug")||/.*-pre\./.test(location.hostname),this.initSladarConfig(),this.initPrefix(e),this.initLogMethods()}initSladarConfig(){if(d.alreadyInitSlardar)return;const{userInfo:e={}}=window.initialServerData;d.slardar_web_id=`${e.userId||""}_${e.deviceId}_${Date.now()}`,d.sladarEnable&&window.Slardar("config",{slardar_web_id:d.slardar_web_id,ignoreAjax:[/.*?/],context:{uuid:Object(r.a)(e.userId||""),userId:e.userId,deviceId:e.deviceId}}),d.alreadyInitSlardar=!0}initPrefix(e=""){const t=e?`[${e}]`:"";this.prefix=`${this.prefix}${t}`}initLogMethods(){Object.keys(window.console).forEach(e=>{this[e]=(...t)=>this.innerLog(e,...t)})}wrapArgs(e){const t=((performance&&performance.now()||Date.now())/1e3).toFixed(4);return e[0]=`${this.prefix} ${t} ${e[0]}`,e}innerLog(e,...t){var i;const n=this.wrapArgs(t);"debug"===e||this.isDebug?console[e](...n):d.sladarEnable&&window.Slardar("emit","log",{level:e,value:null===(i=n[0])||void 0===i?void 0:i.toString()})}custom(e){d.sladarEnable&&window.Slardar("emit","custom",e)}timer(e){d.sladarEnable&&window.Slardar("emit","timer",e)}counter(e){d.sladarEnable&&window.Slardar("emit","counter",e)}setLogEnable(e=!0){this.logEnable=e}}d.alreadyInitSlardar=!1,d.slardar_web_id="",d.sladarEnable=!!window.Slardar,d.getLogger=(e="",t=!0)=>{const i=new d(e);return i.setLogEnable(t),i},d.setSladarConfig=e=>{window.Slardar&&!n.c&&window.Slardar("config",e)},d.confuseLogValue=e=>{const t=String(e),i=t.length;if(i<2)return"*".repeat(i);const n=Math.floor(i/2);return`${"*".repeat(n)}${t.slice(n)}`},d.quickGetSlardarWebId=()=>{let e=0,t=0;document.addEventListener("click",()=>{if(e++,4===e){(e=>{const t=i=>{i.preventDefault(),i.clipboardData.setData("text/plain",e),s.a.notice("success",{theme:a.b.LARK,iconType:a.a.INFO,interval:3e3}),document.removeEventListener("copy",t)};document.addEventListener("copy",t),document.execCommand("Copy")})(["slardar_web_id: "+d.slardar_web_id].join("\n"))}window.clearTimeout(t),t=window.setTimeout(()=>e=0,500)},!1)},d.quickGetSlardarWebId();const c=new d,l=d.setSladarConfig,p=d.confuseLogValue},function(e,t,i){"use strict";i.d(t,"f",(function(){return n})),i.d(t,"e",(function(){return r})),i.d(t,"o",(function(){return o})),i.d(t,"j",(function(){return s})),i.d(t,"i",(function(){return a})),i.d(t,"l",(function(){return d})),i.d(t,"n",(function(){return c})),i.d(t,"m",(function(){return l})),i.d(t,"h",(function(){return p})),i.d(t,"k",(function(){return u})),i.d(t,"g",(function(){return _})),i.d(t,"b",(function(){return f})),i.d(t,"d",(function(){return I})),i.d(t,"a",(function(){return g})),i.d(t,"c",(function(){return A})),i.d(t,"p",(function(){return R}));const n="conferenceStore",r="appStore",o="userStore",s="pageStore",a="meetingStore",d="rtcStore",c="shareScreenStore",l="settingStore",p="inviteStore",u="previewStore",_="endStore";i(380);var E,h,T;!function(e){e.START_RECORD="start-record",e.STOP_RECORD="stop-record",e.NEW_REPLAYER_ACTIONS="new-replayer-actions",e.START_REPLAY="start-replay",e.STOP_REPLAY="stop-replay",e.START_POSITION_TRACK="start-position-track",e.STOP_POSITION_TRACK="stop-position-track"}(E||(E={})),function(e){e.NEW_RECORDER_ACTIONS="new-recorder-actions",e.CONTAINER_OPEN_DEVTOOLS="container-open-devtools",e.CONTAINER_REPLAY_ACTIONS="container-replay-actions",e.CONTAINER_LOG="container-log",e.CONTENT_LOADED="content-loaded",e.FOCUS="focus",e.MOUSE_ENTER="mouse-enter",e.MOUSE_LEAVE="mouse-leave",e.TOGGLE_MENU="toggle-menu",e.SHOW_MENU="show-menu",e.HIDE_MENU="hide-menu",e.USER_OPERATION="user-operation",e.PERFORMANCE_TIMING="performance-timing"}(h||(h={})),function(e){e.NOTIFY_VIDEO_CHAT="NOTIFY_VIDEO_CHAT",e.NOTIFY_VIDEO_CHAT_EXTRA="NOTIFY_VIDEO_CHAT_EXTRA",e.PUSH_VIDEO_CHAT_NOTICE="PUSH_VIDEO_CHAT_NOTICE",e.PUSH_BYTEVIEW_HEARTBEAT_STOP="PUSH_BYTEVIEW_HEARTBEAT_STOP",e.PUSH_RECONNECTION="PUSH_RECONNECTION",e.PUSH_VIDEO_CHAT_COMBINED_INFO="PUSH_VIDEO_CHAT_COMBINED_INFO",e.PUSH_VIDEO_CHAT_NOTICE_UPDATE="PUSH_VIDEO_CHAT_NOTICE_UPDATE",e.PUSH_GROOT_CELLS_SKETCH="PUSH_GROOT_CELLS_SKETCH",e.PUSH_GROOT_CHANNEL_STATUS="PUSH_GROOT_CHANNEL_STATUS",e.PUSH_GROOT_CELLS_FOLLOW="PUSH_GROOT_CELLS_FOLLOW",e.PUSH_DYNAMIC_NET_STATUS="PUSH_DYNAMIC_NET_STATUS"}(T||(T={}));var y,f,I;!function(e){e[e.GOOD=1]="GOOD",e[e.BAD=2]="BAD"}(y||(y={})),function(e){e[e.VIDEO=0]="VIDEO",e[e.SPEAKER_ONLY=1]="SPEAKER_ONLY",e[e.HIDE_VIDEO=2]="HIDE_VIDEO",e[e.LIST=3]="LIST"}(f||(f={})),function(e){e[e.STANDARD=0]="STANDARD",e[e.FAST=1]="FAST"}(I||(I={}));var g,S=i(1072),C=i(1073),m=i(1074),N=i(1075);!function(e){e[e.MIC=0]="MIC",e[e.CAMERA=1]="CAMERA"}(g||(g={}));g.MIC,g.CAMERA;const A={[g.MIC]:{on:S.a,off:C.a},[g.CAMERA]:{on:m.a,off:N.a}};var R;!function(e){e.DARK="dark",e.LIGHT="light"}(R||(R={}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n,r=i(598);!function(e){e.VC_MEETING_ONTHECALL_CLICK="vc_meeting_onthecall_click",e.VC_MEETING_PRE_VIEW="vc_meeting_pre_view",e.VC_MEETING_PRE_CLICK="vc_meeting_pre_click",e.VC_MEETING_ONTHECALL_VIEW="vc_meeting_onthecall_view",e.VC_MEETING_MIC_SOURCE_VIEW="vc_meeting_mic_source_view",e.VC_MEETING_MIC_SOURCE_CLICK="vc_meeting_mic_source_click",e.VC_MEETING_CAM_SOURCE_VIEW="vc_meeting_cam_source_view",e.VC_MEETING_CAM_SOURCE_CLICK="vc_meeting_cam_source_click",e.VC_MEETING_SHAREWINDOW_VIEW="vc_meeting_sharewindow_view",e.VC_MEETING_SHAREWINDOW_CLICK="vc_meeting_sharewindow_click",e.VC_MEETING_POPUP_VIEW="vc_meeting_popup_view",e.VC_MEETING_POPUP_CLICK="vc_meeting_popup_click",e.VC_MEETING_CARD_VIEW="vc_meeting_card_view",e.VC_MEETING_CARD_CLICK="vc_meeting_card_click",e.VC_WEB_LANDING_VIEW="vc_web_landing_view",e.VC_WEB_LANDING_CLICK="vc_web_landing_click",e.PASSPORT_LOGIN_VIEW="passport_login_view",e.PASSPORT_REGISTER_VIEW="passport_register_view",e.WEBSITE_TOPCUBE_VIEW="website_topcube_view",e.WEBSITE_DOWNLOAD_VIEW="website_download_view",e.VC_POPUP_MAGICSHARE_VIEW="vc_popup_magicshare_view",e.VC_POPUP_MAGICSHARE_CLICK="vc_popup_magicshare_click",e.VC_POPUP_MIC_CAMERA_VIEW="vc_popup_mic_camera_view",e.VC_POPUP_MIC_CAMERA_CLICK="vc_popup_mic_camera_click",e.VC_POPUP_UNKNOW_VIEW="vc_popup_unknow_view",e.VC_POPUP_UNKNOW_CLICK="vc_popup_unknow_click",e.VC_MEETING_FINISH_VIEW="vc_meeting_finish_view",e.VC_MEETING_FINISH_CLICK="vc_meeting_finish_click",e.VC_MEETING_ENTRY_CLICK="vc_meeting_entry_click",e.VC_MEETING_MAGIC_SHARE_VIEW="vc_meeting_magic_share_view",e.VC_MEETING_MAGIC_SHARE_CLICK="vc_meeting_magic_share_click",e.VC_WEB_POPUP_CLICK="vc_web_popup_click",e.VC_WEB_POPUP_VIEW="vc_web_popup_view",e.VC_WEB_MAGICSHARE_CHOOSE_VIEW="vc_web_magicshare_choose_view",e.VC_WEB_MAGICSHARE_CHOOSE_CLICK="vc_web_magicshare_choose_click"}(n||(n={}));var o=n;const s=new r.EventEmitter;t.b=s},function(e,t,i){"use strict";var n;i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return r})),function(e){e[e.CardVideoChat=0]="CardVideoChat",e[e.ReactionType18x=1]="ReactionType18x",e[e.ReactionTypeLookdown=2]="ReactionTypeLookdown",e[e.ReactionTypeXblush=3]="ReactionTypeXblush",e[e.ReactionTypeWhat=4]="ReactionTypeWhat",e[e.ReactionTypeAwesome=5]="ReactionTypeAwesome",e[e.ReactionTypeMuscle=6]="ReactionTypeMuscle",e[e.ReactionTypeLove=7]="ReactionTypeLove",e[e.OtherGrabMyHongbao=8]="OtherGrabMyHongbao",e[e.UserTopic=9]="UserTopic",e[e.LastHongbaoIsGrabbed=10]="LastHongbaoIsGrabbed",e[e.ReactionTypeSob=11]="ReactionTypeSob",e[e.VoipSystemMessage=12]="VoipSystemMessage",e[e.ReactionTypePraise=13]="ReactionTypePraise",e[e.EmailAddTo=14]="EmailAddTo",e[e.ReactionTypeDetergent=15]="ReactionTypeDetergent",e[e.ReactionTypeWitty=16]="ReactionTypeWitty",e[e.ReactionTypeOk=17]="ReactionTypeOk",e[e.Video=18]="Video",e[e.ReactionTypeSalute=19]="ReactionTypeSalute",e[e.SendHongbaoMessageFailed=20]="SendHongbaoMessageFailed",e[e.ChangeEmailMemberToTo=21]="ChangeEmailMemberToTo",e[e.ReactionTypeParty=22]="ReactionTypeParty",e[e.BotCalendarEventUpdateDescription=23]="BotCalendarEventUpdateDescription",e[e.ReactionTypeBeer=24]="ReactionTypeBeer",e[e.PcHongbaoSent=25]="PcHongbaoSent",e[e.ReactionTypeShowoff=26]="ReactionTypeShowoff",e[e.BotCalendarEventInvitation=27]="BotCalendarEventInvitation",e[e.ReactionTypeWhimper=28]="ReactionTypeWhimper",e[e.UntitledMail=29]="UntitledMail",e[e.ReactionTypeFrown=30]="ReactionTypeFrown",e[e.MediaTranscodeFail=31]="MediaTranscodeFail",e[e.RecallGroupMessage=32]="RecallGroupMessage",e[e.CalendarTransferSuccesstransferbot=33]="CalendarTransferSuccesstransferbot",e[e.BotCalendarEventCancelled=34]="BotCalendarEventCancelled",e[e.ReactionTypeWave=35]="ReactionTypeWave",e[e.ReactionTypeBlubber=36]="ReactionTypeBlubber",e[e.SomeoneReactedToYourMessageInAGroup=37]="SomeoneReactedToYourMessageInAGroup",e[e.AtEveryone=38]="AtEveryone",e[e.ReactionTypeScowl=39]="ReactionTypeScowl",e[e.ReactionTypeFistbump=40]="ReactionTypeFistbump",e[e.ReactionTypeLaugh=41]="ReactionTypeLaugh",e[e.ReactionTypeShhh=42]="ReactionTypeShhh",e[e.EmailModifySubject=43]="EmailModifySubject",e[e.UserOncallName=44]="UserOncallName",e[e.ReactionTypeKiss=45]="ReactionTypeKiss",e[e.CalendarTransferFeed=46]="CalendarTransferFeed",e[e.ReactionTypeToasted=47]="ReactionTypeToasted",e[e.SomeoneHasReadYourBuzzMessage=48]="SomeoneHasReadYourBuzzMessage",e[e.ReactionTypeHammer=49]="ReactionTypeHammer",e[e.ReactionTypeObsessed=50]="ReactionTypeObsessed",e[e.ReactionTypeAttention=51]="ReactionTypeAttention",e[e.ReactionTypeYawn=52]="ReactionTypeYawn",e[e.ReactionTypeTrick=53]="ReactionTypeTrick",e[e.PcHongbaoReceived=54]="PcHongbaoReceived",e[e.MailTitle=55]="MailTitle",e[e.Comma=56]="Comma",e[e.WhoseTopic=57]="WhoseTopic",e[e.ReactionTypeBlush=58]="ReactionTypeBlush",e[e.MergeForward=59]="MergeForward",e[e.ReactionTypeFollowme=60]="ReactionTypeFollowme",e[e.ReactionTypeEyesclosed=61]="ReactionTypeEyesclosed",e[e.ReactionTypeMoney=62]="ReactionTypeMoney",e[e.CalendarEventNoSummary=63]="CalendarEventNoSummary",e[e.YouHaveReceivedAGroupMessage=64]="YouHaveReceivedAGroupMessage",e[e.ReactionTypeBetrayed=65]="ReactionTypeBetrayed",e[e.ReactionTypeDrowsy=66]="ReactionTypeDrowsy",e[e.ReactionTypeTears=67]="ReactionTypeTears",e[e.ReactionTypeHighfive=68]="ReactionTypeHighfive",e[e.HongbaoSubject=69]="HongbaoSubject",e[e.ChatAdministrator=70]="ChatAdministrator",e[e.ReactionTypeThumbsUp=71]="ReactionTypeThumbsUp",e[e.ReactionTypeCry=72]="ReactionTypeCry",e[e.ReactionTypeFingerheart=73]="ReactionTypeFingerheart",e[e.ReactionTypeDull=74]="ReactionTypeDull",e[e.ChatApplication=75]="ChatApplication",e[e.ReactionTypeSweat=76]="ReactionTypeSweat",e[e.ReactionTypeThanks=77]="ReactionTypeThanks",e[e.DocReply=78]="DocReply",e[e.UrgentAckTitle=79]="UrgentAckTitle",e[e.ReactionTypeSlap=80]="ReactionTypeSlap",e[e.ReactionTypeWronged=81]="ReactionTypeWronged",e[e.ReactionTypePuke=82]="ReactionTypePuke",e[e.LarkSecretSendMessage=83]="LarkSecretSendMessage",e[e.CalendarTransferFeednotitle=84]="CalendarTransferFeednotitle",e[e.DocSolve=85]="DocSolve",e[e.ReactionTypeHeartbroken=86]="ReactionTypeHeartbroken",e[e.RecallMessage=87]="RecallMessage",e[e.UrgentContentWithFlash=88]="UrgentContentWithFlash",e[e.GroupChatAnnouncement=89]="GroupChatAnnouncement",e[e.LarkSecretSaveMessage=90]="LarkSecretSaveMessage",e[e.ReactionTypePetrified=91]="ReactionTypePetrified",e[e.ReactionTypeCrazy=92]="ReactionTypeCrazy",e[e.ReactionTypeWow=93]="ReactionTypeWow",e[e.ReactionTypeError=94]="ReactionTypeError",e[e.ReactionTypeEating=95]="ReactionTypeEating",e[e.ReactionTypeSmooch=96]="ReactionTypeSmooch",e[e.ReactionTypeGoodjob=97]="ReactionTypeGoodjob",e[e.ReactionTypeSpeechless=98]="ReactionTypeSpeechless",e[e.ReactionTypeSpitblood=99]="ReactionTypeSpitblood",e[e.FriendApplication=100]="FriendApplication",e[e.ReactionTypeHusky=101]="ReactionTypeHusky",e[e.ForwardCardVideoChat=102]="ForwardCardVideoChat",e[e.CalendarEventExpired=103]="CalendarEventExpired",e[e.BuzzYouHaveReceivedAMessage=104]="BuzzYouHaveReceivedAMessage",e[e.ReactionTypeLips=105]="ReactionTypeLips",e[e.ReactionTypeCake=106]="ReactionTypeCake",e[e.ChangeEmailMemberToCc=107]="ChangeEmailMemberToCc",e[e.ReactionTypeSleep=108]="ReactionTypeSleep",e[e.NoTitle=109]="NoTitle",e[e.SomeoneMentionedYou=110]="SomeoneMentionedYou",e[e.ReactionTypeNosepick=111]="ReactionTypeNosepick",e[e.DocComment=112]="DocComment",e[e.Image=113]="Image",e[e.Yourself=114]="Yourself",e[e.ReactionTypeSmart=115]="ReactionTypeSmart",e[e.ReactionTypeLol=116]="ReactionTypeLol",e[e.Vote=117]="Vote",e[e.UrgentAckContent=118]="UrgentAckContent",e[e.ReactionTypeTerror=119]="ReactionTypeTerror",e[e.ReactionTypeDrool=120]="ReactionTypeDrool",e[e.DeletedMessageContent=121]="DeletedMessageContent",e[e.SomeErrorOccurs=122]="SomeErrorOccurs",e[e.ReactionTypeSmug=123]="ReactionTypeSmug",e[e.AtYou=124]="AtYou",e[e.ReactionTypeWail=125]="ReactionTypeWail",e[e.MobileHongbao=126]="MobileHongbao",e[e.ShareGroupChat=127]="ShareGroupChat",e[e.ShareUserCard=128]="ShareUserCard",e[e.ReactionTypeRainbowpuke=129]="ReactionTypeRainbowpuke",e[e.DocShare=130]="DocShare",e[e.BoxOneNewMessageHit=131]="BoxOneNewMessageHit",e[e.ReactionTypeSmile=132]="ReactionTypeSmile",e[e.SomeoneReactedToYourMessage=133]="SomeoneReactedToYourMessage",e[e.ReactionTypeDonnotgo=134]="ReactionTypeDonnotgo",e[e.ReactionTypeSmirk=135]="ReactionTypeSmirk",e[e.ReactionTypeHug=136]="ReactionTypeHug",e[e.ReactionTypeSlight=137]="ReactionTypeSlight",e[e.TranslateMessage=138]="TranslateMessage",e[e.EmailAddToAndCcMember=139]="EmailAddToAndCcMember",e[e.ReactionTypeWelldone=140]="ReactionTypeWelldone",e[e.ReactionTypeSkull=141]="ReactionTypeSkull",e[e.ReactionTypeGift=142]="ReactionTypeGift",e[e.ReactionTypeFacepalm=143]="ReactionTypeFacepalm",e[e.DeleteMail=144]="DeleteMail",e[e.ReactionTypeChuckle=145]="ReactionTypeChuckle",e[e.ReactionTypeAngry=146]="ReactionTypeAngry",e[e.ReactionTypePoop=147]="ReactionTypePoop",e[e.DocReopen=148]="DocReopen",e[e.SomeoneMentionedYouInAGroup=149]="SomeoneMentionedYouInAGroup",e[e.ReactionTypeCucumber=150]="ReactionTypeCucumber",e[e.BoxNoNewMessageHit=151]="BoxNoNewMessageHit",e[e.Wallet=152]="Wallet",e[e.ReactionTypeEmbarrassed=153]="ReactionTypeEmbarrassed",e[e.UrgentContentNoFlash=154]="UrgentContentNoFlash",e[e.Unknown=155]="Unknown",e[e.LarkDocTitleSymbol=156]="LarkDocTitleSymbol",e[e.CardText=157]="CardText",e[e.EmailDeleteMember=158]="EmailDeleteMember",e[e.ReactionTypeDullstare=159]="ReactionTypeDullstare",e[e.BotCalendarEventUpdateLocation=160]="BotCalendarEventUpdateLocation",e[e.ReactionTypeCleaver=161]="ReactionTypeCleaver",e[e.BuzzYouHaveReceivedAMessageInAGroup=162]="BuzzYouHaveReceivedAMessageInAGroup",e[e.ReactionTypeSilent=163]="ReactionTypeSilent",e[e.File=164]="File",e[e.ReactionTypeJoyful=165]="ReactionTypeJoyful",e[e.ReactionTypeClap=166]="ReactionTypeClap",e[e.Sticker=167]="Sticker",e[e.ReactionTypeShy=168]="ReactionTypeShy",e[e.ReactionContent=169]="ReactionContent",e[e.VideoChatSystemMessage=170]="VideoChatSystemMessage",e[e.DeleteMessage=171]="DeleteMessage",e[e.ReactionTypeDizzy=172]="ReactionTypeDizzy",e[e.ReactionTypeInnocentsmile=173]="ReactionTypeInnocentsmile",e[e.YouHaveAMessageNotSent=174]="YouHaveAMessageNotSent",e[e.Oncall=175]="Oncall",e[e.ReactionTypeWink=176]="ReactionTypeWink",e[e.ReactionTypeRose=177]="ReactionTypeRose",e[e.LarkSecretReceiveMessage=178]="LarkSecretReceiveMessage",e[e.ReactionTypeProud=179]="ReactionTypeProud",e[e.ReactionTypeGlance=180]="ReactionTypeGlance",e[e.ReactionTypeTease=181]="ReactionTypeTease",e[e.ReactionTypeBomb=182]="ReactionTypeBomb",e[e.ReactionTypeHeart=183]="ReactionTypeHeart",e[e.ReactionTypeBear=184]="ReactionTypeBear",e[e.ReactionTypeComfort=185]="ReactionTypeComfort",e[e.ChatOwner=186]="ChatOwner",e[e.CalendarEventInvitation=187]="CalendarEventInvitation",e[e.ReactionTypeShocked=188]="ReactionTypeShocked",e[e.AtAll=189]="AtAll",e[e.ReactionTypeTongue=190]="ReactionTypeTongue",e[e.ReactionTypeShake=191]="ReactionTypeShake",e[e.Includes=192]="Includes",e[e.ReactionTypeYeah=193]="ReactionTypeYeah",e[e.ReplaceImage=194]="ReplaceImage",e[e.You=195]="You",e[e.RecallMail=196]="RecallMail",e[e.DocMention=197]="DocMention",e[e.ReactionTypeThinking=198]="ReactionTypeThinking",e[e.ReactionTypeHaughty=199]="ReactionTypeHaughty",e[e.YouHaveReceivedAMessage=200]="YouHaveReceivedAMessage",e[e.ThisMessageWasRecalled=201]="ThisMessageWasRecalled",e[e.BotCalendarEventReschedule=202]="BotCalendarEventReschedule",e[e.ReactionTypeStrive=203]="ReactionTypeStrive",e[e.ReactionTypeUpperleft=204]="ReactionTypeUpperleft",e[e.EmailAddCc=205]="EmailAddCc",e[e.BoxNewMessageMoreThanOneHit=206]="BoxNewMessageMoreThanOneHit",e[e.ReactionTypeSick=207]="ReactionTypeSick",e[e.ReactionTypeJiayi=208]="ReactionTypeJiayi",e[e.ReactionTypeBigkiss=209]="ReactionTypeBigkiss",e[e.ReactionTypeHeadset=210]="ReactionTypeHeadset",e[e.ReactionTypeApplause=211]="ReactionTypeApplause",e[e.ReactionTypeEnough=212]="ReactionTypeEnough",e[e.GrabOtherHongbao=213]="GrabOtherHongbao",e[e.Audio=214]="Audio",e[e.ReactionTypeBlackface=215]="ReactionTypeBlackface"}(n||(n={}));const r=["Lark_Emoji_Terror_0","Lark_Emoji_Strive_0","Lark_Emoji_Grin_0","Lark_Emoji_Sweat_0","Lark_Emoji_Wow_0","Lark_Emoji_Comfort_0","Lark_Emoji_EyesClosed_0","Lark_Emoji_Shocked_0","Lark_Emoji_Kiss_0","Lark_Emoji_Detergent_0","Lark_Emoji_Betrayed_0","Lark_Emoji_Frown_0","Lark_Emoji_Rose_0","Lark_Emoji_Smart_0","Lark_Emoji_Fighting_0","Lark_Emoji_Errr_0","Lark_Emoji_Blubber_0","Lark_Emoji_Cake_0","Lark_Emoji_Sick_0","Lark_Emoji_Drowsy_0","Lark_Emoji_Love_0","Lark_Emoji_DullStare_0","Lark_Emoji_Lol_0","Lark_Emoji_Tongue_0","Lark_Emoji_Awesome_0","Lark_Emoji_BigKiss_0","Lark_Emoji_Eating_0","Lark_Emoji_Petrified_0","Lark_Emoji_UpperLeft_0","Lark_Emoji_Tears_0","Lark_Emoji_Thinking_0","Lark_Emoji_WellDone_0","Lark_Emoji_Smile_0","Lark_Emoji_Beer_0","Lark_Emoji_Enough_0","Lark_Emoji_Wail_0","Lark_Emoji_Husky_0","Lark_Emoji_Poop_0","Lark_Emoji_haughty_0","Lark_Emoji_18x_0","Lark_Emoji_Attention_0","Lark_Emoji_Speechless_0","Lark_Emoji_Obsessed_0","Lark_Emoji_Joyful_0","Lark_Emoji_Wronged_0","Lark_Emoji_Dull_0","Lark_Emoji_What_0","Lark_Emoji_FollowMe_0","Lark_Emoji_Witty_0","Lark_Emoji_HighFive_0","Lark_Emoji_Thanks_0","Lark_Emoji_Hammer_0","Lark_Emoji_Skull_0","Lark_Emoji_Cry_0","Lark_Emoji_Slight_0","Lark_Emoji_SpitBlood_0","Lark_Emoji_DonnotGo_0","Lark_Emoji_Chuckle_0","Lark_Emoji_FistBump_0","Lark_Emoji_Slap_0","Lark_Emoji_Party_0","Lark_Emoji_Whimper_0","Lark_Emoji_Glance_0","Lark_Emoji_Facepalm_0","Lark_Emoji_Sleep_0","Lark_Emoji_Trick_0","Lark_Emoji_Shhh_0","Lark_Emoji_BlackFace_0","Lark_Emoji_Thumbsup_0","Salute","Lark_Emoji_Cucumber_0","Lark_Emoji_Smooch_0","Lark_Emoji_Shake_0","Lark_Emoji_GoodJob_0","Lark_Emoji_Scowl_0","Lark_Emoji_Shy_0","Lark_Emoji_Angry_0","Lark_Emoji_Lips_0","Lark_Emoji_Clap_0","Lark_Emoji_Praise_0","Lark_Emoji_Laugh_0","Lark_Emoji_Drool_0","Lark_Emoji_Smug_0","Lark_Emoji_Yawn_0","Lark_Emoji_NosePick_0","Lark_Emoji_Wave_0","Lark_Emoji_FingerHeart_0","Lark_Emoji_InnocentSmile_0","Lark_Emoji_Embarrassed_0","Lark_Emoji_Cleaver_0","Lark_Emoji_LookDown_0","Lark_Emoji_Puke_0","Lark_Emoji_Tease_0","Lark_Emoji_Hug_0","Lark_Emoji_Bomb_0","Lark_Emoji_Silent_0","Lark_Emoji_OK_0","Lark_Emoji_Applaud_0","Lark_Emoji_Blush_0","Lark_Emoji_Bear_0","Lark_Emoji_Toasted_0","Lark_Emoji_RainbowPuke_0","Lark_Emoji_Proud_0","Lark_Emoji_Wink_0","Lark_Emoji_Crazy_0","Lark_Emoji_ShowOff_0","Lark_Emoji_Yeah_0","Lark_Emoji_HeartBroken_0","Lark_Emoji_Sob_0","Lark_Emoji_Gift_0","Lark_Emoji_Headset_0","Lark_Emoji_Heart_0","Lark_Emoji_Smirk_0","Lark_Emoji_Dizzy_0","Lark_Emoji_Money_0","+1"]},function(e,t,i){"use strict";i.d(t,"f",(function(){return d})),i.d(t,"e",(function(){return l})),i.d(t,"b",(function(){return p})),i.d(t,"c",(function(){return u})),i.d(t,"a",(function(){return _}));var n=i(419),r=i.n(n),o=i(605),s=i(606);r.a.util.longToHash=e=>e;const a=n.Root.fromJSON({nested:o});function d(e){const t=Object.keys(e).reduce((t,i)=>(a.nested[i]||(t[i]=e[i]),t),{});return a.addJSON(t),a}function c(e){return a.lookupType(e)}function l(e,t){return c(e).encode(t).finish()}function p(e,t){return c(e).decode(t)}function u(e,t){return c(e).toObject(p(e,t),{longs:String})}function _(e){return c(e).create()}a.addJSON(s),window.__pbRoot=a,t.d={encode:l,decode:p,create:_}},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i(256),r=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};class o{constructor(){this.queue=[],this.events={},this.running=!1}getEvent(e){if(!e.id)return;const t=this.events[e.id];return t?(delete this.events[e.id],t):void 0}callSuccess(e,t){const i=this.getEvent(e);i&&i.success(t)}callError(e,t){const i=this.getEvent(e);i&&i.error(t)}run(){return r(this,void 0,void 0,(function*(){const e=this.queue[0];if(e){if(!this.running){this.running=!0;try{const t=yield e.func(...e.args);this.callSuccess(e,t)}catch(t){this.callError(e,t)}this.queue.shift(),this.running=!1,this.run()}}else this.running=!1}))}on(e,t,i){this.events[e]={success:t,error:i}}push(e){return r(this,void 0,void 0,(function*(){const t=Object.assign({id:Object(n.uuid)()+performance.now()},e);this.queue.push(t);const i=new Promise((e,i)=>this.on(t.id,e,i));return this.run(),i}))}static getOrCreateInstance(e){return this.instanceMap[e]||(this.instanceMap[e]=this.instanceMap[e]||new o),this.instanceMap[e]}static wrapOnMethod(e){return function(t,i,n){const r=n.value;"function"==typeof r&&(n.value=function(...t){return o.getOrCreateInstance(e).push({args:t,func:r.bind(this)})})}}static wrapOnFunction(e,t){return function(...i){const{coreId:n=""}=this;return o.getOrCreateInstance(`${n}_${e}`).push({args:i,func:t.bind(this)})}}}o.instanceMap=Object.create(null)},function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i(607);const r=e=>JSON.parse(JSON.stringify(e));function o(e){let t={};try{t=function(e,t){return"string"==typeof t&&(t=t.split(".")),t.reduce((e,t)=>e[t],e)}(n,e)||{}}catch(e){}return t}function s(e){if("string"!=typeof e)return;let t={};const i=o(e+".setProto");t=Object.create(r(i));const n=o(e+".base");return Object.assign(t,r(n)),t}},function(e,t,i){"use strict";i.d(t,"e",(function(){return S})),i.d(t,"b",(function(){return m})),i.d(t,"d",(function(){return N})),i.d(t,"f",(function(){return A})),i.d(t,"h",(function(){return R})),i.d(t,"g",(function(){return O})),i.d(t,"a",(function(){return v})),i.d(t,"c",(function(){return P}));var n=i(12),r=i(21),o=i(10),s=i(167),a=i(149),d=i(177),c=i(15),l=i(239),p=i(175),u=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};var _,E=i(3),h=i(74),T=i(78),y=i(24),f=i(339),I=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};class g{constructor(){this.unwrap=()=>{if(this.isError)throw this.error;return this.data},this.expect=e=>{if(this.isError){const{error:t}=this;throw e(t),t}return this.data},this.result=()=>{const e=this.isError?this.error:null;return{data:this.data,err:e}}}isClientErr(){return!!this.code&&(this.code>=400&&this.code<500)}}function S(e){e.cid||(Object(f.c)()?e.cid=`${Object(d.a)()}#${Object(f.a)()}`:e.cid=Object(d.a)());const t={cmd:e.cmd,payloadType:1,payload:e.payload,cid:e.cid};return o.d.encode("improto.Packet",t)}function C(e,t){return I(this,void 0,void 0,(function*(){if(e.ok)return;if(i=e.status,![a.d.BAD_REQUEST,a.d.FORBIDDEN,a.d.BUSINESS_ERROR].includes(i))return;var i;let n;if(t===_.PB){const t=yield e.arrayBuffer(),i=new Uint8Array(t),r=o.d.decode("errors.LarkError",i);n=new T.c(r.code,r.message)}else if(t===_.JSON){const t=(yield e.json())||{};n=new T.c(t.code,t.message)}return n&&(n.xTtLogId=e.headers.get("x-tt-logid")),n}))}function m(e,t){const i=o.d.create("improto.ProcessMultiPacketsRequest");return i.packets=e,{cmd:77,cid:t?t.cid:Object(d.a)(),payload:o.d.encode("improto.ProcessMultiPacketsRequest",i)}}function N(e){return I(this,void 0,void 0,(function*(){const t=yield Object(s.a)(e);return 401===t.status&&(yield function(){return u(this,void 0,void 0,(function*(){return Object(p.a)(),yield Object(l.a)(),null}))}(),Object(y.c)(r.a.PUSH_SESSION_EXPIRED,Object(n.a)("basic.PushSessionExpiredResponse"))),t}))}function A(e){return I(this,void 0,void 0,(function*(){const t=new g;t.isError=!0;try{let i=h.a;h.b[e.cmd]&&(i=h.b[e.cmd]);const n=S(e),r=Date.now(),{appId:s}=self.__appMeta;E.c.info(`send packet to gateway start: cmd=${e.cmd} requestId=${e.cid}`);const a=yield N({method:"POST",data:n,headers:{"content-type":"application/x-protobuf","x-Source":"web","x-request-id":e.cid,"x-command":e.cmd,"x-web-version":P(),"x-command-version":i,"X-AppID":s,locale:c.a.getLanguageIdentifier()}}),d=Date.now()-r;if(E.c.debug("send packet to gateway end: cmd={} requestId={} time={}",e.cmd,e.cid,d),t.code=a.status,a.ok){const e=yield a.arrayBuffer(),i=o.d.decode("improto.Packet",new Uint8Array(e));t.data=i.payload,t.isError=!1}else{const i=yield C(a,_.PB);t.error=i,E.c.error("send packet to gateway failed: cmd={} response={} netResp={}",e.cmd,t,a)}}catch(i){t.error||(t.error=new T.c(0,i&&i.message||i)),E.c.error("send packet to gateway failed: cmd={} e={}",e.cmd,i)}return t}))}function R(e){return I(this,void 0,void 0,(function*(){return(yield A(e)).unwrap()}))}function O(e){return I(this,void 0,void 0,(function*(){const{encodePath:t,decodePath:i}=e,n=o.d.encode(t,e.payload),r=yield A(Object.assign(Object.assign({},e),{payload:n}));if(!r.isError){const e=o.d.decode(i,r.data);r.data=e}return r}))}function v(e,t=T.b.JSON){return I(this,void 0,void 0,(function*(){const i=new g,n=e.cid||Object(d.a)();try{const r=Date.now(),o={"x-request-id":n};Object.assign(o,e.headers||{});const s=yield N({url:e.url,method:e.method||"GET",data:e.data,headers:o}),a=Date.now()-r;if(E.c.info("[FETCH END]: SUCCESS, {}",a),i.code=s.status,s.ok){let e;switch(t){case T.b.Blob:e=yield s.blob();break;case T.b.FormData:e=yield s.formData();break;case T.b.Uint8Array:e=yield s.arrayBuffer(),e=new Uint8Array(e);break;case T.b.JSON:e=yield s.json();break;case T.b.string:e=yield s.text()}i.data=e,i.isError=!1}else{const e=new T.c(0,"oops, some thing error");i.error=e}}catch(e){i.error||(i.error=new T.c(0,e&&e.message||e))}return i}))}function P(){return self.__appMeta.appVersion}!function(e){e[e.PB=1]="PB",e[e.JSON=2]="JSON"}(_||(_={}))},,function(e,t,i){"use strict";i.d(t,"f",(function(){return u})),i.d(t,"g",(function(){return _})),i.d(t,"e",(function(){return E})),i.d(t,"d",(function(){return h})),i.d(t,"h",(function(){return T})),i.d(t,"a",(function(){return f})),i.d(t,"i",(function(){return g})),i.d(t,"c",(function(){return I})),i.d(t,"j",(function(){return C}));var n=i(9),r=i(63),o=i(609),s=i.n(o),a=i(610),d=i.n(a),c=i(611),l=i.n(c);i.d(t,"b",(function(){return r.e}));const p={[r.e.Chinese]:s.a,[r.e.English]:d.a,[r.e.Japanese]:l.a};function u(e){switch(e.toLocaleLowerCase()){case"zh_cn":return r.e.Chinese;case"en_us":return r.e.English;case"ja_jp":return r.e.Japanese;default:return}}function _(e){switch(e){case r.e.Chinese:return["zh_CN","zh_cn"];case r.e.English:return["en_US","en_us"];case r.e.Japanese:return["ja_JP","ja_jp"]}}function E(e,t){const i=_(e);for(let e=0;e<i.length;e+=1){const n=t(i[e]);if(n)return n}}const h={};function T(e){h.appName=e.appName,h.language=e.language,h.templates=Object.assign({},p[e.language]);const t={};for(const e in h.templates)t[e.toLowerCase()]=h.templates[e];Object.assign(h.templates,t)}const y={getLanguage:u};var f,I;function g(e){return"system_template_"+e}!function(e){e.getLanguageFromIdentifier=function(e){const t=y.getLanguage(e);return t||r.e.Chinese},e.setLanguage=function(e){throw new Error("no support!")},e.getLanguage=function(){return h.language},e.getLanguageIdentifier=function(){return r.e.getLanguageIdentifier(h.language)},e.getLanguageIdentifiers=function(){return _(h.language)},e.isChinese=function(){return h.language===r.e.Chinese},e.isEnglish=function(){return h.language===r.e.English},e.isJapanese=function(){return h.language===r.e.Japanese}}(f||(f={})),function(e){function t(e){return h.templates[e]}function i(e,t){return r(n.b[e].replace(/[^A-Z][A-Z]/g,e=>`${e[0]}_${e[1]}`).toLocaleLowerCase(),t)}function r(e,i){const n=t(e);return n?C(n,i):""}e.getTemplateByRawKey=t,e.renderWithValues=i,e.render=function(e){return i(e,{})},e.renderByRawKeyValue=r,e.renderByRawKey=function(e){return r(e,null)},e.getTemplateByKey=function(e){const t=n.b[e].replace(/[^A-Z][A-Z]/g,e=>`${e[0]}_${e[1]}`).toLocaleLowerCase();return h.templates[t]}}(I||(I={}));const S=/\{(?:(?:\{\{(.*?)\}\})|(.*?))\}/g;function C(e,t){return t?e.replace(S,(e,i,n)=>{const r=i?t[i]:t[n];return r?i?r:r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):""}):e}},,function(e,t,i){"use strict";i.d(t,"e",(function(){return r.ContainerEvent})),i.d(t,"n",(function(){return r.REQUEST_ERROR_MAP})),i.d(t,"p",(function(){return r.ToastEvent})),i.d(t,"c",(function(){return r.Command})),i.d(t,"h",(function(){return r.I18nLocale})),i.d(t,"d",(function(){return r.ConfirmPopUpEvent})),i.d(t,"o",(function(){return r.RustPushEvent})),i.d(t,"g",(function(){return r.Homeric})),i.d(t,"j",(function(){return r.MeetingPageAction})),i.d(t,"m",(function(){return r.PageSendEvent})),i.d(t,"k",(function(){return r.PageName})),i.d(t,"i",(function(){return r.LocalEndReason})),i.d(t,"l",(function(){return r.PageNameRouteMap})),i.d(t,"b",(function(){return r.AppType})),i.d(t,"a",(function(){return r.Action})),i.d(t,"q",(function(){return r.UserState})),i.d(t,"f",(function(){return r.ErrorCode})),i.d(t,"r",(function(){return r.VideoChatMeetingQuality})),i.d(t,"u",(function(){return Uo})),i.d(t,"t",(function(){return wo})),i.d(t,"s",(function(){return ko})),i.d(t,"w",(function(){return Go})),i.d(t,"v",(function(){return Vo}));var n,r=i(0);!function(e){e.zh_CN="zh-CN",e.en_US="en-US",e.ja_JP="ja-JP",e.id_ID="id-ID",e.de_DE="de-DE",e.es_ES="es-ES",e.fr_FR="fr-FR",e.it_IT="it-IT",e.pt_BR="pt-BR",e.vi_VN="vi-VN",e.ru_RU="ru-RU",e.hi_IN="hi-IN",e.th_TH="th-TH",e.ko_KR="ko-KR"}(n||(n={}));const o=(e,t)=>{return t?(i=e||"",n=t,"[object String]"!==Object.prototype.toString.call(i)?"":i.replace(/{{(?:"([^"]*)"|(.*?))}}/g,(e,t,i)=>n[t]||n[i])):e;var i,n};class s{constructor(){this.locale=r.I18nLocale.EN_US,this.resource={},this.fallbackLocale=r.I18nLocale.EN_US,this.initialed=!1,this.t=this.t.bind(this),this.init=this.init.bind(this)}init({locale:e,resources:t,fallbackLocale:i}){this.initialed||(this.locale=e,this.resource=t,this.fallbackLocale=i,this.initialed=!0)}t(e,t,i){if(!this.initialed)throw new Error("i18n need init");const r=this.resource[e],s=n[this.locale];let a=e;return r&&(a=r[s]||r[Object.keys(r)[0]]),o(a,t)}}const a=new class{constructor(){this.locale=r.I18nLocale.EN_US,this.resource={},this.fallbackLocale=r.I18nLocale.EN_US,this.initialed=!1,this.i18nLib=new s}init(e){let{locale:t}=e;const{fallbackLocale:i,resource:n}=e;this.initialed||(t=t.split("_").join("-"),this.locale=t,this.fallbackLocale=i,this.initialed=!0)}tmpl(e,t){return this.tmpl2(e,t)}tmpl2(e,t){return this.i18nLib.t(e,t,null)}};var d=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};class c{constructor(e){this.container=e}startSDKServer(){return d(this,void 0,void 0,(function*(){if(!this.container.startSDKServer)throw Error("No this.container.startSDKServer");yield this.container.startSDKServer()}))}tryDestroySDKServer(){return d(this,void 0,void 0,(function*(){if(!this.container.tryDestroySDKServer)throw Error("No this.container.tryDestroySDKServer");yield this.container.tryDestroySDKServer()}))}forceDestorySDKServer(){return d(this,void 0,void 0,(function*(){if(!this.container.forceDestorySDKServer)throw Error("No this.container.forceDestorySDKServer");yield this.container.forceDestorySDKServer()}))}initClient(){return d(this,void 0,void 0,(function*(){const e=yield Promise.all([this.getConfigInner(),this.getI18nResource()]);[this.config]=e;const t=e[1];var i;return i={locale:this.config.appInfo.lang,fallbackLocale:r.I18nLocale.EN_US,resource:t},a.init(i),this.config.appInfo}))}getConfigInner(){return this.container.getConfig()}getConfig(){return d(this,void 0,void 0,(function*(){return this.getConfigInner()}))}updateAppConfig(e){return d(this,void 0,void 0,(function*(){if(this.container.updateAppConfig)return this.config=yield this.container.updateAppConfig(e),this.config}))}emit(e,t){return this.container.emit(e,t)}on(e,t){return this.container.on(e,t)}off(e,t){return this.container.off(e,t)}rustOn(e,t){if(this.container.rustOn)return this.container.rustOn(e,t);throw Error("temp")}rustOff(e,t){if(this.container.rustOff)return this.container.rustOff(e,t);throw Error("temp")}getI18nResource(){return d(this,void 0,void 0,(function*(){return this.container.getI18NResource()}))}getUserInfo(){return d(this,void 0,void 0,(function*(){if(!this.config)return{};const e=this.config.userInfo.id;return(yield this.request(r.Command.GET_USERS,[e]))[0]||{}}))}getUsername(){return d(this,void 0,void 0,(function*(){if(!this.config)return"";const e=yield this.getUserInfo();return e[r.NAME_PROPERTY_MAP[this.config.appInfo.lang]]||e.namePinyin||"unknown"}))}getUserId(){return this.config?this.config.userInfo.id:""}getDeviceId(){return this.config?this.config.appInfo.deviceId:""}getAppName(){return this.config?this.config.appInfo.appName:""}getLang(){return this.config?this.config.appInfo.lang:null}getCurrentUser(){return d(this,void 0,void 0,(function*(){try{const[e]=yield this.request(r.Command.GET_USERS,[this.getUserId()]);return e}catch(e){return Promise.reject(e)}}))}getI18NText(e,t){return!this.config||this.config.appInfo.appType!==r.AppType.LARK&&this.config.appInfo.appType!==r.AppType.ROOM?this.container.getI18NText(e):(i=e,n=t,a.tmpl(i,n));var i,n}getI18NText2(e,t){return i=e,n=t,a.tmpl2(i,n);var i,n}toast(e){const{data:t,param:i}=e;e.data=this.getI18NText(t,i)||t,this.container.emit(r.ContainerEvent.TOAST,e)}alert(e){throw Error("containerApi alert has been destory")}confirm(e){this.container.emit(r.ContainerEvent.CONFIRM,e)}createLoggerV2Impl(e){return Object.values(r.LogType).reduce((t,i)=>(t[i]=(...t)=>{const n={params:t};this.container.emit(r.ContainerEvent.NEW_LOG,{initParams:e,logParams:n,commonParams:{level:i}})},t),{})}createLoggerV2(e){return this.createLoggerV2Impl(Object.assign({},e))}createLoggerV1(e,t){return["trace","debug","info","warn","error"].reduce((i,n)=>(i[n]=(i,...o)=>{this.container.emit(r.ContainerEvent.LOG,Object.assign({method:n,prefix:e,channel:i,renderPageHash:t},o))},i),{})}monitor(e,...t){}track(e,t){this.container.emit(r.ContainerEvent.TRACK,{type:e,data:Object.assign({},t)})}request(e,...t){return d(this,void 0,void 0,(function*(){return this.container.request(e,...t)}))}syncRequest(e,...t){return this.container.syncRequest(e,...t)}printLarkError(e){return d(this,void 0,void 0,(function*(){if(!e)return;let t;t="number"==typeof e?this.getI18NText(r.REQUEST_ERROR_MAP[e]):e,this.toast({type:r.ToastEvent.ERROR,data:t})}))}getFg(e,t){return d(this,void 0,void 0,(function*(){return!!this.container.getFg&&this.container.getFg(e,t)}))}getFg2(e){return d(this,void 0,void 0,(function*(){return this.container.getFg2?this.container.getFg2(e):!!this.container.getFg&&this.container.getFg(e,!0)}))}getFgs(e){return d(this,void 0,void 0,(function*(){return this.container.getFgs?this.container.getFgs(e):Object.keys(e).reduce((e,t)=>(e[t]=!1,e),{})}))}getStorage(e){return d(this,void 0,void 0,(function*(){return this.container.getStorage(e)}))}setStorage(e,t){this.container.setStorage(e,t)}delStorage(e){this.container.delStorage(e)}controlPreviewModal(e){this.container.emit(r.ContainerEvent.PREVIEW_MODAL,e)}closeAVSettingModal(){this.container.emit(r.ContainerEvent.CLOSE_AV_SETTING,{})}togoLarkGroup(e,t){this.container.gotoLarkGroup&&this.container.gotoLarkGroup(e,t)}gotoLarkP2PChat(e){this.container.gotoLarkP2P&&this.container.gotoLarkP2P(e)}gotoLark(){this.container.gotoLark&&this.container.gotoLark()}getPageManager(e,t){return this.container.getPageManager(e,t)}getPCSdkLogInfo(){return this.container.getPCSdkLogInfo&&this.container.getPCSdkLogInfo()}getSetting(e){return this.container.getSetting&&this.container.getSetting(e)}getPCsdk(e){return this.container.getPCsdk&&this.container.getPCsdk(e)}}var l=i(169),p=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function u({key:e,params:t={},newKey:i}){return p(this,void 0,void 0,(function*(){t.appName||(t.appName=this.config.appInfo.appName);const{templates:n}=yield this.getApis().request(r.Command.GET_VIEW_I18N_TEMPLATE,{keys:[i||e]});return function(e,t){let i=e;return Object.keys(t).forEach(e=>{const n=`{{${e}}}`,r=t[e];i=i.replace(n,r)}),i}(n[i||e],t)}))}var _;!function(e){e[e.NORMAL=0]="NORMAL",e[e.CRASH=1]="CRASH"}(_||(_={}));function E(e,t){return Object.values(e.byteviewApisMap).some(e=>e.getCoreData().getCurrentStatus()===t)}function h(){return!!this.coreManagerData&&E(this.coreManagerData,r.UserState.CALLING)}function T(){return!!this.coreManagerData&&E(this.coreManagerData,r.UserState.RINGING)}function y(){return!!this.coreManagerData&&E(this.coreManagerData,r.UserState.ON_THE_CALL)}function f(){return!!this.coreManagerData&&Object.values(this.coreManagerData.byteviewApisMap).some(e=>{const t=e.getCoreData().getCurrentStatus();return t===r.UserState.CALLING||t===r.UserState.RINGING||t===r.UserState.ON_THE_CALL||t===r.UserState.WAIT})}const I=new Map;var g,S=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function C(e){return S(this,void 0,void 0,(function*(){if(!e)return;if(!this.coreManagerData)return;let t;if(e.id){const i=this.coreManagerData.findStatusInVideoChatInfo(e),n=this.coreManagerData.findInteractiveIdInVideoChatInfo(e),o=this.coreManagerData.getInteractiveId(),[s="",a,d=""]=yield Promise.all([this.getApis().getStorage("byteview_last_meeting_key_meeting_id"),this.getApis().getStorage("byteview_last_meeting_key_type"),this.getApis().getStorage("byteview_last_meeting_key_core_id")]),c={meetingId:s,type:Number(a),coreId:d};if(c&&e.id===c.meetingId&&n===o){const e=this.getByteviewApiByCoreId(c.coreId);if((e&&e.getCoreData&&e.getCoreData().getCurrentStatus()||r.UserState.IDLE)===r.UserState.IDLE)return}if(t=Object.values(this.coreManagerData.byteviewApisMap).find(e=>{const{conference:t}=e.getCoreData();return!!t&&t.id===s}),I.has(s)){if(i===r.ParticipantStatus.RINGING)return;t=this.coreManagerData.byteviewApisMap[I.get(s)]}if(!t){const e=this.createByteviewApi();I.set(s,e),t=yield this.startByteviewApi(e).then(e=>(I.delete(s),e))}t&&t.handleVCInfo(e)}}))}!function(e){e[e.IN_CURRENT_MEETING=0]="IN_CURRENT_MEETING",e[e.BUSY=1]="BUSY",e[e.VERSION_NOT_SUPPORT=2]="VERSION_NOT_SUPPORT",e[e.MEETING_FULL=3]="MEETING_FULL",e[e.EXECUTIVE_MODE=4]="EXECUTIVE_MODE",e[e.NULL=5]="NULL"}(g||(g={}));var m=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function N(){return m(this,void 0,void 0,(function*(){if(!this.coreManagerData)return!1;const{isOnline:e}=this.coreManagerData;if(!e)return this.getApis().toast({type:r.ToastEvent.ERROR,data:"View_G_NoConnection"}),!1;const t=f.apply(this),i=T.apply(this);return!t||(this.getApis().toast({type:r.ToastEvent.ERROR,data:i?"View_G_IncomingCallCannotCall":"View_G_CurrentlyInCall"}),!1)}))}var A=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function R(){return A(this,void 0,void 0,(function*(){let e=!0;if(e&&this.coreManagerData){const t=Object.values(this.coreManagerData.byteviewApisMap).map(e=>e.getPM());yield Promise.all(t).then(t=>{t.forEach(t=>{t.isExist(r.PageName.PREVIEW)&&(e=!1)})})}return Promise.resolve({canOpen:e})}))}var O=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function v(){return O(this,void 0,void 0,(function*(){if(!this.coreManagerData)return!1;return!f.apply(this)}))}var P=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function M(){return P(this,void 0,void 0,(function*(){if(!this.coreManagerData)return!1;return!f.apply(this)}))}var L=i(124),b=i(93),D=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};class U{constructor(e){this.isForceJoinSameVC=!1,this.isVoiceCall=!1,this.ntpOffsetTime=0,this.vcConfig={},this.byteviewApisMap={},this.byteviewApiServerMap={},this.stopId="",this.participantsChangeMap=new Map,this.interactiveId="",this.isOnline=!0,this.vcCallClickInfo={},this.config=e,this.userId=e.userInfo.id,this.deviceId=e.appInfo.deviceId,this.appInfo=e.appInfo,this.startup()}startup(){return D(this,void 0,void 0,(function*(){const{ntpTime:e}=yield ko().request(r.Command.GET_NTP_TIME);this.ntpOffsetTime=e-Object(b.getCurrentTime)()}))}getAllInfo(e){return this.stopId=e,this.participantsChangeMap}reset(){}getCurrentNTPTime(){return Object(b.getCurrentTime)()+this.ntpOffsetTime}setInteractiveId(e=""){this.interactiveId=e}setIsOnline(e){this.isOnline=e}getInteractiveId(){return this.interactiveId}updateUserId(e){this.userId=e}updateDeviceId(e){this.deviceId=e}setVideoChatConfig(e){this.vcConfig=e}setIsVoiceCall(e){this.isVoiceCall=e}findStatusInVideoChatInfo(e){if(!e||!e.participants)return null;const t=e.participants.find(e=>e.id===this.userId&&e.deviceId===this.deviceId);return t?t.status:null}findInteractiveIdInVideoChatInfo(e){if(!e||!e.participants)return"";const t=e.participants.find(e=>e.id===this.userId&&e.deviceId===this.deviceId);return t?t.interactiveId:""}getOfflineReason(e){if(!e||!e.participants)return null;const t=e.participants.find(e=>e.id===this.userId&&e.deviceId===this.deviceId);return t?t.offlineReason:null}getNormalMonitorCtx(){return{network_type:r.NetworkType.LAN,sdk_name:r.SDKName.BYTERTC,client_ntp_time:this.getCurrentNTPTime(),entry_timestamp:this.getCurrentNTPTime(),_staging_flag:this.config.appInfo.isProduction?0:1}}setVcCallClickInfo(e){this.vcCallClickInfo=e}getVcCallClickInfo(){return this.vcCallClickInfo}}let w;function k(){return w}var G=i(141),V=i(11),H=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const B=V.a.wrapOnFunction("core",(function(e){return H(this,void 0,void 0,(function*(){if(e.meetingId||this.data.conference&&this.data.conference.id)try{return yield this.getApis().request(r.Command.PULL_SUBTITLES,e)}catch(e){this.getLogInstance().error("pull subtitles error:"+e.message)}}))}));var F=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const j=V.a.wrapOnFunction("core",(function(e){return F(this,void 0,void 0,(function*(){return this.getApis().request(r.Command.SEARCH_SUBTITLES,e)}))}));var W=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const x=V.a.wrapOnFunction("core",(function(e){return W(this,void 0,void 0,(function*(){return this.getApis().request(r.Command.SYNC_SUBTITLES,e)}))}));var K=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const q=V.a.wrapOnFunction("core",(function({key:e,params:t={},newKey:i}){return K(this,void 0,void 0,(function*(){this.getLogInstance().info("getViewI18nFromRustFunc key:, "+(e||i));const{templates:n}=yield this.getApis().request(r.Command.GET_VIEW_I18N_TEMPLATE,{keys:[i||e]}),o=n[i||e];return 0===Object.keys(t).length?o:function(e,t){let i=e;return Object.keys(t).forEach(e=>{const n=`{{${e}}}`,r=t[e];i=i.replace(n,r)}),i}(o,t)}))}));var Y=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};class J{constructor(e){this.versionConfig={},this.config=e}starup(){return Y(this,void 0,void 0,(function*(){}))}calcSDKType(e){return r.VENDOR_DEFAULT_SDK_MAP[e]}}var z=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};let X;class Q{constructor(e,t){this.coreId="",this.targetId="",this.userType=r.UserType.CALLEE,this.vcType=r.VideoChatType.UNKNOWN,this.conference=null,this.conferenceExtraInfo=null,this.conferenceInMeeting=null,this.participants=[],this.calendarInfo=null,this.videoChatPromptInfo=null,this.vendorType=r.VendorType.LARK_RTC,this.isForceJoinSameVC=!1,this.isVoiceCall=!1,this.ntpOffsetTime=0,this.isSharingScreen=!1,this.joinTime=0,this.interactiveId="",this.myParticipantSettings={isCameraMuted:!1,isMicrophoneMuted:!1,isSpeakerMuted:!1,cameraStatus:r.EquipmentStatus.NORMAL,microphoneStatus:r.EquipmentStatus.NORMAL},this.isChatRoom=!1,this.joinChatRoomFrom=r.JoinChatRoomFrom.GROUP,this.meetingUsersDeviceId=new Map,this.vcConfig={},this.shareScreenItem=null,this.isSharingAudio=!1,this.shareScreenConfig=null,this.inMeetingNoticeCache=[],this.config=e,this.appInfo=this.config.appInfo,this.userId=this.config.userInfo.id,this.deviceId=this.config.appInfo.deviceId,this.sdkTypeHelper=new J(this.config),this.fsm=t,Q.extensions.forEach(e=>{Object.keys(e).forEach(t=>{this[t]=e[t]})}),this.startup()}static extend(e){this.extensions.push(e)}updateByteviewDataAppConfig(e){this.config=e}startup(){return z(this,void 0,void 0,(function*(){const{ntpTime:e}=yield ko().request(r.Command.GET_NTP_TIME);this.ntpOffsetTime=e-Object(b.getCurrentTime)(),yield this.sdkTypeHelper.starup()}))}getParticipants(){return this.participants?this.participants:this.conference?this.conference.participants:[]}getMyselfInfo(){return this.getParticipants().find(e=>e.id===this.userId&&e.deviceId===this.deviceId)||{}}setInteractiveId(e=""){this.interactiveId=e}getInteractiveId(){return this.interactiveId}findStatusInVideoChatInfo(e){if(!e||!e.participants)return null;const t=e.participants.find(e=>e.id===this.userId&&e.deviceId===this.deviceId);return t?t.status:null}getOfflineReason(e){if(!e||!e.participants)return null;const t=e.participants.find(e=>e.id===this.userId&&e.deviceId===this.deviceId);return t?t.offlineReason:null}getCurrentStatus(){return this.fsm.state}getStatusHistory(){return this.fsm.history}getConferenceData(){return{state:this.fsm?this.fsm.state:r.UserState.UNKNOWN,conference:this.conference,calendarInfo:this.calendarInfo,conferenceExtraInfo:this.conferenceExtraInfo,conferenceInMeetingInfo:this.conferenceInMeeting,participants:this.participants,targetId:this.targetId}}getMeetingSubType(){return this.conferenceInMeeting&&this.conferenceInMeeting.meetingSettings&&this.conferenceInMeeting.meetingSettings.subType||r.SubType.DEFAULT}getInMeetingParticipantSettings(){const e=this.getParticipants().find(e=>e.id===this.userId&&e.deviceId===this.deviceId),t={isMicrophoneMuted:!1,isCameraMuted:!1};return e&&e.settings?Object.assign(Object.assign({},t),e.settings):t}setVideoChatInfoFromCalendarPrompt(e){const{startUser:t}=e.calendarStartPrompt||{};this.conference={type:r.VideoChatType.MEETING,id:e.promptId,hostId:t&&t.userId||"",hostDeviceId:t&&t.deviceId||"",participants:[],inviterId:"",actionTime:{},vendorType:r.VendorType.LARK_RTC,startTime:this.conference&&this.conference.startTime?this.conference.startTime:(new Date).getTime(),info:""},this.videoChatPromptInfo=e}setInMeetingMicrophoneMuted(e){const t=this.getParticipants().find(e=>e.id===this.userId&&e.deviceId===this.deviceId);t&&(t.settings=t.settings||{},t.settings.isMicrophoneMuted=e)}setInMeetingCameraMuted(e){const t=this.getParticipants().find(e=>e.id===this.userId&&e.deviceId===this.deviceId);t&&(t.settings=t.settings||{},t.settings.isCameraMuted=e)}getParticipantSettingsById(e,t){return(this.getParticipants().find(i=>i.id===e&&i.deviceId===t)||{}).settings}getMyParticipantSettings(){return Object.assign(Object.assign({},this.myParticipantSettings),this.getParticipantSettingsById(this.userId,this.deviceId))}setMyParticipantSettings(e){const{isCameraMuted:t,isMicrophoneMuted:i,isSpeakerMuted:n}=this.myParticipantSettings;this.myParticipantSettings=Object.assign(Object.assign(Object.assign({},this.myParticipantSettings),e),{isCameraMuted:t,isMicrophoneMuted:i,isSpeakerMuted:n}),this.setParticipantSettings(this.userId,this.deviceId,this.myParticipantSettings)}getUISDKSettings(e){if(this.conference&&this.sdkType)return{joinMeetingType:e,sdkType:this.sdkType,conference:this.conference,initialSetting:this.getMyParticipantSettings(),vendorType:this.vendorType||r.VendorType.LARK_RTC,joinChatRoomFrom:this.joinChatRoomFrom,joinMeetingOption:{autoSubscribeVideoCount:this.vcType===r.VideoChatType.CALL&&this.appInfo.appType===r.AppType.LARK?1:0}}}getUISDKLeaveSettings(e){if(this.conference&&this.sdkType)return{leaveMeetingType:e,sdkType:this.sdkType,conference:this.conference}}getByteviewApiByCoreId(){return wo().getByteviewApiByCoreId(this.coreId)}setConference(e){e&&this.conference&&e.id===this.conference.id||this.setConferenceExtra(null),this.conference=e,e&&(this.participants=e.participants,this.vcType=e.type,this.vendorType=e.vendorType||r.VendorType.LARK_RTC,this.sdkType=this.sdkTypeHelper.calcSDKType(this.vendorType),this.setIsVoiceCall(!!e.isVoiceCall),this.setParticipantSettings(this.userId,this.deviceId))}setIsChatRoom(e){this.isChatRoom=e}getIsChatRoom(){return this.isChatRoom}getJoinChatRoomFrom(){return this.joinChatRoomFrom}setJoinChatRoomFrom(e){this.joinChatRoomFrom=e}setConferenceExtra(e){this.conferenceExtraInfo=e}setCalendarInfo(e){return z(this,void 0,void 0,(function*(){e&&(e.users={},e.userStatus={}),this.calendarInfo=e}))}setConferenceInMeeting(e){if(this.conferenceInMeeting=e,e&&e.vcType){const{vcType:t}=e;this.vcType=t,this.conference.type=t}}setSharingStatus(e){this.isSharingScreen=e}reset(){this.setConference(null),this.setConferenceExtra(null),this.setConferenceInMeeting(null),this.setCalendarInfo(null),this.setSharingStatus(!1),this.setIsVoiceCall(!1),this.myParticipantSettings={isCameraMuted:!1,isMicrophoneMuted:!1,isSpeakerMuted:!1},this.targetId="",this.userType=r.UserType.CALLEE,this.vcType=r.VideoChatType.CALL,this.meetingUsersDeviceId.clear(),this.participants=[]}getCurrentNTPTime(){return Object(b.getCurrentTime)()+this.ntpOffsetTime}getMonitorCtx(){let e="",t=r.VideoChatType.CALL;this.conference&&(t=this.conference.type,e=this.conference.id);let{userType:i}=this;return t===r.VideoChatType.MEETING&&(i=this.isHost()?r.UserType.HOST:this.isCoHost()?r.UserType.COHOST:r.UserType.ATTENDEE),{call_type:t===r.VideoChatType.CALL?r.CallType.CALL:r.CallType.MEETING,conference_id:e,interactive_id:this.interactiveId,network_type:r.NetworkType.LAN,user_type:i,sdk_name:r.SDKName.BYTERTC,client_ntp_time:this.getCurrentNTPTime(),entry_timestamp:this.getCurrentNTPTime(),_staging_flag:this.config.appInfo.isProduction?0:1,env_id:this.coreId}}getHostId(){return this.conferenceInMeeting?this.conferenceInMeeting.hostId:null}getHostDeviceId(){return this.conferenceInMeeting?this.conferenceInMeeting.hostDeviceId:null}isHost(){const e=this.getMyselfInfo(),{participantRoleSettings:t}=e;return!!t&&t.meetingRole===r.ParticipantMeetingRole.HOST}isCoHost(){const e=this.getMyselfInfo(),{participantRoleSettings:t}=e;return!!t&&t.meetingRole===r.ParticipantMeetingRole.CO_HOST}updateUserId(e){this.userId=e}updateDeviceId(e){this.deviceId=e}setParticipantSettings(e,t,i){const n=this.getParticipants().find(i=>i.id===e&&i.deviceId===t);n&&(n.settings=Object.assign(Object.assign({},n.settings),i),n.id===this.userId&&n.deviceId===t&&(this.myParticipantSettings=Object.assign(Object.assign({},n.settings),i)))}setVideoChatConfig(e){this.vcConfig=e}setIsVoiceCall(e){this.isVoiceCall=e}setShareScreenItem(e){this.shareScreenItem=e}setShareAudio(e){this.isSharingAudio=e}setShareScreenId(e){this.shareScreenId=e}setShareScreenConfig(e){this.shareScreenConfig=e}upsertParticipants(e){const t=this.getParticipants(),i=new Set,n=new Set,o=new Map;e.forEach(e=>{i.add(e.id),n.add(`${e.deviceId}-${e.id}`),o.set(`${e.deviceId}-${e.id}`,e)}),t.forEach(e=>{n.has(`${e.deviceId}-${e.id}`)||e.status===r.ParticipantStatus.RINGING&&i.has(e.id)||o.set(`${e.deviceId}-${e.id}`,e)}),this.participants=[...o.values()]}removeParticipants(e){const t=this.getParticipants(),i=new Set,n=new Set,o=[];e.forEach(e=>{e.deviceId?n.add(`${e.deviceId}-${e.id}`):i.add(e.id)}),t.forEach(e=>{e.status===r.ParticipantStatus.RINGING&&i.has(e.id)||n.has(`${e.deviceId}-${e.id}`)||o.push(e)}),this.participants=o}cacheMeetingNotice(e){this.inMeetingNoticeCache.push(e)}}Q.extensions=[];var $=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};class Z{constructor(e){this.logInstance=null,this.config=e,this.coreId=""}static extend(e){if(this.extensions.push(e),e.data&&Q.extend(e.data),e.methods){const{methods:t}=e;Object.keys(t).forEach(e=>{Z.prototype[e]=t[e]})}}getLogInstance(){return console}lifecycle(e,t){this.getLogInstance().info("LIFECYCLE:"+e,t);let i,n=0;const r=this.constructor;for(;i=r.extensions[n];){if(n+=1,!i.hooks||"function"!=typeof i.hooks[e])continue;const r=i.hooks[e];if(!r)continue;if(!1===r.call(this,t))return}}asyncLifecycle(e,t){return $(this,void 0,void 0,(function*(){this.getLogInstance().info("ASYNC_LIFECYCLE:"+e,t);let i,n=0;const r=this.constructor;for(;i=r.extensions[n];){if(n+=1,!i.asyncHooks||"function"!=typeof i.asyncHooks[e])continue;const r=i.asyncHooks[e];if(!r)continue;if(!1===(yield r.call(this,t)))return}}))}}Z.extensions=[];var ee=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function te(e){return ee(this,void 0,void 0,(function*(){if("none"===e.from)return;const t=localStorage.getItem("BYTEVIEW_MEETING_STATUS_DATA");this.data.conference&&t===this.data.conference.id&&window.localStorage.setItem("BYTEVIEW_MEETING_STATUS_DATA",""),window.localStorage.removeItem("STORE_PRE_KEY_"+this.data.conference.id),this.rustOff(),this.lifecycle("onIdle",void 0),this.sdks.disconnectSignalServer("onIdle"),this.data.reset(),this.sdks.offSdkEventslisteners(),this.data.appInfo.appType===r.AppType.LARK&&(yield this.getApis().tryDestroySDKServer())}))}function ie(e){return ee(this,void 0,void 0,(function*(){this.lifecycle("onLeaveIdle",void 0)}))}var ne=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function re(e){return ne(this,void 0,void 0,(function*(){if([this.data.targetId]=e.participantIds,this.data.setIsVoiceCall(!!e.isVoiceCall),this.getPM().openByName(r.PageName.CALLING,Object.assign(Object.assign({},e),{targetId:this.data.targetId,rot:e.rot||Object(b.getTimestamp)(),bot:Object(b.getTimestamp)()})),this.lifecycle("on1v1CallingSuccess",e),this.data.appInfo.appType!==r.AppType.ROOM)try{const t=yield this.getApis().request(r.Command.CREATE_VIDEO_CHAT,Object.assign(Object.assign({},e),{meetingSettings:Object.assign(Object.assign({},e.meetingSettings),{shouldEarlyJoin:!1}),actionTime:{invite:this.data.getCurrentNTPTime()}}));this.data.setConference(t),this.emit(r.BroadcastEvent.INVOKE_MESSAGER_INIT,{}),this.sdks.connectSignalServer(this.data.vendorType,"onEnter1v1Calling"),this.lifecycle("invite1v1Success",t)}catch(t){this.lifecycle("invite1v1Error",t),this.resetInvitationOnFail({vendorType:e.vendorType||r.VendorType.LARK_RTC,message:t.errorMessage});const i={type:r.VideoChatType.CALL,id:"",hostId:this.data.userId,hostDeviceId:this.data.deviceId,participants:[],info:"",inviterId:"",actionTime:{},vendorType:r.VendorType.LARK_RTC,startTime:0};wo().handleVCInfo(i)}}))}function oe(e){return ne(this,void 0,void 0,(function*(){const{force:t}=e;t||this.getApis().request(r.Command.CREATE_VIDEO_CHAT,Object.assign(Object.assign({},e),{actionTime:{invite:this.data.getCurrentNTPTime()}})).then(e=>{this.data.setConference(e),this.sdks.connectSignalServer(this.data.vendorType,"OnEnterMultiCalling"),this.lifecycle("inviteMultiSuccess",e),this.joinMeeting(e)},t=>{this.lifecycle("inviteMultiError",t),this.getApis().printLarkError(t.errorMessage),this.resetInvitationOnFail({vendorType:e.vendorType||r.VendorType.LARK_RTC,message:t.errorMessage})})}))}function se(e,t){const{type:i}=t;this.data.userType=r.UserType.CALLER,this.data.vcType=t.type,this.lifecycle("onCalling",t),this.lifecycle(i===r.VideoChatType.MEETING?"onMultiCalling":"on1v1Calling",t),i===r.VideoChatType.MEETING?oe.call(this,t):re.call(this,t).then(null,()=>{this.resetInvitationOnFail({vendorType:r.VendorType.UNKNOWN,message:""})})}function ae(e){const t=this.data.vcType===r.VideoChatType.MEETING;t||this.getPM().closeByName(r.PageName.CALLING),this.lifecycle("onLeaveCalling",void 0),this.lifecycle(t?"onLeaveMultiCalling":"onLeave1v1Calling",void 0)}var de=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function ce(e,t){return de(this,void 0,void 0,(function*(){this.lifecycle("onRinging",t),this.lifecycle(t.type===r.VideoChatType.CALL?"on1v1Ringing":"onMultiRinging",t);const e=Object.assign({},this.data.getConferenceData());this.sdks.connectSignalServer(this.data.vendorType,"onEnterRinging"),this.getPM().isExist(r.PageName.CALENDAR_PROMPT)&&this.getPM().closeByName(r.PageName.CALENDAR_PROMPT),this.getPM().openByName(r.PageName.RINGING,e)}))}function le(e){this.getPM().closeByName(r.PageName.RINGING),this.lifecycle("onLeaveRinging",void 0)}var pe,ue=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function _e(e,t){return ue(this,void 0,void 0,(function*(){const{videoChatInfo:e,lobbyParticipant:i}=t||{};if(e&&i){yield this.getApis().startSDKServer(),this.data.setConference(e),window.localStorage.setItem("BYTEVIEW_MEETING_STATUS_DATA",e.id);const{isMicrophoneMuted:t=!1,isCameraMuted:n=!1,interactiveId:o="0"}=i;wo().setInteractiveId(o),this.data.setInteractiveId(o);const s={meetingId:e.id,isMicrophoneMuted:t,isCameraMuted:n,interactiveId:o};wo().destroyApiBeforeJoinMeeting(this.data.coreId).then(()=>{this.lifecycle("onEnterWait",void 0),this.getPM().openByName(r.PageName.LOBBY,s)})}else this.lifecycle("onEnterWait",void 0),this.getPM().openByName(r.PageName.LOBBY,void 0)}))}function Ee(e,t){return ue(this,void 0,void 0,(function*(){yield this.getPM().closeByName(r.PageName.LOBBY,t),this.lifecycle("onLeaveWait",void 0)}))}!function(e){e.INVITE="invite",e.FORCE_INVITE_1V1="forceInvite1v1",e.CANCEL_INVITATION="cancelInvitation",e.JOIN_MEETING="joinMeeting",e.FORCE_JOIN_MEETING="forceJoinMeeting",e.LEAVE_MEETING="leaveMeeting",e.RECEIVE_INVITATION="receiveInvitation",e.ACCEPT_INVITATION="acceptInvitation",e.FORCE_ACCEPT_INVITATION="forceAcceptInvitation",e.REFUSE_INVITATION="refuseInvitation",e.RECOVERY_MEETING="recoveryMeeting",e.PREVIEW_JOIN_MEETING="previewJoinMeeting",e.RESET_INVITATION="resetInvitation",e.REJOIN_MEETING="rejoinMeeting",e.SCREEN_SHARE_JOIN_MEETING="screenShareJoinMeeting",e.JOIN_MEETING_BY_INTERVIEW_ID="joinMeetingByInterviewId",e.DOCS_JOIN_MEETING="docsJoinMeeting",e.JOIN_CHAT_ROOM="joinChatRoom",e.JOIN_MEETING_WITH_CHECK="joinMeetingWithCheck",e.CANCEL_WAIT="cancelWait",e.ACCEPT_INVITATION_WITH_CHECK="acceptInvitationWithCheck",e.JOIN_MEETING_WITH_APPROVAL="joinMeetingWithApproval",e.LEAVE_MEETING_TO_WAIT="leaveMeetingToWait"}(pe||(pe={}));const he=[{name:pe.INVITE,from:r.UserState.IDLE,to:r.UserState.CALLING},{name:pe.FORCE_INVITE_1V1,from:r.UserState.IDLE,to:r.UserState.CALLING},{name:pe.CANCEL_INVITATION,from:r.UserState.CALLING,to:r.UserState.IDLE},{name:pe.JOIN_MEETING,from:r.UserState.CALLING,to:r.UserState.ON_THE_CALL},{name:pe.FORCE_JOIN_MEETING,from:r.UserState.IDLE,to:r.UserState.ON_THE_CALL},{name:pe.LEAVE_MEETING,from:r.UserState.ON_THE_CALL,to:r.UserState.IDLE},{name:pe.RECEIVE_INVITATION,from:r.UserState.IDLE,to:r.UserState.RINGING},{name:pe.ACCEPT_INVITATION,from:r.UserState.RINGING,to:r.UserState.ON_THE_CALL},{name:pe.FORCE_ACCEPT_INVITATION,from:r.UserState.RINGING,to:r.UserState.ON_THE_CALL},{name:pe.REFUSE_INVITATION,from:r.UserState.RINGING,to:r.UserState.IDLE},{name:pe.JOIN_MEETING_WITH_CHECK,from:r.UserState.IDLE,to:r.UserState.WAIT},{name:pe.CANCEL_WAIT,from:r.UserState.WAIT,to:r.UserState.IDLE},{name:pe.ACCEPT_INVITATION_WITH_CHECK,from:r.UserState.RINGING,to:r.UserState.WAIT},{name:pe.JOIN_MEETING_WITH_APPROVAL,from:r.UserState.WAIT,to:r.UserState.ON_THE_CALL},{name:pe.LEAVE_MEETING_TO_WAIT,from:r.UserState.ON_THE_CALL,to:r.UserState.WAIT},{name:pe.RECOVERY_MEETING,from:r.UserState.IDLE,to:r.UserState.ON_THE_CALL},{name:pe.PREVIEW_JOIN_MEETING,from:r.UserState.IDLE,to:r.UserState.ON_THE_CALL},{name:pe.REJOIN_MEETING,from:r.UserState.IDLE,to:r.UserState.ON_THE_CALL},{name:pe.SCREEN_SHARE_JOIN_MEETING,from:r.UserState.IDLE,to:r.UserState.ON_THE_CALL},{name:pe.RESET_INVITATION,from:[r.UserState.CALLING,r.UserState.RINGING],to:r.UserState.IDLE},{name:pe.DOCS_JOIN_MEETING,from:r.UserState.IDLE,to:r.UserState.ON_THE_CALL},{name:pe.JOIN_CHAT_ROOM,from:r.UserState.IDLE,to:r.UserState.ON_THE_CALL}];var Te=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const ye=[r.UISDKLeaveMeetingType.END,r.UISDKLeaveMeetingType.LEAVE,r.UISDKLeaveMeetingType.HEARTBEAT_STOP,r.UISDKLeaveMeetingType.TERMINATE,r.UISDKLeaveMeetingType.TRIAL_TIMEOUT];function fe(){return Te(this,void 0,void 0,(function*(){let e=this.data.shareScreenItem;if(!e||!e.isMagic){this.track(r.Homeric.VC_CLIENT_SIGNAL_INFO,{action_name:"req_share_screen"});try{if(!e){e={id:(yield this.sdks.getSDK().getDesktopList())[0].id,isDesktop:!0}}const t=yield e.isDesktop?this.scShareDesktop(e.id):this.scShareWindow(e.id);this.data.setShareScreenId(t&&t.shareScreenId)}catch(e){this.hangup(r.Action.SHARING_APP_CLOSED),this.getApis().toast({type:r.ToastEvent.INFO,data:"View_M_YouStoppedSharingMirroring"})}}}))}function Ie(e,t){const i=Object(b.getTimestamp)(),{transition:n}=e;let o=n===pe.JOIN_CHAT_ROOM&&r.UISDKJoinMeetingType.JOIN_CHAT_ROOM||n===pe.RECOVERY_MEETING&&r.UISDKJoinMeetingType.RECOVERY_MEETING||n===pe.FORCE_JOIN_MEETING&&r.UISDKJoinMeetingType.FORCE_JOIN_MEETING||n===pe.ACCEPT_INVITATION&&r.UISDKJoinMeetingType.ACCEPT_INVITATION||n===pe.SCREEN_SHARE_JOIN_MEETING&&r.UISDKJoinMeetingType.SCREEN_SHARE_JOIN_MEETING||r.UISDKJoinMeetingType.JOIN_MEETING;const{conference:s}=this.data.getConferenceData();s&&s.settings&&s.settings.subType===r.SubType.CHAT_ROOM&&(o=r.UISDKJoinMeetingType.JOIN_CHAT_ROOM);const a=this.data.getUISDKSettings(o);if(!a)return;this.data.vcType===r.VideoChatType.CALL&&this.data.setMyParticipantSettings({isCameraMuted:a.initialSetting.isCameraMuted,isMicrophoneMuted:a.initialSetting.isMicrophoneMuted}),wo().setInteractiveId(this.data.getMyselfInfo().interactiveId),this.data.setInteractiveId(this.data.getMyselfInfo().interactiveId),this.getApis().setStorage("byteview_last_meeting_key_meeting_id",this.data.conference.id),this.getApis().setStorage("byteview_last_meeting_key_type",this.data.vcType.toString()),this.getApis().setStorage("byteview_last_meeting_key_core_id",this.data.coreId),window.localStorage.setItem("BYTEVIEW_MEETING_STATUS_DATA",this.data.conference.id),this.lifecycle("onOnTheCall",a),this.lifecycle(a.conference.type===r.VideoChatType.MEETING?"onMultiOnTheCall":"on1v1OnTheCall",a);wo().destroyApiBeforeJoinMeeting(this.data.coreId).then(()=>Te(this,void 0,void 0,(function*(){const{isCameraMuted:e,isMicrophoneMuted:o}=a.initialSetting;return this.sdks.joinMeeting(Object.assign(Object.assign({},a),{rot:i,transition:n,initialSetting:Object.assign(Object.assign(Object.assign({},a.initialSetting),t),{isCameraMuted:e,isMicrophoneMuted:o})})).then(()=>{if(a.conference.type===r.VideoChatType.MEETING){const e=n===pe.SCREEN_SHARE_JOIN_MEETING;e&&this.sdks.setCurrentPlaybackMute(!0);const t=e?"View_M_NowSharingToastMirroring":"View_VM_YouJoinedMeeting";this.getApis().toast({type:r.ToastEvent.SUCCESS,data:t})}this.lifecycle("onOnTheCallSuccess",a)},e=>{this.lifecycle("onOnTheCallError",e),this.hangup(r.Action.SDK_EXCEPTION,r.SDKExceptionReason.JOIN_MEETING_ERROR)})}))).then(()=>{this.featureGatings["byteview.meeting.pc.quick_share_screen"]&&n===pe.SCREEN_SHARE_JOIN_MEETING&&fe.call(this)})}function ge(e,t){return Te(this,void 0,void 0,(function*(){const e=this.data.getUISDKLeaveSettings(t),{coreId:i}=this.data;if(e){this.lifecycle("onLeaveOnTheCall",t);try{yield this.sdks.leaveMeeting(e),this.lifecycle("leaveMeetingSuccess",void 0)}catch(e){this.lifecycle("leaveMeetingError",e)}try{const n=this.data.getMeetingSubType(),o=-1!==ye.indexOf(t)&&this.data.appInfo.appType!==r.AppType.ROOM&&n!==r.SubType.SCREEN_SHARE&&n!==r.SubType.CHAT_ROOM;if(t!==r.UISDKLeaveMeetingType.NET_EXCEPTION||e.conference.type===r.VideoChatType.CALL||this.data.isChatRoom){let e=!0;const{enableUpgradePlanNotice:o}=this.data.vcConfig,s=this.data.conference;s.settings&&s.settings.planType&&o&&(e=o[s.settings.planType]);let a=function(e,t,i){switch(e){case r.UISDKLeaveMeetingType.TRIAL_TIMEOUT:return i?r.LocalEndReason.OVERTIME_TRIAL:r.LocalEndReason.OVERTIME_NON_TRIAL;case r.UISDKLeaveMeetingType.TERMINATE:return t?r.LocalEndReason.OTHER_SIDE_END:r.LocalEndReason.HOST_END;case r.UISDKLeaveMeetingType.ANOTHER_ACCEPT:case r.UISDKLeaveMeetingType.LEAVE:case r.UISDKLeaveMeetingType.JOIN_ANOTHER:case r.UISDKLeaveMeetingType.CLOSE_SCREEN:case r.UISDKLeaveMeetingType.INTERRUPTED:case r.UISDKLeaveMeetingType.CHANGE_TANENT:case r.UISDKLeaveMeetingType.FORCE_LEAVE:case r.UISDKLeaveMeetingType.FINISH_SHARE_SCREEN:return t?r.LocalEndReason.CALL_END:r.LocalEndReason.LEAVE;case r.UISDKLeaveMeetingType.END:return t?r.LocalEndReason.CALL_END:r.LocalEndReason.END_AS_HOST;case r.UISDKLeaveMeetingType.HEARTBEAT_STOP:case r.UISDKLeaveMeetingType.SDK_EXCEPTION:case r.UISDKLeaveMeetingType.NET_EXCEPTION:return t?r.LocalEndReason.CALL_UNEXPECTEDLY_END:r.LocalEndReason.MEETING_UNEXPECTEDLY_END;case r.UISDKLeaveMeetingType.KICKED_OUT:return r.LocalEndReason.HOST_KICK_OUT;case r.UISDKLeaveMeetingType.RELOAD_PAGE:return r.LocalEndReason.RELOAD_PAGE;case r.UISDKLeaveMeetingType.LOG_OUT:return r.LocalEndReason.LOG_OUT;default:return r.LocalEndReason.NOT_DETERMINED}}(t,!!this.data.conference&&this.data.conference.type===r.VideoChatType.CALL,e);try{n===r.SubType.CHAT_ROOM&&(a=void 0);const{conference:e,conferenceInMeetingInfo:t}=this.data.getConferenceData(),{isLarkGuest:o}=this.data.getMyselfInfo();let s;if(e&&t){const i=this.data.userId===t.hostId&&this.data.deviceId===t.hostDeviceId;s={conference:{id:e.id,type:e.type},userType:i?"host":"attendee",state:r.UserState.IDLE,isLarkGuest:o}}yield Object(G.a)(i).closeExceptByNames([],a,s)}catch(e){this.getLogInstance().error("closeExceptByNamesError",{msg:e.msg||e.message})}}else try{yield Object(G.a)(i).closeExceptByNames([r.PageName.MEETING,r.PageName.MINI_VIDEO])}catch(e){this.getLogInstance().error("closeExceptByNamesError",{msg:e.msg||e.message})}if(n!==r.SubType.SCREEN_SHARE&&n!==r.SubType.WIRED_SCREEN_SHARE||this.getApis().toast({type:r.ToastEvent.INFO,data:"View_M_YouStoppedSharingMirroring"}),o){const e=Object(G.a)(i);yield e.showByName(r.PageName.FEED_BACK,!1)}else yield Object(G.a)(i).closeByName(r.PageName.FEED_BACK);Object(G.a)(i).off(r.PageName.MEETING,r.PageEvent.CLOSED),Object(G.a)(i).off(r.PageName.MEETING,r.PageEvent.CRASHED)}catch(e){this.getLogInstance().error("leaveOnTheCallError",{msg:e&&(e.msg||e.message)||""})}}}))}function Se(e){const t=this.data.getConferenceData(),i={conference:{actionTime:t.conference&&t.conference.actionTime,endReason:t.conference&&t.conference.endReason,participants:t.conference&&t.conference.participants,conference_id:this.data&&this.data.conference&&this.data.conference.id,state:t.state,conferenceExtraInfo:t.conferenceExtraInfo}};this.getLogInstance().info(`transition(${e.from}=>${e.to})`,i),this.getApis().setStorage("last_user_state_key",e.to)}var Ce=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const me=V.a.wrapOnFunction("core",(function(e,t){return Ce(this,void 0,void 0,(function*(){if(!wo().getIsOnline())return void this.getApis().toast({type:r.ToastEvent.ERROR,data:"View_G_NoConnection"});const{participantIds:i}=e,n=i[0];if(this.getLogInstance().info("start inviting, target user: "+n),this.fsm.cannot("invite")){this.lifecycle("inviteStartFail",e);const{state:t}=yield this.getConferenceData();return this.getApis().toast({type:r.ToastEvent.ERROR,data:t===r.UserState.RINGING?"View_G_IncomingCallCannotCall":"View_G_CurrentlyInCall"}),void this.getLogInstance().info("cannot invite because user state is "+r.UserState[t])}t&&this.data.setMyParticipantSettings(t),this.lifecycle("invite",e),this.fsm.invite(e),this.getLogInstance().info("invite success, target user: "+n)}))}));var Ne=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Ae=V.a.wrapOnFunction("core",(function(e){return Ne(this,void 0,void 0,(function*(){try{return yield this.getApis().request(r.Command.SET_SUBTITLES_FILTER,e)}catch(e){this.getLogInstance().error("set subtitles filter error:"+e.message)}}))}));var Re=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Oe=V.a.wrapOnFunction("core",(function(e){return Re(this,void 0,void 0,(function*(){try{return yield this.getApis().request(r.Command.GET_PARTICIPANT_LIST,e)}catch(e){this.getLogInstance().error("get participantList error:"+e.message)}}))}));var ve=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Pe=V.a.wrapOnFunction("core",(function(e){return ve(this,void 0,void 0,(function*(){if(this.fsm.cannot("forceInvite1v1"))return this.lifecycle("forceInvite1v1StartFail",e),void this.getApis().printLarkError(220001);this.data.setConference(e),this.lifecycle("forceInvite1v1",e),this.fsm.forceInvite1v1({type:r.VideoChatType.CALL,participantIds:e.participants.filter(e=>e.id!==this.data.userId&&e.deviceId!==this.data.deviceId).map(e=>e.id),groupId:e.groupId,share:!1,force:!0})}))}));var Me=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Le=V.a.wrapOnFunction("core",(function(e){return Me(this,void 0,void 0,(function*(){const t=this.data.conference&&this.data.conference.id,i=this.data.conference&&this.data.conference.type;if(e){if(!t||i!==r.VideoChatType.MEETING)return;try{yield this.getApis().request(r.Command.UPDATE_VIDEO_CHAT,Object.assign({id:t,action:r.Action.CANCEL,actionTime:{},interactiveId:this.data.interactiveId},e)),this.getLogInstance().info("cancel invitation for someone success",e)}catch(e){this.getLogInstance().error("cancel invitation for someone error: "+e.message)}}if(t&&!this.fsm.cannot("cancelInvitation")){this.getPM().send(r.PageName.CALLING,{event:r.PageSendEvent.TOAST,data:{type:r.ToastEvent.NONE,i18nKey:"View_G_CallEnded"}}),this.lifecycle("cancelInvitation",void 0),this.fsm.cancelInvitation();try{yield this.getApis().request(r.Command.UPDATE_VIDEO_CHAT,{id:t,action:r.Action.CANCEL,actionTime:{},interactiveId:this.data.interactiveId}),this.lifecycle("cancelInvitationSuccess",void 0)}catch(e){this.lifecycle("cancelInvitationError",e)}}}))}));var be=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const De=V.a.wrapOnFunction("core",(function(e){return be(this,void 0,void 0,(function*(){const t=this.data.conference&&this.data.conference.id;if(t)try{const i=wo();yield Promise.all([i.cancelAllInvitation(),i.hangupAllMeetingsExceptByCoreId(this.data.coreId)]);const n=this.data.conference&&this.data.conference.settings||{},o={isCameraMuted:n.isCameraMuted||e.isCameraMuted,isMicrophoneMuted:n.isMicrophoneMuted||e.isMicrophoneMuted},{videoChatInfo:s,joinMeetingLobby:a}=yield this.getApis().request(r.Command.UPDATE_VIDEO_CHAT,{id:t,action:r.Action.ACCEPT,actionTime:{accept:this.data.getCurrentNTPTime()},participantSettings:o,interactiveId:this.data.interactiveId});if(this.data.setConference(s),this.data.setMyParticipantSettings(e),a&&a.isJoinMeetingLobby){if(this.fsm.cannot("acceptInvitationWithCheck"))return;this.lifecycle("acceptInvitationWithCheck",s),this.fsm.acceptInvitationWithCheck({videoChatInfo:s,lobbyParticipant:a.lobbyParticipant})}else{if(this.fsm.cannot("acceptInvitation"))return;this.lifecycle("acceptInvitation",e),this.fsm.acceptInvitation(),this.lifecycle("acceptInvitationSuccess",void 0),this.getLogInstance().info("accept invitation success")}}catch(e){const t=e&&e.code.toString()||"error",i={fail_reason:wo().getIsOnline()?t:"no_network",attend_timestamp:this.data.getCurrentNTPTime()};this.lifecycle("acceptInvitationFail",i),this.fsm.resetInvitation(),this.getLogInstance().info("accept invitation error: "+t)}}))}));var Ue=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const we=V.a.wrapOnFunction("core",(function(e){return Ue(this,void 0,void 0,(function*(){const t=this.data.conference&&this.data.conference.id;t&&!this.fsm.cannot("forceAcceptInvitation")&&e&&t===e.id&&(this.data.setConference(e),this.lifecycle("forceAcceptInvitation",e),this.fsm.forceAcceptInvitation())}))}));var ke=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Ge=V.a.wrapOnFunction("core",(function(){return ke(this,void 0,void 0,(function*(){const e=this.data.conference&&this.data.conference.id;if(e&&!this.fsm.cannot("refuseInvitation")){this.getPM().send(r.PageName.RINGING,{event:r.PageSendEvent.TOAST,data:{type:r.ToastEvent.NONE,i18nKey:"View_AM_Declined"}}),this.lifecycle("refuseInvitation",void 0),this.fsm.refuseInvitation();try{yield this.getApis().request(r.Command.UPDATE_VIDEO_CHAT,{id:e,action:r.Action.REFUSE,actionTime:{},interactiveId:this.data.interactiveId}),this.lifecycle("refuseInvitationSuccess",void 0)}catch(e){this.lifecycle("refuseInvitationFail",void 0)}}}))}));var Ve=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const He=V.a.wrapOnFunction("core",(function(e){return Ve(this,void 0,void 0,(function*(){this.lifecycle("resetInvitation",void 0);const t=this.fsm.state===r.UserState.CALLING?r.PageName.CALLING:r.PageName.RINGING,i=e.endReason===r.EndReason.CANCEL?"View_G_CallCanceled":"View_G_CallEnded",n=e.endReason===r.EndReason.REFUSE?"View_G_CallDeclined":i;this.getPM().send(t,{event:r.PageSendEvent.TOAST,data:{type:r.ToastEvent.NONE,i18nKey:n}}),this.fsm.resetInvitation(),this.getLogInstance().info("reset invitation")}))}));var Be=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Fe=V.a.wrapOnFunction("core",(function(e){return Be(this,void 0,void 0,(function*(){this.lifecycle("resetInvitationOnFail",void 0);const t=r.PageName.CALLING,i=function(e){return e&&e.message?{i18nText:e.message}:{i18nKey:"View_G_CallEnded"}}(e);this.getPM().send(t,{event:r.PageSendEvent.TOAST,data:Object.assign({type:r.ToastEvent.NONE},i)}),this.fsm.state!==r.UserState.RINGING&&this.fsm.resetInvitation()}))}));var je=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const We=V.a.wrapOnFunction("core",(function(){return je(this,void 0,void 0,(function*(){const e=this.data.getCurrentStatus()===r.UserState.CALLING;this.getLogInstance().info("resetInvitationOnTimeout: "+(e?"CALLING":"RINGING")),this.lifecycle("resetInvitationOnTimeout",void 0),this.lifecycle(e?"onCallingTimeout":"onRingingTimeout",void 0),e?this.cancelInvitation():(this.getPM().send(r.PageName.RINGING,{event:r.PageSendEvent.TOAST,data:{type:r.ToastEvent.NONE,i18nKey:"View_G_CallEnded"}}),this.fsm.resetInvitation())}))}));var xe=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Ke=V.a.wrapOnFunction("core",(function(e){return xe(this,void 0,void 0,(function*(){this.data.setConference(e),this.lifecycle("receiveInvitation",e);const{id:t}=e;this.getLogInstance().info("receive invitation from meeting "+t),this.getApis().request(r.Command.UPDATE_VIDEO_CHAT,{action:r.Action.RECEIVED_INVITATION,id:e.id,actionTime:{},interactiveId:this.data.interactiveId}),this.fsm.receiveInvitation(e)}))}));var qe=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Ye=V.a.wrapOnFunction("core",(function(e){return qe(this,void 0,void 0,(function*(){this.data.setConference(e),this.lifecycle("joinMeeting",e),this.fsm.joinMeeting();const{id:t}=e;this.getLogInstance().info("join meeting "+t)}))}));var Je=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const ze=V.a.wrapOnFunction("core",(function(e){return Je(this,void 0,void 0,(function*(){this.fsm.cannot("forceJoinMeeting")||(this.data.setConference(e),this.lifecycle("forceJoinMeeting",e),this.fsm.forceJoinMeeting())}))}));var Xe=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Qe=V.a.wrapOnFunction("core",(function(e){return Xe(this,void 0,void 0,(function*(){if(this.fsm.cannot("recoveryMeeting"))return;if(this.config.appInfo.appType===r.AppType.WEB)return;this.data.setConference(e);const t=e.participants.filter(e=>e.id===this.data.userId&&e.deviceId===this.data.deviceId)[0],i={isCameraMuted:t.settings&&t.settings.isCameraMuted,isMicrophoneMuted:t.settings&&t.settings.isMicrophoneMuted};this.data.setMyParticipantSettings(Object.assign(Object.assign({},this.data.myParticipantSettings),i)),this.lifecycle("recoveryMeeting",e),this.fsm.recoveryMeeting()}))}));var $e=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function Ze(e,t,i){return $e(this,void 0,void 0,(function*(){yield e.lifecycle("leaveMeeting",t),yield e.fsm.leaveMeeting(i)}))}function et(e,t){return e.getLogInstance().info(`canNotLeaveMeeting: ${e.fsm.cannot("leaveMeeting")},${!e.data.conference||t.id!==e.data.conference.id}`),e.fsm.cannot("leaveMeeting")||!e.data.conference||t.id!==e.data.conference.id}function tt(e,t){return $e(this,void 0,void 0,(function*(){const i=this.data.conference;if(!i)return this.getLogInstance().info("hangup: force close meeting windows",{userId:this.data.userId,actionType:r.Action[e],sdkExceptionReason:t}),void this.getPM().closeExceptByNames([r.PageName.FEED_BACK]);if(et(this,i))return;this.getLogInstance().info("hangup: "+r.Action[e]),this.lifecycle("hangup",i);const{id:n}=i,o=[];r.noRequestActionSet.has(e)||o.push(function(e,t,i,n){return $e(this,void 0,void 0,(function*(){return e.getApis().request(r.Command.UPDATE_VIDEO_CHAT,{action:r.CLIENT_ACTION_2_SERVER_ACTION[i]||i,id:t,actionTime:{},interactiveId:e.data.interactiveId,sdkExceptionReason:n||""})}))}(this,n,e,t)),o.push(Ze(this,i,r.HANGUP_ACTION_2_UISDK_LEAVE_MEETING_TYPE[e]));try{yield Promise.all(o),this.lifecycle("hangupSuccess",void 0)}catch(e){this.lifecycle("hangupError",e)}}))}const it=V.a.wrapOnFunction("core",tt);var nt=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const rt=V.a.wrapOnFunction("core",(function(e,t){return nt(this,void 0,void 0,(function*(){const i=t||this.data.conference;i&&(et(this,i)||(this.lifecycle("terminate",i),yield Ze(this,i,e)))}))}));var ot=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const st=V.a.wrapOnFunction("core",(function(e){return ot(this,void 0,void 0,(function*(){if(e.type===r.VideoChatType.CALL||this.data.getCurrentStatus()!==r.UserState.ON_THE_CALL)return void this.lifecycle("joinAnotherMeetingStartFail",e);const t=this.data.getUISDKLeaveSettings(r.UISDKLeaveMeetingType.JOIN_ANOTHER);this.data.setConference(e);const i=this.data.getUISDKSettings(r.UISDKJoinMeetingType.JOIN_ANOTHER_MEETING);if(i){this.lifecycle("joinAnotherMeeting",i);try{yield this.sdks.joinAnotherMeeting(i,t),this.lifecycle("joinAnotherMeetingSuccess",i)}catch(e){this.lifecycle("joinAnotherMeetingError",e)}}}))}));var at=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function dt(e){return at(this,void 0,void 0,(function*(){if(!e)return;const t=this.data.findStatusInVideoChatInfo(e),i=this.data.getOfflineReason(e),n=this.data.getCurrentStatus(),o=this.data.conference&&this.data.conference.id;this.getLogInstance().info(`handleVCInfo(${e.id}:${n}=>${r.ParticipantStatus[t]})`,e);const[s="",a,d=""]=yield Promise.all([this.getApis().getStorage("byteview_last_meeting_key_meeting_id"),this.getApis().getStorage("byteview_last_meeting_key_type"),this.getApis().getStorage("byteview_last_meeting_key_core_id")]),c={meetingId:s,type:Number(a),coreId:d},l=(e.participants.find(e=>e.id===this.data.userId&&e.deviceId===this.data.deviceId)||{}).interactiveId,p=this.data.getInteractiveId();if(!(n===r.UserState.IDLE&&c&&e.id===c.meetingId&&l===p||n!==r.UserState.IDLE&&n!==r.UserState.CALLING&&t===r.ParticipantStatus.RINGING))if(n!==r.UserState.IDLE||t!==r.ParticipantStatus.RINGING)if(n===r.UserState.IDLE&&t===r.ParticipantStatus.CALLING&&this.forceInvite1v1(e),n===r.UserState.IDLE&&t===r.ParticipantStatus.ON_THE_CALL&&(e.force?this.forceJoinMeeting(e):this.recoveryMeeting(e)),n!==r.UserState.CALLING||t!==r.ParticipantStatus.ON_THE_CALL)if(n!==r.UserState.RINGING||t!==r.ParticipantStatus.ON_THE_CALL)if(n!==r.UserState.CALLING&&n!==r.UserState.RINGING||t!==r.ParticipantStatus.IDLE){if(n===r.UserState.ON_THE_CALL&&t===r.ParticipantStatus.IDLE)return i===r.OfflineReason.KICK_OUT?void this.terminate(r.UISDKLeaveMeetingType.KICKED_OUT,e):i===r.OfflineReason.OVERTIME?void this.terminate(r.UISDKLeaveMeetingType.TRIAL_TIMEOUT,e):void this.terminate(r.UISDKLeaveMeetingType.TERMINATE,e);if(!0!==e.force||n!==r.UserState.ON_THE_CALL||t!==r.ParticipantStatus.ON_THE_CALL||e.id===o){if(n===r.UserState.CALLING||n===r.UserState.ON_THE_CALL||n===r.UserState.RINGING){if(n===r.UserState.ON_THE_CALL){const{msg:t}=e;if(!t)return;const{isShow:i,type:n,expire:o,msgI18nKey:s}=t;if(!i)return;if(n===r.MsgInfoType.TIPS&&this.getPM().send(r.PageName.MEETING,{event:r.PageSendEvent.TIP,data:{msgI18nKey:s}}),n===r.MsgInfoType.TOAST&&s){const e=yield this.getViewI18nFromRust(s);this.getPM().send(r.PageName.MEETING,{event:r.PageSendEvent.TOAST,data:{i18nText:e,duration:o,type:r.ToastEvent.INFO}})}}this.data.setConference(e),yield this.lifecycle("onVCInfoUpdate",e)}n===r.UserState.WAIT&&t===r.ParticipantStatus.ON_THE_CALL&&e.force&&this.data.appInfo.appType===r.AppType.ROOM&&this.fsm.can("joinMeetingWithApproval")&&(this.data.setConference(e),this.fsm.joinMeetingWithApproval(e))}else this.joinAnotherMeeting(e)}else this.resetInvitation(e);else this.forceAcceptInvitation(e);else this.joinMeeting(e);else this.receiveInvitation(e)}))}var ct=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function lt(e){return ct(this,void 0,void 0,(function*(){this.data.setConferenceExtra(e),yield this.lifecycle("onVCExtraInfoUpdate",e)}))}var pt=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function ut(e,t,i){const n=e.getPM();e.config.appInfo.appType===r.AppType.ROOM||n.isShow(r.PageName.MEETING)?n.send(r.PageName.MEETING,{event:r.PageSendEvent.IN_MEETING_NOTICE,data:i?{info:i,type:t}:t}):e.data.cacheMeetingNotice({type:t,info:i})}function _t(e,t,i){return pt(this,void 0,void 0,(function*(){e.isExist(t)?e.send(t,{event:r.PageSendEvent.PAGE_DATA,data:{name:t,payload:i}}):yield e.openByName(t,i,{show:!1}),yield e.setPositionWithOnePageByName(t,r.PageName.SHARE_SCREEN_CONTROL_BAR,{isCenter:!0}),yield e.showByName(t)}))}function Et(e){return pt(this,void 0,void 0,(function*(){if(!this.data.conference)return void this.getLogInstance().info("No meetingId when get meetingChangedInfo, coreId: "+this.data.coreId);const t=this.data.isHost(),i=this.data.isCoHost(),n=t||i,{handsStatus:o=r.HandsStatus.UNKNOWN}=this.data.getMyselfInfo().settings||{};e.changes.forEach(e=>{if(!this.data.conference||e.meetingId===this.data.conference.id)if(e.type===r.InMeetingDataType.RECORD_MEETING&&e.recordingData)!function(e,t){const{type:i}=t.recordingData;if(i!==r.RecordMeetingDataType.PARTICIPANT_REQUEST)if(i!==r.RecordMeetingDataType.HOST_RESPONSE)i!==r.RecordMeetingDataType.RECORDING_STATUS_CHANGE||t.recordingData.isRecording||e.getPM().send(r.PageName.MEETING,{event:r.PageSendEvent.TOAST,data:{type:r.ToastEvent.NONE,i18nKey:"View_M_RecordingStopped"}});else{const t=e.data.conference.type===r.VideoChatType.CALL?"View_AV_DeclinedToRecordNameBraces":"View_M_HostDeclinedToRecord";e.getPM().send(r.PageName.MEETING,{event:r.PageSendEvent.TOAST,data:{type:r.ToastEvent.NONE,i18nKey:t}})}else{const i={visible:!0,type:r.RecordConfirmType.REQUEST_RECORD,data:{user:t.recordingData.requester,policyUrl:t.recordingData.policyUrl}};if(e.config.appInfo.appType!==r.AppType.ROOM&&e.data.conferenceInMeeting.shareScreenInMeetingInfo&&e.data.conferenceInMeeting.shareScreenInMeetingInfo.participantId===e.data.userId&&e.data.conferenceInMeeting.shareScreenInMeetingInfo.participantDeviceId===e.data.deviceId){_t(e.getPM(),r.PageName.RECORD_CONFIRM,i)}else ut(e,r.PageInMeetingNoticeType.CONFIRM_START_RECORD,i)}}(this,e);else if(e.type===r.InMeetingDataType.APPLY_REMOTE_CONTROL&&e.applyRemoteControlData)!function(e,t){const{shareScreenId:i}=t.applyRemoteControlData,{shareScreenId:n}=e.data.conferenceInMeeting.shareScreenInMeetingInfo,{isSharingScreen:o}=e.data;if(o&&i===n){const i=e.getPM(),n=Object.assign({visible:!0,type:r.RemoteControlModalType.APPLY},t.applyRemoteControlData);_t(i,r.PageName.REMOTE_CONTROL_MODAL,n)}}(this,e);else if(e.type!==r.InMeetingDataType.APPLY_BYTEVIEW_ACCESSIBILITY)if(e.type===r.InMeetingDataType.HOST_TRANSFERRED&&e.hostTransferData){const{hostId:t,hostDeviceId:i}=e.hostTransferData;t===this.data.userId&&i===this.data.deviceId&&ut(this,r.PageInMeetingNoticeType.TOAST_HOST_CHANGE_TO_ME)}else{if(e.type===r.InMeetingDataType.ALL_MICROPHONE_MUTED&&e.muteAllData){const{isMuted:t,operationUser:i}=e.muteAllData;if(t&&n)return void ut(this,r.PageInMeetingNoticeType.TOAST_ALL_MUTE_INCLUDING_NEW);if(!t&&n&&i.userId===this.data.userId&&i.deviceId===this.data.deviceId)return void ut(this,r.PageInMeetingNoticeType.TOAST_HOST_REQUEST_SENT);if(t)return void ut(this,r.PageInMeetingNoticeType.TOAST_ALL_MICROPHONE_MUTE);if(!t)return void(o!==r.HandsStatus.PUT_UP&&ut(this,r.PageInMeetingNoticeType.CONFIRM_ALL_MICROPHONE_UNMUTE))}if(e.type===r.InMeetingDataType.SCREEN_SHARED&&e.screenSharedData){const{isSharing:t,shareScreenId:i}=e.screenSharedData;if(this.data.appInfo.appType===r.AppType.ROOM)return;if(this.data.isSharingScreen===t)return;return this.data.isSharingScreen=t,this.data.shareScreenId=i,void ut(this,t?r.PageInMeetingNoticeType.TOAST_ALL_START_SHARE_SCREEN:r.PageInMeetingNoticeType.TOAST_ALL_STOP_SHARE_SCREEN,{participantId:e.screenSharedData.participantId,participantDeviceId:e.screenSharedData.participantDeviceId,participantType:e.screenSharedData.participantType})}if(e.type!==r.InMeetingDataType.PARTICIPANTS_CHANGED||!e.participantsChangedData)if(e.type!==r.InMeetingDataType.HOST_MUTE_MIC)if(e.type!==r.InMeetingDataType.HOST_MUTE_CAMERA)if(e.type!==r.InMeetingDataType.UNMUTE_CAMERA_CONFIRMED)if(e.type!==r.InMeetingDataType.UNMUTE_MICROPHONE_CONFIRMED||o===r.HandsStatus.PUT_UP){if(e.type===r.InMeetingDataType.SECURITY_LEVEL_FASTEN&&ut(this,r.PageInMeetingNoticeType.TOAST_MEETING_LOCKED),e.type===r.InMeetingDataType.SECURITY_LEVEL_UNFASTEN&&ut(this,r.PageInMeetingNoticeType.TOAST_MEETING_UNLOCKED),e.type===r.InMeetingDataType.SETTINGS_CHANGED&&e.settingsChangedData&&e.settingsChangedData.meetingSettings&&e.settingsChangedData.meetingSettings.allowPartiUnmute&&o===r.HandsStatus.PUT_UP&&(ut(this,r.PageInMeetingNoticeType.TOAST_CAN_UNMUTE_MICROPHONE_BY_SELF),this.pullSelfInfo()),this.data.appInfo.appType===r.AppType.ROOM&&e.type===r.InMeetingDataType.SETTINGS_CHANGED&&e.settingsChangedData&&e.settingsChangedData.meetingSettings&&e.settingsChangedData.meetingSettings.securitySetting&&n){const{securityLevel:t}=e.settingsChangedData.meetingSettings.securitySetting;let i;switch(t){case r.SecurityLevel.PUBLIC:i=r.PageInMeetingNoticeType.TOAST_MEETING_ANYONE;break;case r.SecurityLevel.TENANT:i=r.PageInMeetingNoticeType.TOAST_MEETING_SAME_COMPANY;break;case r.SecurityLevel.CONTACTS_AND_GROUP:i=r.PageInMeetingNoticeType.TOAST_MEETING_SELECTED;break;case r.SecurityLevel.ONLY_HOST:i=r.PageInMeetingNoticeType.TOAST_MEETING_HOST_INVITED}i&&ut(this,i)}if(e.type===r.InMeetingDataType.REQUEST_FOLLOW_TOKEN&&e.followData&&e.followData.followInfo.url&&this.grantFollowToken(e.followData.followInfo.url),e.type===r.InMeetingDataType.SUBTITLE_STATUS_CONFIRMED){const{status:t,firstOneOpenSubtitle:i}=e.subtitleStatusData;switch(t){case r.SubtitleStatus.STATUS_UNKNOWN:break;case r.SubtitleStatus.RECOVER_SUCCESS:case r.SubtitleStatus.OPEN_SUCCESS:this.emit(r.BroadcastEvent.SUBTITLE_DATA_UPDATE,{isReconnecting:!1,isAsrConnected:!0});break;case r.SubtitleStatus.OPEN_FAILED:ut(this,r.PageInMeetingNoticeType.TOAST_SUBTITLE_OPEN_FAILED),this.emit(r.BroadcastEvent.SUBTITLE_DATA_UPDATE,{isAsrConnected:!1});break;case r.SubtitleStatus.EXCEPTION:ut(this,r.PageInMeetingNoticeType.TOAST_SUBTITLE_LOAD_FAILED),this.emit(r.BroadcastEvent.SUBTITLE_DATA_UPDATE,{isAsrConnected:!1});break;case r.SubtitleStatus.RECOVERABLE_EXCEPTION:this.emit(r.BroadcastEvent.SUBTITLE_DATA_UPDATE,{isReconnecting:!0,isAsrConnected:!1});break;case r.SubtitleStatus.FIRST_OPEN:ut(this,r.PageInMeetingNoticeType.TOAST_FIRST_OPEN_SUBTITLE,{operator:i})}}if(e.type,r.InMeetingDataType.APPLY_REMOTE_CONTROL,e.type===r.InMeetingDataType.LIVE_MEETING){const{type:t,liveInfo:i}=e.liveData;switch(t){case r.LiveMeetingDataType.LIVE_INFO_CHANGE:this.emit(r.BroadcastEvent.LIVE_DATA_UPDATE,i)}}}else ut(this,r.PageInMeetingNoticeType.CONFIRM_UNMUTE_MY_MICROPHONE);else ut(this,r.PageInMeetingNoticeType.CONFIRM_UNMUTE_MY_CAMERA);else ut(this,r.PageInMeetingNoticeType.TOAST_MUTE_MY_CAMERA);else ut(this,r.PageInMeetingNoticeType.TOAST_MUTE_MY_MICROPHONE)}else!function(e,t){if(e.data.conferenceInMeeting.shareScreenInMeetingInfo&&e.data.conferenceInMeeting.shareScreenInMeetingInfo.participantId===e.data.userId&&e.data.conferenceInMeeting.shareScreenInMeetingInfo.participantDeviceId===e.data.deviceId){const i=e.getPM();if(i.isShow(r.PageName.ACCESSIBILITY_CONFIRM))return;_t(i,r.PageName.ACCESSIBILITY_CONFIRM,{visible:!0,data:{user:t.applyByteviewAccessibilityData.applier,source:"Annotate"}})}}(this,e)})}))}var ht=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Tt={[r.NoticeStatus.UNKNOWN]:r.ToastEvent.INFO,[r.NoticeStatus.SUCCESS]:r.ToastEvent.SUCCESS,[r.NoticeStatus.USER_BUSY_ERROR]:r.ToastEvent.ERROR},yt={[r.NoticeStatus.UNKNOWN]:r.ConfirmPopUpEvent.INFO,[r.NoticeStatus.SUCCESS]:r.ConfirmPopUpEvent.SUCCESS,[r.NoticeStatus.USER_BUSY_ERROR]:r.ConfirmPopUpEvent.ERROR};function ft(e){return ht(this,void 0,void 0,(function*(){this.getLogInstance().info(`handleVCNotice(${e.type}:${e.status})`,e);const{type:t,status:i,noticeId:n,timeout:o,messageId:s,meetingId:a,msgI18nKey:d,titleI18nKey:c,toastPosition:l,toastDurationMs:p,meetingEndTime:u}=e;let _="",E="";if(d&&(_=yield this.getViewI18nFromRust(d)),c&&(E=yield this.getViewI18nFromRust(c)),t===r.NoticeType.TOAST){const e=Tt[i]||r.ToastEvent.INFO;l&r.ToastPositionMask.VC?this.getPM().broadcast({event:r.PageSendEvent.TOAST,data:{type:e,i18nText:_,duration:p||2500}}):(void 0===l||l&r.ToastPositionMask.LARK)&&this.getApis().toast({type:e,data:_,duration:p})}t===r.NoticeType.TIPS&&this.getPM().send(r.PageName.MEETING,{event:r.PageSendEvent.TIP,data:{msgI18nKey:d,needCacheToUpdate:!0}});const h=(e,t)=>ht(this,void 0,void 0,(function*(){return this.getApis().request(r.Command.REPLY_VIDEO_CHAT_NOTICE,{action:e,noticeId:t})}));if(t===r.NoticeType.PREVIEW&&s&&(h(r.NoticeReplyAction.CANCEL,n),this.openPreviewPage({messageId:s,meetingId:a})),t===r.NoticeType.POPUP){if(e.popupType===r.PopupType.POPUP_FORCE_JOIN)return;if(e.popupType===r.PopupType.POPUP_PREVIEW&&s&&(h(r.NoticeReplyAction.CANCEL,n),this.getApis().confirm({title:E,message:_,confirmHandle:()=>ht(this,void 0,void 0,(function*(){yield this.forceLeaveMeeting(),this.openPreviewPage({messageId:s,meetingId:a}),this.track(r.Homeric.VC_MEETING_LARK_HINT,void 0)})),cancelHandle:()=>{}})),e.popupType===r.PopupType.POPUP_NORMAL){const e={type:yt[i],title:E,content:_};ut(this,r.PageInMeetingNoticeType.CONFIRM_POPUP,e)}if(e.popupType===r.PopupType.POPUP_RECORDING_CONFIRM){const e={titleI18nKey:c,msgI18nKey:d};ut(this,r.PageInMeetingNoticeType.CONFIRM_RECORDING,e)}if(e.popupType===r.PopupType.POPUP_DOC_PERM_CONFIRM){const e={title:E,titleI18nKey:c,message:_,msgI18nKey:d,messageId:s,meetingId:a};ut(this,r.PageInMeetingNoticeType.CONFIRM_DOC_PERM,e)}if(e.popupType===r.PopupType.POPUP_MEETING_END_CONFIRM){const e={titleI18nKey:c,msgI18nKey:d,meetingEndTime:u};ut(this,r.PageInMeetingNoticeType.MEETING_END_CONFIRM,e)}}t===r.NoticeType.ALERT&&_&&this.getApis().alert({message:_,timeout:o})}))}function It(e){this.getLogInstance().info("heartbeat stop:"+e.reason,e),this.getApis().toast({type:r.ToastEvent.HINT,data:"View_G_Disconnected"}),setTimeout(()=>{this.data.conference&&(e.serviceType===r.HeartbeatServiceType.VC?this.hangup(r.Action.HEARTBEAT_STOP):e.serviceType===r.HeartbeatServiceType.VCLOBBY&&this.cancelWait(r.LocalEndReason.CALL_UNEXPECTEDLY_END))},1e3)}var gt=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function St(e){return gt(this,void 0,void 0,(function*(){if(!this.data.conference||this.data.conference.id!==e.inMeetingInfo.id)return;const t=this.data.conferenceInMeeting,{followInfo:i}=e.inMeetingInfo,n=(t||{}).followInfo;if(this.data.setConferenceExtra(e.extraInfo||null),this.data.setConferenceInMeeting(e.inMeetingInfo),e.calendarInfo&&this.data.setCalendarInfo(e.calendarInfo),!(i&&i.deviceId&&i.userId)||i.userId===this.data.userId&&i.deviceId===this.data.deviceId||n&&n.userId&&n.deviceId&&i.shareId===n.shareId)if(n&&n.userId&&n.deviceId&&i&&i.userId&&i.deviceId&&i.shareId===n.shareId&&(i.userId!==n.userId||i.deviceId!==n.deviceId)){const e=this.data.userId===i.userId&&this.data.deviceId===i.deviceId;ut(this,r.PageInMeetingNoticeType.TOAST_DOC_SHARE_TRANSFER_PRESENTER,{isNewPresenter:e,participantId:e?n.userId:i.userId,participantDeviceId:e?n.deviceId:i.deviceId})}else{var o;(o=this).data.getParticipants().forEach(e=>{const{deviceId:t,id:i,interactiveId:n,isHost:s}=e;t&&t!==o.data.deviceId&&(o.data.meetingUsersDeviceId.has(t)||(o.data.meetingUsersDeviceId.set(t,!0),o.track(r.Homeric.VC_MONITOR_SDK,{action_name:"first_subscribe",extend_value:{from_device_id:t,from_interactive_id:n,is_host:s}})))})}else ut(this,r.PageInMeetingNoticeType.TOAST_DOC_SHARE_START,{participantId:i.userId,participantDeviceId:i.deviceId,shareType:i.shareType,subType:i.shareSubtype})}))}var Ct=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const mt={toastText:"",shouldToast:!1},Nt={[r.JoinMeetingResponseType.MEETING_ENDED]:At({toastText:"View_M_MeetingHasEnded",shouldToast:!0}),[r.JoinMeetingResponseType.UNKNOWN]:At({toastText:"View_M_FailedToJoinMeeting",shouldToast:!0}),[r.JoinMeetingResponseType.PARTICIPANT_LIMIT_EXCEED]:({core:e})=>Ct(void 0,void 0,void 0,(function*(){const{rtcMaxParticipantCount:t=10}=yield e.getVideoChatConfig();return{toastText:"View_M_LimitReachedMaxMemberBraces",toastParam:{maxMember:String(t)},shouldToast:!0}})),[r.JoinMeetingResponseType.VOIP_BUSY]:At({toastText:"View_G_CurrentlyInCall",shouldToast:!0}),[r.JoinMeetingResponseType.VC_BUSY]:({core:e,param:t})=>Ct(void 0,void 0,void 0,(function*(){return function(e,t){Ct(this,void 0,void 0,(function*(){const i=e.getApis(),n=i.getI18NText("View_M_JoinMeetingQuestion"),r=i.getI18NText("View_M_LeaveAndJoinQuestion"),o=i.getI18NText("View_G_ConfirmButton"),s=i.getI18NText("View_G_CancelButton");return new Promise((a,d)=>{i.confirm({title:n,message:r,confirmText:o,cancelText:s,confirmHandle:()=>Ct(this,void 0,void 0,(function*(){yield Rt({core:e,param:Object.assign(Object.assign({},t),{additionalBehavior:Object.assign(Object.assign({},t.additionalBehavior),{force:!0})})})})),cancelHandle:()=>{}})})}))}(e,t),mt})),[r.JoinMeetingResponseType.VERSION_LOW]:({core:e,containerApi:t})=>Ct(void 0,void 0,void 0,(function*(){try{const{hasNew:e}=yield t.request(r.Command.GET_NEW_VERSION);if(e)return t.confirm({title:t.getI18NText("View_M_UpdateSoftwareTitle"),message:t.getI18NText("View_M_UpdateSoftwareInfo"),confirmText:t.getI18NText("View_M_GetUpdate"),cancelText:t.getI18NText("View_G_NoThanksButton"),confirmHandle:()=>Ct(void 0,void 0,void 0,(function*(){(yield t.getFg("lark.setting.auto.update",!0))?t.request(r.Command.INVOKE_SETTING_UPDATE_PAGE):t.request(r.Command.INVOKE_SETTING_ABOUT_PAGE)})),cancelHandle:()=>{}}),mt}catch(t){e.getLogInstance().error("get new version fail: "+t)}return{toastText:"View_G_FeatureNotSupported",shouldToast:!0}}))};function At(e){return()=>Promise.resolve(e)}function Rt({core:e,param:t}){return Ct(this,void 0,void 0,(function*(){const i=yield e.getApis().request(r.Command.JOIN_MEETING,t),{joinMeetingLobby:n}=i;if(n&&n.isJoinMeetingLobby)return i;if(r.JoinMeetingResponseType.SUCCESS===i.type)return i;return{type:yield function(e,t,i){return Ct(this,void 0,void 0,(function*(){const n=e.getApis(),o=n.getI18NText("View_M_FailedToJoinMeeting");if(i===r.JoinMeetingResponseType.INVALID_MEETING_ID)return i;if(Nt[i]){const{toastText:s,toastParams:a,shouldToast:d}=yield Nt[i]({core:e,containerApi:n,param:t});d&&n.toast({type:r.ToastEvent.ERROR,data:s||o,param:a})}return i}))}(e,t,i.type)}}))}var Ot=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function vt(e,t){e.track(r.Homeric.VC_MEETING_PAGE_PREVIEW,{from_source:"response",action_name:"attend",extend_value:{error_code:t}})}function Pt(e,t,i){const{selfParticipantInfo:n}=t,{participantSettings:o,isSpeakerMuted:s,cameraDeviceId:a,microphoneDeviceId:d,speakerDeviceId:c}=n,{isCameraMuted:l,isMicrophoneMuted:p}=o||{};e.getPM().closeByName(r.PageName.PREVIEW),e.getApis().controlPreviewModal({visible:!1,loading:!1}),e.fsm.cannot("previewJoinMeeting")||(e.data.setConference(i),e.data.setMyParticipantSettings({isSpeakerMuted:s,isCameraMuted:l,isMicrophoneMuted:p,cameraDeviceId:a,microphoneDeviceId:d,speakerDeviceId:c}),e.lifecycle("previewJoinMeeting",i),e.fsm.previewJoinMeeting())}const Mt=V.a.wrapOnFunction("core",(function(e){return Ot(this,void 0,void 0,(function*(){const{canMeeting:t,errorToastText:i}=yield wo().canMeetingFromPreview(),n=this.getApis(),o=n.getI18NText("View_M_FailedToJoinMeeting");if(wo().getIsOnline()){if(!t)return vt(this,r.PreviewJoinVideoChatErrorType.LOCAL_BUSY),void n.toast({type:r.ToastEvent.ERROR,data:i||o});try{const e=wo();yield Promise.all([e.cancelAllInvitation(),e.hangupAllMeetingsExceptByCoreId(this.data.coreId)])}catch(e){this.getLogInstance().error("hangup Other meeting error")}return Rt({core:this,param:e}).then(({joinMeetingLobby:t,type:i,videoChatInfo:n})=>(t&&t.isJoinMeetingLobby?function(e,t,i,n){e.getPM().closeByName(r.PageName.PREVIEW),e.getApis().controlPreviewModal({visible:!1,loading:!1}),e.fsm.cannot("joinMeetingWithCheck")||(e.data.setConference(i),e.lifecycle("joinMeetingWithCheck",i),e.fsm.joinMeetingWithCheck({videoChatInfo:i,lobbyParticipant:n}))}(this,0,n,t.lobbyParticipant):r.JoinMeetingResponseType.SUCCESS===i?Pt(this,e,n):vt(this,i),i)).catch(e=>{throw e&&e.code&&vt(this,e),e})}this.getApis().toast({type:r.ToastEvent.ERROR,data:"View_G_NoConnection"})}))}));var Lt=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const bt=V.a.wrapOnFunction("core",(function(e){return Lt(this,void 0,void 0,(function*(){if(!this.data.conference)return;const{participantDeviceId:t,participantId:i,participantType:n,requestedByHost:o}=e,s=this.data.conference.id;if(i&&t&&(i!==this.data.userId||t!==this.data.deviceId))return yield this.getApis().request(r.Command.HOST_MANAGE,{meetingId:s,participantDeviceId:t,participantId:i,participantType:n,action:r.HostManageAction.MUTE_MICROPHONE,isMuted:!1}),void this.getPM().send(r.PageName.MEETING,{event:r.PageSendEvent.IN_MEETING_NOTICE,data:r.PageInMeetingNoticeType.TOAST_HOST_REQUEST_SENT});this.data.setInMeetingMicrophoneMuted(!1),yield this.sdks.unMuteAudio(),this.getApis().request(r.Command.PARTICIPANT_CHANGE_SETTINGS,{meetingId:s,requestedByHost:o,participantSettings:{isMicrophoneMuted:!1}})}))}));var Dt=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Ut=V.a.wrapOnFunction("core",(function(e){return Dt(this,void 0,void 0,(function*(){if(!this.data.conference)return;const{participantDeviceId:t,participantId:i,participantType:n}=e,o=this.data.conference.id;if(i&&t&&(i!==this.data.userId||t!==this.data.deviceId))return yield this.getApis().request(r.Command.HOST_MANAGE,{meetingId:o,participantDeviceId:t,participantId:i,participantType:n,action:r.HostManageAction.MUTE_CAMERA,isMuted:!1}),void this.getPM().send(r.PageName.MEETING,{event:r.PageSendEvent.IN_MEETING_NOTICE,data:r.PageInMeetingNoticeType.TOAST_HOST_REQUEST_SENT});this.data.setInMeetingCameraMuted(!1),yield this.sdks.unMuteVideo(),this.getApis().request(r.Command.PARTICIPANT_CHANGE_SETTINGS,{meetingId:o,participantSettings:{isCameraMuted:!1}})}))}));var wt=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const kt=V.a.wrapOnFunction("core",(function(){return wt(this,void 0,void 0,(function*(){if(!this.data.conference)return;const e=this.data.conference.id;this.getApis().request(r.Command.HOST_MANAGE,{meetingId:e,action:r.HostManageAction.MUTE_ALL_MICROPHONE,isMuted:!1})}))}));var Gt=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Vt=V.a.wrapOnFunction("core",(function(e){return Gt(this,void 0,void 0,(function*(){if(!this.data.conference)return;const t=this.data.conference.id,{participantDeviceId:i,participantId:n,participantType:o}=e;!n||!i||n===this.data.userId&&i===this.data.deviceId?(this.data.setInMeetingMicrophoneMuted(!0),yield this.sdks.muteAudio(),this.getApis().request(r.Command.PARTICIPANT_CHANGE_SETTINGS,{meetingId:t,participantSettings:{isMicrophoneMuted:!0}})):this.getApis().request(r.Command.HOST_MANAGE,{meetingId:t,participantDeviceId:i,participantId:n,participantType:o,action:r.HostManageAction.MUTE_MICROPHONE,isMuted:!0})}))}));var Ht=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Bt=V.a.wrapOnFunction("core",(function(e){return Ht(this,void 0,void 0,(function*(){if(!this.data.conference)return;const{participantDeviceId:t,participantId:i,participantType:n}=e,o=this.data.conference.id;!i||!t||i===this.data.userId&&t===this.data.deviceId?(this.data.setInMeetingCameraMuted(!0),yield this.sdks.muteVideo(),this.getApis().request(r.Command.PARTICIPANT_CHANGE_SETTINGS,{meetingId:o,participantSettings:{isCameraMuted:!0}})):this.getApis().request(r.Command.HOST_MANAGE,{meetingId:o,participantDeviceId:t,participantId:i,participantType:n,action:r.HostManageAction.MUTE_CAMERA,isMuted:!0})}))}));var Ft=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const jt=V.a.wrapOnFunction("core",(function(e){return Ft(this,void 0,void 0,(function*(){if(!this.data.conference)return;const t=this.data.conference.id;this.getApis().request(r.Command.HOST_MANAGE,{meetingId:t,action:r.HostManageAction.MUTE_ALL_MICROPHONE,isMuted:!0,allowPartiUnmute:e})}))}));var Wt=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const xt=V.a.wrapOnFunction("core",(function(){return Wt(this,void 0,void 0,(function*(){if(!this.data.conference)return;const e=this.data.conference.id;this.getApis().request(r.Command.PARTICIPANT_CHANGE_SETTINGS,{meetingId:e,participantSettings:{handsStatus:r.HandsStatus.PUT_UP}})}))}));var Kt=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const qt=V.a.wrapOnFunction("core",(function(){return Kt(this,void 0,void 0,(function*(){if(!this.data.conference)return;const e=this.data.conference.id;this.getApis().request(r.Command.PARTICIPANT_CHANGE_SETTINGS,{meetingId:e,participantSettings:{handsStatus:r.HandsStatus.PUT_DOWN}})}))}));var Yt=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Jt=V.a.wrapOnFunction("core",(function(e){return Yt(this,void 0,void 0,(function*(){if(!this.data.conference)return;const t=this.data.conference.id;this.getApis().request(r.Command.HOST_MANAGE,Object.assign(Object.assign({meetingId:t},e),{action:r.HostManageAction.TRANSFER_HOST}))}))}));var zt=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Xt=V.a.wrapOnFunction("core",(function(){return zt(this,void 0,void 0,(function*(){if(this.data.conference){this.lifecycle("forceLeaveMeeting",this.data.conference),yield Ze(this,this.data.conference,r.UISDKLeaveMeetingType.FORCE_LEAVE);try{yield this.getApis().request(r.Command.FORCE_LEAVE_VIDEO_CHAT),this.lifecycle("forceLeaveMeetingSuccess",void 0)}catch(e){this.lifecycle("forceLeaveMeetingError",e)}}}))}));var Qt=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const $t=V.a.wrapOnFunction("core",(function(e,t){return Qt(this,void 0,void 0,(function*(){this.data.userId=e,this.getPM().setUserId(e),this.data.deviceId=t,this.getPM().setDeviceId(t)}))}));var Zt=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const ei=V.a.wrapOnFunction("core",(function(e){return Zt(this,void 0,void 0,(function*(){this.getApis().controlPreviewModal({loading:!0,visible:!0}),this.sdks.connectSignalServer(this.data.vendorType,"openPreviewPage"),this.getPM().openByName(r.PageName.PREVIEW,Object.assign(Object.assign({},e),{bot:Object(b.getTimestamp)()}))}))}));var ti=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const ii=V.a.wrapOnFunction("core",(function(e){return ti(this,void 0,void 0,(function*(){if(!this.data.conference)return;const{conference:{id:t}}=this.data;this.getLogInstance().info("update device status",{log_content:JSON.stringify(e)}),this.data.setMyParticipantSettings(e),yield this.getApis().request(r.Command.PARTICIPANT_CHANGE_SETTINGS,{meetingId:t,participantSettings:e})}))}));var ni=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const ri=V.a.wrapOnFunction("core",(function(e){return ni(this,void 0,void 0,(function*(){var t,i;if(!this.fsm.cannot("screenShareJoinMeeting"))try{this.track(r.Homeric.VC_CLIENT_SIGNAL_INFO,{action_name:"req_create"});const{shareScreenItem:t}=this.data;t&&t.isMagic&&(e.shareType=r.ShareToRoomType.MAGIC_SHARE,e.magicShareInfo={url:t.docUrl||"",lifeTime:r.FollowLifeTime.EPHEMERAL,options:{defaultFollow:!0,forceFollow:!1}});const{info:i}=yield this.getApis().request(r.Command.SHARE_SCREEN_TO_ROOM,e,!1);this.data.setConference(i),this.data.setMyParticipantSettings(this.data.getMyselfInfo().settings),this.track(r.Homeric.VC_CLIENT_SIGNAL_INFO,{action_name:"recive_meeting_info",isMagic:t&&t.isMagic?1:0}),this.fsm.screenShareJoinMeeting()}catch(e){return e&&e.code&&(t=this,i=e.code,t.track(r.Homeric.VC_LOCAL_SCREEN_SHARE_MEETING,{from_source:"response",action_name:"join",extend_value:{error_code:i}})),e}}))}));var oi=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};let si=!1;const ai=V.a.wrapOnFunction("core",(function(e,t){return oi(this,void 0,void 0,(function*(){if(!this.data.conference)return;if(si)return void this.getLogInstance().info("previous share desktop pending");let i;si=!0,this.data.setSharingStatus(!0);const n={meetingId:this.data.conference.id,action:r.ShareScreenAction.START,isSmoothMode:t};try{this.lifecycle("startShareScreen",n),[i]=yield Promise.all([this.getApis().request(r.Command.SHARE_SCREEN,n),this.setRTCCaptureProfile({isSmoothMode:t})]),this.track(r.Homeric.VC_CLIENT_SIGNAL_INFO,{action_name:"share_screen_result",share_screen_id:i.shareScreenId}),this.lifecycle("startShareScreenSuccess",n)}catch(e){throw this.lifecycle("startShareScreenFail",n),this.data.setSharingStatus(!1),si=!1,e}try{this.lifecycle("onScreenShare",n);if(-1===(yield this.sdks.shareDesktop(e)))throw new Error("shareDesktop failed");this.lifecycle("onScreenShareSuccess",n)}catch(e){throw this.lifecycle("onShareScreenFail",n),this.data.setSharingStatus(!1),yield this.sdks.stopShareScreen(),yield this.getApis().request(r.Command.SHARE_SCREEN,{meetingId:this.data.conference.id,action:r.ShareScreenAction.STOP}),e}finally{si=!1}return i}))}));var di=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};let ci=!1;const li=V.a.wrapOnFunction("core",(function(e,t){return di(this,void 0,void 0,(function*(){if(!this.data.conference)return;if(ci)return void this.getLogInstance().info("previous share window pending");let i;ci=!0,this.data.setSharingStatus(!0);const n={meetingId:this.data.conference.id,action:r.ShareScreenAction.START,isSmoothMode:t};try{this.lifecycle("startShareScreen",n),[i]=yield Promise.all([this.getApis().request(r.Command.SHARE_SCREEN,n),this.setRTCCaptureProfile({isSmoothMode:t})]),this.track(r.Homeric.VC_CLIENT_SIGNAL_INFO,{action_name:"share_screen_result",share_screen_id:i.shareScreenId}),this.lifecycle("startShareScreenSuccess",n)}catch(e){throw this.lifecycle("startShareScreenFail",n),this.data.setSharingStatus(!1),ci=!1,e}try{this.lifecycle("onScreenShare",n);if(-1===(yield this.sdks.shareWindow(e)))throw new Error("shareWindow failed");this.lifecycle("onScreenShareSuccess",n)}catch(e){throw this.lifecycle("onShareScreenFail",n),this.data.setSharingStatus(!1),yield this.getApis().request(r.Command.SHARE_SCREEN,{meetingId:this.data.conference.id,action:r.ShareScreenAction.STOP}),e}finally{ci=!1}return i}))}));var pi=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const ui=V.a.wrapOnFunction("core",(function(e,t){return pi(this,void 0,void 0,(function*(){if(!this.data.conference)return;this.data.setSharingStatus(!0);const i={userId:this.data.userId,deviceId:this.data.deviceId,userType:r.ParticipantType.ROOM},n={meetingId:this.data.conference.id,action:r.ShareScreenAction.START,shareScreenUser:i};try{this.lifecycle("startShareScreen",n),yield this.getApis().request(r.Command.SHARE_SCREEN,n),this.lifecycle("startShareScreenSuccess",n)}catch(e){throw this.lifecycle("startShareScreenFail",n),this.data.setSharingStatus(!1),e}try{this.lifecycle("onScreenShare",n),yield this.sdks.shareCaptureCard(e,t),this.lifecycle("onScreenShareSuccess",n)}catch(e){throw this.lifecycle("onShareScreenFail",n),this.data.setSharingStatus(!1),yield this.getApis().request(r.Command.SHARE_SCREEN,{meetingId:this.data.conference.id,action:r.ShareScreenAction.STOP,shareScreenUser:i}),e}}))}));var _i=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Ei=V.a.wrapOnFunction("core",(function(e){return _i(this,void 0,void 0,(function*(){const{conference:t}=this.data;if(!t)return;this.data.setSharingStatus(!1);const i={userId:this.data.userId,deviceId:this.data.deviceId,userType:this.data.getMyselfInfo().type||r.ParticipantType.ROOM},n={meetingId:t.id,action:r.ShareScreenAction.STOP,shareScreenUser:i};if(!e)try{this.lifecycle("stopShareScreen",n),yield this.getApis().request(r.Command.SHARE_SCREEN,n),this.lifecycle("stopShareScreenSuccess",n)}catch(e){throw this.data.setSharingStatus(!0),this.lifecycle("stopShareScreenFail",n),e}try{this.lifecycle("onLeaveScreenShare",n),yield this.sdks.stopShareScreen(),yield this.sdks.scStopShareAudio(),this.lifecycle("onLeaveScreenShareSuccess",n)}catch(o){throw this.lifecycle("onLeaveShareScreenFail",n),e||(yield this.getApis().request(r.Command.SHARE_SCREEN,{meetingId:t.id,action:r.ShareScreenAction.START,shareScreenUser:i})),this.data.setSharingStatus(!0),o}}))}));var hi=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Ti=V.a.wrapOnFunction("core",(function(){return hi(this,void 0,void 0,(function*(){return this.sdks.scShareAudio()}))}));var yi=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const fi=V.a.wrapOnFunction("core",(function(){return yi(this,void 0,void 0,(function*(){return this.sdks.scStopShareAudio()}))}));var Ii=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function gi(e,t,i,n){const o=t.duration||2e3;if(i)return e.getPM().send(i,{event:r.PageSendEvent.TOAST,data:Object.assign({duration:o,type:r.ToastEvent.ERROR},t)}),void e.getPM().closeByName(i,n);e.getApis().toast({duration:o,type:t.type||r.ToastEvent.ERROR,data:t.i18nText||""})}const Si=V.a.wrapOnFunction("core",(function(e={}){return Ii(this,void 0,void 0,(function*(){const[t="",i,n=""]=yield Promise.all([this.getApis().getStorage("byteview_last_meeting_key_meeting_id"),this.getApis().getStorage("byteview_last_meeting_key_type"),this.getApis().getStorage("byteview_last_meeting_key_core_id")]),o={meetingId:t,type:Number(i),coreId:n};let s;try{if(this.config.appInfo.appType===r.AppType.ROOM)this.getApis().startSDKServer();else{yield this.getApis().startSDKServer();const{sdkServerName:e="",sdkServerUUID:t=""}=this.data.appInfo;this.emit(r.BroadcastEvent.REJOIN_MEETING_RESET_PCSDK_CLIENT,{sdkServerName:e,sdkServerUUID:t})}return s=yield this.getApis().request(r.Command.REJOIN_VIDEO_CHAT,{meetingId:e.meetingId||o.meetingId,force:e.force}),function(e,t,i){Ii(this,void 0,void 0,(function*(){const n=e.getApis().getI18NText;if(!t)return gi(e,{type:r.ToastEvent.ERROR,i18nText:n("View_M_FailedToJoinMeeting")},i);const{status:o}=t;switch(o){case r.RejoinMeetingResponseStatusCode.SUCCESS:e.data.setConference(t.videoChatInfo),e.lifecycle("rejoinMeeting",void 0),e.fsm.rejoinMeeting();break;case r.RejoinMeetingResponseStatusCode.MEETING_END_ERROR:gi(e,{i18nText:n("View_M_MeetingHasEnded")},i);break;case r.RejoinMeetingResponseStatusCode.PARTICIPANT_LIMIT_EXCEED_ERROR:{const{rtcMaxParticipantCount:t}=yield e.getVideoChatConfig();gi(e,{i18nText:n("View_M_LimitReachedMaxMemberBraces",{maxMember:String(t)})},i);break}case r.RejoinMeetingResponseStatusCode.VC_BUSY_ERROR:return;case r.RejoinMeetingResponseStatusCode.VOIP_BUSY_ERROR:gi(e,{i18nText:n("View_G_CurrentlyInCall")},i)}}))}(this,s,e.pageName),s}catch(t){return gi(this,{type:r.ToastEvent.ERROR,i18nText:t.errorMessage},e.pageName,r.LocalEndReason.REJOIN_FAILED),Promise.reject(t)}}))}));var Ci=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const mi=V.a.wrapOnFunction("core",(function(e){return Ci(this,void 0,void 0,(function*(){try{try{const e=wo();yield Promise.all([e.cancelAllInvitation(),e.hangupAllMeetingsExceptByCoreId(this.data.coreId)])}catch(e){this.getLogInstance().error("hangup Other meeting error")}const t=yield this.getApis().request(r.Command.JOIN_INTERVIEW_GROUP_MEETING,e),{videoChatInfo:i,joinMeetingLobby:n}=t;n&&n.isJoinMeetingLobby?function(e,t,i,n){e.getPM().closeByName(r.PageName.PREVIEW),e.getApis().controlPreviewModal({visible:!1,loading:!1}),e.fsm.cannot("previewJoinMeeting")||(e.data.setConference(i),e.lifecycle("joinMeetingWithCheck",i),e.fsm.joinMeetingWithCheck({videoChatInfo:i,lobbyParticipant:n}))}(this,0,i,n.lobbyParticipant):function(e,t,i){const{participantSettings:n}=t,{isCameraMuted:o,isMicrophoneMuted:s}=n;e.getPM().closeByName(r.PageName.PREVIEW),e.getApis().controlPreviewModal({visible:!1,loading:!1}),e.fsm.cannot("previewJoinMeeting")||(e.data.setConference(i),e.data.setMyParticipantSettings({isCameraMuted:o,isMicrophoneMuted:s}),e.lifecycle("previewJoinMeeting",i),e.fsm.previewJoinMeeting())}(this,e,i)}catch(e){!function(e,t){throw t}(0,e)}}))}));var Ni=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Ai=V.a.wrapOnFunction("core",(function(e){return Ni(this,void 0,void 0,(function*(){return this.data.conference?(this.getApis().request(r.Command.PARTICIPANT_CHANGE_SETTINGS,{meetingId:this.data.conference.id,participantSettings:Object.assign(Object.assign({},e),{followTypes:[r.FollowActionType.CUSTOM]})}),[]):[]}))}));var Ri=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Oi=V.a.wrapOnFunction("core",(function(e){return Ri(this,void 0,void 0,(function*(){if(!this.data.conference)return this.getLogInstance().error("startShareFollowFunc data.conference is null"),{result:null};const t={url:e.url,meetingId:this.data.conference.id,action:r.ShareFollowAction.START,options:{defaultFollow:!0,forceFollow:!1},initialActions:e.initialActions,lifeTime:e.lifeTime||r.FollowLifeTime.PERMANENT,loginToken:e.loginToken,authorityMask:e.authorityMask,initSource:e.initSource,reactivateData:e.reactivateData};t.initSource===r.FollowInitSource.INIT_REACTIVATED&&(t.action=r.ShareFollowAction.REACTIVATE);try{this.lifecycle("startShareFollow",t);const e=yield this.getApis().request(r.Command.SHARE_FOLLOW,t);return this.lifecycle("startShareFollowSuccess",t),{result:e}}catch(e){const{code:i}=e;return this.lifecycle("startShareFollowFail",t),{code:i,result:null}}}))}));var vi=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Pi=V.a.wrapOnFunction("core",(function(e){return vi(this,void 0,void 0,(function*(){if(!this.data.conference)return;const t={url:e,meetingId:this.data.conference.id,action:r.ShareFollowAction.STOP};try{this.lifecycle("stopShareFollow",t),yield this.getApis().request(r.Command.SHARE_FOLLOW,t),this.lifecycle("stopShareFollowSuccess",t)}catch(e){throw this.lifecycle("stopShareFollowFail",t),e}}))}));var Mi=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Li=V.a.wrapOnFunction("core",(function(e){return Mi(this,void 0,void 0,(function*(){return this.data.conference&&this.data.conferenceInMeeting&&this.data.conferenceInMeeting.followInfo?(this.getApis().request(r.Command.SYNC_FOLLOW_ACTION,{meetingId:this.data.conference.id,followActions:e,url:this.data.conferenceInMeeting.followInfo.url}),Promise.resolve()):[]}))}));var bi=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Di=V.a.wrapOnFunction("core",(function(e){return bi(this,void 0,void 0,(function*(){return this.getApis().request(r.Command.VC_QUERY_DOCS,e)}))}));var Ui=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const wi=V.a.wrapOnFunction("core",(function(e){return Ui(this,void 0,void 0,(function*(){try{yield this.getApis().request(r.Command.INVITE_VIDEO_CHAT,e);const{participantIds:t}=e,[i]=t;this.getLogInstance().info("dispatch in meeting invite success, target userId: "+i,e)}catch(e){this.getLogInstance().error("dispatch in meeting invite error:"+e.message)}}))}));var ki=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Gi=V.a.wrapOnFunction("core",(function(e){return ki(this,void 0,void 0,(function*(){const t=this.data.conference&&this.data.conference.id;if(!t)return{status:r.GetCalendarGroupStatus.GET_GROUP_FAILED};try{const{groupId:i,getCalGroupStatus:n}=yield this.getApis().request(r.Command.GET_CALENDAR_GROUP,{autoCreate:e,meetingId:t});let o;switch(this.getLogInstance().info("get calendar group success:"+r.GetCalendarGroupStatus[n]),n){case r.GetCalendarGroupStatus.GET_GROUP_FAILED:case r.GetCalendarGroupStatus.GET_GROUP_NOT_PERMITTED:o="View_M_FailedToCreateMeetingGroup";break;case r.GetCalendarGroupStatus.GET_GROUP_SUCCESS:this.getApis().togoLarkGroup(i);break;default:o="View_M_FailedToCreateMeetingGroup"}return o&&this.getPM().send(r.PageName.MEETING,{event:r.PageSendEvent.TOAST,data:{i18nKey:o}}),{status:n,groupId:i}}catch(e){return this.getLogInstance().error("get calendar group error:"+e.message),{status:r.GetCalendarGroupStatus.GET_GROUP_FAILED}}}))}));var Vi=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Hi=V.a.wrapOnFunction("core",(function(e){return Vi(this,void 0,void 0,(function*(){const t=e||this.data.conference&&this.data.conference.id;if(t)try{let{calendarInfo:e}=yield this.getApis().request(r.Command.GET_CALENDAR_INFO,{meetingId:t});return e=Object.assign(Object.assign({},e),{users:{},userStatus:{}}),this.data.setCalendarInfo(e),e}catch(e){this.getLogInstance().error("get calendar info error:"+e.message)}}))}));var Bi=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function Fi(e,t,i){const{participantSettings:n}=t,{isCameraMuted:o,isMicrophoneMuted:s}=n;e.getPM().closeByName(r.PageName.PREVIEW),e.getApis().controlPreviewModal({visible:!1,loading:!1}),e.fsm.cannot("previewJoinMeeting")||(e.data.setConference(i),e.data.setMyParticipantSettings({isCameraMuted:o,isMicrophoneMuted:s}),e.lifecycle("previewJoinMeeting",i),e.fsm.previewJoinMeeting())}function ji(e,t,i){return Bi(this,void 0,void 0,(function*(){const n=e.getApis(),o=n.getI18NText("View_M_FailedToJoinMeeting"),{type:s}=i;let a,d="",c=!0;if(s===r.JoinCalendarMeetingResponseType.CALENDAR_MEETING_ENDED&&(d="View_M_MeetingHasEnded"),s===r.JoinCalendarMeetingResponseType.CALENDAR_MEETING_UNKNOWN&&(d="View_M_FailedToJoinMeeting"),s===r.JoinCalendarMeetingResponseType.CALENDAR_PARTICIPANT_LIMIT_EXCEED){const{rtcMaxParticipantCount:e=6}=yield n.request(r.Command.PULL_VIDEO_CHAT_CONFIG);d="View_M_LimitReachedMaxMemberBraces",a={maxMember:String(e)}}if(s===r.JoinCalendarMeetingResponseType.CALENDAR_VOIP_BUSY&&(d="View_G_CurrentlyInCall"),s===r.JoinCalendarMeetingResponseType.CALENDAR_MEETING_OUT_OF_DATE&&(d="View_M_MeetingExpired"),s===r.JoinCalendarMeetingResponseType.CALENDAR_VC_BUSY&&(c=!1,function(e,t){Bi(this,void 0,void 0,(function*(){const i=e.getApis(),n=i.getI18NText("View_M_JoinMeetingQuestion"),o=i.getI18NText("View_M_LeaveAndJoinQuestion"),s=i.getI18NText("View_G_ConfirmButton"),a=i.getI18NText("View_G_CancelButton");i.confirm({title:n,message:o,confirmText:s,cancelText:a,confirmHandle:()=>Bi(this,void 0,void 0,(function*(){const n=yield i.request(r.Command.JOIN_CALENDAR_GROUP_MEETING,Object.assign(Object.assign({},t),{force:!0})),{type:o,videoChatInfo:s}=n;r.JoinCalendarMeetingResponseType.CALENDAR_SUCCESS===o&&s&&Fi(e,t,s),r.JoinCalendarMeetingResponseType.CALENDAR_SUCCESS!==o&&ji(e,t,n)})),cancelHandle:()=>{}})}))}(e,t)),s===r.JoinCalendarMeetingResponseType.CALENDAR_VERSION_LOW)try{const{hasNew:e}=yield n.request(r.Command.GET_NEW_VERSION);if(e)return void n.confirm({title:n.getI18NText("View_M_UpdateSoftwareTitle"),message:n.getI18NText("View_M_UpdateSoftwareInfo"),confirmText:n.getI18NText("View_M_GetUpdate"),cancelText:n.getI18NText("View_G_NoThanksButton"),confirmHandle:()=>Bi(this,void 0,void 0,(function*(){(yield n.getFg("lark.setting.auto.update",!0))?n.request(r.Command.INVOKE_SETTING_UPDATE_PAGE):n.request(r.Command.INVOKE_SETTING_ABOUT_PAGE)})),cancelHandle:()=>{}});d="View_G_FeatureNotSupported"}catch(t){d="View_G_FeatureNotSupported",e.getLogInstance().error("get new version fail: "+t)}c&&n.toast({type:r.ToastEvent.ERROR,data:d||o,param:a})}))}const Wi=V.a.wrapOnFunction("core",(function(e){return Bi(this,void 0,void 0,(function*(){const{canMeeting:t,errorToastText:i}=yield wo().canMeetingFromPreview(),n=this.getApis(),o=n.getI18NText("View_M_FailedToJoinMeeting");if(!t)return void n.toast({type:r.ToastEvent.ERROR,data:i||o});try{const e=wo();yield Promise.all([e.cancelAllInvitation(),e.hangupAllMeetingsExceptByCoreId(this.data.coreId)])}catch(e){this.getLogInstance().error("hangup Other meeting error")}const s=yield this.getApis().request(r.Command.JOIN_CALENDAR_GROUP_MEETING,e),{type:a,videoChatInfo:d,joinMeetingLobby:c}=s;c&&c.isJoinMeetingLobby?function(e,t,i,n){e.getPM().closeByName(r.PageName.PREVIEW),e.getApis().controlPreviewModal({visible:!1,loading:!1}),e.fsm.cannot("joinMeetingWithCheck")||(e.data.setConference(i),e.lifecycle("joinMeetingWithCheck",i),e.fsm.joinMeetingWithCheck({videoChatInfo:i,lobbyParticipant:n}))}(this,0,d,c.lobbyParticipant):r.JoinCalendarMeetingResponseType.CALENDAR_SUCCESS===a&&d?Fi(this,e,d):r.JoinCalendarMeetingResponseType.CALENDAR_SUCCESS!==a&&ji(this,e,s)}))}));var xi=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function Ki(e){return xi(this,void 0,void 0,(function*(){const{id:t,idType:i}=e;if(t||i)try{const{videoChatInfo:t,topic:i}=yield this.getApis().request(r.Command.GET_ASSOCIATED_VC,e);if(Array.isArray(t)&&t.length){return{vc:t[0],topic:i}}return{topic:i}}catch(e){this.getLogInstance().error("get associated video chat error:"+e.message)}}))}var qi=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Yi=V.a.wrapOnFunction("core",(function(){return qi(this,void 0,void 0,(function*(){try{const e=yield this.getApis().request(r.Command.PULL_PRE_VIDEO_CHAT_SETTING,{});return this.getLogInstance().info("pull pre video chat settings success",{result:e}),e}catch(e){this.getLogInstance().error("pull pre video chat settings failed:"+e.meesage)}return null}))}));var Ji=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const zi=V.a.wrapOnFunction("core",(function(e){return Ji(this,void 0,void 0,(function*(){if(!this.data.conference||!this.data.conferenceInMeeting||!this.data.conferenceInMeeting.followInfo)return[];const t={url:e||this.data.conferenceInMeeting.followInfo.url,meetingId:this.data.conference.id};try{return this.lifecycle("requestFollowToken",t),yield this.getApis().request(r.Command.REQUEST_FOLLOW_TOKEN,t),this.lifecycle("requestFollowTokenSuccess",t),Promise.resolve()}catch(e){throw this.lifecycle("requestFollowTokenFail",t),e}}))}));var Xi=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Qi=V.a.wrapOnFunction("core",(function(e){return Xi(this,void 0,void 0,(function*(){if(!(e&&this.data.conference&&this.data.conferenceInMeeting&&this.data.conferenceInMeeting.followInfo))return;const{url:t,userId:i,deviceId:n}=this.data.conferenceInMeeting.followInfo;if(t!==e||i!==this.data.userId||n!==this.data.deviceId)return;const o=e,{ntpTime:s}=yield this.getApis().request(r.Command.GET_NTP_TIME),a={url:o,meetingId:this.data.conference.id,token:"",timestampMs:s};try{a.token=yield this.getApis().request(r.Command.REQUEST_DISPOSABLE_TOKEN,o),this.lifecycle("grantFollowToken",a),yield this.getApis().request(r.Command.GRANT_FOLLOW_TOKEN,a),this.lifecycle("grantFollowTokenSuccess",a)}catch(e){throw this.lifecycle("grantFollowTokenFail",a),e}}))}));var $i=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Zi=V.a.wrapOnFunction("core",(function(){return $i(this,void 0,void 0,(function*(){if(!this.data.conference||!this.data.conferenceInMeeting||!this.data.conferenceInMeeting.followInfo)return[];const e={url:this.data.conferenceInMeeting.followInfo.url,meetingId:this.data.conference.id};try{return this.lifecycle("requestFollowPerm",e),yield this.getApis().request(r.Command.REQUEST_FOLLOW_PERM,e),this.lifecycle("requestFollowPermSuccess",e),Promise.resolve()}catch(t){throw this.lifecycle("requestFollowPermFail",e),t}}))}));var en=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};let tn=!1;const nn=V.a.wrapOnFunction("core",(function(e){return en(this,void 0,void 0,(function*(){if(!this.data.conference||tn)return;tn=!0;const t=this.data.conference.type===r.VideoChatType.CALL;try{if(e.action===r.RecordMeetingRequestAction.PARTICIPANT_REQUEST_START){const e=t?"View_AV_RecordingStartIfApprovalNameBraces":"View_G_RequestSent";this.getPM().send(r.PageName.MEETING,{event:r.PageSendEvent.TOAST,data:{type:r.ToastEvent.NONE,i18nKey:e}})}yield this.getApis().request(r.Command.RECORD_MEETING,Object.assign({meetingId:this.data.conference.id},e)),tn=!1}catch(e){throw tn=!1,e}}))}));var rn=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const on=V.a.wrapOnFunction("core",(function(e,t){return rn(this,void 0,void 0,(function*(){this.getPM().send(e,t)}))}));var sn=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const an=V.a.wrapOnFunction("core",(function(e,t){return sn(this,void 0,void 0,(function*(){if(!this.data.conference||!this.data.conferenceInMeeting||!this.data.conferenceInMeeting.followInfo||this.data.conferenceInMeeting.followInfo.deviceId!==this.data.deviceId)return;const i=this.data.getParticipants().find(i=>i.id===e&&i.deviceId===t);if(!i)return void this.getLogInstance().info("no user in transferFollowPresenterFunc");if(!i.capabilities.followPresenter)return void this.getLogInstance().info("no user capabilities followPresenter in transferFollowPresenterFunc");const n={url:this.data.conferenceInMeeting.followInfo.url,meetingId:this.data.conference.id,action:r.ShareFollowAction.TRANS_PRESENTER,transPresenterData:{newPresenter:{deviceId:t,userId:e,userType:i.type||r.ParticipantType.LARK_USER}}};try{this.lifecycle("transferFollowPresenter",n),yield this.getApis().request(r.Command.SHARE_FOLLOW,n),this.lifecycle("transferFollowPresenterSuccess",n)}catch(e){this.lifecycle("transferFollowPresenterFail",n)}}))}));var dn=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const cn=V.a.wrapOnFunction("core",(function(){return dn(this,void 0,void 0,(function*(){if(!(this.data.conference&&this.data.conferenceInMeeting&&this.data.conferenceInMeeting.followInfo&&this.data.conferenceInMeeting.followInfo.shareId))return{success:!0};const{shareId:e}=this.data.conferenceInMeeting.followInfo,t={url:this.data.conferenceInMeeting.followInfo.url,meetingId:this.data.conference.id,action:r.ShareFollowAction.TAKE_OVER,takeOver:{shareId:e}};try{return this.lifecycle("takeOverFollow",t),yield this.getApis().request(r.Command.SHARE_FOLLOW,t),this.lifecycle("takeOverFollowSuccess",t),{success:!0}}catch(e){return this.lifecycle("takeOverFollowFail",t),{success:!1}}}))}));var ln=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const pn=V.a.wrapOnFunction("core",(function(e){return ln(this,void 0,void 0,(function*(){if(!this.data.conference||!this.data.conferenceInMeeting||!this.data.conferenceInMeeting.followInfo||this.data.conferenceInMeeting.followInfo.userId!==this.data.userId||this.data.conferenceInMeeting.followInfo.deviceId!==this.data.deviceId)return;const t={url:this.data.conferenceInMeeting.followInfo.url,meetingId:this.data.conference.id,action:r.ShareFollowAction.UPDATE_OPTIONS,options:e};try{this.lifecycle("updateFollowOptions",t),yield this.getApis().request(r.Command.SHARE_FOLLOW,t),this.lifecycle("updateFollowOptionsSuccess",t)}catch(e){this.lifecycle("updateFollowOptionsFail",t)}}))}));var un=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function _n(e){return un(this,void 0,void 0,(function*(){e.type===r.NoticeType.TIPS?this.getPM().send(r.PageName.MEETING,{event:r.PageSendEvent.TIP,data:{updateData:e}}):e.type===r.NoticeType.POPUP&&this.getPM().send(r.PageName.MEETING,{event:r.PageSendEvent.IN_MEETING_NOTICE,data:{type:r.PageInMeetingNoticeType.CLOSE_RECORD_POPUP}})}))}var En=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const hn=V.a.wrapOnFunction("core",(function(e){return En(this,void 0,void 0,(function*(){if(this.data.conference)try{const t=this.data.conference.id;this.data.setMyParticipantSettings(e),this.getLogInstance().info("set subtitle info "+JSON.stringify(e)),this.getApis().request(r.Command.PARTICIPANT_CHANGE_SETTINGS,{meetingId:t,participantSettings:e})}catch(e){this.getLogInstance().error("set subtitle info error: "+e.message,e)}}))}));var Tn=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const yn=V.a.wrapOnFunction("core",(function(e){return Tn(this,void 0,void 0,(function*(){const{canMeeting:t,errorToastText:i}=yield wo().canMeetingFromPreview(),n=this.getApis(),o=n.getI18NText("View_M_FailedToJoinMeeting");if(t)return Rt({core:this,param:e}).then(({type:t,videoChatInfo:i,extraActions:n})=>{r.JoinMeetingResponseType.SUCCESS===t&&function(e,t,i,n){const{selfParticipantInfo:r}=t,{participantSettings:o,isSpeakerMuted:s,cameraDeviceId:a,microphoneDeviceId:d,speakerDeviceId:c}=r,{isCameraMuted:l,isMicrophoneMuted:p}=o||{};e.fsm.cannot("docsJoinMeeting")||(e.data.setConference(i),e.data.setMyParticipantSettings({isSpeakerMuted:s,isCameraMuted:l,isMicrophoneMuted:p,cameraDeviceId:a,microphoneDeviceId:d,speakerDeviceId:c}),e.fsm.docsJoinMeeting({extraActions:n}))}(this,e,i,n)}).catch(e=>{throw e});n.toast({type:r.ToastEvent.ERROR,data:i||o})}))}));var fn=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function In(e,t){return fn(this,void 0,void 0,(function*(){try{let i;switch(yield this.getApis().request(r.Command.HOST_MANAGE,{meetingId:this.data.conference&&this.data.conference.id||"",action:r.HostManageAction.SET_SECURITY_LEVEL,securitySetting:e}),this.getLogInstance().info(`set Security meeting:${e.securityLevel}; is open lobby: ${e.isOpenLobby}; hideLevelToast: ${t}`),e.securityLevel){case r.SecurityLevel.PUBLIC:i=r.PageInMeetingNoticeType.TOAST_MEETING_ANYONE;break;case r.SecurityLevel.TENANT:i=r.PageInMeetingNoticeType.TOAST_MEETING_SAME_COMPANY;break;case r.SecurityLevel.CONTACTS_AND_GROUP:i=r.PageInMeetingNoticeType.TOAST_MEETING_SELECTED;break;case r.SecurityLevel.ONLY_HOST:i=r.PageInMeetingNoticeType.TOAST_MEETING_HOST_INVITED}!t&&i&&this.getPM().send(r.PageName.MEETING,{event:r.PageSendEvent.IN_MEETING_NOTICE,data:i})}catch(e){this.getLogInstance().error("set Security meeting error:"+e.message)}}))}var gn=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Sn=V.a.wrapOnFunction("core",(function(e){return gn(this,void 0,void 0,(function*(){const t=this.data.conference;if(!t){const e="applyDtmf call without an existing meeting";throw this.getLogInstance().info(e),Error(e)}return yield this.getApis().request(r.Command.APPLY_DTMF,Object.assign({meetingId:t.id},e))}))}));var Cn=i(51),mn=i.n(Cn),Nn=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function An(e,t,i){return Nn(this,void 0,void 0,(function*(){const n={channelMeta:e,initDownVersion:t};i&&(n.associateId=mn.a.fromString(i));return yield this.getApis().request(r.Command.OPEN_GROOT_CHANNEL,n)}))}function Rn(e){return Nn(this,void 0,void 0,(function*(){const t={channelMeta:e};yield this.getApis().request(r.Command.CLOSE_GROOT_CHANNEL,t)}))}var On=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const vn=V.a.wrapOnFunction("core",(function(e,t){return On(this,void 0,void 0,(function*(){const i={channel:r.GrootChannel.SKETCH,channelId:e};yield An.bind(this)(i,t)}))})),Pn=V.a.wrapOnFunction("core",(function(e){return On(this,void 0,void 0,(function*(){const t={channel:r.GrootChannel.SKETCH,channelId:e};yield Rn.bind(this)(t)}))})),Mn=V.a.wrapOnFunction("core",(function(e){return On(this,void 0,void 0,(function*(){const t={shareScreenId:e};return(yield this.getApis().request(r.Command.FETCH_ALL_SKETCH_DATA,t)).payload}))})),Ln=V.a.wrapOnFunction("core",(function(e){e?this.getApis().emit(r.ContainerEvent.BYTEVIEW_SKETCH_SETWINTOP,void 0):this.getApis().emit(r.ContainerEvent.BYTEVIEW_SKETCH_CANCELWINTOP,void 0)})),bn=V.a.wrapOnFunction("core",(function(e){this.getApis().emit(r.ContainerEvent.BYTEVIEW_PAGE_OWNER,e)})),Dn=V.a.wrapOnFunction("core",(function(e,t,i){return On(this,void 0,void 0,(function*(){const n={meetingId:e,shareScreenId:t,applier:i};yield this.getApis().request(r.Command.APPLY_BYTEVIEW_ACCESSIBILITY,n)}))}));var Un=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function wn(e){return Un(this,void 0,void 0,(function*(){if(!e)return;const{action:t}=e;this.data.getCurrentStatus()===r.UserState.IDLE&&(this.data.setVideoChatInfoFromCalendarPrompt(e),t===r.VideoChatPromptAction.SHOW&&(this.getApis().request(r.Command.JOIN_MEETING_PRE_CHECK,{id:e.calendarStartPrompt&&e.calendarStartPrompt.meetingId,idType:r.JoinMeetingCheckIDType.MEETINGID}).then(({vendorType:e})=>{e&&(this.data.vendorType=e)}),this.openByName(r.PageName.CALENDAR_PROMPT,e))),t===r.VideoChatPromptAction.DISMISS&&this.closeByName(r.PageName.CALENDAR_PROMPT)}))}var kn=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Gn=V.a.wrapOnFunction("core",(function(e){return kn(this,void 0,void 0,(function*(){return this.getApis().request(r.Command.REMOTE_CONTROL,{action:r.RemoteControlActionType.INVITE,meetingId:this.data.conference.id,shareScreenId:this.data.conferenceInMeeting.shareScreenInMeetingInfo.shareScreenId,controller:e.controller})}))}));var Vn=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Hn=V.a.wrapOnFunction("core",(function(){return Vn(this,void 0,void 0,(function*(){return this.getApis().request(r.Command.REMOTE_CONTROL,{action:r.RemoteControlActionType.APPLY,meetingId:this.data.conference.id,shareScreenId:this.data.conferenceInMeeting.shareScreenInMeetingInfo.shareScreenId}).then(()=>this.getPM().send(r.PageName.MEETING,{event:r.PageSendEvent.IN_MEETING_NOTICE,data:r.PageInMeetingNoticeType.TOAST_HOST_REQUEST_SENT}))}))})),Bn=function(e,t){return t===r.AppType.ROOM?ko().createLoggerV1(e.prefix||r.LogPrefix.NORMAL):ko().createLoggerV2(e)};var Fn=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))},jn=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};class Wn{constructor(e){this.sdks=Object.create(null),this.sdkType=r.SDKType.WEBGL_BYTERTC,this.disableCallbacks=!1,this.inMeeting=!1,this.logInstance=null,this.appInfo=e}getSDK(){return this.sdks[this.sdkType]}startup(e){return Fn(this,void 0,void 0,(function*(){this.sdks[r.SDKType.WEBGL_BYTERTC]=e.getApis().getPCsdk(this.appInfo);const t=Object.keys(this.sdks).map(t=>Fn(this,void 0,void 0,(function*(){return this.sdks[t].startup(e)})));yield Promise.all(t),this.logInstance=Bn({prefix:r.LogPrefix.CORE,_coreId:e.data.coreId},this.appInfo.appType)}))}shutdown(e){return Fn(this,void 0,void 0,(function*(){const t=Object.keys(this.sdks).map(t=>Fn(this,void 0,void 0,(function*(){return this.sdks[t].shutdown(e)})));yield Promise.all(t)}))}joinMeeting(e){return Fn(this,void 0,void 0,(function*(){this.logInstance.info(`UI-SDK:joinMeeting(${r.SDKType[e.sdkType]},${e.conference.id})`),this.sdkType=e.sdkType,yield this.getSDK().joinMeeting(e),this.inMeeting=!0}))}joinAnotherMeeting(e,t){return Fn(this,void 0,void 0,(function*(){this.logInstance.info(`UI-SDK:joinAnotherMeeting(${e.sdkType},${e.conference.id})`),this.disableCallbacks=!0,t&&(yield this.getSDK().leaveMeeting(t),this.inMeeting=!1),this.disableCallbacks=!1,this.sdkType=e.sdkType,yield this.getSDK().joinMeeting(e),this.inMeeting=!0}))}leaveMeeting(e){return Fn(this,void 0,void 0,(function*(){this.logInstance.info("UI-SDK:leaveMeeting"),this.inMeeting=!1,yield this.getSDK().leaveMeeting(e)}))}muteVideo(){return Fn(this,void 0,void 0,(function*(){this.logInstance.info("UI-SDK:muteVideo"),yield this.getSDK().muteVideo()}))}unMuteVideo(){return Fn(this,void 0,void 0,(function*(){this.logInstance.info("UI-SDK:unMuteVideo"),yield this.getSDK().unMuteVideo()}))}muteAudio(){return Fn(this,void 0,void 0,(function*(){this.logInstance.info("UI-SDK:muteAudio"),yield this.getSDK().muteAudio()}))}unMuteAudio(){return Fn(this,void 0,void 0,(function*(){this.logInstance.info("UI-SDK:unMuteAudio"),yield this.getSDK().unMuteAudio()}))}shareDesktop(e){return Fn(this,void 0,void 0,(function*(){this.logInstance.info("UI-SDK:scShareDesktop");return yield this.getSDK().shareDesktop(e)}))}shareWindow(e){return Fn(this,void 0,void 0,(function*(){this.logInstance.info("UI-SDK:scShareWindow");return yield this.getSDK().shareWindow(e)}))}shareCaptureCard(e,t){return Fn(this,void 0,void 0,(function*(){this.logInstance.info("UI-SDK:shareCaptureCard");return yield this.getSDK().shareCaptureCard(e,t)}))}resumeShareScreen(){return Fn(this,void 0,void 0,(function*(){this.logInstance.info("UI-SDK:scShareResume"),yield this.getSDK().resumeShareScreen()}))}pauseShareScreen(){return Fn(this,void 0,void 0,(function*(){this.logInstance.info("UI-SDK:scSharePause"),yield this.getSDK().pauseShareScreen()}))}stopShareScreen(){return Fn(this,void 0,void 0,(function*(){this.logInstance.info("UI-SDK:scShareStop"),yield this.getSDK().stopShareScreen()}))}startPreview(){return Fn(this,void 0,void 0,(function*(){this.logInstance.info("UI-SDK:startPreview"),yield this.getSDK().startPreview()}))}stopPreview(){return Fn(this,void 0,void 0,(function*(){this.logInstance.info("UI-SDK:stopPreview"),yield this.getSDK().stopPreview()}))}setCurrentPlaybackMute(e){return Fn(this,void 0,void 0,(function*(){this.logInstance.info("UI-SDK:setCurrentPlaybackMute"),yield this.getSDK().setCurrentPlaybackMute(e)}))}scShareAudio(){return Fn(this,void 0,void 0,(function*(){this.logInstance.info("UI-SDK: scShareAudio"),yield this.getSDK().scShareAudio()}))}scStopShareAudio(){return Fn(this,void 0,void 0,(function*(){this.logInstance.info("UI-SDK: scStopShareAudio"),yield this.getSDK().scStopShareAudio()}))}connectSignalServer(e,t){return Fn(this,void 0,void 0,(function*(){this.logInstance.info("UI-SDK:connectSignalServer"),yield this.getSDK().connectSignalServer(e,t)}))}disconnectSignalServer(e){return Fn(this,void 0,void 0,(function*(){this.logInstance.info("UI-SDK:disconnectSignalServer"),yield this.getSDK().disconnectSignalServer(e)}))}addIgnoreWindow(e){return Fn(this,void 0,void 0,(function*(){this.getSDK().addIgnoreWindow(e)}))}offSdkEventslisteners(){this.getSDK().offSdkEventslisteners()}stopPlayAudio(){return Fn(this,void 0,void 0,(function*(){this.getSDK().stopPlayAudio()}))}getDesktopList(){return Fn(this,void 0,void 0,(function*(){return this.getSDK().getDesktopList()}))}scSetCaptureFps(e){return Fn(this,void 0,void 0,(function*(){yield this.getSDK().scSetCaptureFps(e)}))}scSetCaptureFrameResolutionLimit(e){return Fn(this,void 0,void 0,(function*(){yield this.getSDK().scSetCaptureFrameResolutionLimit(e)}))}scEnableDynamicFps(e){return Fn(this,void 0,void 0,(function*(){yield this.getSDK().scEnableDynamicFps(e)}))}scSetScreenCaptureConfig(e){return Fn(this,void 0,void 0,(function*(){yield this.getSDK().scSetScreenCaptureConfig(e)}))}scEnableHighFps(e){return Fn(this,void 0,void 0,(function*(){yield this.getSDK().scEnableHighFps(e)}))}}jn([V.a.wrapOnMethod("ui-sdk")],Wn.prototype,"joinMeeting",null),jn([V.a.wrapOnMethod("ui-sdk")],Wn.prototype,"joinAnotherMeeting",null),jn([V.a.wrapOnMethod("ui-sdk")],Wn.prototype,"leaveMeeting",null),jn([V.a.wrapOnMethod("ui-sdk")],Wn.prototype,"muteVideo",null),jn([V.a.wrapOnMethod("ui-sdk")],Wn.prototype,"unMuteVideo",null),jn([V.a.wrapOnMethod("ui-sdk")],Wn.prototype,"muteAudio",null),jn([V.a.wrapOnMethod("ui-sdk")],Wn.prototype,"unMuteAudio",null),jn([V.a.wrapOnMethod("ui-sdk")],Wn.prototype,"shareDesktop",null),jn([V.a.wrapOnMethod("ui-sdk")],Wn.prototype,"shareWindow",null),jn([V.a.wrapOnMethod("ui-sdk")],Wn.prototype,"shareCaptureCard",null),jn([V.a.wrapOnMethod("ui-sdk")],Wn.prototype,"resumeShareScreen",null),jn([V.a.wrapOnMethod("ui-sdk")],Wn.prototype,"pauseShareScreen",null),jn([V.a.wrapOnMethod("ui-sdk")],Wn.prototype,"stopShareScreen",null),jn([V.a.wrapOnMethod("ui-sdk")],Wn.prototype,"startPreview",null),jn([V.a.wrapOnMethod("ui-sdk")],Wn.prototype,"stopPreview",null),jn([V.a.wrapOnMethod("ui-sdk")],Wn.prototype,"setCurrentPlaybackMute",null),jn([V.a.wrapOnMethod("ui-sdk")],Wn.prototype,"scShareAudio",null),jn([V.a.wrapOnMethod("ui-sdk")],Wn.prototype,"scStopShareAudio",null),jn([V.a.wrapOnMethod("ui-sdk")],Wn.prototype,"connectSignalServer",null),jn([V.a.wrapOnMethod("ui-sdk")],Wn.prototype,"disconnectSignalServer",null);var xn=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function Kn(){return xn(this,void 0,void 0,(function*(){yield this.sdks.startup(this)}))}function qn(){return xn(this,void 0,void 0,(function*(){yield this.sdks.shutdown(this)}))}var Yn=i(596),Jn=i.n(Yn),zn=i(597),Xn=i.n(zn),Qn=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const $n=V.a.wrapOnFunction("core",(function(e){return Qn(this,void 0,void 0,(function*(){if(this.data.conference)try{yield this.getApis().request(r.Command.HOST_MANAGE,{action:r.HostManageAction.MUTE_ON_ENTRY,meetingId:this.data.conference.id,isMuteOnEntry:e}),this.getPM().send(r.PageName.MEETING,{event:r.PageSendEvent.IN_MEETING_NOTICE,data:e?r.PageInMeetingNoticeType.TOAST_MUTE_ON_ENTRY:r.PageInMeetingNoticeType.TOAST_UNMUTE_ON_ENTRY})}catch(e){this.getLogInstance().error("get muteOnEntry error:"+e.message)}}))}));var Zn=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const er=V.a.wrapOnFunction("core",(function(e){return Zn(this,void 0,void 0,(function*(){e&&(this.data.vendorType=e)}))}));var tr=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const ir=V.a.wrapOnFunction("core",(function(e){return tr(this,void 0,void 0,(function*(){return Rt({core:this,param:Object.assign(Object.assign({},e),{joinType:r.JoinType.JOIN_CHAT_ROOM})}).then(({type:t,videoChatInfo:i,extraActions:n})=>{r.JoinMeetingResponseType.SUCCESS===t&&function(e,t,i,n){const{selfParticipantInfo:r}=t,{participantSettings:o,isSpeakerMuted:s,cameraDeviceId:a,microphoneDeviceId:d,speakerDeviceId:c}=r,{isCameraMuted:l,isMicrophoneMuted:p}=o||{};e.fsm.cannot("docsJoinMeeting")||(e.data.setConference(i),e.data.setIsChatRoom(!0),e.data.setJoinChatRoomFrom(t.joinFrom),e.data.setMyParticipantSettings({isSpeakerMuted:s,isCameraMuted:l,isMicrophoneMuted:p,cameraDeviceId:a,microphoneDeviceId:d,speakerDeviceId:c}),e.fsm.joinChatRoom({extraActions:n}))}(this,e,i,n)}).catch(e=>{throw e})}))}));var nr=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const rr=V.a.wrapOnFunction("core",(function(){return nr(this,void 0,void 0,(function*(){this.data.conference&&(yield Promise.all([wo().cancelAllInvitation()]))}))}));var or=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const sr=V.a.wrapOnFunction("core",(function(e,t,i){return or(this,void 0,void 0,(function*(){const{conference:n,isChatRoom:o,joinChatRoomFrom:s}=this.data,a=s===r.JoinChatRoomFrom.QUICK_JUMP;let d=!1;return n&&o?(t===r.HangupAllOtherChatRoomRequestType.GROUP&&(d=e!==(n&&n.groupId)),t===r.HangupAllOtherChatRoomRequestType.MEETING&&(d=e!==(n&&n.id)),t===r.HangupAllOtherChatRoomRequestType.USER&&(a||(d=!0))):d=!1,d&&(yield tt.call(this,i)),{needHangup:d,id:e,type:t}}))}));var ar=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};let dr=!1;const cr=V.a.wrapOnFunction("core",(function(e){return ar(this,void 0,void 0,(function*(){if(!this.data.conference||dr)return;if(!(this.data.conference.type===r.VideoChatType.CALL)){dr=!0;try{yield this.getApis().request(r.Command.LIVE_MEETING_ACTION,e)}finally{dr=!1}}}))}));var lr=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const pr=V.a.wrapOnFunction("core",(function(e){return lr(this,void 0,void 0,(function*(){return yield this.getApis().request(r.Command.WHITEBOARD_START,e)}))})),ur=V.a.wrapOnFunction("core",(function(e){return lr(this,void 0,void 0,(function*(){return yield this.getApis().request(r.Command.WHITEBOARD_STOP,e)}))}));var _r=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Er=V.a.wrapOnFunction("core",(function(e){return _r(this,void 0,void 0,(function*(){return yield this.getApis().request(r.Command.GET_URL_BRIEFS,e)}))}));const hr=V.a.wrapOnFunction("core",(function(e){this.getApis().emit(r.ContainerEvent.BYTEVIEW_SESSION_CLEAR,e)}));var Tr=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function yr(e,t){return Tr(this,void 0,void 0,(function*(){const i=t||this.data.conference&&this.data.conference.id;if(i)try{yield this.getApis().request(r.Command.HOST_MANAGE,{action:r.HostManageAction.LOCK_MEETING,meetingId:i,isLocked:e}),this.getPM().send(r.PageName.MEETING,{event:r.PageSendEvent.IN_MEETING_NOTICE,data:e?r.PageInMeetingNoticeType.TOAST_MEETING_LOCKED:r.PageInMeetingNoticeType.TOAST_MEETING_UNLOCKED})}catch(e){this.getLogInstance().error("get lock meeting error:"+e.message)}}))}V.a.wrapOnFunction("core",yr);var fr=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Ir=V.a.wrapOnFunction("core",(function(e){return fr(this,void 0,void 0,(function*(){e.type===r.VCManageResultType.MEETINGLOBBY&&(this.data.setConference({type:r.VideoChatType.MEETING,id:e.meetingId,hostId:this.data.userId,hostDeviceId:this.data.deviceId,participants:[],info:"",inviterId:"",actionTime:{},vendorType:r.VendorType.LARK_RTC,startTime:0}),e.action===r.VCManageResultAction.ENTERVCLOBBY&&(this.fsm.can("joinMeetingWithCheck")&&this.fsm.joinMeetingWithCheck(),this.fsm.can("acceptInvitationWithCheck")&&this.fsm.acceptInvitationWithCheck()),e.action===r.VCManageResultAction.HOSTREJECT?this.fsm.can("cancelWait")&&this.fsm.cancelWait(r.LocalEndReason.HOST_KICK_OUT_LOBBY):e.action===r.VCManageResultAction.LEAVEVCLOBBY?this.fsm.can("cancelWait")&&this.fsm.cancelWait(r.LocalEndReason.LEAVE_LOBBY):e.action===r.VCManageResultAction.MEETINGEND&&this.fsm.can("cancelWait")&&this.fsm.cancelWait(r.LocalEndReason.HOST_END))}))}));var gr=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Sr=V.a.wrapOnFunction("core",(function(e){return gr(this,void 0,void 0,(function*(){const t=this.data.conference&&this.data.conference.id;if(t)try{if(e===r.LocalEndReason.LEAVE_LOBBY||e===r.LocalEndReason.LOG_OUT)yield this.getApis().request(r.Command.UPDATE_VIDEO_CHAT,{id:t,action:r.Action.LEAVE_LOBBY,actionTime:{accept:this.data.getCurrentNTPTime()},interactiveId:this.data.interactiveId}).then(()=>{this.fsm.cannot("cancelWait")||(this.lifecycle("cancelWait",void 0),this.fsm.cancelWait(e))});else{if(this.fsm.cannot("cancelWait"))return;this.lifecycle("leaveWait",void 0),this.fsm.cancelWait(e)}}catch(t){if(this.fsm.cannot("cancelWait"))return;this.lifecycle("leaveWait",void 0),this.fsm.cancelWait(e)}}))}));var Cr=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const mr=V.a.wrapOnFunction("core",(function(e){return Cr(this,void 0,void 0,(function*(){try{const e=wo();yield Promise.all([e.cancelAllInvitation(),e.hangupAllMeetingsExceptByCoreId(this.data.coreId)])}catch(e){this.getLogInstance().error("pre join meeting with approval error")}return Rt({core:this,param:e}).then(({type:e,videoChatInfo:t})=>{if(r.JoinMeetingResponseType.SUCCESS===e){if(this.fsm.cannot("joinMeetingWithApproval"))return;this.data.setConference(t),this.lifecycle("joinMeetingWithApproval",t),this.fsm.joinMeetingWithApproval()}}).catch(e=>{throw this.getLogInstance().error("join meeting with approval error"),e})}))}));var Nr=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function Ar(e){return Nr(this,void 0,void 0,(function*(){const{removeParticipants:t,upsertParticipants:i,meetingId:n}=e,o=this.data.getMyselfInfo()||{},s=o.settings||{};this.data.conference&&this.data.conference.id===n&&(t.length&&this.data.removeParticipants(t),i.length&&this.data.upsertParticipants(i));const a=this.data.getMyselfInfo();if(!o.participantRoleSettings||!a.participantRoleSettings)return void this.getLogInstance().info("can not find participantRoleSettings in handleParticipantsChange Func");const{meetingRole:d}=o.participantRoleSettings,{meetingRole:c}=a.participantRoleSettings;d===r.ParticipantMeetingRole.PARTICIPANT&&c===r.ParticipantMeetingRole.CO_HOST?ut(this,r.PageInMeetingNoticeType.TOAST_BECOME_CO_HOST):d===r.ParticipantMeetingRole.CO_HOST&&c===r.ParticipantMeetingRole.PARTICIPANT&&ut(this,r.PageInMeetingNoticeType.TOAST_REMOVE_CO_HOST),a&&a.settings?(s.isMicrophoneMuted!==a.settings.isMicrophoneMuted&&(!1===a.settings.isMicrophoneMuted&&this.sdks.unMuteAudio(),!0===a.settings.isMicrophoneMuted&&this.sdks.muteAudio()),s.isCameraMuted!==a.settings.isCameraMuted&&(!1===a.settings.isCameraMuted&&this.sdks.unMuteVideo(),!0===a.settings.isCameraMuted&&this.sdks.muteVideo()),s.handsStatus!==r.HandsStatus.APPROVED&&a.settings.handsStatus===r.HandsStatus.APPROVED&&(ut(this,r.PageInMeetingNoticeType.TOAST_HOST_APPROVED_MICROPHONE_UNMUTE),this.emit(r.BroadcastEvent.SEND_DATA_TO_MEETING_PAGE,{isApprovedMicByHost:!0})),s.handsStatus!==r.HandsStatus.REJECT&&a.settings.handsStatus===r.HandsStatus.REJECT&&(ut(this,r.PageInMeetingNoticeType.TOAST_HOST_REJECTED_MICROPHONE_UNMUTE),this.emit(r.BroadcastEvent.SEND_DATA_TO_MEETING_PAGE,{isRejectedMicByHost:!0}))):this.getLogInstance().info("can not find myself in handleParticipantsChange Func")}))}var Rr=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function Or(e){return Rr(this,void 0,void 0,(function*(){if(!this.data.conference)return;const t=this.data.conference.id;yield this.getApis().request(r.Command.HOST_MANAGE,Object.assign(Object.assign({meetingId:t},e),{action:r.HostManageAction.KICK_OUT_PARTICIPANT})),this.getPM().send(r.PageName.MEETING,{event:r.PageSendEvent.IN_MEETING_NOTICE,data:{type:r.PageInMeetingNoticeType.TOAST_HOST_KICK_OUT_PARTICIPANT,info:{participantId:e.participantId,participantDeviceId:e.participantDeviceId}}})}))}var vr=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function Pr(e){return vr(this,void 0,void 0,(function*(){if(!this.data.conference)return;const t=this.data.conference.id;yield this.getApis().request(r.Command.VC_MANAGE_APPROVAL,Object.assign({meetingId:t,approvalType:r.ApprovalType.MEETINGLOBBY},e))}))}var Mr=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function Lr(e){return Mr(this,void 0,void 0,(function*(){if(!this.data.conference)return;const t=this.data.conference.id;yield this.getApis().request(r.Command.VC_MANAGE_APPROVAL,Object.assign({meetingId:t,approvalType:r.ApprovalType.PUT_UP_HANDS},e))}))}var br=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Dr=V.a.wrapOnFunction("core",(function(e){return br(this,void 0,void 0,(function*(){if(this.data.conference)try{yield this.getApis().request(r.Command.HOST_MANAGE,{action:r.HostManageAction.ALLOW_PARTI_UNMUTE,meetingId:this.data.conference.id,allowPartiUnmute:e})}catch(e){this.getLogInstance().error("get allowPartiUnmute error:"+e.message)}}))}));var Ur=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const wr=V.a.wrapOnFunction("core",(function(){return Ur(this,void 0,void 0,(function*(){this.data.conference&&this.getApis().request(r.Command.TRIG_PUSH_SELF_INFO)}))}));var kr=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Gr=V.a.wrapOnFunction("core",(function(){return kr(this,void 0,void 0,(function*(){return yield this.getApis().request(r.Command.VC_OWNER_FORCE_TRANSFER_HOST,{meetingId:this.data.conference.id})}))}));var Vr=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Hr=V.a.wrapOnFunction("core",(function(e){return Vr(this,void 0,void 0,(function*(){if(!this.data.conference)return;const t=this.data.conference.id;this.getApis().request(r.Command.HOST_MANAGE,Object.assign({meetingId:t,action:r.HostManageAction.SET_CO_HOST},e))}))}));var Br=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Fr=V.a.wrapOnFunction("core",(function(){return Br(this,void 0,void 0,(function*(){const{id:e}=this.data.conference;this.getApis().request(r.Command.KEEP_MEETING,{meetingId:e}),this.getLogInstance().info("keep meeting "+e)}))}));var jr=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Wr=1920,xr=1080;class Kr extends Z{constructor(e,t){var i;super(e),this.events=new L.EventEmitter,this.fsm=new Jn.a({init:r.UserState.IDLE,transitions:he,plugins:[new Xn.a]}),this.sdks=new Wn(this.config.appInfo),this.featureGatings={},this.addIgnoreWindow=e=>()=>{},this.handleMeetingChangedInfo=Et.bind(this),this.setSecurity=In.bind(this),this.invite=me.bind(this),this.forceInvite1v1=Pe.bind(this),this.cancelInvitation=Le.bind(this),this.acceptInvitation=De.bind(this),this.forceAcceptInvitation=we.bind(this),this.refuseInvitation=Ge.bind(this),this.resetInvitation=He.bind(this),this.resetInvitationOnFail=Fe.bind(this),this.resetInvitationOnTimeout=We.bind(this),this.receiveInvitation=Ke.bind(this),this.joinMeeting=Ye.bind(this),this.forceJoinMeeting=ze.bind(this),this.recoveryMeeting=Qe.bind(this),this.hangup=it.bind(this),this.terminate=rt.bind(this),this.joinAnotherMeeting=st.bind(this),this.handleVCInfo=dt.bind(this),this.handleVCExtraInfo=lt.bind(this),this.handleVCNotice=ft.bind(this),this.handleHeartbeatStop=It.bind(this),this.handleVCCombinedInfo=St.bind(this),this.previewJoinMeeting=Mt.bind(this),this.unMuteAudio=bt.bind(this),this.unMuteVideo=Ut.bind(this),this.unMuteAllAudio=kt.bind(this),this.muteAudio=Vt.bind(this),this.muteVideo=Bt.bind(this),this.muteAllAudio=jt.bind(this),this.raiseHand=xt.bind(this),this.lowerHand=qt.bind(this),this.openPreviewPage=ei.bind(this),this.transferHost=Jt.bind(this),this.forceLeaveMeeting=Xt.bind(this),this.setUserInfo=$t.bind(this),this.setDeviceStatus=ii.bind(this),this.scShareDesktop=ai.bind(this),this.scShareWindow=li.bind(this),this.scShareCaptureCard=ui.bind(this),this.scShareStop=Ei.bind(this),this.startShareAudio=Ti.bind(this),this.stopShareAudio=fi.bind(this),this.rejoinMeeting=Si.bind(this),this.screenShareJoinMeeting=ri.bind(this),this.getViewI18nFromRust=q.bind(this),this.changeFollowStatus=Ai.bind(this),this.startShareFollow=Oi.bind(this),this.stopShareFollow=Pi.bind(this),this.syncFollowAction=Li.bind(this),this.searchDoc=Di.bind(this),this.inMeetingInvite=wi.bind(this),this.getCalendarGroup=Gi.bind(this),this.getCalendarInfo=Hi.bind(this),this.joinCalendarGroupMeeting=Wi.bind(this),this.joinInterviewGroupMeeting=mi.bind(this),this.pullPreVCSettings=Yi.bind(this),this.getAssociatedVC=Ki.bind(this),this.requestFollowToken=zi.bind(this),this.grantFollowToken=Qi.bind(this),this.requestFollowPerm=Zi.bind(this),this.recordMeeting=nn.bind(this),this.sendPageData=on.bind(this),this.transferFollowPresenter=an.bind(this),this.takeOverFollow=cn.bind(this),this.updateFollowOptions=pn.bind(this),this.handleVideoChatNoticeUpdate=_n.bind(this),this.setSubtitleInfo=hn.bind(this),this.pullSubtitles=B.bind(this),this.searchSubtitles=j.bind(this),this.setSubtitleFilter=Ae.bind(this),this.getParticipantList=Oe.bind(this),this.docsJoinMeeting=yn.bind(this),this.muteOnEntry=$n.bind(this),this.allowPartiUnmute=Dr.bind(this),this.pullSelfInfo=wr.bind(this),this.openGrootChannel=An.bind(this),this.closeGrootChannel=Rn.bind(this),this.openSketchGrootChannel=vn.bind(this),this.closeSketchGrootChannel=Pn.bind(this),this.fetchAllSketchData=Mn.bind(this),this.setSketchWindowTopFullScreen=Ln.bind(this),this.setSketchPageOwner=bn.bind(this),this.handleVideoChatPrompt=wn.bind(this),this.setVendorType=er.bind(this),this.joinChatRoom=ir.bind(this),this.cancelInvitationOthers=rr.bind(this),this.tryHangupChatRoom=sr.bind(this),this.inviteRemoteControl=Gn.bind(this),this.applyRemoteControl=Hn.bind(this),this.applyAccessibility=Dn.bind(this),this.requestLive=cr.bind(this),this.whiteboardStart=pr.bind(this),this.whiteboardStop=ur.bind(this),this.getUrlBriefs=Er.bind(this),this.syncSubtitles=x.bind(this),this.clearSession=hr.bind(this),this.lockMeeting=yr.bind(this),this.applyDtmf=Sn.bind(this),this.handleParticipantsChange=Ar.bind(this),this.kickoutParticipant=Or.bind(this),this.handleVCManageResult=Ir.bind(this),this.cancelWait=Sr.bind(this),this.joinMeetingWithApproval=mr.bind(this),this.manageLobbyApproval=Pr.bind(this),this.manageHandsUpApproval=Lr.bind(this),this.ownerForceTransferHost=Gr.bind(this),this.setCoHost=Hr.bind(this),this.keepMeeting=Fr.bind(this),function(e,t){X=new Q(e,t)}(e,this.fsm),this.data=X,this.fsm.observe((i=this,{onBeforeTransition:Se.bind(i),onIdle:te.bind(i),onLeaveIdle:ie.bind(i),onEnterCalling:se.bind(i),onLeaveCalling:ae.bind(i),onEnterRinging:ce.bind(i),onLeaveRinging:le.bind(i),onEnterWait:_e.bind(i),onLeaveWait:Ee.bind(i),onEnterOnTheCall:Ie.bind(i),onLeaveOnTheCall:ge.bind(i),onInvalidTransition(e,t,n){i.lifecycle("onFSMError",{transition:e,from:t,to:n,type:r.FSMErrorType.INVALID})},onPendingTransition(e,t,n){i.lifecycle("onFSMError",{transition:e,from:t,to:n,type:r.FSMErrorType.PENDING})}})),this.data.coreId=t,this.coreId=t,this.monitorCtx=null,this.destorySDKServer=this.destorySDKServer.bind(this)}on(e,t){this.events.on(e,t)}off(e,t){this.events.removeListener(e,t)}emit(e,t){this.events.emit(e,t)}getApis(){return ko()}getPM(){return Object(G.a)(this.coreId)}setTopMiddlePositionByName(e,t){return jr(this,void 0,void 0,(function*(){}))}setPositionWithOnePageByName(e,t,i){return jr(this,void 0,void 0,(function*(){yield this.getPM().setPositionWithOnePageByName(e,t,i)}))}openByName(e,t,i,n){return jr(this,void 0,void 0,(function*(){yield this.getPM().openByName(e,t,i,n)}))}closeByName(e){return jr(this,void 0,void 0,(function*(){yield this.getPM().closeByName(e)}))}hideByName(e){return jr(this,void 0,void 0,(function*(){yield this.getPM().hideByName(e)}))}showByName(e,t){return jr(this,void 0,void 0,(function*(){yield this.getPM().showByName(e,t)}))}focusByName(e){return jr(this,void 0,void 0,(function*(){yield this.getPM().focusByName(e)}))}moveTopByName(e){return jr(this,void 0,void 0,(function*(){yield this.getPM().moveTopByName(e)}))}restoreByName(e){return jr(this,void 0,void 0,(function*(){yield this.getPM().restoreByName(e)}))}getWindowInfo(e){return jr(this,void 0,void 0,(function*(){return this.getPM().getWindowInfo(e)}))}closeExceptByNames(e,t,i){return jr(this,void 0,void 0,(function*(){return this.getPM().closeExceptByNames(e,t,i)}))}isExist(e){return this.getPM().isExist(e)}isShow(e){return this.getPM().isShow(e)}getCurrentStatus(){return this.data.getCurrentStatus()}getStatusHistory(){return jr(this,void 0,void 0,(function*(){return this.data.getStatusHistory()}))}getConferenceData(){return jr(this,void 0,void 0,(function*(){return this.data.getConferenceData()}))}getMonitorCtx(){return jr(this,void 0,void 0,(function*(){return this.data.getMonitorCtx()}))}updateByteviewDataAppConfig(e){return this.data.updateByteviewDataAppConfig(e)}getVideoChatConfig(e=!1){return jr(this,void 0,void 0,(function*(){if(e){const e=yield this.getApis().request(r.Command.PULL_VIDEO_CHAT_CONFIG);this.data.setVideoChatConfig(e)}return this.data.vcConfig}))}getAudioShareConfig(){return jr(this,void 0,void 0,(function*(){const e=r.SettingConfig.VC_AUDIOSHARE_CONFIG;try{const t=yield this.getApis().request(r.Command.GET_SETTINGS,{fields:[e]}),{fieldGroups:i}=t,n=i[e],o=JSON.parse(n).is_open_audio_share;return this.data.setShareAudio(o),this.getLogInstance().info("Succeed to get audio config, isSharAudio:"+o),this.data.isSharingAudio}catch(e){return this.getLogInstance().info("Failed to get audio config"),!0}}))}getShareScreenConfig(){return jr(this,void 0,void 0,(function*(){const e={captureFps:15,screenMaxWidth:Wr,screenMaxHeight:xr,captureFpsForRemoteControl:15,captureFpsForSmoothMode:30,screenCaptureConfig:null,isScreenShareDynamicFPSEnabled:this.featureGatings["byteview.meeting.pc.screenshare.dynamicfps"]};if(this.data.shareScreenConfig)return this.data.shareScreenConfig;try{const t=yield this.getApis().request(r.Command.GET_SETTINGS,{fields:[r.SettingConfig.VC_SCREENSHARE_CONFIG]}),{fieldGroups:i={}}=t,n=i[r.SettingConfig.VC_SCREENSHARE_CONFIG]||"",o=JSON.parse(n);return o&&(e.captureFps=o.capture_fps||15,o.capture_frame_resolution_limit&&(e.screenMaxWidth=o.capture_frame_resolution_limit.max_width||Wr,e.screenMaxHeight=o.capture_frame_resolution_limit.max_height||xr),e.captureFpsForRemoteControl=o.capture_fps_for_remotecontrol||15,e.screenCaptureConfig=o.sc_config,e.captureFpsForSmoothMode=o.capture_fps_for_smoothmode||30),this.getLogInstance().info("Succeed to get Share Screen Config",e),this.data.setShareScreenConfig(e),e}catch(t){return this.getLogInstance().info("Failed to get Share Screen Config"),e}}))}setRTCCaptureProfile(e){return jr(this,void 0,void 0,(function*(){const t=yield this.getShareScreenConfig();let i=Object.assign({},t);e&&e.config&&(i=Object.assign(i,e.config));try{const{screenMaxWidth:t,screenMaxHeight:n,screenCaptureConfig:r,captureFpsForRemoteControl:o,captureFpsForSmoothMode:s}=i,{isRemoteControl:a,isSmoothMode:d}=e||{};let{captureFps:c}=i;a?(!d||o>s)&&(c=o):d&&(c=s);const l=!a&&i.isScreenShareDynamicFPSEnabled,p=this.sdks.getSDK();this.getLogInstance().info("setRtcCaptureProfileWhileShareScreen"),yield Promise.all([p.scEnableHighFps(!!d),p.scSetCaptureFps(c),p.scSetCaptureFrameResolutionLimit({maxResolutionWidth:t,maxResolutionHeight:n}),p.scEnableDynamicFps(l),r&&p.scSetScreenCaptureConfig(r)])}catch(e){this.getLogInstance().info("Failed to set Rtc Capture Profile While ShareScreen")}}))}getDNSofRTC(){return jr(this,void 0,void 0,(function*(){return this.getApis().request(r.Command.GET_RTC_DNS)}))}getFeatureGatings(){return jr(this,void 0,void 0,(function*(){this.featureGatings=yield this.getApis().getFgs({"byteview.meeting.pc.interview_full_screen":{isRuntime:!0},"byteview.meeting.pc.quick_share_screen":{isRuntime:!0},"byteview.meeting.pc.screenshare.dynamicfps":{isRuntime:!0}})}))}track(e,t){return jr(this,void 0,void 0,(function*(){const i=yield this.getMonitorCtx(),n=Object.assign(Object.assign({},i),t);this.getApis().track(e,n)}))}updateDataUserId(e){return this.data.updateUserId(e)}destorySDKServer(){return jr(this,void 0,void 0,(function*(){this.sdks.disconnectSignalServer("Preview page closed"),this.data.appInfo.appType===r.AppType.LARK&&(yield this.getApis().tryDestroySDKServer())}))}handlePreviewPageClose(){return jr(this,void 0,void 0,(function*(){this.getApis().controlPreviewModal({visible:!1,loading:!1})}))}handleRingingPageClose(){return jr(this,void 0,void 0,(function*(){this.refuseInvitation(),this.config.appInfo.appType===r.AppType.ROOM&&this.sdks.getSDK().stopPlayAudio()}))}handleCallingPageClose(){this.cancelInvitation(),this.config.appInfo.appType===r.AppType.ROOM&&this.sdks.getSDK().stopPlayAudio()}handleAVSettingPageClose(){this.config.appInfo.appType===r.AppType.LARK&&(this.getApis().tryDestroySDKServer(),this.getApis().closeAVSettingModal())}handleLobbyPageClose(){this.cancelWait(r.LocalEndReason.LEAVE_LOBBY)}callingPageCrash(){this.sdks.stopPreview(),this.cancelInvitation(),this.config.appInfo.appType===r.AppType.ROOM&&this.sdks.getSDK().stopPlayAudio()}ringingPageCrash(){this.sdks.stopPreview(),this.config.appInfo.appType===r.AppType.ROOM&&this.sdks.getSDK().stopPlayAudio()}previewPageCrash(){this.sdks.stopPreview(),this.getApis().controlPreviewModal({visible:!1,loading:!1})}avSettingPageCrash(){this.config.appInfo.appType===r.AppType.LARK&&(this.sdks.stopPreview(),this.getApis().tryDestroySDKServer(),this.getApis().closeAVSettingModal())}lobbyPageCrash(){this.sdks.stopPreview(),this.cancelWait(r.LocalEndReason.LEAVE_LOBBY)}miniLobbyPageCrash(){this.sdks.stopPreview()}renderTimeOut(){this.lifecycle("onRenderTimeOut",void 0)}startup(){return jr(this,void 0,void 0,(function*(){yield Promise.all([this.getVideoChatConfig(!0),this.getAudioShareConfig(),this.updateDataUserId(this.config.userInfo.id),this.getFeatureGatings()]),this.getLogInstance().info(`before core sdk start up ${this.config.appInfo.sdkServerName} ${this.config.appInfo.sdkServerUUID} ${this.coreId}`),yield Kn.call(this),this.getLogInstance().info(`after core sdk start up ${this.config.appInfo.sdkServerName} ${this.config.appInfo.sdkServerUUID} ${this.coreId}`),yield this.getApis().startSDKServer(),yield this.asyncLifecycle("startup",void 0);const e=this.getPM();this.on(r.BroadcastEvent.TRY_DESTORY_SDK_SERVER,this.destorySDKServer),e.on(r.PageName.PREVIEW,r.PageEvent.RENDER_TIMEOUT,this.renderTimeOut.bind(this)),e.on(r.PageName.CALLING,r.PageEvent.CLOSED,this.handleCallingPageClose.bind(this)),e.on(r.PageName.RINGING,r.PageEvent.CLOSED,this.handleRingingPageClose.bind(this)),e.on(r.PageName.PREVIEW,r.PageEvent.CLOSED,this.handlePreviewPageClose.bind(this)),e.on(r.PageName.AV_SETTING,r.PageEvent.CLOSED,this.handleAVSettingPageClose.bind(this)),e.on(r.PageName.LOBBY,r.PageEvent.CLOSED,this.handleLobbyPageClose.bind(this)),e.on(r.PageName.CALLING,r.PageEvent.CRASHED,this.callingPageCrash.bind(this)),e.on(r.PageName.RINGING,r.PageEvent.CRASHED,this.ringingPageCrash.bind(this)),e.on(r.PageName.PREVIEW,r.PageEvent.CRASHED,this.previewPageCrash.bind(this)),e.on(r.PageName.AV_SETTING,r.PageEvent.CRASHED,this.avSettingPageCrash.bind(this)),e.on(r.PageName.LOBBY,r.PageEvent.CRASHED,this.lobbyPageCrash.bind(this)),e.on(r.PageName.MINI_VIDEO_LOBBY,r.PageEvent.CRASHED,this.miniLobbyPageCrash.bind(this)),Object.keys(r.PageNameRouteMap).forEach(t=>{e.on(t,r.PageEvent.SHOW,this.addIgnoreWindow(t)),e.on(t,r.PageEvent.OPENED,this.addIgnoreWindow(t))}),this.getApis().rustOn(r.RustPushEvent.PUSH_MEETING_CHANGED_INFO,this.handleMeetingChangedInfo)}))}rustOff(){this.getApis().rustOff(r.RustPushEvent.PUSH_MEETING_CHANGED_INFO,this.handleMeetingChangedInfo)}shutdown(){return jr(this,void 0,void 0,(function*(){yield qn.call(this),yield this.asyncLifecycle("shutdown",void 0);const e=this.getPM();e.isExist(r.PageName.PREVIEW)&&this.getApis().controlPreviewModal({visible:!1,loading:!1}),e.closeExceptByNames([]),this.off(r.BroadcastEvent.TRY_DESTORY_SDK_SERVER,this.destorySDKServer),e.off(r.PageName.PREVIEW,r.PageEvent.RENDER_TIMEOUT),e.off(r.PageName.CALLING,r.PageEvent.CLOSED),e.off(r.PageName.RINGING,r.PageEvent.CLOSED),e.off(r.PageName.PREVIEW,r.PageEvent.CLOSED),e.off(r.PageName.AV_SETTING,r.PageEvent.CLOSED),e.off(r.PageName.LOBBY,r.PageEvent.CLOSED),e.off(r.PageName.CALLING,r.PageEvent.CRASHED),e.off(r.PageName.RINGING,r.PageEvent.CRASHED),e.off(r.PageName.PREVIEW,r.PageEvent.CRASHED),e.off(r.PageName.LOBBY,r.PageEvent.CRASHED),e.off(r.PageName.AV_SETTING,r.PageEvent.CRASHED),e.off(r.PageName.MINI_VIDEO_LOBBY,r.PageEvent.CRASHED),e.off(r.PageName.ACCESSIBILITY_CONFIRM,r.PageEvent.OPENED),e.off(r.PageName.CALENDAR_PROMPT,r.PageEvent.OPENED),e.off(r.PageName.HANGUP_CONFIRM,r.PageEvent.OPENED),e.off(r.PageName.IN_MEETING_CONFIRM,r.PageEvent.OPENED),e.off(r.PageName.INVITE,r.PageEvent.OPENED),e.off(r.PageName.LIVE_CONFIRM,r.PageEvent.OPENED),e.off(r.PageName.RECORD_CONFIRM,r.PageEvent.OPENED),e.off(r.PageName.REMOTE_CONTROL_MODAL,r.PageEvent.OPENED),e.off(r.PageName.LIVE_ACCOUNT_BIND,r.PageEvent.OPENED),e.off(r.PageName.LIVE_SETTING,r.PageEvent.OPENED),e.off(r.PageName.LOBBY_NOTIFICATION,r.PageEvent.OPENED),e.off(r.PageName.HANDS_UP_NOTIFICATION,r.PageEvent.OPENED)}))}}var qr=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};Kr.extend({name:"call",data:{meetingHeartbeatCycle:0,meetingHeartbeatExpiredTime:0,callHeartbeatCycle:0,callHeartbeatExpiredTime:0},asyncHooks:{startup(){return qr(this,void 0,void 0,(function*(){const e=yield this.getApis().request(r.Command.PULL_VIDEO_CHAT_CONFIG),{meetingHeartbeatCycle:t,meetingHeartbeatExpiredTime:i,callHeartbeatCycle:n,callHeartbeatExpiredTime:o}=e;this.data.meetingHeartbeatCycle=t,this.data.meetingHeartbeatExpiredTime=i,this.data.callHeartbeatCycle=n,this.data.callHeartbeatExpiredTime=o}))}},hooks:{onOnTheCall(){this.startHeartBeat(r.HeartbeatServiceType.VC)},onLeaveOnTheCall(){this.stopHeartBeat(r.HeartbeatServiceType.VC)},onEnterWait(){this.startHeartBeat(r.HeartbeatServiceType.VCLOBBY)},onLeaveWait(){this.stopHeartBeat(r.HeartbeatServiceType.VCLOBBY)}},methods:{startHeartBeat(e){if(!this.data.conference)return;const{id:t}=this.data.conference,i={cycle:0,expiredTime:0,serviceType:e,token:t};this.getApis().request(r.Command.START_HEARTBEAT,i)},stopHeartBeat(e){const{id:t}=this.data.conference||{},i={serviceType:e,token:t};this.getApis().request(r.Command.STOP_HEARTBEAT,i)}}}),Kr.extend({name:"polling",hooks:{invite1v1Success(){this.startPolling(r.PollingServiceType.CALLING)},onLeave1v1Calling(){this.stopPolling(r.PollingServiceType.CALLING)},onRinging(){this.startPolling(r.PollingServiceType.RINGING)},onLeaveRinging(){this.stopPolling(r.PollingServiceType.RINGING)}},methods:{startPolling(e){if(!this.data.conference)return;const t={serviceType:e,meetingId:this.data.conference.id};this.getApis().request(r.Command.START_POLLING,t)},stopPolling(e){const t={serviceType:e,meetingId:this.data.conference&&this.data.conference.id||""};this.getApis().request(r.Command.STOP_POLLING,t)}}});Kr.extend({name:"timeout",data:{timeoutMap:Object.create(null)},hooks:{on1v1CallingSuccess(e){this.startTimeout(r.UserState.CALLING,7e4)},onLeaveCalling(){this.endTimeout(r.UserState.CALLING)},onRinging(e){this.startTimeout(r.UserState.RINGING,7e4)},onLeaveRinging(){this.endTimeout(r.UserState.RINGING)}},methods:{startTimeout(e,t){this.data.timeoutMap=this.data.timeoutMap||{},this.data.timeoutMap[e]||(this.data.timeoutMap[e]=window.setTimeout(()=>{this.resetInvitationOnTimeout(),this.data.timeoutMap[e]=null},t))},endTimeout(e){this.data.timeoutMap&&this.data.timeoutMap[e]&&(window.clearTimeout(this.data.timeoutMap[e]),this.data.timeoutMap[e]=null)}}}),Kr.extend({name:"track.common",data:{acceptTime:0},hooks:{onRinging(e){this.track(r.Homeric.VC_MONITOR_CALLEE_RING,void 0)},acceptInvitation(e){this.data.acceptTime=Object(b.getCurrentTime)()},acceptInvitationFail(){this.track(r.Homeric.VCEX_MEETING_ERROR,{on_the_call:this.fsm.state===r.UserState.ON_THE_CALL?1:0,error_type_alarm:r.InteruptType.ACCEPT_FAILED})},onOnTheCall(e){this.track(r.Homeric.VC_PC_ENTER_ONTHECALL,void 0),this.track(r.Homeric.VC_MONITOR_SDK,{action_name:"join"}),(e.joinMeetingType===r.UISDKJoinMeetingType.SCREEN_SHARE_JOIN_MEETING||e.conference.settings&&e.conference.settings.subType===r.SubType.SCREEN_SHARE)&&this.track(r.Homeric.VC_CLIENT_SIGNAL_INFO,{action_name:"req_onthecall"})},onOnTheCallSuccess(e){this.data.joinTime=Object(b.getCurrentTime)(),this.track(r.Homeric.VC_MONITOR_SDK,{action_name:"join_success"}),this.track(r.Homeric.VC_MEETING_CLIENT_JOIN,{interactive_id:this.data.interactiveId})},onWindowCrash(){this.track(r.Homeric.VCEX_BYTERTC_SDK,{rtc_error:r.RTC_SDK_TRACK_ERROR.WindowCrash})},onRenderTimeOut(){this.track(r.Homeric.VCEX_BYTERTC_SDK,{rtc_error:r.RTC_SDK_TRACK_ERROR.WindowRennderTimeOut})},onUISDKError(e){this.data.sdkType!==r.SDKType.WEBGL_BYTERTC||e.type!==r.SDKErrorType.ERROR&&e.type!==r.SDKErrorType.CRASH||e.type===r.SDKErrorType.CRASH&&this.track(r.Homeric.VCEX_MEETING_ERROR,{on_the_call:this.fsm.state===r.UserState.ON_THE_CALL?1:0,error_type_alarm:r.InteruptType.CRASH})},onFSMError(e){const t=r.TRANSITION_TO_TRACKINPUT_MAP[e.transition];this.track(r.Homeric.VCEX_STATEMACHINE_SWITCH_FAIL,{route_alarm:`${e.from}-${t}`})},onCallingTimeout(){this.track(r.Homeric.VCEX_CALLING_CLIENT_TIMEOUT,{status:1})},onRingingTimeout(){this.track(r.Homeric.VCEX_RINGING_CLIENT_TIMEOUT,{status:1})},onIdle(){this.data.acceptTime=0,this.data.joinTime=0}}}),Kr.extend({name:"track.1v1",data:{inviteStartTime:0,ringingReceivedTime:0,receiveRemoteStream:!1},hooks:{invite(){this.data.inviteStartTime=Date.now()},invite1v1Success(e){const t=wo().getVcCallClickInfo();this.track(r.Homeric.VC_CALL_CLIENT_CREATE,{conference_id:e.id}),this.track(r.Homeric.VC_CALL_CLICK,Object.assign(Object.assign({},t),{context_id:e.contextId}))},invite1v1Error(e){if(this.data.vcType!==r.VideoChatType.CALL)return;const t=this.data.isVoiceCall?{only_voice:1}:null;this.data.userType===r.UserType.CALLER&&this.track(r.Homeric.VC_CALL_FAIL,{call_fail_reason:this.getCallFailReason(e.code),extend_value:Object.assign({},t)})},cancelInvitation(){if(this.data.vcType!==r.VideoChatType.CALL)return;const e=this.data.isVoiceCall?{only_voice:1}:null;this.track(r.Homeric.VC_CALL_CANCEL,{extend_value:Object.assign({},e)}),this.data.ringingReceivedTime&&this.track(r.Homeric.VC_CALL_CANCELDURATION,{call_duration:Date.now()-this.data.ringingReceivedTime,extend_value:Object.assign({},e)})},on1v1Ringing(e){if(this.data.vcType!==r.VideoChatType.CALL)return;const{actionTime:t}=e;if(t.invite){const e=this.data.getCurrentNTPTime();this.track(r.Homeric.VC_CALL_RECEIVEDURATION,{client_duration:e-t.invite,is_offline:0})}this.track(r.Homeric.VC_CALL_PAGE_RINGING,{action_name:"ringing",from_source:r.RingingSource.ws})},acceptInvitation(e){if(this.data.vcType!==r.VideoChatType.CALL)return;const{isCameraMuted:t}=e;this.track(r.Homeric.VC_CALL_ACCEPT,{accept_type:""+(t?"voice":"video"),context_id:e.contextId})},onVCExtraInfoUpdate(e){switch(e.type){case r.VideoChatExtraType.RINGING_RECEIVED:this.data.vcType===r.VideoChatType.CALL&&(this.data.ringingReceivedTime=Date.now(),this.track(r.Homeric.VC_CALL_DIALINGDURATION,{call_duration:Date.now()-this.data.inviteStartTime}))}},onUISDKFirstRemoteAudioFrame(){if(this.data.vcType!==r.VideoChatType.CALL)return;this.data.receiveRemoteStream=!0;const e=Object(b.getTimeSince)(this.data.joinTime);this.track(r.Homeric.VC_MONITOR_ONCALL_TO_STREAM,{audio_duration:e}),this.data.userType===r.UserType.CALLER&&this.track(r.Homeric.VC_CALL_SUCCESS,{call_join_type:this.data.vendorType})},onUISDKFirstRemoteVideoFrame(){if(this.data.vcType!==r.VideoChatType.CALL)return;this.data.receiveRemoteStream=!0;const e=Object(b.getTimeSince)(this.data.joinTime);this.track(r.Homeric.VC_MONITOR_ONCALL_TO_STREAM,{video_duration:e})},onLeaveOnTheCall(e){if(this.data.vcType!==r.VideoChatType.CALL)return;const t=wo().getIsOnline();this.data.userType!==r.UserType.CALLEE||t||this.track(r.Homeric.VC_CALL_FINISH_CALLEE_NONETWORK,void 0);const i=r.UISDKLeaveMeetingType2FinishType[e],n=r.UISDKLeaveMeetingType2FinishReason[e];this.data.userType===r.UserType.CALLER&&this.track(r.Homeric.VC_CALL_FINISH,{finish_type:i,finish_reason:n});Object(b.getTimeSince)(this.data.joinTime)>5e3&&!this.data.receiveRemoteStream&&this.track(r.Homeric.VC_MONITOR_ONCALL_TO_STREAM,{audio_duration:1e6,video_duration:1e6})},onIdle(){this.data.inviteStartTime=0,this.data.ringingReceivedTime=0,this.data.receiveRemoteStream=!1}},methods:{getCallFailReason:e=>wo().getIsOnline()?r.START_ERROR_MAP[e]?r.START_ERROR_MAP[e]:Number(e)<23e4&&Number(e)>22e4?6:Number(e)>1e4&&Number(e)<11e3?7:100:1}}),Kr.extend({name:"track.multi",data:{hostUserId:"",hostDeviceId:""},hooks:{inviteMultiSuccess(e){this.data.vcType===r.VideoChatType.MEETING&&this.track(r.Homeric.VC_MONITOR_CALLER_RECEIVE_MEETING_ID,void 0)},inviteMultiError(e){if(this.data.vcType!==r.VideoChatType.MEETING)return;const t=e.code===r.ErrorCode.BANNED?"banned":"others";this.track(r.Homeric.VC_MEETING_FAIL,{reason:t}),this.track(r.Homeric.VCEX_MEETING_ERROR,{error_type_alarm:r.InteruptType.CREATE_FAILED,on_the_call:0})},onMultiRinging(e){this.data.vcType===r.VideoChatType.MEETING&&this.track(r.Homeric.VC_MEETING_PAGE_RINGING,{action_name:"ringing",from_source:r.RingingSource.ws})},acceptInvitation(e){if(this.data.vcType!==r.VideoChatType.MEETING)return;const{isCameraMuted:t,isMicrophoneMuted:i}=e;let n=r.MeetingAttendAction.allOpen;t&&i?n=r.MeetingAttendAction.allClose:t?n=r.MeetingAttendAction.onlyVoice:i&&(n=r.MeetingAttendAction.onlyVideo),this.track(r.Homeric.VC_MEETING_ATTEND,{action_name:n,context_id:e.contextId})},acceptInvitationFail(e){this.track(r.Homeric.VC_MEETING_ATTEND_FAIL,e)},onLeaveOnTheCall(e){if(this.data.vcType!==r.VideoChatType.MEETING)return;const t=r.UISDKLeaveMeetingType2FinishType[e],i=r.UISDKLeaveMeetingType2FinishReason[e];this.track(r.Homeric.VC_MEETING_FINISH,{finish_type:t,finish_reason:i})},onOnTheCallSuccess(){this.data.vcType===r.VideoChatType.MEETING&&(this.data.hostUserId=this.data.getHostId(),this.data.hostDeviceId=this.data.getHostDeviceId())},forceJoinMeeting(e){this.data.appInfo.appType===r.AppType.ROOM&&this.track(r.Homeric.VC_CLIENT_SIGNAL_INFO,{action_name:"recive_meeting_info",isMagic:this.data.shareScreenItem&&this.data.shareScreenItem.isMagic?1:0})},onUISDKFirstRemoteAudioFrame({uid:e}){if(this.data.vcType!==r.VideoChatType.MEETING)return;const t=this.getParams(e),i=Object(b.getTimeSince)(this.data.joinTime),n=this.data.getHostDeviceId(),o=this.data.getHostId(),s=this.data.getParticipants().find(e=>e.id===o&&e.deviceId===n),a=e===(s?s.rtcJoinId||s.deviceId:void 0);a&&this.data.hostUserId===o&&this.data.hostDeviceId===n&&this.track(r.Homeric.VC_MONITOR_ONCALL_TO_STREAM,{audio_duration:i,extend_value:Object.assign({},t)}),this.track(r.Homeric.VC_MEETING_SUCCESS,{extend_value:Object.assign(Object.assign({},t),{is_host:a?1:0})})},onUISDKFirstRemoteVideoFrame({uid:e}){if(this.data.vcType!==r.VideoChatType.MEETING)return;const t=this.getParams(e),i=Object(b.getTimeSince)(this.data.joinTime),n=this.data.getHostDeviceId(),o=this.data.getHostId(),s=this.data.getParticipants().find(e=>e.id===o&&e.deviceId===n);e===(s?s.rtcJoinId||s.deviceId:void 0)&&this.data.hostUserId===o&&this.data.hostDeviceId===n&&this.track(r.Homeric.VC_MONITOR_ONCALL_TO_STREAM,{video_duration:i,extend_value:Object.assign({},t)})}},methods:{getParams(e){const t=this.data.getParticipants().find(t=>t.rtcJoinId===e||t.deviceId===e);if(t){return{from_device_id:t.deviceId,from_interactive_id:t.interactiveId}}return{}}}}),Kr.extend({name:"log",hooks:{onWindowCrash(){this.getLogInstance().error("WINDOW_CRASH")},forceLeaveMeeting(){this.getLogInstance().info("forceLeaveMeeting")},forceLeaveMeetingSuccess(){this.getLogInstance().info("forceLeaveMeeting success")},forceLeaveMeetingError(){this.getLogInstance().error("forceLeaveMeeting error")},onVCExtraInfoUpdate(e){switch(e.type){case r.VideoChatExtraType.RINGING_RECEIVED:this.getLogInstance().info(`handleVCExtraInfo(${e.type})`,e)}}},methods:{}}),Kr.extend({name:"power",hooks:{onOnTheCall(){this.getApis().emit(r.ContainerEvent.SLEEP_BLOCK,{action:r.SleepBlockAction.START})},onLeaveOnTheCall(){this.getApis().emit(r.ContainerEvent.SLEEP_BLOCK,{action:r.SleepBlockAction.END})}}}),Kr.extend({name:"screen",hooks:{onScreenShareSuccess(){const{settings:e}=this.data.conference||{};e&&e.subType===r.SubType.SCREEN_SHARE&&this.track(r.Homeric.VC_CLIENT_SIGNAL_INFO,{action_name:"begin_share_screen",share_screen_id:this.data.shareScreenId}),this.data.appInfo.appType!==r.AppType.ROOM&&this.getApis().emit(r.ContainerEvent.BYTEVIEW_SHARESCREENBAR_SETWINTOP,void 0)}}}),Kr.extend({name:"reportState",hooks:{onOnTheCallSuccess(){this.getLogInstance().info("NOTICE_BYTEVIEW_EVENT: enter"),this.getApis().emit(r.ContainerEvent.NOTICE_BYTEVIEW_EVENT,{type:r.NoticeByteviewEventType.ENTER_MEETING})},leaveMeeting(e){this.getLogInstance().info("NOTICE_BYTEVIEW_EVENT: leave meeting"),this.getApis().emit(r.ContainerEvent.NOTICE_BYTEVIEW_EVENT,{type:r.NoticeByteviewEventType.LEAVE_MEETING,data:{conference:e}})},onIdle(){this.getLogInstance().info("NOTICE_BYTEVIEW_EVENT: enter idle"),this.getApis().emit(r.ContainerEvent.NOTICE_BYTEVIEW_EVENT,{type:r.NoticeByteviewEventType.ENTER_IDLE})},onLeaveIdle(){this.getLogInstance().info("NOTICE_BYTEVIEW_EVENT: leave idle"),this.getApis().emit(r.ContainerEvent.NOTICE_BYTEVIEW_EVENT,{type:r.NoticeByteviewEventType.LEAVE_IDLE})}}});i(741);var Yr=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};class Jr{constructor(e,t,i){this.config=t,this.container=e,this.coreId=i,this.containerApi=new c(e),this.isMainServer=!!t,Object(G.c)(t,e.getPageManager(t,i),i),this.pageManager=Object(G.a)(i),this.pageManager.beforeOpen=(e,t={})=>{e===r.PageName.MEETING&&this.core.lifecycle("beforeOpenMeetingPage",t)},this.pageManager.afterShow=e=>{e===r.PageName.MEETING&&this.core.lifecycle("afterShowMeetingPage",{})},this.core=new Kr(t,i)}static newInstance(e,t,i){const n=new Jr(e,t,i),r=Object.create(null);return new Proxy(n,{get(e,t){if(t in r)return r[t];if(t in e)return e[t];if("string"==typeof t&&-1==="emit,on,off".indexOf(t)&&t in n.containerApi){const e=n.containerApi[t];return r[t]="function"==typeof e?e.bind(n.containerApi):void 0,r[t]}const i=n.core[t];return r[t]="function"==typeof i?function(){return Yr(this,arguments,void 0,(function*(){return yield i.apply(n.core,arguments)}))}:void 0,r[t]}})}startup(){return Yr(this,void 0,void 0,(function*(){this.isMainServer&&(this.pageManager.startup(),yield this.core.startup())}))}shutdown(){return Yr(this,void 0,void 0,(function*(){this.isMainServer&&(yield this.core.shutdown(),this.pageManager.shutdown(),Object(G.b)(this.coreId))}))}getCoreId(){return this.core.data.coreId}getCoreData(){return this.core.data}}var zr=i(256),Xr=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function Qr(e,t={}){return Xr(this,void 0,void 0,(function*(){const i=y.apply(e),n=T.apply(e),o=h.apply(e);let s;s=i?r.UserState.ON_THE_CALL:n?r.UserState.RINGING:o?r.UserState.CALLING:r.UserState.IDLE;return e.getApis().request(r.Command.REGISTER_CLIENT_INFO,Object.assign(Object.assign({status:r.ParticipantStatus[s],sourceType:r.RegisterClientInfoSourceType.LONG_CONNECTION_LOSS},t),{syncResponse:!0}))}))}function $r(e){if(!this.coreManagerData||!e.id)return;const t={userId:this.coreManagerData.userId,deviceId:this.coreManagerData.deviceId,userType:r.ParticipantType.LARK_USER};this.getApis().request(r.Command.SHARE_SCREEN,{meetingId:e.id,action:r.ShareScreenAction.STOP,shareScreenUser:t})}function Zr(e,t,i){return Xr(this,void 0,void 0,(function*(){const{status:n,infos:o}=t,s=e.getApis();let a;n!==r.RegisterClientInfoResponseStatus.ACTIVE||i!==r.RegisterClientInfoSourceType.CRASHED_STARTUP?n===r.RegisterClientInfoResponseStatus.INACTIVE&&i===r.RegisterClientInfoSourceType.CRASHED_STARTUP&&([a]=o,a)?s.emit(r.ContainerEvent.CONFIRM,{title:s.getI18NText("View_M_RejoinMeetingTopicBraces",{meeting_topic:a.settings.topic||""}),confirmHandle:()=>Xr(this,void 0,void 0,(function*(){const e=wo().createByteviewApi();(yield wo().startByteviewApi(e)).rejoinMeeting({meetingId:a.id,force:!0})})),cancelHandle:()=>{e.getApis().request(r.Command.UPDATE_VIDEO_CHAT,{action:r.CLIENT_ACTION_2_SERVER_ACTION[r.Action.TERMINAL],id:a.id,actionTime:{},interactiveId:e.coreManagerData.interactiveId})}}):function(e,t){Xr(this,void 0,void 0,(function*(){t.map(t=>{const i=e.coreManagerData.findStatusInVideoChatInfo(t);return i!==r.ParticipantStatus.CALLING&&i!==r.ParticipantStatus.ON_THE_CALL||e.getApis().request(r.Command.UPDATE_VIDEO_CHAT,{action:r.CLIENT_ACTION_2_SERVER_ACTION[r.Action.TERMINAL],id:t.id,actionTime:{},interactiveId:e.coreManagerData.interactiveId}),i===r.ParticipantStatus.RINGING&&e.handleVCInfo(t),null})}))}(e,o):o.map(t=>($r.call(e,t),e.handleVCInfo(t)))}))}function eo(e=!1,t){return Xr(this,void 0,void 0,(function*(){const i=this.getApis(),n={};if(n.sourceType=r.RegisterClientInfoSourceType.LONG_CONNECTION_LOSS,e){const[e,t="",o,s="",a]=yield Promise.all([i.getStorage("lark_last_exit_reason_key"),i.getStorage("byteview_last_meeting_key_meeting_id"),i.getStorage("byteview_last_meeting_key_type"),i.getStorage("byteview_last_meeting_key_core_id"),i.getStorage("last_user_state_key")]),d={meetingId:t,type:Number(o),coreId:s};i.delStorage("lark_last_exit_reason_key"),i.delStorage("byteview_last_meeting_key_meeting_id"),i.delStorage("byteview_last_meeting_key_type"),i.delStorage("byteview_last_meeting_key_core_id"),i.delStorage("last_user_state_key"),Number(e)!==_.NORMAL&&a===r.UserState.ON_THE_CALL&&(i.track(r.Homeric.VC_VOIP_INTERRUPTED,{conference_id:d.meetingId}),Number(d.type)===r.VideoChatType.MEETING&&(n.sourceType=r.RegisterClientInfoSourceType.CRASHED_STARTUP))}const o=this.getByteviewApiByState(r.UserState.ON_THE_CALL);if(o.length&&this.config.appInfo.appType===r.AppType.LARK)o.forEach(e=>{const{conference:t}=e.getCoreData();t&&i.request(r.Command.TRIGGER_PULL_IN_MEETING_INFO,{meetingId:t.id})});else{if(t&&this.getAllByteviewApi().length)return;const i=yield Qr(this,n);if(!e||this.config.appInfo.appType===r.AppType.ROOM)return void i.infos.map(e=>this.handleVCInfo(e));Zr(this,i,n.sourceType)}}))}var to=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function io(){return to(this,void 0,void 0,(function*(){return{canMeeting:!0,errorToastText:""}}))}var no=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function ro(){return no(this,void 0,void 0,(function*(){if(!this.coreManagerData)return!1;let e=!f.apply(this);if(this.coreManagerData&&e){e=-1===(yield Promise.all(Object.values(this.coreManagerData.byteviewApisMap).map(e=>e.getPM()))).map(e=>e.isExist(r.PageName.PREVIEW)||e.isExist(r.PageName.CALENDAR_PROMPT)||e.isExist(r.PageName.AV_SETTING)||e.isExist(r.PageName.RINGING)||e.isExist(r.PageName.CALLING)).indexOf(!0)}return e}))}var oo=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function so(e){return oo(this,void 0,void 0,(function*(){if(!this.coreManagerData)return;const{meetingId:t}=e,i=Object.values(this.coreManagerData.byteviewApisMap).find(e=>{const{conference:i}=e.getCoreData();return!!i&&i.id===t});i&&i.handleVideoChatNoticeUpdate(e)}))}var ao=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function co(e){return ao(this,void 0,void 0,(function*(){const{id:t,idType:i,localCheckOnly:n,interviewRole:o,focusIfInMeeting:s,isMeeting:a}=e;if(!this.coreManagerData)return{checkType:r.JoinMeetingCheckType.UNKNOEN,message:"View_G_NoConnection"};if(!this.coreManagerData.isOnline)return this.getApis().toast({type:r.ToastEvent.ERROR,data:"View_G_NoConnection"}),{checkType:r.JoinMeetingCheckType.UNKNOEN,message:"View_G_NoConnection"};const d=this.findByteviewApiByMeetingId(t);if(s&&d&&d.getCoreData().getCurrentStatus()===r.UserState.ON_THE_CALL)return d.focusByName(r.PageName.MEETING),{checkType:r.JoinMeetingCheckType.UNKNOEN,message:"",isJoined:!0};const c=T.apply(this),l=h.apply(this);if(d&&d.getCoreData().getCurrentStatus()===r.UserState.WAIT)return d.focusByName(r.PageName.LOBBY),{checkType:r.JoinMeetingCheckType.UNKNOEN,message:"",isJoined:!0};if(l)return this.getApis().toast({type:r.ToastEvent.ERROR,data:"View_M_CurrentlyInMeeting"}),{checkType:r.JoinMeetingCheckType.UNKNOEN,message:"View_M_CurrentlyInMeeting"};if(!a){if(f.apply(this)){const e=c?"View_G_IncomingCall":"View_M_CurrentlyInMeeting";return this.getApis().toast({type:r.ToastEvent.ERROR,data:e}),{checkType:r.JoinMeetingCheckType.UNKNOEN,message:e}}}if(n)return{checkType:r.JoinMeetingCheckType.SUCCESS,message:""};const p={id:t,idType:i};o&&(p.interviewRole=o);const{checkType:u,vendorType:_}=yield this.getApis().request(r.Command.JOIN_MEETING_PRE_CHECK,p);let E="";switch(u){case r.JoinMeetingCheckType.UNKNOEN:E=c?"View_G_IncomingCall":"View_M_CurrentlyInMeeting",this.getApis().toast({type:r.ToastEvent.ERROR,data:E});break;case r.JoinMeetingCheckType.SUCCESS:break;case r.JoinMeetingCheckType.MEETING_ENDED:this.getApis().toast({type:r.ToastEvent.ERROR,data:"View_M_MeetingHasEnded"}),E="View_M_MeetingHasEnded";break;case r.JoinMeetingCheckType.PARTICIPANT_LIMIT_EXCEED:this.getApis().toast({type:r.ToastEvent.ERROR,data:"View_M_CapacityReachedAlternative"}),E="View_M_CapacityReachedAlternative";break;case r.JoinMeetingCheckType.MEETING_LOCKED:this.getApis().toast({type:r.ToastEvent.ERROR,data:"View_M_MeetingLocked"}),E="View_M_MeetingLocked";break;case r.JoinMeetingCheckType.MEETING_NUMBER_INVALID:break;case r.JoinMeetingCheckType.VOIP_BUSY:this.getApis().toast({type:r.ToastEvent.ERROR,data:"View_G_CurrentlyInCall"}),E="View_G_CurrentlyInCall";break;case r.JoinMeetingCheckType.VERSION_LOW:{let e="";try{const{hasNew:t}=yield this.getApis().request(r.Command.GET_NEW_VERSION);t?this.getApis().confirm({title:this.getApis().getI18NText("View_M_UpdateSoftwareTitle"),message:this.getApis().getI18NText("View_M_UpdateSoftwareInfo"),confirmText:this.getApis().getI18NText("View_M_GetUpdate"),cancelText:this.getApis().getI18NText("View_G_NoThanksButton"),confirmHandle:()=>ao(this,void 0,void 0,(function*(){(yield this.getApis().getFg("lark.setting.auto.update",!0))?this.getApis().request(r.Command.INVOKE_SETTING_UPDATE_PAGE):this.getApis().request(r.Command.INVOKE_SETTING_ABOUT_PAGE)})),cancelHandle:()=>{}}):e=this.getApis().getI18NText("View_G_FeatureNotSupported")}catch(t){e=this.getApis().getI18NText("View_G_FeatureNotSupported")}this.getApis().toast({type:r.ToastEvent.ERROR,data:e}),E="View_G_FeatureNotSupported";break}case r.JoinMeetingCheckType.DEVICE_IN_MEETING:E="View_M_CurrentlyInMeeting",this.getApis().toast({type:r.ToastEvent.ERROR,data:E});break;case r.JoinMeetingCheckType.DEVICE_RINGING:this.getApis().toast({type:r.ToastEvent.ERROR,data:"View_G_IncomingCall"}),E="View_G_IncomingCall";break;case r.JoinMeetingCheckType.CHAT_POST_NO_PERMISSION:this.getApis().toast({type:r.ToastEvent.ERROR,data:"View_M_CannotStartMeetings"}),E="View_M_CannotStartMeetings";break;case r.JoinMeetingCheckType.TENANT_IN_BLACKLIST:this.getApis().toast({type:r.ToastEvent.ERROR,data:"View_G_BlacklistCallsMeetingsUnavailable"}),E="View_G_BlacklistCallsMeetingsUnavailable";break;case r.JoinMeetingCheckType.CALENDAR_OUT_OF_DATE:this.getApis().toast({type:r.ToastEvent.ERROR,data:"View_M_MeetingExpired"}),E="View_M_MeetingExpired";break;case r.JoinMeetingCheckType.INTERVIEW_NO_PERMISSION:this.getApis().toast({type:r.ToastEvent.ERROR,data:"View_M_NoPermissionToJoinInterview"}),E="View_M_NoPermissionToJoinInterview";break;case r.JoinMeetingCheckType.INTERVIEW_OUT_OF_DATE:this.getApis().toast({type:r.ToastEvent.ERROR,data:"View_M_InterviewLinkExpired"}),E="View_M_InterviewLinkExpired"}return{checkType:u,message:E,vendorType:u===r.JoinMeetingCheckType.SUCCESS?_:void 0}}))}var lo=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function po(e){return lo(this,void 0,void 0,(function*(){if(!this.coreManagerData)return;let t;const{promptId:i}=e;if(t=Object.values(this.coreManagerData.byteviewApisMap).find(e=>{const{conference:t}=e.getCoreData();return!!t&&t.id===i}),!t){const e=this.createByteviewApi();t=yield this.startByteviewApi(e)}t.handleVideoChatPrompt(e)}))}var uo=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function _o(){return!!this.coreManagerData&&Object.values(this.coreManagerData.byteviewApisMap).some(e=>{const t=e.getCoreData().getCurrentStatus(),i=e.getCoreData().getIsChatRoom(),n=e.getCoreData().getJoinChatRoomFrom()===r.JoinChatRoomFrom.QUICK_JUMP;return t===r.UserState.ON_THE_CALL&&i&&n})}function Eo(){return!!this.coreManagerData&&Object.values(this.coreManagerData.byteviewApisMap).some(e=>{const t=e.getCoreData().getCurrentStatus(),i=e.getCoreData().getIsChatRoom();return t===r.UserState.ON_THE_CALL&&!i})}function ho(){return uo(this,void 0,void 0,(function*(){if(!this.coreManagerData)return{checkType:r.JoinMeetingCheckType.UNKNOEN,message:"View_G_NoConnection"};if(!this.coreManagerData.isOnline)return this.getApis().toast({type:r.ToastEvent.ERROR,data:"View_G_NoConnection"}),{checkType:r.JoinMeetingCheckType.UNKNOEN,message:"View_G_NoConnection"};if(_o.apply(this))return this.getApis().toast({type:r.ToastEvent.INFO,data:"View_C_CurrentlyInOnlineOffice"}),{checkType:r.JoinMeetingCheckType.UNKNOEN,message:"View_C_CurrentlyInOnlineOffice"};const e=Eo.apply(this),t=T.apply(this),i=h.apply(this);if(e||t||i){const e=!1?"View_G_CurrentlyInCall":"View_M_CurrentlyInMeeting";return this.getApis().toast({type:r.ToastEvent.ERROR,data:t?"View_G_IncomingCall":e}),{checkType:r.JoinMeetingCheckType.UNKNOEN,message:t?"View_G_IncomingCall":e}}return{checkType:r.JoinMeetingCheckType.SUCCESS,message:""}}))}var To=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function yo(e){return To(this,void 0,void 0,(function*(){const{netStatus:t}=e;this.coreManagerData&&this.coreManagerData.setIsOnline(t!==r.DynamicNetStatusEnum.OFFLINE)}))}var fo=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function Io(e){return fo(this,void 0,void 0,(function*(){if(!this.coreManagerData)return;const t=this.findByteviewApiByMeetingId(e.meetingId);t&&t.handleParticipantsChange(e)}))}var go=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function So(e){return go(this,void 0,void 0,(function*(){const{meetingId:t,action:i}=e;if(!this.coreManagerData||!t)return;if(i===r.VCManageResultAction.ENTERVCLOBBY&&I.has(t))return;let n=Object.values(this.coreManagerData.byteviewApisMap).find(e=>{const{conference:i}=e.getCoreData();return!!i&&i.id===t});if(I.has(t)&&(n=this.coreManagerData.byteviewApisMap[I.get(t)]),!n){const e=this.createByteviewApi();I.set(t,e),n=yield this.startByteviewApi(e),I.delete(t)}n.handleVCManageResult(e)}))}var Co=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};class mo{constructor(e,t){this.events=new L.EventEmitter,this.coreManagerData=null,this.logInstance=null,this.handleParticipantsChange=Io.bind(this),this.handleVideoChatPrompt=po.bind(this),this.getViewI18nFromRust=u.bind(this),this.canOpenPreviewPage=R.bind(this),this.handleVCInfo=C.bind(this),this.handleDynamicNetStatus=yo.bind(this),this.handleReconnect=eo.bind(this),this.handleVideoChatNoticeUpdate=so.bind(this),this.canInvite=N.bind(this),this.canScreenShareJoinMeeting=v.bind(this),this.canJoinMeetingByMeetingNumber=M.bind(this),this.canMeetingFromPreview=io.bind(this),this.canDestroySDKServer=ro.bind(this),this.joinMeetingPreCheck=co.bind(this),this.joinChatRoomCheck=ho.bind(this),this.handleVCManageResult=So.bind(this),this.container=e,this.config=t}startup(){return Co(this,void 0,void 0,(function*(){var e;e=this.config,w=new U(e),this.coreManagerData=k()}))}shutdown(){return Co(this,void 0,void 0,(function*(){this.coreManagerData&&this.coreManagerData.setInteractiveId(),yield Promise.all(this.getAllByteviewApi().map(e=>e.shutdown()))}))}getAppConfig(){if(!this.config)throw Error("Maybe u have not start coreManager");return this.config}getCoreManagerData(){return this.coreManagerData||(this.coreManagerData=k()),this.coreManagerData}getByteviewApiByCoreId(e){return this.coreManagerData?this.coreManagerData.byteviewApisMap[e]:null}getChatRoomByteviewApiByState(e){return this.coreManagerData?Object.values(this.coreManagerData.byteviewApisMap).filter(t=>{const i=t.getCoreData().getCurrentStatus(),n=t.getCoreData().getIsChatRoom();return i===e&&n}):[]}getByteviewApiByState(e){return this.coreManagerData?Object.values(this.coreManagerData.byteviewApisMap).filter(t=>t.getCoreData().getCurrentStatus()===e):[]}getByteviewApiCoreIdListByState(e){return this.coreManagerData?Object.values(this.coreManagerData.byteviewApisMap).filter(t=>t.getCoreData().getCurrentStatus()===e).map(e=>e.getCoreId()):[]}getAllByteviewApi(){return this.coreManagerData?Object.values(this.coreManagerData.byteviewApisMap):[]}findByteviewApiByMeetingId(e){return this.coreManagerData?Object.values(this.coreManagerData.byteviewApisMap).find(t=>{const{conference:i}=t.getCoreData();return!!i&&i.id===e}):null}createByteviewApi(){const e=Object(zr.uuid)(),t=Jr.newInstance(this.container,this.config,e);return this.setByteviewApi(t),e}getLogInstance(){return this.logInstance||(this.logInstance=Bn({prefix:r.LogPrefix.COREMANAGER},this.config.appInfo.appType)),this.logInstance}startByteviewApi(e){return Co(this,void 0,void 0,(function*(){const t=this.getByteviewApiByCoreId(e);if(t){this.getLogInstance().info("Before startByteviewApi "+e),yield t.startup(),this.getLogInstance().info("After startByteviewApi "+e);const i=Object(l.createServer)("BYTEVIEW_BYTEIVEW_SERVER_NAME_"+e);return this.setByteviewApiServer(e,i),i&&(yield i.startup(t)),this.getLogInstance().info("After byteviewApiServer.startup "+e),t}throw Error("please createByteviewApi first")}))}setByteviewApiServer(e,t){this.coreManagerData&&(this.coreManagerData.byteviewApiServerMap[e]=t)}setByteviewApi(e){return this.coreManagerData&&(this.coreManagerData.byteviewApisMap[e.getCoreId()]=e),e}getVideoChatConfig(e=!1){return Co(this,void 0,void 0,(function*(){if(e){const e=yield this.getApis().request(r.Command.PULL_VIDEO_CHAT_CONFIG);this.coreManagerData&&this.coreManagerData.setVideoChatConfig(e)}return this.coreManagerData&&this.coreManagerData.vcConfig||{}}))}getApis(){return ko()}getNormalMonitorCtx(){return this.coreManagerData?this.coreManagerData.getNormalMonitorCtx():{}}setInteractiveId(e=""){this.coreManagerData&&this.coreManagerData.setInteractiveId(e)}getInteractiveId(){return this.coreManagerData?this.coreManagerData.getInteractiveId():""}getVcCallClickInfo(){return this.coreManagerData?this.coreManagerData.getVcCallClickInfo():{}}setVcCallClickInfo(e){this.coreManagerData&&this.coreManagerData.setVcCallClickInfo(e)}getIsOnline(){return!this.coreManagerData||this.coreManagerData.isOnline}setUserInfo(e,t){this.coreManagerData&&(this.coreManagerData.userId=e,this.coreManagerData.deviceId=t,this.config.userInfo.id=e,this.config.appInfo.deviceId=t)}getMeetingId(e){if(!e)return null;const{conference:t}=e.getCoreData();return t?t.id:null}destroyApiBeforeJoinMeeting(e){return Co(this,void 0,void 0,(function*(){if(this.coreManagerData){const t=[],i=this.getByteviewApiByCoreId(e),n=this.getMeetingId(i);Object.values(this.coreManagerData.byteviewApisMap).filter(t=>{const i=this.getMeetingId(t),o=t.getCoreData().getCurrentStatus();return t.getCoreId()!==e&&(o!==r.UserState.RINGING||o===r.UserState.RINGING&&i===n)}).forEach(e=>Co(this,void 0,void 0,(function*(){if(!this.coreManagerData)return;const{byteviewApisMap:i,byteviewApiServerMap:n}=this.coreManagerData,r=e.getCoreId();t.push(i[r].shutdown()),n[r]&&n[r].destroy(),delete i[r],delete n[r],this.getLogInstance().info("core manager destroy api "+r)}))),yield Promise.all(t);try{this.getLogInstance().info("core manager has coreId: "+Object.keys(this.coreManagerData.byteviewApisMap.toString()))}catch(e){}}}))}destroyUselessApiExceptByCoreId(e){return Co(this,void 0,void 0,(function*(){this.getLogInstance().warn("this api will destroy in 3.33. 这个API打算在3.33废弃");if(this.getByteviewApiByState(r.UserState.IDLE).filter(t=>t.getCoreId()!==e).forEach(e=>Co(this,void 0,void 0,(function*(){if(!this.coreManagerData)return;const{byteviewApisMap:t,byteviewApiServerMap:i}=this.coreManagerData,n=e.getCoreId();yield t[n].shutdown(),i[n]&&i[n].destroy(),delete t[n],delete i[n],this.getLogInstance().info("core manager destroy api "+n)}))),this.coreManagerData)try{this.getLogInstance().info("core manager has coreId: "+Object.keys(this.coreManagerData.byteviewApisMap.toString()))}catch(e){}}))}destroyByteviewApiByCoreId(e){return Co(this,void 0,void 0,(function*(){const t=this.getByteviewApiByCoreId(e);if(!this.coreManagerData||!t)return;const{byteviewApisMap:i,byteviewApiServerMap:n}=this.coreManagerData;yield i[e].shutdown(),n[e]&&n[e].destroy(),delete i[e],delete n[e],this.getLogInstance().info("core manager destroy api "+e)}))}updateAppConfig(e){this.getLogInstance().info(`core manager update app config ${e.appInfo.sdkServerName} ${e.appInfo.sdkServerUUID}`),this.config=e;try{this.coreManagerData&&(this.coreManagerData.config=e,Object.values(this.coreManagerData.byteviewApisMap).forEach(t=>{t.updateAppConfig(e)}))}catch(t){this.getLogInstance().info(`core manager update app config ${e.appInfo.sdkServerName} ${e.appInfo.sdkServerUUID}`)}}}var No=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};class Ao{constructor(e,t){this.container=e,t?(this.coreManager=new mo(e,t),this.coreManagerServer=Object(l.createServer)("byteview.core.manager.server"),this.isMainServer=!0):(this.coreManager=Object(l.createClient)("byteview.core.manager.server"),this.isMainServer=!1)}static newCoreManagerApiInstance(e,t){return new Ao(e,t)}handleVideoChatPrompt(e){this.coreManager.handleVideoChatPrompt(e)}getAppConfig(){return this.coreManager.getAppConfig()}getIsOnline(){return this.coreManager.getIsOnline()}handleVCInfo(e){this.coreManager.handleVCInfo(e)}handleVCManageResult(e){this.coreManager.handleVCManageResult(e)}handleDynamicNetStatus(e){this.coreManager.handleDynamicNetStatus(e)}handleVCExtraInfo(e){let t=[];if(this.coreManager.coreManagerData){const i=e.ringingReceivedData&&e.ringingReceivedData.meetingId||e.inMeetingData&&e.inMeetingData[0]&&e.inMeetingData[0].meetingId;if(!i)return;if(e.inMeetingData&&(t=e.inMeetingData.filter(e=>e.type!==r.InMeetingDataType.FOLLOW_ACTION_CHANGED)),!t.length&&!e.ringingReceivedData)return;const n=this.coreManager.findByteviewApiByMeetingId(i);if(n){const i=Object.assign(Object.assign({},e),{inMeetingData:t});n.handleVCExtraInfo(i)}}}handleVCNotice(e){this.coreManager.logInstance.info("[handleVCNotice] byteviewApiList: "+JSON.stringify(Object.keys(this.coreManager.coreManagerData.byteviewApisMap))),this.coreManager.coreManagerData&&this.coreManager.getAllByteviewApi().forEach(t=>{t.handleVCNotice(e)})}handleHeartbeatStop(e){if(this.coreManager.coreManagerData){const t=this.coreManager.findByteviewApiByMeetingId(e.token);t&&t.handleHeartbeatStop(e)}}handleReconnect(e,t=!1){this.coreManager.coreManagerData&&this.coreManager.handleReconnect(e,t)}handleVideoChatNoticeUpdate(e){this.coreManager.coreManagerData&&this.coreManager.handleVideoChatNoticeUpdate(e)}handleParticipantsChange(e){this.coreManager.coreManagerData&&this.coreManager.handleParticipantsChange(e)}handleVCCombinedInfo(e){if(this.coreManager.coreManagerData){const t=this.coreManager.findByteviewApiByMeetingId(e.inMeetingInfo.id);t&&t.handleVCCombinedInfo(e)}}getAllInfo(e){this.coreManager.coreManagerData&&this.coreManager.coreManagerData.getAllInfo(e)}setUserInfo(e,t){this.coreManager.setUserInfo(e,t)}createByteviewApi(){return this.coreManager.createByteviewApi()}startByteviewApi(e){return this.coreManager.startByteviewApi(e)}startup(){return No(this,void 0,void 0,(function*(){this.isMainServer&&(yield this.coreManager.startup(),this.coreManagerServer&&(yield this.coreManagerServer.startup(this.coreManager)))}))}shutdown(){return No(this,void 0,void 0,(function*(){this.isMainServer&&(this.coreManagerServer&&(yield this.coreManagerServer.shutdown()),this.coreManager.shutdown())}))}getApis(){return this.coreManager.getApis()}getByteviewApiByCoreId(e){if(this.isMainServer)return this.coreManager.getByteviewApiByCoreId(e);throw Error("JUST USE IT IN MAIN RENDER")}findByteviewApiByMeetingId(e){if(this.isMainServer)return this.coreManager.findByteviewApiByMeetingId(e);throw Error("JUST USE IT IN MAIN RENDER")}getByteviewApiByState(e){if(this.isMainServer)return this.coreManager.getByteviewApiByState(e);throw Error("JUST USE IT IN MAIN RENDER")}getByteviewApiCoreIdListByState(e){return No(this,void 0,void 0,(function*(){return this.coreManager.getByteviewApiCoreIdListByState(e)}))}getAllByteviewApi(){if(this.isMainServer)return this.coreManager.getAllByteviewApi();throw Error("JUST USE IT IN MAIN RENDER")}getViewI18nFromRust({key:e,params:t={},newKey:i}){return No(this,void 0,void 0,(function*(){return this.coreManager.getViewI18nFromRust({key:e,params:t,newKey:i})}))}canInvite(){return No(this,void 0,void 0,(function*(){return this.coreManager.canInvite()}))}canOpenPreviewPage(){return No(this,void 0,void 0,(function*(){return this.coreManager.canOpenPreviewPage()}))}canScreenShareJoinMeeting(){return No(this,void 0,void 0,(function*(){return this.coreManager.canScreenShareJoinMeeting()}))}canJoinMeetingByMeetingNumber(){return No(this,void 0,void 0,(function*(){return this.coreManager.canJoinMeetingByMeetingNumber()}))}canMeetingFromPreview(){return No(this,void 0,void 0,(function*(){return this.coreManager.canMeetingFromPreview()}))}canDestroySDKServer(){return No(this,void 0,void 0,(function*(){return this.coreManager.canDestroySDKServer()}))}hangupAllMeetings(){return No(this,void 0,void 0,(function*(){const e=this.getByteviewApiByState(r.UserState.ON_THE_CALL);return Promise.all(e.map(e=>e.hangup(r.Action.ANOTHER_ACCEPT)))}))}cancelAllInvitation(){return No(this,void 0,void 0,(function*(){const e=this.getByteviewApiByState(r.UserState.CALLING);return Promise.all(e.map(e=>e.cancelInvitation()))}))}getChatRoomByteviewApiByState(e){if(this.isMainServer)return this.coreManager.getChatRoomByteviewApiByState(e);throw Error("JUST USE IT IN MAIN RENDER")}tryHangupAllOtherChatRoom(e,t){return No(this,void 0,void 0,(function*(){const i=this.getChatRoomByteviewApiByState(r.UserState.ON_THE_CALL);return Promise.all(i.map(i=>i.tryHangupChatRoom(e,t,r.Action.ANOTHER_ACCEPT))).then(e=>e.some(e=>!e.needHangup))}))}hangupAllMeetingsExceptByCoreId(e){return No(this,void 0,void 0,(function*(){const t=this.getByteviewApiByState(r.UserState.ON_THE_CALL).filter(t=>t.getCoreId()!==e);return Promise.all(t.map(e=>e.hangup(r.Action.ANOTHER_ACCEPT)))}))}getVideoChatConfig(){return No(this,void 0,void 0,(function*(){return this.coreManager.getVideoChatConfig()}))}getNormalMonitorCtx(){return this.coreManager.getNormalMonitorCtx()}setInteractiveId(e=""){this.coreManager.setInteractiveId(e)}setVcCallClickInfo(e){this.coreManager.setVcCallClickInfo(e)}getVcCallClickInfo(){return this.coreManager.getVcCallClickInfo()}getInteractiveId(){return this.coreManager.getInteractiveId()}destroyApiBeforeJoinMeeting(e){return No(this,void 0,void 0,(function*(){return this.coreManager.destroyApiBeforeJoinMeeting(e)}))}destroyUselessApiExceptByCoreId(e){return this.coreManager.destroyUselessApiExceptByCoreId(e)}destroyByteviewApiByCoreId(e){return this.coreManager.destroyByteviewApiByCoreId(e)}joinMeetingPreCheck(e){return No(this,void 0,void 0,(function*(){return this.coreManager.joinMeetingPreCheck(e)}))}joinChatRoomCheck(){return No(this,void 0,void 0,(function*(){return this.coreManager.joinChatRoomCheck()}))}request(e,...t){return No(this,void 0,void 0,(function*(){return this.container.request(e,...t)}))}getFg(e,t){return No(this,void 0,void 0,(function*(){return!!this.container.getFg&&this.container.getFg(e,t)}))}getPCSdkLogInfo(){return this.container.getPCSdkLogInfo&&this.container.getPCSdkLogInfo()}track(e,t){this.container.emit(r.ContainerEvent.TRACK,{type:e,data:Object.assign({},t)})}updateAppConfig(e){this.coreManager.updateAppConfig(e)}}r.ParticipantRole.INTERVIEWER,r.ParticipantRole.INTERVIEWEE;var Ro=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};let Oo,vo,Po,Mo,Lo,bo,Do=!1;function Uo(e,t){Do=!0,vo=e,Mo=t,Lo=Ao.newCoreManagerApiInstance(e,t),Oo=new c(vo),Po=Object(l.createServer)("container.api.server")}function wo(){return Do?Lo:(bo||(bo=Ao.newCoreManagerApiInstance(Object(l.createClient)("container.api.server"))),bo)}function ko(){if(Do)return Oo;throw new Error("[BYTEVIEW CORE] Can't use `getContainerApi` outside the main server process.")}function Go(){return Ro(this,void 0,void 0,(function*(){yield Lo.startup(),yield Oo.initClient(),Mo.appInfo.appType!==r.AppType.WEB&&(yield Lo.handleReconnect(!0)),localStorage.setItem("BYTEVIEW_MEETING_STATUS_DATA",""),Po.startup(vo)}))}function Vo(){return Ro(this,void 0,void 0,(function*(){yield Lo.shutdown(),Po.shutdown()}))}},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},s=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),a=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||s(t,e,i)},d=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var p=i(99),u=i(786),_=l(i(159)),E=i(523),h=i(91),T=i(841),y=l(i(536)),f=l(i(280)),I=l(i(331)),g=i(539),S=i(182),C=l(i(329));a(i(99),t);var m=h.Logger.getLogger("rtc-sdk"),N=function(e){m.track("sdk_api_call",{api_name:e})},A=function(e){function t(t){var i=e.call(this)||this;return i.config=t,i.roomService=new u.RoomService(i),i}return r(t,e),t.setLogger=function(e){h.Logger.setInterceptor(e),N("setLogger")},t.prototype.supportStateList=function(e){return void 0===e&&(e=!1),d(this,void 0,void 0,(function(){var t;return c(this,(function(i){switch(i.label){case 0:return N("supportStateList"),[4,C.default.check(e)];case 1:return i.sent(),t=C.default.getSupportList(),m.info("rtc supportList: "+JSON.stringify(t)),[2,t]}}))}))},t.prototype.startup=function(e){return d(this,void 0,void 0,(function(){var t;return c(this,(function(i){switch(i.label){case 0:return[4,this.supportStateList()];case 1:return i.sent(),_.default.updateClientOptions(e),[4,this.getAllDevices()];case 2:return i.sent(),(t=this.config.logServer)&&(h.Logger.setConfig(t,!0),h.Logger.setCommonHeaders({rtc_session_id:I.default,os:T.osInfo.name,os_version:T.osInfo.version,browser:T.browserInfo.name,browser_version:T.browserInfo.version,sdk_version:y.default.version,app_version:f.default.version,is_oversea:p.Channel.VA?"0":"1",env_type:"release"}),h.Logger.start()),N("startup"),[2]}}))}))},t.prototype.shutdown=function(){return d(this,void 0,void 0,(function(){return c(this,(function(e){return N("shutdown"),[2]}))}))},t.prototype.startPreview=function(){return d(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this.roomService.startPreview()];case 1:return e.sent(),N("startPreview"),[2]}}))}))},t.prototype.stopPreview=function(){return d(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this.roomService.stopPreview()];case 1:return e.sent(),N("stopPreview"),[2]}}))}))},t.prototype.fetchAllStreamInfo=function(){return N("fetchAllStreamInfo"),this.roomService.getAllStreamsInfoArray().map((function(e){var t=e.getAttribute().videoDescriptions;return{id:e.id,uid:e.userId,type:e.streamType,resolutions:t}}))},t.prototype.getIsSharingAudioEnabled=function(){return this.roomService.getIsSharingAudioEnabled()},t.prototype.getIsSharingAudio=function(){return this.roomService.getIsSharingAudio()},t.prototype.attach=function(e,t,i,n,r){return void 0===n&&(n=0),d(this,void 0,void 0,(function(){return c(this,(function(o){switch(o.label){case 0:return[4,this.roomService.attachStream(e,t,i,n,r)];case 1:return o.sent(),N("attach"),[2]}}))}))},t.prototype.detach=function(e){return d(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.roomService.detachStream(e)];case 1:return t.sent(),N("detach"),[2]}}))}))},t.prototype.chooseShareScreenWindow=function(){return d(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this.roomService.chooseShareScreenWindow()];case 1:return e.sent(),N("chooseShareScreenWindow"),[2]}}))}))},t.prototype.startShareScreen=function(){return d(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this.roomService.startShareScreen()];case 1:return e.sent(),N("startShareScreen"),[2]}}))}))},t.prototype.stopShareScreen=function(){return d(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this.roomService.stopShareScreen()];case 1:return e.sent(),N("stopShareScreen"),[2]}}))}))},t.prototype.publishStream=function(e,t){return void 0===t&&(t=!1),d(this,void 0,void 0,(function(){return c(this,(function(i){switch(i.label){case 0:return[4,this.roomService.publishStream(e,t)];case 1:return i.sent(),N("publishStream"),[2]}}))}))},t.prototype.joinRoom=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return d(this,void 0,void 0,(function(){var t,i,n,r,o,s,a;return c(this,(function(d){switch(d.label){case 0:N("joinRoom"),d.label=1;case 1:return d.trys.push([1,5,,6]),t=e[2],i=C.default.canStartAudio,n=C.default.canStartVideo,m.track("join_room",{app_info:JSON.stringify({tenant_id:(null==t?void 0:t.tenantId)||"",call_type:"meeting",user_type:"attendee",user_status:i||n?"1":"0"})}),r=_.default.getClientOptions(),_.default.updateClientOptions({userId:(null==t?void 0:t.userId)||r.userId}),h.Logger.setCommonHeaders({app_id:this.config.appId,user_id:null==t?void 0:t.userId,room_id:e[1],env_type:(null==t?void 0:t.vendorType)&&g.VENDOR_TYPE_APP_ID[t.vendorType]?"debug":"release"}),m.info("[joinMeeting] start invoke roomService.join"),[4,(a=this.roomService).join.apply(a,e)];case 2:return d.sent(),m.info("[joinMeeting] invoke roomService.join success!"),(o=this.roomService.streamService.getLocalStream()).enableAudio(Boolean(null==t?void 0:t.enableaudio)),o.enabelVideo(Boolean(null==t?void 0:t.enablevideo)),(null==t?void 0:t.noPublish)?[3,4]:(m.info("[joinMeeting] try publish Stream"),[4,this.roomService.publishStream(void 0,!1)]);case 3:d.sent(),d.label=4;case 4:return[3,6];case 5:throw s=d.sent(),this.emit(p.SDKEventName.ERROR,{code:p.SDKErrorCode.JOIN_ROOM_FAILED}),s;case 6:return[2]}}))}))},t.prototype.leaveRoom=function(){return d(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this.roomService.leave()];case 1:return e.sent(),N("leaveRoom"),[2]}}))}))},t.prototype.enableLocalVideo=function(e){return void 0===e&&(e=!0),d(this,void 0,void 0,(function(){var t;return c(this,(function(i){switch(i.label){case 0:return e&&!(t=C.default.getSupportList()).cameraCanStart&&t.cameraSystemPermissions&&t.cameraPermissions&&t.cameraDevices&&this.emit(p.SDKEventName.ERROR,{code:p.SDKErrorCode.LOCAL_CAMERA_FAILED}),[4,this.roomService.enableLocalVideo(e)];case 1:return i.sent(),N("enableLocalVideo"),m.debug(S.AutomationCallback.OnUserEnableVideo,e),[2]}}))}))},t.prototype.enableLocalAudio=function(e){return d(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.roomService.enableLocalAudio(e)];case 1:return t.sent(),N("enableLocalAudio"),m.debug(S.AutomationCallback.OnUserEnableAudio,e),[2]}}))}))},t.prototype.enableSharingAudio=function(e){return d(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.roomService.enableSharingAudio(e)];case 1:return t.sent(),N("enableSharingAudio"),[2]}}))}))},t.prototype.getAllDevices=function(){return d(this,void 0,void 0,(function(){var e;return c(this,(function(t){switch(t.label){case 0:return[4,this.roomService.getAllDevices()];case 1:return e=t.sent(),console.info(["[getAllDevices]",JSON.stringify(Object.keys(e).map((function(t){return e[t].map((function(i,n){return o(o({},e[t][n]),{deviceName:void 0})}))})))].join(" ")),N("getAllDevices"),[2,e]}}))}))},t.prototype.getDevices=function(e){return N("getDevices"),this.roomService.getDevices(e)},t.prototype.getCurrentDeviceId=function(e){return N("getCurrentDeviceId"),_.default.getCurrentDeviceId(e)},t.prototype.setDevice=function(e,t){return d(this,void 0,void 0,(function(){return c(this,(function(i){switch(i.label){case 0:return N("setDevice"),[4,this.roomService.setDevices(e,t)];case 1:return i.sent(),[2]}}))}))},t.prototype.getCameraAuthorizationStatus=function(){return d(this,void 0,void 0,(function(){return c(this,(function(e){return N("getCameraAuthorizationStatus"),[2,this.roomService.getAuthorStatus(p.AuthType.Camera)]}))}))},t.prototype.getMicrophoneAuthorizationStatus=function(){return d(this,void 0,void 0,(function(){return c(this,(function(e){return N("getMicrophoneAuthorizationStatus"),[2,this.roomService.getAuthorStatus(p.AuthType.Microphone)]}))}))},t.prototype.setCurrentVolume=function(e,t){return d(this,void 0,void 0,(function(){return c(this,(function(e){return N("setCurrentVolume"),[2]}))}))},t.prototype.getCurrentVolume=function(e){N("getCurrentVolume")},t}(E.EventEmitter);t.default=A},function(e,t,i){"use strict";i.d(t,"g",(function(){return c})),i.d(t,"a",(function(){return p})),i.d(t,"f",(function(){return u})),i.d(t,"b",(function(){return _})),i.d(t,"e",(function(){return E})),i.d(t,"d",(function(){return h})),i.d(t,"c",(function(){return T}));var n=i(17),r=i(0),o=i(38),s=i(70),a=i(61),d=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const c=()=>{};let l={},p=new Proxy({},{get:(e,t)=>"getI18NText"===t?o.c.t:l[t]});function u(){return d(this,void 0,void 0,(function*(){const e=yield Object(n.t)().createByteviewApi();return l=yield Object(n.t)().startByteviewApi(e),window.byteviewApi=l,e}))}function _(e,t){return e.meetingSource===r.MeetingSource.VC_FROM_PEOPLE?o.c.t("View_M_VideoInterviewNameBraces",{name:t}):t}function E(){const e=Object(s.a)("referrer")===a.b.vc_lark_linux,t=location.host.includes("feishu"),i=Object(s.a)("track_event");if(i)try{const{params:n}=JSON.parse(decodeURIComponent(i));switch(n.from_source){case"card":return e?"linux_card":t?"feishu_card":"lark_card";case"join_room":return e?"linux_plus_join_room":t?"feishu_plus_join_room":"lark_plus_join_room";case"meeting":return"linux_meeting";case"im_card":return"linux_im_card";case"calendar_detail":return"linux_calendar_detail"}}catch(e){return"input"}else{const e=document.referrer;if(/feishu.*\.cn\/j?/.test(e))return"landing_page";if(e)return e}return"input"}function h(){var e,t;return null===(t=null===(e=window.initialServerData)||void 0===e?void 0:e.userInfo)||void 0===t?void 0:t.deviceId}function T(e){return e.split(/(\d{3})/g).filter(e=>e).join(" ")}},function(e,t,i){"use strict";var n=i(38);i.d(t,"c",(function(){return n.c}));i(0),i(19);i.d(t,"a",(function(){return n.b}));new Map;t.b=(e,t)=>n.c.t(e,t)},function(e,t,i){"use strict";var n;i.d(t,"a",(function(){return n})),function(e){e[e.UNKNOWN_COMMAND=0]="UNKNOWN_COMMAND",e[e.MGET_MESSAGES=1]="MGET_MESSAGES",e[e.MGET_CHATS=2]="MGET_CHATS",e[e.MGET_CHATTERS=3]="MGET_CHATTERS",e[e.MGET_EMAIL_DRAFTS=4]="MGET_EMAIL_DRAFTS",e[e.MGET_EMAILS=6]="MGET_EMAILS",e[e.MGET_DOC_FEEDS=8]="MGET_DOC_FEEDS",e[e.MGET_RESOURCES=9]="MGET_RESOURCES",e[e.MGET_DIGESTS=10]="MGET_DIGESTS",e[e.SET_REQ_ID_SUFFIX=11]="SET_REQ_ID_SUFFIX",e[e.SET_IDC_FLOW_CONTROL_VALUE=12]="SET_IDC_FLOW_CONTROL_VALUE",e[e.GET_IDC_FLOW_CONTROL_VALUE=13]="GET_IDC_FLOW_CONTROL_VALUE",e[e.SET_NETWORK_PROXY=14]="SET_NETWORK_PROXY",e[e.CLEAR_NETWORK_PROXY=15]="CLEAR_NETWORK_PROXY",e[e.GET_SDK_VERSION=16]="GET_SDK_VERSION",e[e.SET_CLIENT_METRICS_UPLOAD_CONFIG=17]="SET_CLIENT_METRICS_UPLOAD_CONFIG",e[e.ENTER_CHAT=18]="ENTER_CHAT",e[e.EXIT_CHAT=19]="EXIT_CHAT",e[e.TAB_ACTIVATED=21]="TAB_ACTIVATED",e[e.CREATE_QUASI_MESSAGE=1001]="CREATE_QUASI_MESSAGE",e[e.GET_CHAT_QUASI_MESSAGES=1002]="GET_CHAT_QUASI_MESSAGES",e[e.GET_REQUEST_NAME2COMMAND=1003]="GET_REQUEST_NAME2COMMAND",e[e.GET_LINK_EXTRA_DATA=1004]="GET_LINK_EXTRA_DATA",e[e.CREATE_REACTION=1011]="CREATE_REACTION",e[e.DELETE_REACTION=1012]="DELETE_REACTION",e[e.GET_REACTIONS=1013]="GET_REACTIONS",e[e.SYNC_REACTIONS=1014]="SYNC_REACTIONS",e[e.GET_USED_REACTIONS=1015]="GET_USED_REACTIONS",e[e.HIDE_VOICE_TO_TEXT=1016]="HIDE_VOICE_TO_TEXT",e[e.GET_UPLOAD_ID=1017]="GET_UPLOAD_ID",e[e.SEND_AUDIO_DATA=1018]="SEND_AUDIO_DATA",e[e.GET_CHAT_MESSAGES=1020]="GET_CHAT_MESSAGES",e[e.UPDATE_MESSAGES_ME_READ=1021]="UPDATE_MESSAGES_ME_READ",e[e.MULTI_SEARCH=1022]="MULTI_SEARCH",e[e.MULTI_LOCAL_SEARCH=1023]="MULTI_LOCAL_SEARCH",e[e.LOCAL_SMART_SEARCH=1024]="LOCAL_SMART_SEARCH",e[e.SET_DEVICE=1026]="SET_DEVICE",e[e.LOGOUT=1027]="LOGOUT",e[e.UPLOAD_FILES=1028]="UPLOAD_FILES",e[e.GET_SEARCH_HISTORIES=1029]="GET_SEARCH_HISTORIES",e[e.DELETE_SEARCH_HISTORY=1030]="DELETE_SEARCH_HISTORY",e[e.ADD_SEARCH_HISTORY=1031]="ADD_SEARCH_HISTORY",e[e.CLEAR_SEARCH_HISTORIES=1032]="CLEAR_SEARCH_HISTORIES",e[e.DOWNLOAD_FILE=1033]="DOWNLOAD_FILE",e[e.SET_CLIENT_STATUS=1034]="SET_CLIENT_STATUS",e[e.LOG=1035]="LOG",e[e.GET_FILE_INFO=1036]="GET_FILE_INFO",e[e.GET_CHAT_IMAGES=1037]="GET_CHAT_IMAGES",e[e.GET_CLIENT_STATUS=1038]="GET_CLIENT_STATUS",e[e.GET_DEVICE_NOTIFY_SETTING=1039]="GET_DEVICE_NOTIFY_SETTING",e[e.HANDLE_PIPE_PACKET=1040]="HANDLE_PIPE_PACKET",e[e.HANDLE_WEBSOCKET_PACKET=1041]="HANDLE_WEBSOCKET_PACKET",e[e.DELETE_RESOURCES=1042]="DELETE_RESOURCES",e[e.CLEAR_RESOURCES=1043]="CLEAR_RESOURCES",e[e.DOWNLOAD_RESOURCE=1044]="DOWNLOAD_RESOURCE",e[e.CANCEL_RESOURCE=1045]="CANCEL_RESOURCE",e[e.GET_P2P_CHATS_BY_CHATTER_IDS=1046]="GET_P2P_CHATS_BY_CHATTER_IDS",e[e.CREATE_DOC_FEED=1047]="CREATE_DOC_FEED",e[e.CREATE_DOC=1048]="CREATE_DOC",e[e.GET_SYSTEM_MESSAGE_TEMPLATE=1049]="GET_SYSTEM_MESSAGE_TEMPLATE",e[e.GET_RESOURCE_NEW_KEY=1050]="GET_RESOURCE_NEW_KEY",e[e.SYNC_NTP_TIME=1051]="SYNC_NTP_TIME",e[e.GET_NTP_TIME=1052]="GET_NTP_TIME",e[e.RECALL_GROUP_MESSAGE=1053]="RECALL_GROUP_MESSAGE",e[e.NOTICE_CLIENT_EVENT=1054]="NOTICE_CLIENT_EVENT",e[e.GET_MESSAGE_DIGESTS=1055]="GET_MESSAGE_DIGESTS",e[e.GET_MANAGED_DEPARTMENTS=1056]="GET_MANAGED_DEPARTMENTS",e[e.CREATE_PIN=1057]="CREATE_PIN",e[e.DELETE_PIN=1058]="DELETE_PIN",e[e.GET_CHAT_PIN_MESSAGES=1059]="GET_CHAT_PIN_MESSAGES",e[e.GET_CHAT_CHATTERS_BY_IDS=1060]="GET_CHAT_CHATTERS_BY_IDS",e[e.PUSH_TRACK=1061]="PUSH_TRACK",e[e.LOG_UPLOAD=1062]="LOG_UPLOAD",e[e.GET_PIN_READ_STATUS=1063]="GET_PIN_READ_STATUS",e[e.UPDATE_PIN_READ=1064]="UPDATE_PIN_READ",e[e.COPY_DOWNLOAD_FILE=1065]="COPY_DOWNLOAD_FILE",e[e.GET_DOC_BY_URLS=1066]="GET_DOC_BY_URLS",e[e.CREATE_CHAT_LAST_READ_POSITION=1067]="CREATE_CHAT_LAST_READ_POSITION",e[e.SET_ENV=1068]="SET_ENV",e[e.CREATE_OR_DELETE_CHAT_LAST_DRAFT_ID=1069]="CREATE_OR_DELETE_CHAT_LAST_DRAFT_ID",e[e.SET_AUTO_TRANSLATE_GLOBAL_SWITCH=1070]="SET_AUTO_TRANSLATE_GLOBAL_SWITCH",e[e.PUSH_AUTO_TRANSLATE_GLOBAL_SWITCH_NOTICE=1071]="PUSH_AUTO_TRANSLATE_GLOBAL_SWITCH_NOTICE",e[e.SET_AUTO_TRANSLATE_CHAT_SWITCH=1072]="SET_AUTO_TRANSLATE_CHAT_SWITCH",e[e.PUSH_AUTO_TRANSLATE_CHAT_SWITCH_NOTICE=1073]="PUSH_AUTO_TRANSLATE_CHAT_SWITCH_NOTICE",e[e.GET_AUTO_TRANSLATE_CHAT_SWITCH=1074]="GET_AUTO_TRANSLATE_CHAT_SWITCH",e[e.GET_CLOSEST_CHATTERS=1075]="GET_CLOSEST_CHATTERS",e[e.GET_SEARCH_SETTING=1076]="GET_SEARCH_SETTING",e[e.MULTI_GET_SEARCH_PIN_MSG=1077]="MULTI_GET_SEARCH_PIN_MSG",e[e.PUSH_PIN_SETTING=1078]="PUSH_PIN_SETTING",e[e.UPLOAD_PIN_SETTING=1079]="UPLOAD_PIN_SETTING",e[e.GET_PIN_SETTING=1080]="GET_PIN_SETTING",e[e.GET_MESSAGE_ACTION_LIST=1081]="GET_MESSAGE_ACTION_LIST",e[e.TRANSLATE_MESSAGES_V2=1085]="TRANSLATE_MESSAGES_V2",e[e.GET_AUDIO_MESSAGE_RECOGNITION=1086]="GET_AUDIO_MESSAGE_RECOGNITION",e[e.PUSH_AUDIO_MESSAGE_RECOGNITION_RESULT=1087]="PUSH_AUDIO_MESSAGE_RECOGNITION_RESULT",e[e.SEND_SPEECH_RECOGNITION=1088]="SEND_SPEECH_RECOGNITION",e[e.TOGGLE_TEXT_ON_AUDIO_MESSAGE=1089]="TOGGLE_TEXT_ON_AUDIO_MESSAGE",e[e.GET_ADD_FRIEND_PRIVATE_CONFIG=1090]="GET_ADD_FRIEND_PRIVATE_CONFIG",e[e.SET_WAY_TO_FIND_ME_SETTING=1091]="SET_WAY_TO_FIND_ME_SETTING",e[e.PUSH_WAY_TO_FIND_ME_SETTING=1092]="PUSH_WAY_TO_FIND_ME_SETTING",e[e.SET_WAY_TO_ADD_ME_SETTING=1093]="SET_WAY_TO_ADD_ME_SETTING",e[e.PUSH_WAY_TO_ADD_ME_SETTING=1094]="PUSH_WAY_TO_ADD_ME_SETTING",e[e.GET_PHONE_QUERY_QUOTA=1095]="GET_PHONE_QUERY_QUOTA",e[e.SET_PHONE_QUERY_QUOTA=1096]="SET_PHONE_QUERY_QUOTA",e[e.GET_PHONE_QUERY_DAILY_QUOTA=1097]="GET_PHONE_QUERY_DAILY_QUOTA",e[e.SEND_PHONE_QUERY_QUOTA_APPLY=1098]="SEND_PHONE_QUERY_QUOTA_APPLY",e[e.SUBSCRIBE_CHAT_EVENT=1100]="SUBSCRIBE_CHAT_EVENT",e[e.SUBSCRIBE_CHANNEL_EVENT=1101]="SUBSCRIBE_CHANNEL_EVENT",e[e.GET_GUIDE_TO_RATE_STATE=1102]="GET_GUIDE_TO_RATE_STATE",e[e.SET_GUIDE_TO_RATE_EVENT=1103]="SET_GUIDE_TO_RATE_EVENT",e[e.PUSH_GUIDE_TO_RATE_STATE=1104]="PUSH_GUIDE_TO_RATE_STATE",e[e.DISABLE_CHAT_SHARED=1106]="DISABLE_CHAT_SHARED",e[e.CHECK_CHATTERS_IN_CHAT=1107]="CHECK_CHATTERS_IN_CHAT",e[e.SEND_SHARE_THREAD=1108]="SEND_SHARE_THREAD",e[e.SET_ACCESS_TOKEN_ONLY=1109]="SET_ACCESS_TOKEN_ONLY",e[e.GET_IMAGE_COMPRESS_PARAMETERS=1110]="GET_IMAGE_COMPRESS_PARAMETERS",e[e.GET_SDK_RESOURCE_DIR=1111]="GET_SDK_RESOURCE_DIR",e[e.SET_SEARCH_INFO_HISTORY=1200]="SET_SEARCH_INFO_HISTORY",e[e.GET_SEARCH_INFO_HISTORY=1201]="GET_SEARCH_INFO_HISTORY",e[e.DELETE_SEARCH_INFO_HISTORY=1202]="DELETE_SEARCH_INFO_HISTORY",e[e.DELETE_ALL_SEARCH_INFOS_HISTORY=1203]="DELETE_ALL_SEARCH_INFOS_HISTORY",e[e.GET_PREVIEW_VIDEO_SOURCE=1204]="GET_PREVIEW_VIDEO_SOURCE",e[e.GET_SHORTCUTS_BY_IDS=1205]="GET_SHORTCUTS_BY_IDS",e[e.GET_RECOMMENDED_TRAY=1206]="GET_RECOMMENDED_TRAY",e[e.SUBSCRIBE_RECOMMENDED_SPOTLIGHT=1207]="SUBSCRIBE_RECOMMENDED_SPOTLIGHT",e[e.GET_LOCAL_SEARCH_INFO_HISTORY=1208]="GET_LOCAL_SEARCH_INFO_HISTORY",e[e.GET_SEARCH_FILTER=1209]="GET_SEARCH_FILTER",e[e.SEARCH_CUSTOMIZE_FIELD=1210]="SEARCH_CUSTOMIZE_FIELD",e[e.SWITCH_USER_BASIC=1250]="SWITCH_USER_BASIC",e[e.PUSH_ACCOUNT_BADGE_COUNT=1251]="PUSH_ACCOUNT_BADGE_COUNT",e[e.GET_ACCOUNT_BADGE_COUNT=1252]="GET_ACCOUNT_BADGE_COUNT",e[e.PUSH_BANNER_NOTIFICATION_EXTRA=1253]="PUSH_BANNER_NOTIFICATION_EXTRA",e[e.CONVERT_SHARE_TEXT_TO_TOKEN=1254]="CONVERT_SHARE_TEXT_TO_TOKEN",e[e.GET_SHARE_CONTENT_BY_TOKEN=1255]="GET_SHARE_CONTENT_BY_TOKEN",e[e.GET_CHAT_LINK_TOKEN=1256]="GET_CHAT_LINK_TOKEN",e[e.SEND_CHATTER_VIA_CHAT_LINK=1257]="SEND_CHATTER_VIA_CHAT_LINK",e[e.GET_CHAT_SHARE_LINK_INFO=1258]="GET_CHAT_SHARE_LINK_INFO",e[e.CHECK_AVATAR=1270]="CHECK_AVATAR",e[e.POST_GATEWAY=1271]="POST_GATEWAY",e[e.SET_AUTO_TRANSLATE_SCOPE=1300]="SET_AUTO_TRANSLATE_SCOPE",e[e.PUSH_AUTO_TRANSLATE_SCOPE_NOTICE=1301]="PUSH_AUTO_TRANSLATE_SCOPE_NOTICE",e[e.PULL_AUTO_TRANSLATE_FIRST_GUIDE_INFO=1302]="PULL_AUTO_TRANSLATE_FIRST_GUIDE_INFO",e[e.PUSH_AUTO_TRANSLATE_FIRST_GUIDE_INFO_NOTICE=1303]="PUSH_AUTO_TRANSLATE_FIRST_GUIDE_INFO_NOTICE",e[e.PATCH_AUTO_TRANSLATE_FIRST_GUIDE_INFO=1304]="PATCH_AUTO_TRANSLATE_FIRST_GUIDE_INFO",e[e.GET_MESSAGE_LANGUAGE=1305]="GET_MESSAGE_LANGUAGE",e[e.TRANSLATE_MESSAGES_V3=1306]="TRANSLATE_MESSAGES_V3",e[e.TRANSLATE_IMAGE_KEYS=1307]="TRANSLATE_IMAGE_KEYS",e[e.PUSH_IMAGE_TRANSLATION_INFO=1308]="PUSH_IMAGE_TRANSLATION_INFO",e[e.DETECT_IMAGE_LANGUAGE=1309]="DETECT_IMAGE_LANGUAGE",e[e.TRANSLATE_WEB_XML=1310]="TRANSLATE_WEB_XML",e[e.DETECT_TEXT_LANGUAGE=1311]="DETECT_TEXT_LANGUAGE",e[e.PATCH_LANGUAGE_AUTO_TRANSLATE_SCOPE=1312]="PATCH_LANGUAGE_AUTO_TRANSLATE_SCOPE",e[e.PUSH_LANGUAGE_AUTO_TRANSLATE_SCOPE=1313]="PUSH_LANGUAGE_AUTO_TRANSLATE_SCOPE",e[e.PATCH_WEB_TRANSLATION_CONFIG=1314]="PATCH_WEB_TRANSLATION_CONFIG",e[e.PUSH_WEB_TRANSLATION_CONFIG=1315]="PUSH_WEB_TRANSLATION_CONFIG",e[e.PUT_LANGUAGES_CONFIGURATION_V2=1316]="PUT_LANGUAGES_CONFIGURATION_V2",e[e.PUSH_LANGUAGES_CONFIGURATION_NOTICE_V2=1317]="PUSH_LANGUAGES_CONFIGURATION_NOTICE_V2",e[e.SET_WEB_NOT_TRANSLATE_LANGUAGES=1318]="SET_WEB_NOT_TRANSLATE_LANGUAGES",e[e.PUSH_WEB_NOT_TRANSLATE_LANGUAGES_NOTICE=1319]="PUSH_WEB_NOT_TRANSLATE_LANGUAGES_NOTICE",e[e.GET_WEB_NOT_TRANSLATE_LANGUAGES=1320]="GET_WEB_NOT_TRANSLATE_LANGUAGES",e[e.DELETE_WEB_NOT_TRANSLATE_LANGUAGES=1321]="DELETE_WEB_NOT_TRANSLATE_LANGUAGES",e[e.GET_TRANSLATE_ORIGIN_IMAGE=1322]="GET_TRANSLATE_ORIGIN_IMAGE",e[e.JUDGE_SECURE_LINK=1400]="JUDGE_SECURE_LINK",e[e.SPLICE_SECURE_LINK=1401]="SPLICE_SECURE_LINK",e[e.SEND_MESSAGE=2003]="SEND_MESSAGE",e[e.GET_ALL_DRAFTS=2004]="GET_ALL_DRAFTS",e[e.CREATE_DRAFT=2005]="CREATE_DRAFT",e[e.GET_CHAT_CHATTERS=2006]="GET_CHAT_CHATTERS",e[e.DELETE_MESSAGES=2007]="DELETE_MESSAGES",e[e.CREATE_CHAT=2008]="CREATE_CHAT",e[e.GET_DEVICE_ID=2009]="GET_DEVICE_ID",e[e.SET_ACCESS_TOKEN=2010]="SET_ACCESS_TOKEN",e[e.DELETE_DRAFT=2011]="DELETE_DRAFT",e[e.GET_MESSAGE_DOC_PERMISSIONS=2012]="GET_MESSAGE_DOC_PERMISSIONS",e[e.ADD_CHAT_CHATTERS=2013]="ADD_CHAT_CHATTERS",e[e.DELETE_CHAT_CHATTERS=2014]="DELETE_CHAT_CHATTERS",e[e.UPDATE_CHAT=2015]="UPDATE_CHAT",e[e.GET_REPLIES=2016]="GET_REPLIES",e[e.UPLOAD_IMAGE=2017]="UPLOAD_IMAGE",e[e.GET_MESSAGES_BY_POSITIONS=2018]="GET_MESSAGES_BY_POSITIONS",e[e.RESEND_MESSAGE=2019]="RESEND_MESSAGE",e[e.GET_MESSAGES_READ_STATE=2020]="GET_MESSAGES_READ_STATE",e[e.GET_UNREAD_AT_MESSAGES=2021]="GET_UNREAD_AT_MESSAGES",e[e.CREATE_P2P_CHATS=2022]="CREATE_P2P_CHATS",e[e.TRANSMIT_MESSAGE=2023]="TRANSMIT_MESSAGE",e[e.SEARCH_FEEDBACK=2025]="SEARCH_FEEDBACK",e[e.GET_SEARCH_HISTORY_ENTITY=2026]="GET_SEARCH_HISTORY_ENTITY",e[e.GET_URGENT_PHONE_NUMBERS=2028]="GET_URGENT_PHONE_NUMBERS",e[e.DELETE_SEARCH_HISTORY_ENTITY=2029]="DELETE_SEARCH_HISTORY_ENTITY",e[e.GET_CHATTER_PROFILE=2031]="GET_CHATTER_PROFILE",e[e.GET_CHATTER_MOBILE=2032]="GET_CHATTER_MOBILE",e[e.UPDATE_CHATTER=2033]="UPDATE_CHATTER",e[e.ZIP_DIR=2034]="ZIP_DIR",e[e.GET_FULL_DEPARTMENT_STRUCTURE=2035]="GET_FULL_DEPARTMENT_STRUCTURE",e[e.GET_DEPARTMENT_STRUCTURE=2036]="GET_DEPARTMENT_STRUCTURE",e[e.GET_MY_GROUP_CHATS=2037]="GET_MY_GROUP_CHATS",e[e.GET_BOTS=2038]="GET_BOTS",e[e.GET_CHATTER_DESCRIPTIONS=2039]="GET_CHATTER_DESCRIPTIONS",e[e.CREATE_URGENT=2040]="CREATE_URGENT",e[e.ACK_URGENT=2041]="ACK_URGENT",e[e.GET_UNACK_URGENTS=2042]="GET_UNACK_URGENTS",e[e.GET_URGENTS_ACK_STATUS=2043]="GET_URGENTS_ACK_STATUS",e[e.UPDATE_FEED_CARDS=2046]="UPDATE_FEED_CARDS",e[e.GET_EMAIL_MEMBERS=2047]="GET_EMAIL_MEMBERS",e[e.UPDATE_EMAIL_MEMBERS=2048]="UPDATE_EMAIL_MEMBERS",e[e.CREATE_EMAIL=2049]="CREATE_EMAIL",e[e.GET_NEW_VERSIONS=2050]="GET_NEW_VERSIONS",e[e.TRIGGER_SYNC_DATA=2051]="TRIGGER_SYNC_DATA",e[e.CREATE_EMAIL_DRAFT=2052]="CREATE_EMAIL_DRAFT",e[e.DELETE_EMAIL_DRAFT=2053]="DELETE_EMAIL_DRAFT",e[e.GET_ALL_EMAIL_DRAFTS=2054]="GET_ALL_EMAIL_DRAFTS",e[e.GET_VALID_DEVICES=2055]="GET_VALID_DEVICES",e[e.LOGOUT_DEVICE=2056]="LOGOUT_DEVICE",e[e.DELETE_STICKERS=2057]="DELETE_STICKERS",e[e.UPDATE_STICKERS=2058]="UPDATE_STICKERS",e[e.GET_STICKERS=2059]="GET_STICKERS",e[e.CREATE_STICKERS=2060]="CREATE_STICKERS",e[e.UPDATE_EMAIL_DRAFT=2061]="UPDATE_EMAIL_DRAFT",e[e.GET_SHORTCUTS=2062]="GET_SHORTCUTS",e[e.CREATE_SHORTCUTS=2063]="CREATE_SHORTCUTS",e[e.DELETE_SHORTCUTS=2064]="DELETE_SHORTCUTS",e[e.UPDATE_SHORTCUTS=2065]="UPDATE_SHORTCUTS",e[e.VALIDATE_QR_TOKEN=2066]="VALIDATE_QR_TOKEN",e[e.SET_DEVICE_NOTIFY_SETTING=2067]="SET_DEVICE_NOTIFY_SETTING",e[e.SET_COOKIES=2068]="SET_COOKIES",e[e.GET_COOKIES=2069]="GET_COOKIES",e[e.GET_LARK_COOKIE=2070]="GET_LARK_COOKIE",e[e.CLEAR_COOKIE=2071]="CLEAR_COOKIE",e[e.IS_IN_DOMAIN_WHITE_LIST=2072]="IS_IN_DOMAIN_WHITE_LIST",e[e.GET_ALL_APPS=2073]="GET_ALL_APPS",e[e.FEEDBACK_RECENT_APP=2074]="FEEDBACK_RECENT_APP",e[e.SEGMENT_TEXT=2075]="SEGMENT_TEXT",e[e.GET_MY_CUSTOMER_SERVICE_CHAT=2076]="GET_MY_CUSTOMER_SERVICE_CHAT",e[e.GET_ONCALLS=2077]="GET_ONCALLS",e[e.CREATE_ONCALL_CHAT=2078]="CREATE_ONCALL_CHAT",e[e.RECALL_MESSAGE=2079]="RECALL_MESSAGE",e[e.GET_RESOURCES_SIZE=2081]="GET_RESOURCES_SIZE",e[e.REGISTER_APNS_TOKEN=2082]="REGISTER_APNS_TOKEN",e[e.CREATE_E2EE_VOICE_CALL=2083]="CREATE_E2EE_VOICE_CALL",e[e.UPDATE_E2EE_VOICE_CALL=2084]="UPDATE_E2EE_VOICE_CALL",e[e.GET_E2EE_VOICE_CALLS=2085]="GET_E2EE_VOICE_CALLS",e[e.UPDATE_DOC_PERMISSION=2086]="UPDATE_DOC_PERMISSION",e[e.UPDATE_DEVICE=2090]="UPDATE_DEVICE",e[e.GET_CHATS_LAST_UNREAD_AT_MESSAGES=2091]="GET_CHATS_LAST_UNREAD_AT_MESSAGES",e[e.UPDATE_EMAIL=2092]="UPDATE_EMAIL",e[e.SET_CALENDAR_SETTING=2093]="SET_CALENDAR_SETTING",e[e.GET_CALENDAR_SETTING=2094]="GET_CALENDAR_SETTING",e[e.GET_IS_DIAL_PROMPT=2095]="GET_IS_DIAL_PROMPT",e[e.SET_IS_DIAL_PROMPT=2096]="SET_IS_DIAL_PROMPT",e[e.GET_CHAT_CANDIDATE_BOTS=2097]="GET_CHAT_CANDIDATE_BOTS",e[e.GET_CHAT_BOTS=2098]="GET_CHAT_BOTS",e[e.COMPUTE_DONE_CARDS=2099]="COMPUTE_DONE_CARDS",e[e.MERGE_FORWARD_MESSAGES=2100]="MERGE_FORWARD_MESSAGES",e[e.HIDE_MESSAGE_URL_PREVIEW=2101]="HIDE_MESSAGE_URL_PREVIEW",e[e.RESEND_EMAIL_MESSAGE=2102]="RESEND_EMAIL_MESSAGE",e[e.DELETE_QUASI_MESSAGE=2103]="DELETE_QUASI_MESSAGE",e[e.GET_PACKETS_BY_SIDS=2105]="GET_PACKETS_BY_SIDS",e[e.GET_NUT_STORE_LIST=2106]="GET_NUT_STORE_LIST",e[e.SAVE_TO_NUT_STORE=2107]="SAVE_TO_NUT_STORE",e[e.UPLOAD_SECURE_IMAGE=2108]="UPLOAD_SECURE_IMAGE",e[e.GET_EMAIL_CHATTERS=2109]="GET_EMAIL_CHATTERS",e[e.GET_UNREAD_CARDS=2111]="GET_UNREAD_CARDS",e[e.UPDATE_DOC_FEED=2113]="UPDATE_DOC_FEED",e[e.GET_SUBORDINATE_DEPARTMENTS=2114]="GET_SUBORDINATE_DEPARTMENTS",e[e.GET_UNFOLD_DEPARTMENT_STRUCTURE=2115]="GET_UNFOLD_DEPARTMENT_STRUCTURE",e[e.GET_EMAIL_WANTED_AT_CHATTERS=2117]="GET_EMAIL_WANTED_AT_CHATTERS",e[e.DELETE_CHATTER_DESCRIPTION=2120]="DELETE_CHATTER_DESCRIPTION",e[e.SET_DEVICE_SETTING=2121]="SET_DEVICE_SETTING",e[e.GET_DEVICE_SETTING=2122]="GET_DEVICE_SETTING",e[e.GET_NUT_STORE_FILE_PREVIEW_URL=2123]="GET_NUT_STORE_FILE_PREVIEW_URL",e[e.HIDE_CHANNEL=2125]="HIDE_CHANNEL",e[e.GET_PREV_UNREAD_FEED_CARD=2129]="GET_PREV_UNREAD_FEED_CARD",e[e.SET_FEED_CARD_FILTER=2130]="SET_FEED_CARD_FILTER",e[e.PUT_ACTION=2131]="PUT_ACTION",e[e.GET_GEOCODE_INFO=2132]="GET_GEOCODE_INFO",e[e.INTEGRATION_SEARCH=2133]="INTEGRATION_SEARCH",e[e.MULTI_INTEGRATION_SEARCH=2134]="MULTI_INTEGRATION_SEARCH",e[e.UPDATE_E2EE_VOICE_DEVICE_TOKEN=2135]="UPDATE_E2EE_VOICE_DEVICE_TOKEN",e[e.TRANSMIT=2136]="TRANSMIT",e[e.GET_NEW_VERSION=2137]="GET_NEW_VERSION",e[e.GET_VERSION_NOTE=2138]="GET_VERSION_NOTE",e[e.PEAK_FEED_CARD=2139]="PEAK_FEED_CARD",e[e.SET_TRANSLATE_FEEDBACKS=2140]="SET_TRANSLATE_FEEDBACKS",e[e.TRANSLATE_MESSAGES=2141]="TRANSLATE_MESSAGES",e[e.PUSH_TRANSLATE_STATES=2142]="PUSH_TRANSLATE_STATES",e[e.PUSH_TRANSLATE_LANGUAGES_SETTING=2143]="PUSH_TRANSLATE_LANGUAGES_SETTING",e[e.GET_TRANSLATE_LANGUAGES_SETTING=2144]="GET_TRANSLATE_LANGUAGES_SETTING",e[e.SET_TRANSLATE_LANGUAGES_SETTING=2145]="SET_TRANSLATE_LANGUAGES_SETTING",e[e.GET_DOCS_HISTORY=2146]="GET_DOCS_HISTORY",e[e.GET_HAD_DRAFT_CARDS=2147]="GET_HAD_DRAFT_CARDS",e[e.GET_NEWEST_POLICIES=2148]="GET_NEWEST_POLICIES",e[e.SEND_AFFIRM_NEWEST_POLICIES=2149]="SEND_AFFIRM_NEWEST_POLICIES",e[e.GET_VIDEO_META=2150]="GET_VIDEO_META",e[e.GET_ALL_TENANT_APPS=2151]="GET_ALL_TENANT_APPS",e[e.GET_USER_PROFILE=2152]="GET_USER_PROFILE",e[e.CREATE_DEPARTMENT_CHAT=2153]="CREATE_DEPARTMENT_CHAT",e[e.PRELOAD_FEED_CARDS_DATA=2154]="PRELOAD_FEED_CARDS_DATA",e[e.GET_SDK_INFO=2155]="GET_SDK_INFO",e[e.SET_FEED_CARD_DELAYED=2156]="SET_FEED_CARD_DELAYED",e[e.GET_CHAT_RESOURCES=2157]="GET_CHAT_RESOURCES",e[e.SEND_HTTP=2167]="SEND_HTTP",e[e.CANCEL_HTTP=2168]="CANCEL_HTTP",e[e.GET_FILE_STATE=2169]="GET_FILE_STATE",e[e.CREATE_E2EE_VOICE_FEEDBACKS=2170]="CREATE_E2EE_VOICE_FEEDBACKS",e[e.GET_FILE_META=2171]="GET_FILE_META",e[e.SEARCH_USER_BY_CONTACT_POINT=2172]="SEARCH_USER_BY_CONTACT_POINT",e[e.SEND_USER_INVITATION=2173]="SEND_USER_INVITATION",e[e.GET_MOBILE_CODE=2174]="GET_MOBILE_CODE",e[e.SET_TRAFFIC_DATA=2175]="SET_TRAFFIC_DATA",e[e.GET_TRAFFIC_DATA=2177]="GET_TRAFFIC_DATA",e[e.SET_FEED_CARDS_INTO_BOX=2178]="SET_FEED_CARDS_INTO_BOX",e[e.DELETE_FEED_CARDS_FROM_BOX=2179]="DELETE_FEED_CARDS_FROM_BOX",e[e.GET_CHAT_QRCODE_TOKEN=2180]="GET_CHAT_QRCODE_TOKEN",e[e.GET_CHAT_QRCODE_INFO=2181]="GET_CHAT_QRCODE_INFO",e[e.GET_DELAYED_CARDS=2182]="GET_DELAYED_CARDS",e[e.GET_USER_SECURITY_CONFIG=2183]="GET_USER_SECURITY_CONFIG",e[e.SEND_SERVICE_PACKET=2184]="SEND_SERVICE_PACKET",e[e.UPDATE_QUASI_MESSAGE=2185]="UPDATE_QUASI_MESSAGE",e[e.GET_ACCOUNT_USER_LIST=2186]="GET_ACCOUNT_USER_LIST",e[e.SWITCH_USER=2187]="SWITCH_USER",e[e.DELETE_CHATTER_WORK_STATUS=2188]="DELETE_CHATTER_WORK_STATUS",e[e.GET_CHATTER_WORK_STATUS=2189]="GET_CHATTER_WORK_STATUS",e[e.SEND_METRICS=2190]="SEND_METRICS",e[e.SET_CHATTER_ALIAS=2191]="SET_CHATTER_ALIAS",e[e.SET_CHANNEL_NICKNAME=2192]="SET_CHANNEL_NICKNAME",e[e.GET_CHANNEL_NICKNAMES=2193]="GET_CHANNEL_NICKNAMES",e[e.GET_SEPECIFIC_FEED_CARDS=2194]="GET_SEPECIFIC_FEED_CARDS",e[e.SET_USER_SETTING=2195]="SET_USER_SETTING",e[e.GET_USER_SETTING=2196]="GET_USER_SETTING",e[e.RECORD_HTTP_LATENCY=2197]="RECORD_HTTP_LATENCY",e[e.GET_VIDEO_CAN_TRANSCODE=2198]="GET_VIDEO_CAN_TRANSCODE",e[e.GET_ALL_USERS_UNREAD_BADGE=2199]="GET_ALL_USERS_UNREAD_BADGE",e[e.REGISTER_CLIENT_INFO=2204]="REGISTER_CLIENT_INFO",e[e.CREATE_VIDEO_CHAT=2205]="CREATE_VIDEO_CHAT",e[e.JOIN_VIDEO_CHAT=2206]="JOIN_VIDEO_CHAT",e[e.UPDATE_VIDEO_CHAT=2207]="UPDATE_VIDEO_CHAT",e[e.INVITE_VIDEO_CHAT=2208]="INVITE_VIDEO_CHAT",e[e.SHARE_VIDEO_CHAT=2209]="SHARE_VIDEO_CHAT",e[e.NOTIFY_VIDEO_CHAT=2210]="NOTIFY_VIDEO_CHAT",e[e.SEARCH_VC_CHATTERS=2211]="SEARCH_VC_CHATTERS",e[e.GET_CHATTERS_VC_STATUS=2212]="GET_CHATTERS_VC_STATUS",e[e.PULL_VIDEO_CHAT_CONFIG=2213]="PULL_VIDEO_CHAT_CONFIG",e[e.PUSH_VIDEO_CHAT_NOTICE=2215]="PUSH_VIDEO_CHAT_NOTICE",e[e.REPLY_VIDEO_CHAT_NOTICE=2216]="REPLY_VIDEO_CHAT_NOTICE",e[e.JOIN_CALENDAR_GROUP_MEETING=2217]="JOIN_CALENDAR_GROUP_MEETING",e[e.PUT_FEEDBACKS=2218]="PUT_FEEDBACKS",e[e.GET_FEEDBACK_REASONS=2219]="GET_FEEDBACK_REASONS",e[e.GET_THREADS=2220]="GET_THREADS",e[e.MGET_THREADS=2221]="MGET_THREADS",e[e.GET_THREAD_MESSAGES=2222]="GET_THREAD_MESSAGES",e[e.UPDATE_THREAD=2223]="UPDATE_THREAD",e[e.UPDATE_THREADS_ME_READ=2224]="UPDATE_THREADS_ME_READ",e[e.GET_THREAD_ALL_MESSAGES=2225]="GET_THREAD_ALL_MESSAGES",e[e.GET_CHANNEL_THREADS=2226]="GET_CHANNEL_THREADS",e[e.GET_THREAD_MESSAGES_V2=2227]="GET_THREAD_MESSAGES_V2",e[e.DELETE_MESSAEG_NO_TRACE=2228]="DELETE_MESSAEG_NO_TRACE",e[e.CANCEL_FETCH=2230]="CANCEL_FETCH",e[e.SEND_FRONTIER_UP_STREAM=2231]="SEND_FRONTIER_UP_STREAM",e[e.TAKE_TRAFFIC_DATA=2232]="TAKE_TRAFFIC_DATA",e[e.INIT_NET=2233]="INIT_NET",e[e.UPDATE_DOC_ME_READ=2234]="UPDATE_DOC_ME_READ",e[e.GET_DOC_MESSAGE_READ_STATE=2235]="GET_DOC_MESSAGE_READ_STATE",e[e.REMOVE_DOC=2236]="REMOVE_DOC",e[e.UPDATE_DOC_MESSAGE_BADGE=2237]="UPDATE_DOC_MESSAGE_BADGE",e[e.GET_RLIMIT=2238]="GET_RLIMIT",e[e.SET_RLIMIT=2239]="SET_RLIMIT",e[e.CREATE_FAVORITES=2240]="CREATE_FAVORITES",e[e.GET_FAVORITES=2241]="GET_FAVORITES",e[e.DELETE_FAVORITES=2242]="DELETE_FAVORITES",e[e.MERGE_FAVORITE=2243]="MERGE_FAVORITE",e[e.PUT_LANGUAGES_CONFIGURATION=2250]="PUT_LANGUAGES_CONFIGURATION",e[e.PUSH_LANGUAGES_CONFIGURATION_NOTICE=2251]="PUSH_LANGUAGES_CONFIGURATION_NOTICE",e[e.PUSH_DISABLE_AUTO_TRANSLATE_LANGUAGE_NOTICE=2252]="PUSH_DISABLE_AUTO_TRANSLATE_LANGUAGE_NOTICE",e[e.DISABLE_AUTO_TRANSLATE_LANGUAGE=2253]="DISABLE_AUTO_TRANSLATE_LANGUAGE",e[e.GET_AUTO_TRANSLATE_GUIDANCE=2254]="GET_AUTO_TRANSLATE_GUIDANCE",e[e.GET_MESSAGE_TRANSLATE_INFOS=2255]="GET_MESSAGE_TRANSLATE_INFOS",e[e.GET_CHAT_APPLICATIONS=2260]="GET_CHAT_APPLICATIONS",e[e.SEND_CHAT_APPLICATION=2261]="SEND_CHAT_APPLICATION",e[e.PROCESS_CHAT_APPLICATION=2262]="PROCESS_CHAT_APPLICATION",e[e.UPDATE_CHAT_APPLICATION_ME_READ=2263]="UPDATE_CHAT_APPLICATION_ME_READ",e[e.GET_CHAT_APPLICATION_BADGE=2264]="GET_CHAT_APPLICATION_BADGE",e[e.GET_CONTACT_TOKEN=2265]="GET_CONTACT_TOKEN",e[e.RESET_CONTACT_TOKEN=2266]="RESET_CONTACT_TOKEN",e[e.GET_CONTACTS=2267]="GET_CONTACTS",e[e.DELETE_CONTACT=2268]="DELETE_CONTACT",e[e.SET_CONTACT_SETTING=2269]="SET_CONTACT_SETTING",e[e.GET_CONTACT_SETTING=2270]="GET_CONTACT_SETTING",e[e.MGET_TENANTS=2271]="MGET_TENANTS",e[e.PULL_ALL_ONCALL_TAGS=2272]="PULL_ALL_ONCALL_TAGS",e[e.PULL_ONCALL_BY_TAGS=2273]="PULL_ONCALL_BY_TAGS",e[e.PUT_FINISH_ONCALL=2274]="PUT_FINISH_ONCALL",e[e.GET_FEED_CARDS_V2=2275]="GET_FEED_CARDS_V2",e[e.GET_NEXT_UNREAD_FEED_CARDS_RANGE_V2=2276]="GET_NEXT_UNREAD_FEED_CARDS_RANGE_V2",e[e.GET_CHAT_POST_USERS=2278]="GET_CHAT_POST_USERS",e[e.UPDATE_CHAT_POST_USERS=2279]="UPDATE_CHAT_POST_USERS",e[e.SEARCH_APP_CENTER=2280]="SEARCH_APP_CENTER",e[e.APP_SHARE=2281]="APP_SHARE",e[e.GET_OPEN_APP=2282]="GET_OPEN_APP",e[e.SET_OPEN_APP_INTERVAL=2283]="SET_OPEN_APP_INTERVAL",e[e.UPDATE_OPEN_APP_LAST_HAPPEN=2284]="UPDATE_OPEN_APP_LAST_HAPPEN",e[e.GET_APP_DETAIL=2285]="GET_APP_DETAIL",e[e.SEARCH_CHAT_BOT=2287]="SEARCH_CHAT_BOT",e[e.GET_CARD_STYLE=2288]="GET_CARD_STYLE",e[e.CHECK_IS_URL_APP_LINK=2289]="CHECK_IS_URL_APP_LINK",e[e.CHECK_PUBLIC_CHAT_NAME_IS_EXIST=2290]="CHECK_PUBLIC_CHAT_NAME_IS_EXIST",e[e.GET_CHAT_CHATTER_IDS=2291]="GET_CHAT_CHATTER_IDS",e[e.GET_MENTION_CHAT_CHATTERS=2292]="GET_MENTION_CHAT_CHATTERS",e[e.CREATE_ADD_CHAT_CHATTER_APPLY=2293]="CREATE_ADD_CHAT_CHATTER_APPLY",e[e.GET_ADD_CHAT_CHATTER_APPLY=2294]="GET_ADD_CHAT_CHATTER_APPLY",e[e.UPDATE_ADD_CHAT_CHATTER_APPLY=2295]="UPDATE_ADD_CHAT_CHATTER_APPLY",e[e.GET_INIT_SETTINGS=2296]="GET_INIT_SETTINGS",e[e.GET_DEPARTMENT_COMBINE_CHAT=2297]="GET_DEPARTMENT_COMBINE_CHAT",e[e.GET_UNFOLD_DEPARTMENT_COMBINE_CHAT=2298]="GET_UNFOLD_DEPARTMENT_COMBINE_CHAT",e[e.GET_CONTACTS_COMBINE_CHAT=2299]="GET_CONTACTS_COMBINE_CHAT",e[e.GET_MESSAGE_READ_STATE=2300]="GET_MESSAGE_READ_STATE",e[e.START_BYTEVIEW_HEARTBEAT=2301]="START_BYTEVIEW_HEARTBEAT",e[e.STOP_BYTEVIEW_HEARTBEAT=2302]="STOP_BYTEVIEW_HEARTBEAT",e[e.PUSH_BYTEVIEW_HEARTBEAT_STOP=2303]="PUSH_BYTEVIEW_HEARTBEAT_STOP",e[e.START_BYTEVIEW_POLLING=2304]="START_BYTEVIEW_POLLING",e[e.STOP_BYTEVIEW_POLLING=2305]="STOP_BYTEVIEW_POLLING",e[e.NOTIFY_VIDEO_CHAT_EXTRA=2306]="NOTIFY_VIDEO_CHAT_EXTRA",e[e.GET_RTC_DNS=2307]="GET_RTC_DNS",e[e.HOST_MANAGE=2308]="HOST_MANAGE",e[e.HOST_CHANGE_SETTINGS=2309]="HOST_CHANGE_SETTINGS",e[e.PARTICIPANT_CHANGE_SETTINGS=2310]="PARTICIPANT_CHANGE_SETTINGS",e[e.SHARE_SCREEN=2311]="SHARE_SCREEN",e[e.GET_SUGGESTED_PARTICIPANTS=2312]="GET_SUGGESTED_PARTICIPANTS",e[e.PUSH_VIDEO_CHAT_COMBINED_INFO=2313]="PUSH_VIDEO_CHAT_COMBINED_INFO",e[e.PREVIEW_JOIN_VIDEO_CHAT=2314]="PREVIEW_JOIN_VIDEO_CHAT",e[e.FORCE_LEAVE_VIDEO_CHAT=2315]="FORCE_LEAVE_VIDEO_CHAT",e[e.QUERY_SELF_STATUS=2316]="QUERY_SELF_STATUS",e[e.PUT_VIDEO_CHAT_FEEDBACKS=2317]="PUT_VIDEO_CHAT_FEEDBACKS",e[e.PULL_E2EE_VOICE_CALL_CONFIG=2318]="PULL_E2EE_VOICE_CALL_CONFIG",e[e.START_E2EE_VOICE_CALL_POLLING=2319]="START_E2EE_VOICE_CALL_POLLING",e[e.STOP_E2EE_VOICE_CALL_POLLING=2320]="STOP_E2EE_VOICE_CALL_POLLING",e[e.REJOIN_VIDEO_CHAT=2321]="REJOIN_VIDEO_CHAT",e[e.MGET_ROOMS=2322]="MGET_ROOMS",e[e.JOIN_BY_MEETING_NUMBER=2323]="JOIN_BY_MEETING_NUMBER",e[e.SHARE_SCREEN_TO_ROOM=2324]="SHARE_SCREEN_TO_ROOM",e[e.PULL_PRE_VIDEO_CHAT_SETTING=2325]="PULL_PRE_VIDEO_CHAT_SETTING",e[e.GET_VIEW_I18N_TEMPLATE=2326]="GET_VIEW_I18N_TEMPLATE",e[e.GET_CALENDAR_INFO=2328]="GET_CALENDAR_INFO",e[e.GET_CALENDAR_GROUP=2329]="GET_CALENDAR_GROUP",e[e.SHARE_FOLLOW=2330]="SHARE_FOLLOW",e[e.SYNC_FOLLOW_ACTION=2331]="SYNC_FOLLOW_ACTION",e[e.QUERY_MEETING_JOINABLE=2332]="QUERY_MEETING_JOINABLE",e[e.JOIN_MEETING=2333]="JOIN_MEETING",e[e.PUSH_ASSOCIATED_VC_STATUS=2334]="PUSH_ASSOCIATED_VC_STATUS",e[e.GET_ASSOCIATED_VC=2335]="GET_ASSOCIATED_VC",e[e.PULL_DIAL_TEST_SUITE=2336]="PULL_DIAL_TEST_SUITE",e[e.REPORT_DIAL_TEST_STATUS=2337]="REPORT_DIAL_TEST_STATUS",e[e.NOTIFY_DIAL_TEST_ACTION=2338]="NOTIFY_DIAL_TEST_ACTION",e[e.GET_ASSOCIATED_VC_STATUS=2341]="GET_ASSOCIATED_VC_STATUS",e[e.PULL_SUBTITLES=2339]="PULL_SUBTITLES",e[e.SEARCH_SUBTITLES=2340]="SEARCH_SUBTITLES",e[e.SYNC_SUBTITLES=2344]="SYNC_SUBTITLES",e[e.JOIN_INTERVIEW_GROUP_MEETING=2342]="JOIN_INTERVIEW_GROUP_MEETING",e[e.RECORD_MEETING=2343]="RECORD_MEETING",e[e.SEARCH_VIEW_PARTICIPANTS=2345]="SEARCH_VIEW_PARTICIPANTS",e[e.REQUEST_FOLLOW_TOKEN=2346]="REQUEST_FOLLOW_TOKEN",e[e.GRANT_FOLLOW_TOKEN=2347]="GRANT_FOLLOW_TOKEN",e[e.REQUEST_FOLLOW_PERM=2348]="REQUEST_FOLLOW_PERM",e[e.VC_QUERY_DOCS=2349]="VC_QUERY_DOCS",e[e.PUSH_VIDEO_CHAT_NOTICE_UPDATE=2350]="PUSH_VIDEO_CHAT_NOTICE_UPDATE",e[e.JOIN_MEETING_PRE_CHECK=2351]="JOIN_MEETING_PRE_CHECK",e[e.PUSH_VIDEO_CHAT_INTERACTION_MESSAGES=2360]="PUSH_VIDEO_CHAT_INTERACTION_MESSAGES",e[e.SEND_VIDEO_CHAT_INTERACTION_MESSAGE=2361]="SEND_VIDEO_CHAT_INTERACTION_MESSAGE",e[e.PULL_VIDEO_CHAT_INTERACTION_MESSAGES=2362]="PULL_VIDEO_CHAT_INTERACTION_MESSAGES",e[e.SEND_UPGRADE_PLAN_NOTICE=2370]="SEND_UPGRADE_PLAN_NOTICE",e[e.PUSH_VIDEO_CHAT_PROMPT=2371]="PUSH_VIDEO_CHAT_PROMPT",e[e.REPLY_VIDEO_CHAT_PROMPT=2372]="REPLY_VIDEO_CHAT_PROMPT",e[e.ADJUEST_MEETING_DURATION=2373]="ADJUEST_MEETING_DURATION",e[e.PULL_VIEW_USER_SETTING=2374]="PULL_VIEW_USER_SETTING",e[e.PATCH_VIEW_USER_SETTING=2375]="PATCH_VIEW_USER_SETTING",e[e.PUSH_VIEW_USER_SETTING=2376]="PUSH_VIEW_USER_SETTING",e[e.SUBMIT_GENERIC_FEEDBACK=2377]="SUBMIT_GENERIC_FEEDBACK",e[e.LIVE_MEETING_ACTION=2380]="LIVE_MEETING_ACTION",e[e.LIVE_MEETING_EXTRA_INFO=2381]="LIVE_MEETING_EXTRA_INFO",e[e.LIVE_MEETING_JOIN_PRE_CHECK=2382]="LIVE_MEETING_JOIN_PRE_CHECK",e[e.LIVE_MEETING_ACCOUNT_BINDING_INFO=2383]="LIVE_MEETING_ACCOUNT_BINDING_INFO",e[e.LIVE_MEETING_STREAM_SETTING=2384]="LIVE_MEETING_STREAM_SETTING",e[e.LIVE_MEETING_FETCH_LIVE_POLICY=2385]="LIVE_MEETING_FETCH_LIVE_POLICY",e[e.LIVE_MEETING_GET_VERIFICATION_QR_CODE=2386]="LIVE_MEETING_GET_VERIFICATION_QR_CODE",e[e.LIVE_MEETING_POLL_VERIFICATION_STATUS=2387]="LIVE_MEETING_POLL_VERIFICATION_STATUS",e[e.LIVE_MEETING_VERIFY_TWO_ELEMENT=2389]="LIVE_MEETING_VERIFY_TWO_ELEMENT",e[e.LIVE_MEETING_LIVENESS_VERIFICATION_CALLBACK=2390]="LIVE_MEETING_LIVENESS_VERIFICATION_CALLBACK",e[e.LIVE_MEETING_GET_LIVE_PERMISSION=2391]="LIVE_MEETING_GET_LIVE_PERMISSION",e[e.LIVE_MEETING_GET_VERIFICATION_TICKET=2392]="LIVE_MEETING_GET_VERIFICATION_TICKET",e[e.TRIGGER_PULL_IN_MEETING_INFO=2388]="TRIGGER_PULL_IN_MEETING_INFO",e[e.LIVE_MEETING_GET_VERIFICATION_INFO=2398]="LIVE_MEETING_GET_VERIFICATION_INFO",e[e.NOTICE_BYTEVIEW_EVENT=2399]="NOTICE_BYTEVIEW_EVENT",e[e.SEND_HONGBAO=2400]="SEND_HONGBAO",e[e.GRAB_HONGBAO=2401]="GRAB_HONGBAO",e[e.UPDATE_HONGBAO=2402]="UPDATE_HONGBAO",e[e.GET_HONGBAO_INFO=2403]="GET_HONGBAO_INFO",e[e.GET_HONGBAO_RECV_DETAIL=2404]="GET_HONGBAO_RECV_DETAIL",e[e.GET_WALLET_BALANCE=2405]="GET_WALLET_BALANCE",e[e.GET_PAY_TOKEN=2406]="GET_PAY_TOKEN",e[e.GET_SEND_HONGBAO_RECORD=2407]="GET_SEND_HONGBAO_RECORD",e[e.GET_GRAB_HONGBAO_RECORD=2408]="GET_GRAB_HONGBAO_RECORD",e[e.GET_CHAT_AVATAR_META=2409]="GET_CHAT_AVATAR_META",e[e.GET_CHAT_LIMIT_INFO=2410]="GET_CHAT_LIMIT_INFO",e[e.GET_FEED_CARDS_BY_CHATTER_IDS=2451]="GET_FEED_CARDS_BY_CHATTER_IDS",e[e.INIT_SDK=2452]="INIT_SDK",e[e.TRIGGER_DATA_CLEAN=2453]="TRIGGER_DATA_CLEAN",e[e.CANCEL_DATA_CLEAN=2454]="CANCEL_DATA_CLEAN",e[e.GET_PRODUCT_GUIDE=2700]="GET_PRODUCT_GUIDE",e[e.DELETE_PRODUCT_GUIDE=2701]="DELETE_PRODUCT_GUIDE",e[e.UPLOAD_AVATAR=2702]="UPLOAD_AVATAR",e[e.GET_DRAFTS=2703]="GET_DRAFTS",e[e.GET_HOME_PAGE_ONCALLS=2704]="GET_HOME_PAGE_ONCALLS",e[e.CREATE_DOC_DRAFT=2705]="CREATE_DOC_DRAFT",e[e.DELETE_DOC_DRAFT=2706]="DELETE_DOC_DRAFT",e[e.GET_DOC_DRAFT=2707]="GET_DOC_DRAFT",e[e.SET_DOMAIN_ALIAS=2800]="SET_DOMAIN_ALIAS",e[e.PUT_USER_SCREENSHOT_ACTION=2900]="PUT_USER_SCREENSHOT_ACTION",e[e.GET_MY_PROMOTION_LINK=2950]="GET_MY_PROMOTION_LINK",e[e.GET_PROMOTION_RULE=2951]="GET_PROMOTION_RULE",e[e.SET_BUSINESS_INVITATION=2952]="SET_BUSINESS_INVITATION",e[e.GET_INVITATION_LINK=2960]="GET_INVITATION_LINK",e[e.GET_USER_INVITATION_MESSAGE=2961]="GET_USER_INVITATION_MESSAGE",e[e.SET_ADMIN_INVITATION=2962]="SET_ADMIN_INVITATION",e[e.SET_BANNER_BEGIN_TIME=2963]="SET_BANNER_BEGIN_TIME",e[e.GET_ICE_BREAKING_STATUS=2970]="GET_ICE_BREAKING_STATUS",e[e.SET_ICE_BREAKING_ACTION=2971]="SET_ICE_BREAKING_ACTION",e[e.SET_TOUR_GUIDE_ACHIEVED=2972]="SET_TOUR_GUIDE_ACHIEVED",e[e.GET_BANNERS=2973]="GET_BANNERS",e[e.SET_BANNER_STATUS=2974]="SET_BANNER_STATUS",e[e.PUSH_BANNER=2975]="PUSH_BANNER",e[e.GET_THREADS_BY_POSITIONS=2980]="GET_THREADS_BY_POSITIONS",e[e.GET_THREAD_MESSAGES_BY_POSITIONS=2981]="GET_THREAD_MESSAGES_BY_POSITIONS",e[e.CANCEL_STREAM_CALLBACK=2982]="CANCEL_STREAM_CALLBACK",e[e.GET_INIT_SETTINGS_FROM_SERVER=2983]="GET_INIT_SETTINGS_FROM_SERVER",e[e.DELETE_EPHEMERAL_MESSAGE=2984]="DELETE_EPHEMERAL_MESSAGE",e[e.INIT_CALENDAR_SDK=3e3]="INIT_CALENDAR_SDK",e[e.SYNC_CALENDARS_AND_EVENTS=3001]="SYNC_CALENDARS_AND_EVENTS",e[e.GET_CALENDAR_CHATTER_ROLES=3003]="GET_CALENDAR_CHATTER_ROLES",e[e.GET_ALL_CALENDARS=3004]="GET_ALL_CALENDARS",e[e.GET_CHATTERS_BY_CALENDAR_IDS=3005]="GET_CHATTERS_BY_CALENDAR_IDS",e[e.SAVE_CALENDARS=3006]="SAVE_CALENDARS",e[e.SUBSCRIBE_CALENDAR=3008]="SUBSCRIBE_CALENDAR",e[e.UNSUBSCRIBE_CALENDAR=3009]="UNSUBSCRIBE_CALENDAR",e[e.GET_GOOGLE_AUTH_URL=3010]="GET_GOOGLE_AUTH_URL",e[e.RECALL_GOOGLE_TOKEN=3011]="RECALL_GOOGLE_TOKEN",e[e.UPDATE_CALENDAR_VISIBILITY=3012]="UPDATE_CALENDAR_VISIBILITY",e[e.GET_CALENDARS=3013]="GET_CALENDARS",e[e.RELOAD_CALENDARS_AND_EVENTS=3014]="RELOAD_CALENDARS_AND_EVENTS",e[e.SET_CALENDAR_SETTINGS=3015]="SET_CALENDAR_SETTINGS",e[e.GET_CALENDAR_SETTINGS=3016]="GET_CALENDAR_SETTINGS",e[e.SEARCH_GUESTS=3017]="SEARCH_GUESTS",e[e.PULL_GROUPS_ATTENDEES=3018]="PULL_GROUPS_ATTENDEES",e[e.SEARCH_MEETING_ROOMS=3019]="SEARCH_MEETING_ROOMS",e[e.SAVE_CALENDAR_WITH_MEMBERS=3020]="SAVE_CALENDAR_WITH_MEMBERS",e[e.GET_CALENDAR_MEMBERS=3021]="GET_CALENDAR_MEMBERS",e[e.DELETE_CALENDAR=3022]="DELETE_CALENDAR",e[e.MULTI_CALENDAR_SEARCH=3023]="MULTI_CALENDAR_SEARCH",e[e.SET_SKIN_SETTINGS=3024]="SET_SKIN_SETTINGS",e[e.GET_SKIN_SETTINGS=3025]="GET_SKIN_SETTINGS",e[e.GET_ONLINE_DOC_TOKEN=3026]="GET_ONLINE_DOC_TOKEN",e[e.GET_CURRENT_USER_PRIMARY_CALENDAR=3027]="GET_CURRENT_USER_PRIMARY_CALENDAR",e[e.GEN_PWD_FOR_CALDAV_USER=3029]="GEN_PWD_FOR_CALDAV_USER",e[e.DELETE_CALDAV_USER_PASSWORD=3030]="DELETE_CALDAV_USER_PASSWORD",e[e.GET_CALDAV_PASSWORD_LIST=3031]="GET_CALDAV_PASSWORD_LIST",e[e.BATCH_SUBSCRIBE_USER_CALENDARS=3033]="BATCH_SUBSCRIBE_USER_CALENDARS",e[e.UNSUBSCRIBE_MEETING_ROOM_VIEW_CALENDARS=3034]="UNSUBSCRIBE_MEETING_ROOM_VIEW_CALENDARS",e[e.GET_CALENDAR_EVENT_MAPPING_COLORS=3035]="GET_CALENDAR_EVENT_MAPPING_COLORS",e[e.MARK_RED_DOTS_DISAPPEAR=3037]="MARK_RED_DOTS_DISAPPEAR",e[e.GET_CONFIG_SETTINGS=3038]="GET_CONFIG_SETTINGS",e[e.MARK_CALENDAR_VIEW_STATUS=3039]="MARK_CALENDAR_VIEW_STATUS",e[e.BATCH_UNSUBSCRIBE_CALENDARS=3040]="BATCH_UNSUBSCRIBE_CALENDARS",e[e.GET_FREE_BUSY_ACCESSIBLE_USER_MAP=3041]="GET_FREE_BUSY_ACCESSIBLE_USER_MAP",e[e.GET_SUNRISE_AND_SUNSET_TIME=3042]="GET_SUNRISE_AND_SUNSET_TIME",e[e.SEARCH_ATTENDEES_IN_CHAT=3043]="SEARCH_ATTENDEES_IN_CHAT",e[e.GET_CALENDAR_MEMBERS_BY_IDS=3044]="GET_CALENDAR_MEMBERS_BY_IDS",e[e.GET_LOCAL_CALENDAR_SETTINGS=3045]="GET_LOCAL_CALENDAR_SETTINGS",e[e.UPDATE_CALENDAR_VIEW_VISIBILITY=3046]="UPDATE_CALENDAR_VIEW_VISIBILITY",e[e.GET_CHAT_FREE_BUSY_FAVOR=3047]="GET_CHAT_FREE_BUSY_FAVOR",e[e.SET_CHAT_FREE_BUSY_FAVOR=3048]="SET_CHAT_FREE_BUSY_FAVOR",e[e.SORT_CHATTERS_IN_CHAT=3049]="SORT_CHATTERS_IN_CHAT",e[e.GET_REMOTE_USER_PRIMARY_CALENDAR=3050]="GET_REMOTE_USER_PRIMARY_CALENDAR",e[e.GET_CURRENT_USER_BRIEF_PRIMARY_CALENDAR=3051]="GET_CURRENT_USER_BRIEF_PRIMARY_CALENDAR",e[e.SAVE_EVENT=3101]="SAVE_EVENT",e[e.GET_INSTANCES=3102]="GET_INSTANCES",e[e.GET_EVENT=3103]="GET_EVENT",e[e.MGET_SERVER_EVENTS=3104]="MGET_SERVER_EVENTS",e[e.DELETE_EVENT=3105]="DELETE_EVENT",e[e.MGET_SERVER_INSTANCES=3106]="MGET_SERVER_INSTANCES",e[e.PRELOAD_SERVER_EVENTS=3108]="PRELOAD_SERVER_EVENTS",e[e.GET_ATTENDEES_BY_CHATTER_IDS=3109]="GET_ATTENDEES_BY_CHATTER_IDS",e[e.GET_MEETING_ROOMS_IN_BUILDING=3110]="GET_MEETING_ROOMS_IN_BUILDING",e[e.GET_BUILDINGS=3111]="GET_BUILDINGS",e[e.GET_EVENT_BY_ID=3112]="GET_EVENT_BY_ID",e[e.PULL_MEETING_ROOMS_SUBSCRIPTION_INFO=3116]="PULL_MEETING_ROOMS_SUBSCRIPTION_INFO",e[e.GET_INSTANCES_LAYOUT=3117]="GET_INSTANCES_LAYOUT",e[e.GET_USER_PRIMARY_CALENDAR_INSTANCES=3118]="GET_USER_PRIMARY_CALENDAR_INSTANCES",e[e.GET_DAY_INSTANCES_FOR_EVENT_CONFLICT=3119]="GET_DAY_INSTANCES_FOR_EVENT_CONFLICT",e[e.GET_MEETINGS_BY_CHAT_IDS=3120]="GET_MEETINGS_BY_CHAT_IDS",e[e.GET_MEETING_EVENT=3121]="GET_MEETING_EVENT",e[e.QUIT_MEETING=3122]="QUIT_MEETING",e[e.MARK_MEETING_ENTERED=3123]="MARK_MEETING_ENTERED",e[e.GET_MEETING_BY_EVENT_UID=3124]="GET_MEETING_BY_EVENT_UID",e[e.GET_EVENT_AND_DEPENDENCY=3125]="GET_EVENT_AND_DEPENDENCY",e[e.GET_MOST_CLOSED_INSTANCE=3126]="GET_MOST_CLOSED_INSTANCE",e[e.UPGRADE_TO_MEETING=3127]="UPGRADE_TO_MEETING",e[e.GET_ATTENDEES_BY_CALENDAR_IDS=3128]="GET_ATTENDEES_BY_CALENDAR_IDS",e[e.JOIN_CALENDAR_EVENT=3130]="JOIN_CALENDAR_EVENT",e[e.GET_CALENDAR_EVENT_INFO=3131]="GET_CALENDAR_EVENT_INFO",e[e.SHARE_CALENDAR_EVENT_MESSAGES=3132]="SHARE_CALENDAR_EVENT_MESSAGES",e[e.GET_DAY_INSTANCES_FOR_EVENT_CONFLICT_WITH_EVENT=3133]="GET_DAY_INSTANCES_FOR_EVENT_CONFLICT_WITH_EVENT",e[e.GET_INSTANCES_BY_EVENT_UNIQUE_FIELDS=3134]="GET_INSTANCES_BY_EVENT_UNIQUE_FIELDS",e[e.GET_MEETING_ROOM_VIEW_CALENDARS=3135]="GET_MEETING_ROOM_VIEW_CALENDARS",e[e.GET_MEETING_ROOM_VIEW_INSTANCES=3137]="GET_MEETING_ROOM_VIEW_INSTANCES",e[e.SUBSCRIBE_MEETING_ROOM_VIEW_CALENDAR_AND_LOAD_INSTANCES=3138]="SUBSCRIBE_MEETING_ROOM_VIEW_CALENDAR_AND_LOAD_INSTANCES",e[e.GET_EVENTS_BY_IDS=3139]="GET_EVENTS_BY_IDS",e[e.GET_APP_CONFIG=3140]="GET_APP_CONFIG",e[e.GET_INSTANCES_BY_CALENDAR_IDS=3141]="GET_INSTANCES_BY_CALENDAR_IDS",e[e.GET_MEETING_CONFLICT=3142]="GET_MEETING_CONFLICT",e[e.MARK_MEETING_SCROLL_CLICKED=3143]="MARK_MEETING_SCROLL_CLICKED",e[e.GET_EXCEPTIONAL_EVENTS=3144]="GET_EXCEPTIONAL_EVENTS",e[e.GET_BUSY_USER=3145]="GET_BUSY_USER",e[e.CLOSE_EVENT_REMINDER_CARD=3146]="CLOSE_EVENT_REMINDER_CARD",e[e.MARK_ALARM_CLOSED=3147]="MARK_ALARM_CLOSED",e[e.MGET_CALENDARS_WITH_IDS=3148]="MGET_CALENDARS_WITH_IDS",e[e.JUDGE_NOTIFICATION_BOX_TYPE=3149]="JUDGE_NOTIFICATION_BOX_TYPE",e[e.GET_PLACE_TIPS=3150]="GET_PLACE_TIPS",e[e.GET_PLACE_BY_ID=3151]="GET_PLACE_BY_ID",e[e.GET_PARSED_RRULE_TEXT=3152]="GET_PARSED_RRULE_TEXT",e[e.TRANSFER_CALENDAR_EVENT=3153]="TRANSFER_CALENDAR_EVENT",e[e.JUDGE_EVENT_ATTENDEES_CHANGE_AFFECT=3154]="JUDGE_EVENT_ATTENDEES_CHANGE_AFFECT",e[e.GET_TODAY_INSTANCES_OF_MINE=3155]="GET_TODAY_INSTANCES_OF_MINE",e[e.GET_RESOURCE_WITH_TOKEN=3156]="GET_RESOURCE_WITH_TOKEN",e[e.SEIZE_RESOURCE=3157]="SEIZE_RESOURCE",e[e.SET_SEIZE_RESOURCE_WHETHER_NEED_POPUP=3158]="SET_SEIZE_RESOURCE_WHETHER_NEED_POPUP",e[e.GET_VIDEO_MEETING_BY_EVENT=3159]="GET_VIDEO_MEETING_BY_EVENT",e[e.GET_VIDEO_MEETINGS_STATUS=3160]="GET_VIDEO_MEETINGS_STATUS",e[e.GET_EVENT_INFO_BY_VIDEO_MEETING_ID=3161]="GET_EVENT_INFO_BY_VIDEO_MEETING_ID",e[e.GET_CAN_RENEW_EXPIRED_VIDEO_MEETING_NUMBER=3162]="GET_CAN_RENEW_EXPIRED_VIDEO_MEETING_NUMBER",e[e.GET_RESOURCE_URLS=3163]="GET_RESOURCE_URLS",e[e.CREATE_MEETING_MINUTE_BY_EVENT=3164]="CREATE_MEETING_MINUTE_BY_EVENT",e[e.CREATE_MEETING_MINUTE_BY_CHAT_ID=3165]="CREATE_MEETING_MINUTE_BY_CHAT_ID",e[e.GET_MEETING_MINUTE_HAS_UPDATE_BY_EVENT=3166]="GET_MEETING_MINUTE_HAS_UPDATE_BY_EVENT",e[e.GET_MEETING_MINUTE_HAS_UPDATE_BY_CHAT_ID=3167]="GET_MEETING_MINUTE_HAS_UPDATE_BY_CHAT_ID",e[e.UPGRADE_TO_CHAT=3168]="UPGRADE_TO_CHAT",e[e.SET_EVENT_INSTANCE_IMPORTANCE_SCORE_FEEDBACK=3169]="SET_EVENT_INSTANCE_IMPORTANCE_SCORE_FEEDBACK",e[e.GET_FEED_TODAY_INSTANCES_OF_SELECTED=3170]="GET_FEED_TODAY_INSTANCES_OF_SELECTED",e[e.DISPLAY_TRANSFER_CHAT_SCROLL_CHECK=3171]="DISPLAY_TRANSFER_CHAT_SCROLL_CHECK",e[e.MGET_SERVER_EVENTS_BY_UNIQUE_FIELD=3172]="MGET_SERVER_EVENTS_BY_UNIQUE_FIELD",e[e.OPTIMISTIC_REPLY_CALENDAR_EVENT_INVITATION=3173]="OPTIMISTIC_REPLY_CALENDAR_EVENT_INVITATION",e[e.ADVANCE_SEARCH_CALENDAR_EVENT=3174]="ADVANCE_SEARCH_CALENDAR_EVENT",e[e.QUICK_SEARCH_CALENDAR_EVENT=3175]="QUICK_SEARCH_CALENDAR_EVENT",e[e.UPDATE_CALENDAR_EVENT_ATTACHMENT_LOCAL_PATH=3176]="UPDATE_CALENDAR_EVENT_ATTACHMENT_LOCAL_PATH",e[e.BATCH_GET_CAN_RENEW_EXPIRED_VIDEO_MEETINGS_NUMBER=3177]="BATCH_GET_CAN_RENEW_EXPIRED_VIDEO_MEETINGS_NUMBER",e[e.GET_SHARED_CALENDAR_EVENT=3178]="GET_SHARED_CALENDAR_EVENT",e[e.GET_PRIMARY_CALENDAR_LOADING_STATUS=3179]="GET_PRIMARY_CALENDAR_LOADING_STATUS",e[e.GET_CALENDAR_EXTERNAL_ACCOUNTS=3180]="GET_CALENDAR_EXTERNAL_ACCOUNTS",e[e.UPDATE_CALENDAR_EXTERNAL_ACCOUNT_SETTING=3181]="UPDATE_CALENDAR_EXTERNAL_ACCOUNT_SETTING",e[e.SET_EXTERNAL_ACCOUNTS_CALENDARS_INVISIBLE=3182]="SET_EXTERNAL_ACCOUNTS_CALENDARS_INVISIBLE",e[e.GET_LARK_ENTERPRISE_MAIL=3183]="GET_LARK_ENTERPRISE_MAIL",e[e.MARK_LARK_ENTERPRISE_MAIL_SELECTED=3184]="MARK_LARK_ENTERPRISE_MAIL_SELECTED",e[e.GET_HAS_MEETING_EVENT=3185]="GET_HAS_MEETING_EVENT",e[e.GET_TIMEZONE_BY_CITY=3186]="GET_TIMEZONE_BY_CITY",e[e.GET_RECENT_TIMEZONES=3187]="GET_RECENT_TIMEZONES",e[e.UPDATE_RECENT_TIMEZONES=3188]="UPDATE_RECENT_TIMEZONES",e[e.SET_MOBILE_NORMAL_VIEW_TIMEZONE=3189]="SET_MOBILE_NORMAL_VIEW_TIMEZONE",e[e.GET_MOBILE_NORMAL_VIEW_TIMEZONE=3190]="GET_MOBILE_NORMAL_VIEW_TIMEZONE",e[e.GET_THIRD_PARTY_CALENDAR_SETTINGS=3191]="GET_THIRD_PARTY_CALENDAR_SETTINGS",e[e.SAVE_THIRD_PARTY_CALENDAR_SETTINGS=3192]="SAVE_THIRD_PARTY_CALENDAR_SETTINGS",e[e.DELETE_THIRD_PARTY_CALENDAR_SETTINGS=3193]="DELETE_THIRD_PARTY_CALENDAR_SETTINGS",e[e.GET_EVENT_SHARE_LINK=3194]="GET_EVENT_SHARE_LINK",e[e.OPTIMISTIC_REPLY_CALENDAR_EVENT_INVITATION_WITH_SPAN=3195]="OPTIMISTIC_REPLY_CALENDAR_EVENT_INVITATION_WITH_SPAN",e[e.PUSH_CALENDAR_EVENT_INVITATION=3201]="PUSH_CALENDAR_EVENT_INVITATION",e[e.REPLY_CALENDAR_EVENT_INVITATION=3202]="REPLY_CALENDAR_EVENT_INVITATION",e[e.PUSH_CALENDAR_EVENT_REMINDER=3203]="PUSH_CALENDAR_EVENT_REMINDER",e[e.PUSH_CALENDAR_EVENT_SYNC_NOTIFICATION=3204]="PUSH_CALENDAR_EVENT_SYNC_NOTIFICATION",e[e.PUSH_CALENDAR_SYNC_NOTIFICATION=3205]="PUSH_CALENDAR_SYNC_NOTIFICATION",e[e.PUSH_CALENDAR_AND_EVENT_SYNC_NOTIFICATION=3206]="PUSH_CALENDAR_AND_EVENT_SYNC_NOTIFICATION",e[e.ADD_CALENDAR_LOCATION_HISTORY=3207]="ADD_CALENDAR_LOCATION_HISTORY",e[e.GET_CALENDAR_LOCATION_HISTORIES=3208]="GET_CALENDAR_LOCATION_HISTORIES",e[e.PUSH_CALENDAR_BIND_GOOGLE_NOTIFICATION=3210]="PUSH_CALENDAR_BIND_GOOGLE_NOTIFICATION",e[e.PUSH_CALENDAR_SETTINGS_CHANGE_NOTIFICATION=3211]="PUSH_CALENDAR_SETTINGS_CHANGE_NOTIFICATION",e[e.PUSH_MEETING_NOTIFICATION=3212]="PUSH_MEETING_NOTIFICATION",e[e.PUSH_CALENDAR_EVENT_CHANGED_NOTIFICATION=3213]="PUSH_CALENDAR_EVENT_CHANGED_NOTIFICATION",e[e.PUSH_MEETING_ROOM_VIEW_CALENDARS_NOTIFICATION=3214]="PUSH_MEETING_ROOM_VIEW_CALENDARS_NOTIFICATION",e[e.PUSH_MEETING_ROOM_VIEW_INSTANCES_CHANGED_NOTIFICATION=3215]="PUSH_MEETING_ROOM_VIEW_INSTANCES_CHANGED_NOTIFICATION",e[e.PUSH_CALENDAR_EVENT_REFRESH_NOTIFICATION=3216]="PUSH_CALENDAR_EVENT_REFRESH_NOTIFICATION",e[e.PUSH_MEETING_ROOM_VIEW_INSTANCES_PULLED_NOTIFICATION=3217]="PUSH_MEETING_ROOM_VIEW_INSTANCES_PULLED_NOTIFICATION",e[e.PUSH_MEETING_ROOM_VIEW_CALENDAR_EVENT_SYNC_NOTIFICATION=3218]="PUSH_MEETING_ROOM_VIEW_CALENDAR_EVENT_SYNC_NOTIFICATION",e[e.PUSH_REMINDER_CLOSED_NOTIFICATION=3219]="PUSH_REMINDER_CLOSED_NOTIFICATION",e[e.PUSH_MEETING_MINUTE_EDITORS=3221]="PUSH_MEETING_MINUTE_EDITORS",e[e.PUSH_SCROLL_CLOSED_NOTIFICATION=3222]="PUSH_SCROLL_CLOSED_NOTIFICATION",e[e.PUSH_EVENT_SHARE_TO_CHAT_NOTIFICATION=3223]="PUSH_EVENT_SHARE_TO_CHAT_NOTIFICATION",e[e.PUSH_CALENDAR_EXTERNAL_ACCOUNTS_CHANGE_NOTIFICATION=3224]="PUSH_CALENDAR_EXTERNAL_ACCOUNTS_CHANGE_NOTIFICATION",e[e.PUSH_GOOGLE_BIND_SETTING_NOTIFICATION=3225]="PUSH_GOOGLE_BIND_SETTING_NOTIFICATION",e[e.PUSH_CALENDAR_EVENT_VIDEO_MEETING_CHANGE=3226]="PUSH_CALENDAR_EVENT_VIDEO_MEETING_CHANGE",e[e.UPDATE_MAIL_DRAFT=3501]="UPDATE_MAIL_DRAFT",e[e.GET_MESSAGE_BY_THREAD_ID=3503]="GET_MESSAGE_BY_THREAD_ID",e[e.PUSH_MAIL_CHANGES=3504]="PUSH_MAIL_CHANGES",e[e.PUSH_MAIL_SETTING=3506]="PUSH_MAIL_SETTING",e[e.PUSH_MAIL_OAUTH_STATUS=3507]="PUSH_MAIL_OAUTH_STATUS",e[e.MAIL_NOTIFICATION_SETTINGS_PUSH=3508]="MAIL_NOTIFICATION_SETTINGS_PUSH",e[e.MAIL_GET_RAW_MESSAGE=3515]="MAIL_GET_RAW_MESSAGE",e[e.INIT_SYNC=3600]="INIT_SYNC",e[e.DELETE_MAIL_DRAFT=3601]="DELETE_MAIL_DRAFT",e[e.MAIL_GET_MESSAGE_LIST_FROM_DB=3602]="MAIL_GET_MESSAGE_LIST_FROM_DB",e[e.MAIL_GET_THREAD_LIST=3603]="MAIL_GET_THREAD_LIST",e[e.MAIL_CREATE_FORWARD_MESSAGE_DRAFT=3604]="MAIL_CREATE_FORWARD_MESSAGE_DRAFT",e[e.MAIL_GET_MESSAGE_LIST_FROM_NET=3605]="MAIL_GET_MESSAGE_LIST_FROM_NET",e[e.MAIL_CREATE_DRAFT=3606]="MAIL_CREATE_DRAFT",e[e.MAIL_UPDATE_DRAFT=3607]="MAIL_UPDATE_DRAFT",e[e.MAIL_MULTI_THREADS_DELETE_PERMANENTLY=3608]="MAIL_MULTI_THREADS_DELETE_PERMANENTLY",e[e.MAIL_SEND_DRAFT=3609]="MAIL_SEND_DRAFT",e[e.MAIL_SEARCH_SHARE_MEMBER=3610]="MAIL_SEARCH_SHARE_MEMBER",e[e.MAIL_GET_MESSAGE_ITEM=3611]="MAIL_GET_MESSAGE_ITEM",e[e.MAIL_GET_DRAFT_ITEM=3612]="MAIL_GET_DRAFT_ITEM",e[e.MAIL_GET_LABELS=3613]="MAIL_GET_LABELS",e[e.MAIL_ADD_LABEL_REQUEST=3614]="MAIL_ADD_LABEL_REQUEST",e[e.MAIL_UPDATE_LABEL_REQUEST=3615]="MAIL_UPDATE_LABEL_REQUEST",e[e.MAIL_DELETE_LABEL_REQUEST=3616]="MAIL_DELETE_LABEL_REQUEST",e[e.MAIL_MUT_THREAD_LABEL_REQUEST=3617]="MAIL_MUT_THREAD_LABEL_REQUEST",e[e.MAIL_UPDATE_THREAD_STATUS_REQUEST=3618]="MAIL_UPDATE_THREAD_STATUS_REQUEST",e[e.MAIL_CHANGE_PUSH=3619]="MAIL_CHANGE_PUSH",e[e.MAIL_GET_LARGE_FILE_CAN_SHARE_TO_EXTERNAL=3620]="MAIL_GET_LARGE_FILE_CAN_SHARE_TO_EXTERNAL",e[e.MAIL_UPDATE_MESSAGE_STATUS_REQUEST=3621]="MAIL_UPDATE_MESSAGE_STATUS_REQUEST",e[e.MAIL_MUT_MESSAGE_LABEL_REQUEST=3622]="MAIL_MUT_MESSAGE_LABEL_REQUEST",e[e.MAIL_SORT_LABEL_REQUEST=3623]="MAIL_SORT_LABEL_REQUEST",e[e.MAIL_SEND_CARD_REQUEST=3624]="MAIL_SEND_CARD_REQUEST",e[e.MAIL_DELETE_LARGE_FILE=3625]="MAIL_DELETE_LARGE_FILE",e[e.MAIL_GET_MULTI_THREAD_ITEMS=3626]="MAIL_GET_MULTI_THREAD_ITEMS",e[e.MAIL_TRANSLATE_MESSAGES=3627]="MAIL_TRANSLATE_MESSAGES",e[e.MAIL_ADD_COLLABORATORS=3628]="MAIL_ADD_COLLABORATORS",e[e.MAIL_GET_MESSAGE_FULL_BODY=3629]="MAIL_GET_MESSAGE_FULL_BODY",e[e.MAIL_GET_SMART_REPLY=3630]="MAIL_GET_SMART_REPLY",e[e.MAIL_DRAFT_APPEND_LARGE_ATTACHMENT=3631]="MAIL_DRAFT_APPEND_LARGE_ATTACHMENT",e[e.MAIL_GET_TENANT_DOMAINS=3632]="MAIL_GET_TENANT_DOMAINS",e[e.MAIL_EDIT_MESSAGE=3633]="MAIL_EDIT_MESSAGE",e[e.MAIL_GET_LABEL_THREADS_COUNT=3634]="MAIL_GET_LABEL_THREADS_COUNT",e[e.MAIL_SELECT_ALL=3635]="MAIL_SELECT_ALL",e[e.MAIL_GET_USER_ENGAGEMENT_SETTINGS=3649]="MAIL_GET_USER_ENGAGEMENT_SETTINGS",e[e.MAIL_AT_CONTACT_SEARCH=3650]="MAIL_AT_CONTACT_SEARCH",e[e.MAIL_SIMPLE_SEARCH_REQUEST=3651]="MAIL_SIMPLE_SEARCH_REQUEST",e[e.MAIL_SIMPLE_SEARCH_RESPONSE=3652]="MAIL_SIMPLE_SEARCH_RESPONSE",e[e.MAIL_SEARCH_HISTORY_REQUEST=3653]="MAIL_SEARCH_HISTORY_REQUEST",e[e.MAIL_GET_SETTINGS=3654]="MAIL_GET_SETTINGS",e[e.MAIL_UPDATE_SETTINGS=3655]="MAIL_UPDATE_SETTINGS",e[e.MAIL_UPDATE_OUTBOX_ACTION_REQUEST=3656]="MAIL_UPDATE_OUTBOX_ACTION_REQUEST",e[e.MAIL_GET_FORWARD_MESSAGE_LIST_FROM_DB=3657]="MAIL_GET_FORWARD_MESSAGE_LIST_FROM_DB",e[e.MAIL_GET_FORWARD_MESSAGE_LIST_FROM_NET=3658]="MAIL_GET_FORWARD_MESSAGE_LIST_FROM_NET",e[e.MAIL_GET_CALENDAR_EVENT=3659]="MAIL_GET_CALENDAR_EVENT",e[e.MAIL_RSVP_CALENDAR_EVENT=3660]="MAIL_RSVP_CALENDAR_EVENT",e[e.MAIL_CONTACT_SEARCH=3661]="MAIL_CONTACT_SEARCH",e[e.MAIL_GET_SHARE_THREAD_OWNER_INFO=3662]="MAIL_GET_SHARE_THREAD_OWNER_INFO",e[e.MAIL_GET_THREAD_ITEM=3669]="MAIL_GET_THREAD_ITEM",e[e.MAIL_GET_MIGRATION_DETAILS=3670]="MAIL_GET_MIGRATION_DETAILS",e[e.MAIL_UPDATE_USER_ENGAGEMENT_SETTINGS=3671]="MAIL_UPDATE_USER_ENGAGEMENT_SETTINGS",e[e.MAIL_SET_ALL_READ=3672]="MAIL_SET_ALL_READ",e[e.MAIL_GET_LABEL_THREADS_ENOUGH=3673]="MAIL_GET_LABEL_THREADS_ENOUGH",e[e.MAIL_GET_DOCS_BY_URLS=3674]="MAIL_GET_DOCS_BY_URLS",e[e.MAIL_GET_THREAD_COLLABORATORS_INFO=3675]="MAIL_GET_THREAD_COLLABORATORS_INFO",e[e.MAIL_CREATE_SHARE_THREAD=3676]="MAIL_CREATE_SHARE_THREAD",e[e.MAIL_UPDATE_COLLABORATORS_ROLE=3677]="MAIL_UPDATE_COLLABORATORS_ROLE",e[e.MAIL_CANCEL_SHARE_THREAD=3678]="MAIL_CANCEL_SHARE_THREAD",e[e.MAIL_MUT_MULTI_LABEL_REQUEST=3679]="MAIL_MUT_MULTI_LABEL_REQUEST",e[e.MAIL_GET_USER_MAIL_CONFIG=3680]="MAIL_GET_USER_MAIL_CONFIG",e[e.MAIL_REPLY_CALENDAR_EVENT=3681]="MAIL_REPLY_CALENDAR_EVENT",e[e.MAIL_GET_SHARE_THREAD_INFO=3682]="MAIL_GET_SHARE_THREAD_INFO",e[e.MAIL_GET_MESSAGES_BY_THREAD_IDS_FOR_SEARCH=3684]="MAIL_GET_MESSAGES_BY_THREAD_IDS_FOR_SEARCH",e[e.MAIL_CREATE_DOC=3685]="MAIL_CREATE_DOC",e[e.MAIL_CREATE_SHARE_DRAFT=3686]="MAIL_CREATE_SHARE_DRAFT",e[e.MAIL_ADVANCED_SEARCH_REQUEST=3687]="MAIL_ADVANCED_SEARCH_REQUEST",e[e.MAIL_DELETE_MULTI_DRAFT=3689]="MAIL_DELETE_MULTI_DRAFT",e[e.MAIL_ENABLE_RULE=3690]="MAIL_ENABLE_RULE",e[e.MAIL_UPDATE_RULE=3691]="MAIL_UPDATE_RULE",e[e.MAIL_PREVIEW_RULE=3692]="MAIL_PREVIEW_RULE",e[e.MAIL_GET_RULES=3693]="MAIL_GET_RULES",e[e.MAIL_CREATE_RULE=3694]="MAIL_CREATE_RULE",e[e.MAIL_DELETE_RULE=3695]="MAIL_DELETE_RULE",e[e.MAIL_APPLY_RULE=3696]="MAIL_APPLY_RULE",e[e.MAIL_ADJUST_RULE_ORDER=3697]="MAIL_ADJUST_RULE_ORDER",e[e.MAIL_UPDATE_CLIENT_TAB_SETTING=3698]="MAIL_UPDATE_CLIENT_TAB_SETTING",e[e.MAIL_NOTICE_CLIENT_EVENT_REQUEST=3699]="MAIL_NOTICE_CLIENT_EVENT_REQUEST",e[e.MAIL_UNREAD_THREAD_COUNT_CHANGE_PUSH=3701]="MAIL_UNREAD_THREAD_COUNT_CHANGE_PUSH",e[e.MAIL_OUTBOX_SEND_STATE_CHANGE=3702]="MAIL_OUTBOX_SEND_STATE_CHANGE",e[e.MAIL_GET_OAUTH_URL=3703]="MAIL_GET_OAUTH_URL",e[e.MAIL_GET_TAB_ADN_SETTING_STATUS=3704]="MAIL_GET_TAB_ADN_SETTING_STATUS",e[e.MAIL_TAB_AND_SETTING_PUSH=3705]="MAIL_TAB_AND_SETTING_PUSH",e[e.MAIL_CHANGE_ASYNC_RESULT=3706]="MAIL_CHANGE_ASYNC_RESULT",e[e.MAIL_REFRESH_THREAD_LIST=3708]="MAIL_REFRESH_THREAD_LIST",e[e.MAIL_GET_NETWORK_SETTINGS=3709]="MAIL_GET_NETWORK_SETTINGS",e[e.MAIL_CLIENT_START=3710]="MAIL_CLIENT_START",e[e.MAIL_MOVE_MULTI_LABEL_REQUEST=3711]="MAIL_MOVE_MULTI_LABEL_REQUEST",e[e.MAIL_GET_NOTIFICATION_SETTINGS=3712]="MAIL_GET_NOTIFICATION_SETTINGS",e[e.MAIL_SET_NOTIFICATION_SETTINGS=3713]="MAIL_SET_NOTIFICATION_SETTINGS",e[e.MAIL_GET_SMART_INBOX_PREVIEW_CARD=3714]="MAIL_GET_SMART_INBOX_PREVIEW_CARD",e[e.MAIL_GET_CUSTOMIZED_FEATURE_GATING_CONFIG=3715]="MAIL_GET_CUSTOMIZED_FEATURE_GATING_CONFIG",e[e.MAIL_UPDATE_CUSTOMIZED_FEATURE_GATING_CONFIG=3716]="MAIL_UPDATE_CUSTOMIZED_FEATURE_GATING_CONFIG",e[e.MAIL_RESET_CUSTOMIZED_FEATURE_GATING_CONFIG=3717]="MAIL_RESET_CUSTOMIZED_FEATURE_GATING_CONFIG",e[e.MAIL_USER_ENGAGEMENT_PUSH=3718]="MAIL_USER_ENGAGEMENT_PUSH",e[e.MAIL_GET_UNREAD_COUNT=3719]="MAIL_GET_UNREAD_COUNT",e[e.MAIL_RECALL=3720]="MAIL_RECALL",e[e.MAIL_GET_RECALL_DETAIL=3721]="MAIL_GET_RECALL_DETAIL";e[e.MAIL_STATISTICS_AGGREGATION=3722]="MAIL_STATISTICS_AGGREGATION",e[e.MAIL_IMAP_MIGRATION_GET_STATE=3730]="MAIL_IMAP_MIGRATION_GET_STATE",e[e.MAIL_IMAP_MIGRATION_LOGIN=3731]="MAIL_IMAP_MIGRATION_LOGIN",e[e.MAIL_IMAP_MIGRATION_STATE_PUSH=3732]="MAIL_IMAP_MIGRATION_STATE_PUSH",e[e.MAIL_IMAP_MIGRATION_GET_OLDEST_MESSAGE=3733]="MAIL_IMAP_MIGRATION_GET_OLDEST_MESSAGE",e[e.MAIL_IMAP_MIGRATION_GIVE_UP=3734]="MAIL_IMAP_MIGRATION_GIVE_UP",e[e.MAIL_IMAP_MIGRATION_REFRESH_PUSH=3735]="MAIL_IMAP_MIGRATION_REFRESH_PUSH",e[e.MAIL_SHARED_ACCOUNT_CHANGE_PUSH=3736]="MAIL_SHARED_ACCOUNT_CHANGE_PUSH",e[e.MAIL_GET_ACCOUNT_LIST=3737]="MAIL_GET_ACCOUNT_LIST",e[e.MAIL_SWITCH_ACCOUNT=3738]="MAIL_SWITCH_ACCOUNT",e[e.MAIL_GET_CLIENT_KV_CACHE=3739]="MAIL_GET_CLIENT_KV_CACHE",e[e.MAIL_UPDATE_CLIENT_KV_CACHE=3740]="MAIL_UPDATE_CLIENT_KV_CACHE",e[e.MAIL_CLIENT_KV_CHANGE_PUSH=3741]="MAIL_CLIENT_KV_CHANGE_PUSH",e[e.MAIL_GET_IS_SMART_INBOX_TARGET_USER=3742]="MAIL_GET_IS_SMART_INBOX_TARGET_USER",e[e.GET_NEW_BOX_FEED_CARDS=3800]="GET_NEW_BOX_FEED_CARDS",e[e.CLEAN_NEW_BOX_FEED_CARDS=3801]="CLEAN_NEW_BOX_FEED_CARDS",e[e.PUT_USER_COLD_BOOT=3802]="PUT_USER_COLD_BOOT",e[e.GET_ALL_BADGE=3820]="GET_ALL_BADGE",e[e.SUBSCRIBE_FEED_PUSH_SCENE=3821]="SUBSCRIBE_FEED_PUSH_SCENE",e[e.CHECK_UNREGISTER=4e3]="CHECK_UNREGISTER",e[e.VERIFY_PASSWORD=4001]="VERIFY_PASSWORD",e[e.GET_CONTACT=4002]="GET_CONTACT",e[e.GET_AUTH_CODE=4003]="GET_AUTH_CODE",e[e.VERIFY_AUTH_CODE=4004]="VERIFY_AUTH_CODE",e[e.CONFIRM_UNREGISTER=4005]="CONFIRM_UNREGISTER",e[e.GET_USER_SESSION_KEYS=4006]="GET_USER_SESSION_KEYS",e[e.ADD_SPELL_CHECK_WORDS=4007]="ADD_SPELL_CHECK_WORDS",e[e.PULL_SPELL_CHECK_WORDS=4008]="PULL_SPELL_CHECK_WORDS",e[e.READ_CHAT_ANNOUNCEMENT=4100]="READ_CHAT_ANNOUNCEMENT",e[e.GET_MESSAGE_ACTION_PAYLOAD=4101]="GET_MESSAGE_ACTION_PAYLOAD",e[e.PATCH_CHAT_SHARE_STATUS=4102]="PATCH_CHAT_SHARE_STATUS",e[e.PULL_CHAT_SHARE_HISTORY=4103]="PULL_CHAT_SHARE_HISTORY",e[e.PUT_CHAT_SHARE_HISTORY=4104]="PUT_CHAT_SHARE_HISTORY",e[e.GET_THREAD_FILTERS=4105]="GET_THREAD_FILTERS",e[e.GET_FILTERED_THREADS=4106]="GET_FILTERED_THREADS",e[e.GET_RECOMMENDATIONS_BY_USER=4107]="GET_RECOMMENDATIONS_BY_USER",e[e.SUBSCRIBE_THREAD_TAB=4108]="SUBSCRIBE_THREAD_TAB",e[e.GET_MY_TOPIC_GROUPS=4109]="GET_MY_TOPIC_GROUPS",e[e.GET_TOPIC_GROUPS_TO_POST=4110]="GET_TOPIC_GROUPS_TO_POST",e[e.GET_RECOMMENDED_TOPIC_GROUPS=4111]="GET_RECOMMENDED_TOPIC_GROUPS",e[e.UPDATE_TOPICS_ME_READ=4112]="UPDATE_TOPICS_ME_READ",e[e.UNINTEREST_TOPIC_GROUP_FOR_USER=4113]="UNINTEREST_TOPIC_GROUP_FOR_USER",e[e.UNINTEREST_TOPIC_FOR_USER=4114]="UNINTEREST_TOPIC_FOR_USER",e[e.UNINTEREST_USER_FOR_USER=4115]="UNINTEREST_USER_FOR_USER",e[e.CREATE_QUASI_TOPIC=4122]="CREATE_QUASI_TOPIC",e[e.GET_CHAT_JOIN_LEAVE_HISTORY=4123]="GET_CHAT_JOIN_LEAVE_HISTORY",e[e.GET_TOPIC_GROUPS=4124]="GET_TOPIC_GROUPS",e[e.GET_DRAFT_BY_EDITOR=4125]="GET_DRAFT_BY_EDITOR",e[e.GET_TOPIC_GROUP_TAB_BADGE=4126]="GET_TOPIC_GROUP_TAB_BADGE",e[e.PUSH_TOPIC_GROUPS=4127]="PUSH_TOPIC_GROUPS",e[e.CREATE_TOPIC_GROUP=4128]="CREATE_TOPIC_GROUP",e[e.REGISTER_TOPIC_GROUP_FAVORITE=4129]="REGISTER_TOPIC_GROUP_FAVORITE",e[e.CANCEL_TOPIC_GROUP_FAVORITE=4130]="CANCEL_TOPIC_GROUP_FAVORITE",e[e.ADD_TOPIC_GROUP_MEMBER=4131]="ADD_TOPIC_GROUP_MEMBER",e[e.CANCEL_SEND_MESSAGE=4132]="CANCEL_SEND_MESSAGE",e[e.GET_DYNAMIC_FLOW=4200]="GET_DYNAMIC_FLOW",e[e.GET_DYNAMIC_FLOW_STEP=4201]="GET_DYNAMIC_FLOW_STEP",e[e.REPORT_FLOW_EVENT=4202]="REPORT_FLOW_EVENT",e[e.PUSH_MESSAGES=5e3]="PUSH_MESSAGES",e[e.PUSH_CHAT_CHATTERS=5001]="PUSH_CHAT_CHATTERS",e[e.PUSH_FEED_CARDS=5002]="PUSH_FEED_CARDS",e[e.PUSH_CHATS=5003]="PUSH_CHATS",e[e.PUSH_NOTICE=5004]="PUSH_NOTICE",e[e.PUSH_WEB_SOCKET_STATUS=5005]="PUSH_WEB_SOCKET_STATUS",e[e.PUSH_UPLOAD_FILE=5006]="PUSH_UPLOAD_FILE",e[e.PUSH_UPLOAD_IMAGE=5007]="PUSH_UPLOAD_IMAGE",e[e.PUSH_UPLOAD_AUDIO=5008]="PUSH_UPLOAD_AUDIO",e[e.PUSH_EMAIL_MEMBERS=5009]="PUSH_EMAIL_MEMBERS",e[e.PUSH_CHATTERS=5010]="PUSH_CHATTERS",e[e.PUSH_DOWNLOAD_FILE=5011]="PUSH_DOWNLOAD_FILE",e[e.PUSH_RECONNECTION=5012]="PUSH_RECONNECTION",e[e.PUSH_URGENT=5013]="PUSH_URGENT",e[e.PUSH_STICKERS=5014]="PUSH_STICKERS",e[e.PUSH_SHORTCUTS=5015]="PUSH_SHORTCUTS",e[e.PUSH_DEVICE_NOTIFY_SETTING=5016]="PUSH_DEVICE_NOTIFY_SETTING",e[e.PUSH_SESSION_EXPIRED=5017]="PUSH_SESSION_EXPIRED",e[e.PUSH_EMAILS=5018]="PUSH_EMAILS",e[e.PUSH_RESOURCE=5019]="PUSH_RESOURCE",e[e.PUSH_E2EE_VOICE_CALL=5020]="PUSH_E2EE_VOICE_CALL",e[e.PUSH_DOC_FEEDS=5021]="PUSH_DOC_FEEDS",e[e.PUSH_SAVE_TO_NUT_STORE_STATE=5022]="PUSH_SAVE_TO_NUT_STORE_STATE",e[e.PUSH_DEVICE_ONLINE_STATUS=5023]="PUSH_DEVICE_ONLINE_STATUS",e[e.PUSH_INBOX_CARDS=5024]="PUSH_INBOX_CARDS",e[e.PUSH_INIT_SDK=5025]="PUSH_INIT_SDK",e[e.PUSH_HIDE_CHANNEL=5026]="PUSH_HIDE_CHANNEL",e[e.PUSH_RESOURCE_PROGRESS=5027]="PUSH_RESOURCE_PROGRESS",e[e.PUSH_THREADS=5028]="PUSH_THREADS",e[e.PUSH_CHAT_APPLICATIONS=5030]="PUSH_CHAT_APPLICATIONS",e[e.PUSH_CONTACT_TOKEN=5031]="PUSH_CONTACT_TOKEN",e[e.PUSH_CONTACT=5032]="PUSH_CONTACT",e[e.PUSH_CONTACT_SETTING=5033]="PUSH_CONTACT_SETTING",e[e.PUSH_CHAT_APPLICATION_BADGE=5034]="PUSH_CHAT_APPLICATION_BADGE",e[e.PUSH_DELETED_RESOURCES=5035]="PUSH_DELETED_RESOURCES",e[e.PUSH_FEATURE_GATING=5036]="PUSH_FEATURE_GATING",e[e.PUSH_USER_SECURITY_CONFIG=5037]="PUSH_USER_SECURITY_CONFIG",e[e.PUSH_SERVICE_PACKET=5038]="PUSH_SERVICE_PACKET",e[e.PUSH_STATISTICS_DATA=5039]="PUSH_STATISTICS_DATA",e[e.PUSH_ACCOUNT_USER_LIST=5040]="PUSH_ACCOUNT_USER_LIST",e[e.PUSH_UNREAD_BADGE_FOR_RELATED_USERS=5041]="PUSH_UNREAD_BADGE_FOR_RELATED_USERS",e[e.PUSH_CHANNEL_NICKNAME=5042]="PUSH_CHANNEL_NICKNAME",e[e.PUSH_OP_APP_CENTER_UPDATE=5044]="PUSH_OP_APP_CENTER_UPDATE",e[e.PUSH_OP_MALAITA_UPDATE=5045]="PUSH_OP_MALAITA_UPDATE",e[e.PUSH_DYNAMIC_NET_STATUS=5046]="PUSH_DYNAMIC_NET_STATUS",e[e.PUSH_PRODUCT_GUIDE=5047]="PUSH_PRODUCT_GUIDE",e[e.PUSH_LOG_UPLOAD=5048]="PUSH_LOG_UPLOAD",e[e.PUSH_PIN_READ_STATUS=5049]="PUSH_PIN_READ_STATUS",e[e.PUSH_OP_APP_CENTER_UPDATE_V2=5050]="PUSH_OP_APP_CENTER_UPDATE_V2",e[e.PUSH_LOAD_FEED_CARDS_STATUS=5051]="PUSH_LOAD_FEED_CARDS_STATUS",e[e.PUSH_FEED_CURSOR=5052]="PUSH_FEED_CURSOR",e[e.PUSH_CARD_MESSAGE_ID=5053]="PUSH_CARD_MESSAGE_ID",e[e.PUSH_USER_REACTIONS=5054]="PUSH_USER_REACTIONS",e[e.PUSH_USER_SETTING=5055]="PUSH_USER_SETTING",e[e.PUSH_AUDIO_RECOGNITION_RESULT=5056]="PUSH_AUDIO_RECOGNITION_RESULT",e[e.PUSH_LARK_APP_STATE=5057]="PUSH_LARK_APP_STATE",e[e.PUSH_ACCOUNT_UNREGISTER_USER_EVENT=5058]="PUSH_ACCOUNT_UNREGISTER_USER_EVENT",e[e.PUSH_URL_FETCH=5059]="PUSH_URL_FETCH",e[e.PUSH_INIT_SETTINGS=5060]="PUSH_INIT_SETTINGS",e[e.PUSH_APP_CONFIG=5061]="PUSH_APP_CONFIG",e[e.PUSH_TRAY_SUMMARY=5062]="PUSH_TRAY_SUMMARY",e[e.PUSH_RECOMMENDED_SPOTLIGHT=5063]="PUSH_RECOMMENDED_SPOTLIGHT",e[e.PUSH_SPELL_CHECK_WORDS=5064]="PUSH_SPELL_CHECK_WORDS",e[e.PUSH_MESSAGES_V2=5065]="PUSH_MESSAGES_V2",e[e.PUSH_OFFLINE_UPDATED_CHATS=5066]="PUSH_OFFLINE_UPDATED_CHATS",e[e.PUSH_LOAD_ALL_FEED_CARDS_FINISHED=5067]="PUSH_LOAD_ALL_FEED_CARDS_FINISHED",e[e.PUSH_CLEAN_BOX_FEED_CARDS=5068]="PUSH_CLEAN_BOX_FEED_CARDS",e[e.PUSH_THREADS_TO_INDIVIDUAL_TAB=5069]="PUSH_THREADS_TO_INDIVIDUAL_TAB",e[e.PUSH_MESSAGES_TO_INDIVIDUAL_TAB=5070]="PUSH_MESSAGES_TO_INDIVIDUAL_TAB",e[e.PUSH_APP_FEED=5071]="PUSH_APP_FEED",e[e.PUSH_BACKGROUND_NOTIFICATION=5072]="PUSH_BACKGROUND_NOTIFICATION",e[e.PUSH_CUSTOMIZED_STICKERS=5080]="PUSH_CUSTOMIZED_STICKERS",e[e.PUSH_TOPIC_GROUP_TAB_BADGE=5081]="PUSH_TOPIC_GROUP_TAB_BADGE",e[e.PUSH_THREAD_FEED_AVATAR_CHANGES=5082]="PUSH_THREAD_FEED_AVATAR_CHANGES",e[e.PUSH_NOTIFICATION=5083]="PUSH_NOTIFICATION",e[e.PUSH_CHAT_TIME_TIP_NOTICE=5084]="PUSH_CHAT_TIME_TIP_NOTICE",e[e.PUSH_PRELOAD_UPDATED_CHATS=5085]="PUSH_PRELOAD_UPDATED_CHATS",e[e.PUSH_MESSAGE_REACTIONS=5090]="PUSH_MESSAGE_REACTIONS",e[e.PUSH_MESSAGE_READ_STATES=5091]="PUSH_MESSAGE_READ_STATES",e[e.PUSH_USER_SIDEBAR=5092]="PUSH_USER_SIDEBAR",e[e.GET_USER_SIDEBAR=5093]="GET_USER_SIDEBAR",e[e.PUSH_DATA_CORRUPT=5098]="PUSH_DATA_CORRUPT",e[e.UPDATE_URL_PREVIEW=5099]="UPDATE_URL_PREVIEW",e[e.TRIGGER_NETWORK_DIAGNOSE=5100]="TRIGGER_NETWORK_DIAGNOSE",e[e.PUSH_MINIPROGRAM_UPDATE=5101]="PUSH_MINIPROGRAM_UPDATE",e[e.GET_SETTINGS=5102]="GET_SETTINGS",e[e.PUSH_SETTINGS=5103]="PUSH_SETTINGS",e[e.GET_PC_COMMON_SETTING=5104]="GET_PC_COMMON_SETTING",e[e.SET_PC_COMMON_SETTING=5105]="SET_PC_COMMON_SETTING",e[e.PUSH_OPEN_COMMON=5106]="PUSH_OPEN_COMMON",e[e.GET_EMERGENCY_CALL_NUMBER=5107]="GET_EMERGENCY_CALL_NUMBER",e[e.SET_EMERGENCY_CALL_REASON=5108]="SET_EMERGENCY_CALL_REASON",e[e.GET_NAVIGATION=5109]="GET_NAVIGATION",e[e.SEND_NAVIGATION_CONFIRM=5110]="SEND_NAVIGATION_CONFIRM",e[e.PUSH_MINIPROGRAM_PREVIEW=5111]="PUSH_MINIPROGRAM_PREVIEW",e[e.GET_PHONE_NUMBER_INFO=5112]="GET_PHONE_NUMBER_INFO",e[e.GADGET_DEV_TOOL_COMMON_PUSH=5113]="GADGET_DEV_TOOL_COMMON_PUSH",e[e.GADGET_COMMON_PUSH=5114]="GADGET_COMMON_PUSH",e[e.SET_USER_NAME=5200]="SET_USER_NAME",e[e.GET_USER_UPDATE_NAME_PERMISSION=5201]="GET_USER_UPDATE_NAME_PERMISSION",e[e.SPIN_UP_FRONTIER=5202]="SPIN_UP_FRONTIER",e[e.SET_IN_OFFLINE_MODE=5203]="SET_IN_OFFLINE_MODE",e[e.SET_DATA_DISPLAY_WEIGHT=5204]="SET_DATA_DISPLAY_WEIGHT",e[e.BATCH_TRANSMIT=5205]="BATCH_TRANSMIT",e[e.SUITE_DRIVE_DOWNLOAD=6e3]="SUITE_DRIVE_DOWNLOAD",e[e.SUITE_DRIVE_DOWNLOAD_NORMAL=6001]="SUITE_DRIVE_DOWNLOAD_NORMAL",e[e.SUITE_DRIVE_RESUME_DOWNLOAD=6002]="SUITE_DRIVE_RESUME_DOWNLOAD",e[e.SUITE_DRIVE_CANCEL_DOWNLOAD=6003]="SUITE_DRIVE_CANCEL_DOWNLOAD",e[e.SUITE_DRIVE_PUSH_DOWNLOAD_PROCESS=6004]="SUITE_DRIVE_PUSH_DOWNLOAD_PROCESS",e[e.SUITE_DRIVE_UPLOAD=6005]="SUITE_DRIVE_UPLOAD",e[e.SUITE_DRIVE_CANCEL_UPLOAD=6006]="SUITE_DRIVE_CANCEL_UPLOAD",e[e.SUITE_DRIVE_RESUME_UPLOAD=6007]="SUITE_DRIVE_RESUME_UPLOAD",e[e.SUITE_DRIVE_CANCEL_ALL_UPLOAD=6008]="SUITE_DRIVE_CANCEL_ALL_UPLOAD",e[e.SUITE_DRIVE_RESUME_ALL_UPLOAD=6009]="SUITE_DRIVE_RESUME_ALL_UPLOAD",e[e.SUITE_DRIVE_UPLOAD_LIST=6010]="SUITE_DRIVE_UPLOAD_LIST",e[e.SUITE_DRIVE_DELETE_UPLOAD=6011]="SUITE_DRIVE_DELETE_UPLOAD",e[e.SUITE_DRIVE_UPLOAD_COUNT=6012]="SUITE_DRIVE_UPLOAD_COUNT",e[e.SUITE_DRIVE_UPLOAD_QUEUE_COUNT=6013]="SUITE_DRIVE_UPLOAD_QUEUE_COUNT",e[e.SUITE_DRIVE_PUSH_UPLOAD_PROGRESS=6014]="SUITE_DRIVE_PUSH_UPLOAD_PROGRESS",e[e.SUITE_DRIVE_GET_FILE_DATA=6015]="SUITE_DRIVE_GET_FILE_DATA",e[e.SUITE_DRIVE_PUSH_MONITOR_EVENT=6016]="SUITE_DRIVE_PUSH_MONITOR_EVENT",e[e.SUITE_DRIVE_INIT_DRIVE=6017]="SUITE_DRIVE_INIT_DRIVE",e[e.SUITE_DRIVE_CANCEL_ALL=6018]="SUITE_DRIVE_CANCEL_ALL",e[e.SUITE_DRIVE_CHANGE_PRIORITY=6019]="SUITE_DRIVE_CHANGE_PRIORITY",e[e.SUITE_DRIVE_SET_SCENE_MODE=6020]="SUITE_DRIVE_SET_SCENE_MODE",e[e.SUITE_DRIVE_MULTI_DOWNLOAD=6021]="SUITE_DRIVE_MULTI_DOWNLOAD",e[e.SUITE_DRIVE_SUBSCRIBE_RECENT_LIST=6022]="SUITE_DRIVE_SUBSCRIBE_RECENT_LIST",e[e.SUITE_DRIVE_SUBSCRIBE_PUSH=6023]="SUITE_DRIVE_SUBSCRIBE_PUSH",e[e.SUITE_DRIVE_CANCEL_SUBSCRIBE_RECENT_LIST=6024]="SUITE_DRIVE_CANCEL_SUBSCRIBE_RECENT_LIST",e[e.SUITE_DRIVE_SUBSCRIBE_FOLDER_LIST=6025]="SUITE_DRIVE_SUBSCRIBE_FOLDER_LIST",e[e.SUITE_DRIVE_CANCEL_SUBSCRIBE_FOLDER_LIST=6026]="SUITE_DRIVE_CANCEL_SUBSCRIBE_FOLDER_LIST",e[e.SUITE_DRIVE_SUBSCRIBE_ERR_PUSH=6027]="SUITE_DRIVE_SUBSCRIBE_ERR_PUSH",e[e.SUITE_DRIVE_ADD_SUBSCRIBE_RECENT_LIST=6028]="SUITE_DRIVE_ADD_SUBSCRIBE_RECENT_LIST",e[e.UNIMPLEMENT_COMMANDS=6999]="UNIMPLEMENT_COMMANDS",e[e.SET_APP_NOTIFICATION_READ=7e3]="SET_APP_NOTIFICATION_READ",e[e.SET_APP_NOTIFICATION_SWITCH=7001]="SET_APP_NOTIFICATION_SWITCH",e[e.GET_APP_FEED=7002]="GET_APP_FEED",e[e.GET_UUID=7003]="GET_UUID",e[e.CARD_JSON_TO_PB=7004]="CARD_JSON_TO_PB",e[e.SEND_PREVIEW_CARD=7005]="SEND_PREVIEW_CARD",e[e.CHANGE_OPEN_APP_FEED=7006]="CHANGE_OPEN_APP_FEED",e[e.PUSH_OPEN_APP_FEED_REQUEST=7007]="PUSH_OPEN_APP_FEED_REQUEST",e[e.GET_OPEN_APP_FEED=7008]="GET_OPEN_APP_FEED",e[e.CREATE_APP_CHAT=7009]="CREATE_APP_CHAT",e[e.PULL_APP_CHAT_FEED_ID=7010]="PULL_APP_CHAT_FEED_ID",e[e.IS_APP_LINK_ENABLE=7011]="IS_APP_LINK_ENABLE",e[e.GET_STICKER_SETS_STORE=8e3]="GET_STICKER_SETS_STORE",e[e.GET_STICKER_SETS=8001]="GET_STICKER_SETS",e[e.GET_STICKER_SETS_BY_ID=8002]="GET_STICKER_SETS_BY_ID",e[e.PUT_STICKER_SETS=8003]="PUT_STICKER_SETS",e[e.PATCH_STICKER_SETS=8004]="PATCH_STICKER_SETS",e[e.DELETE_STICKER_SETS=8005]="DELETE_STICKER_SETS",e[e.PUSH_STICKER_SETS=8006]="PUSH_STICKER_SETS",e[e.GET_CUSTOMIZED_STICKERS=8007]="GET_CUSTOMIZED_STICKERS",e[e.CREATE_CUSTOMIZED_STICKERS=8008]="CREATE_CUSTOMIZED_STICKERS",e[e.DELETE_CUSTOMIZED_STICKERS=8009]="DELETE_CUSTOMIZED_STICKERS",e[e.UPDATE_CUSTOMIZED_STICKERS=8010]="UPDATE_CUSTOMIZED_STICKERS",e[e.DOWNLOAD_STICKER_SET_ARCHIVE=8011]="DOWNLOAD_STICKER_SET_ARCHIVE",e[e.GET_STICKER_SET_ARCHIVE_DOWNLOAD_STATE=8012]="GET_STICKER_SET_ARCHIVE_DOWNLOAD_STATE",e[e.SHARE_STICKER_SET_CARD=8013]="SHARE_STICKER_SET_CARD",e[e.PUSH_FEATURE_GATING_V2=8015]="PUSH_FEATURE_GATING_V2",e[e.GET_STICKER_SETS_TAB=8016]="GET_STICKER_SETS_TAB",e[e.SYNC_PACKETS=9001]="SYNC_PACKETS",e[e.RESET_ACCESS_TOKEN=9002]="RESET_ACCESS_TOKEN",e[e.SET_LOG_BY_SDK=9003]="SET_LOG_BY_SDK",e[e.TRACK_CONVERT=9004]="TRACK_CONVERT",e[e.GET_CAPTCHA_ENCRYPTED_TOKEN=9005]="GET_CAPTCHA_ENCRYPTED_TOKEN",e[e.PUT_DEVICE_TOKEN=9006]="PUT_DEVICE_TOKEN",e[e.GET_NTP_STATUS=9007]="GET_NTP_STATUS",e[e.PUSH_CLEAN_DATA=9008]="PUSH_CLEAN_DATA",e[e.PUSH_VALID_DEVICES=9009]="PUSH_VALID_DEVICES",e[e.WRAPPER_WITH_PACKET=1e4]="WRAPPER_WITH_PACKET",e[e.PASS_THROUGH_API=10001]="PASS_THROUGH_API",e[e.GET_USER_GUIDE_REQUEST=10002]="GET_USER_GUIDE_REQUEST",e[e.POST_USER_CONSUMING_GUIDE_REQUEST=10003]="POST_USER_CONSUMING_GUIDE_REQUEST",e[e.USER_GUIDE_UPDATED_REQUEST=10004]="USER_GUIDE_UPDATED_REQUEST",e[e.SET_GUEST_ACCESS_TOKEN=10010]="SET_GUEST_ACCESS_TOKEN",e[e.PULL_HUB_TEMPLATE=2e4]="PULL_HUB_TEMPLATE",e[e.PUT_HUB=20001]="PUT_HUB",e[e.CREATE_PAGE=20002]="CREATE_PAGE",e[e.PATCH_HUB=20003]="PATCH_HUB",e[e.PATCH_PAGE=20004]="PATCH_PAGE",e[e.PULL_HUB_FEED=20005]="PULL_HUB_FEED",e[e.PULL_APP=20006]="PULL_APP",e[e.PULL_APP_BY_IDS=20007]="PULL_APP_BY_IDS",e[e.PUT_APPS_OBJECT=20008]="PUT_APPS_OBJECT",e[e.PULL_PAGE_TEMPLATE=20009]="PULL_PAGE_TEMPLATE",e[e.PATCH_HUB_APP_SETTING=20010]="PATCH_HUB_APP_SETTING",e[e.PULL_HUB_APP_SETTINGS=20011]="PULL_HUB_APP_SETTINGS",e[e.PULL_HUB_INFO=20012]="PULL_HUB_INFO",e[e.PULL_HUB_MEMBERS=20013]="PULL_HUB_MEMBERS",e[e.PATCH_HUB_MEMBERS=20014]="PATCH_HUB_MEMBERS",e[e.DELETE_HUB_MEMBERS=20015]="DELETE_HUB_MEMBERS",e[e.PULL_FOLLOW_AND_ADMIN_HUB=20016]="PULL_FOLLOW_AND_ADMIN_HUB",e[e.PUT_PAGE=20017]="PUT_PAGE",e[e.PULL_PAGE=20018]="PULL_PAGE",e[e.PATCH_APP_INSTANCE_INFO=20019]="PATCH_APP_INSTANCE_INFO",e[e.PULL_APP_INSTANCE_INFO=20020]="PULL_APP_INSTANCE_INFO",e[e.DELETE_HUB=20021]="DELETE_HUB",e[e.DELETE_PAGE=20022]="DELETE_PAGE",e[e.PUT_MOVE_HUB=20023]="PUT_MOVE_HUB",e[e.PUT_MOVE_PAGE=20024]="PUT_MOVE_PAGE",e[e.PUSH_HUB=20025]="PUSH_HUB",e[e.PUSH_PAGE=20026]="PUSH_PAGE",e[e.PUSH_APP_CHANGE=20027]="PUSH_APP_CHANGE",e[e.PUT_HUB_EVENT=20028]="PUT_HUB_EVENT",e[e.PUSH_HUB_FEED_PREVIEW=20029]="PUSH_HUB_FEED_PREVIEW",e[e.PUSH_PAGE_FEED_PREVIEW=20030]="PUSH_PAGE_FEED_PREVIEW",e[e.PUSH_DELETE_HUB=20031]="PUSH_DELETE_HUB",e[e.PUSH_DELETE_PAGE=20032]="PUSH_DELETE_PAGE",e[e.PULL_APPS_BY_IDS=20033]="PULL_APPS_BY_IDS",e[e.PULL_APPV2_BY_IDS=20034]="PULL_APPV2_BY_IDS",e[e.PULL_APPV2=20035]="PULL_APPV2",e[e.DELETE_APP_OBJECTS=20036]="DELETE_APP_OBJECTS",e[e.PULL_MANAGED_HUB=20037]="PULL_MANAGED_HUB",e[e.PULL_MANAGED_HUB_COUNT=20038]="PULL_MANAGED_HUB_COUNT",e[e.PUT_HIDE_HUB=20039]="PUT_HIDE_HUB",e[e.PUT_SHOW_HUB=20040]="PUT_SHOW_HUB",e[e.PULL_HIDDEN_HUB=20041]="PULL_HIDDEN_HUB",e[e.PULL_PAGES_BY_HUB_ID=20042]="PULL_PAGES_BY_HUB_ID",e[e.PUSH_DELETE_HUB_FEED=20043]="PUSH_DELETE_HUB_FEED",e[e.PULL_HUB_BY_ID=20044]="PULL_HUB_BY_ID",e[e.PUT_ABBREVIATION_FEEDBACKS=4e4]="PUT_ABBREVIATION_FEEDBACKS",e[e.UNIFORM_LOCAL_SEARCH=40100]="UNIFORM_LOCAL_SEARCH",e[e.PULL_LEAN_MODE_STATUS_AND_AUTHORITY=5e4]="PULL_LEAN_MODE_STATUS_AND_AUTHORITY",e[e.PATCH_LEAN_MODE_STATUS=50001]="PATCH_LEAN_MODE_STATUS",e[e.PUSH_LEAN_MODE_STATUS_AND_AUTHORITY=50002]="PUSH_LEAN_MODE_STATUS_AND_AUTHORITY",e[e.PUSH_LEAN_MODE_PATCH_TASK_FAILED=50003]="PUSH_LEAN_MODE_PATCH_TASK_FAILED",e[e.GET_USER_PROFILE_V2=50100]="GET_USER_PROFILE_V2",e[e.PULL_ALL_APP_CONFIG_V2=6e4]="PULL_ALL_APP_CONFIG_V2",e[e.PUSH_ALL_APP_CONFIG_V2=60001]="PUSH_ALL_APP_CONFIG_V2",e[e.CHECK_P2P_CHATS_EXIST_BY_USER=3e4]="CHECK_P2P_CHATS_EXIST_BY_USER",e[e.PUT_UPDATE_TENANT_PACKAGE=30001]="PUT_UPDATE_TENANT_PACKAGE",e[e.PUT_TRUSTED_MAIL=30002]="PUT_TRUSTED_MAIL",e[e.GET_ACTIVITY_BANNER=30003]="GET_ACTIVITY_BANNER",e[e.GET_TRUSTED_MAIL_INFO=30004]="GET_TRUSTED_MAIL_INFO",e[e.CREATE_COMMENT_THREAD=30005]="CREATE_COMMENT_THREAD",e[e.GET_COMMENT_THREADS=30006]="GET_COMMENT_THREADS",e[e.SET_COMMENT_THREAD_VISIBILITY=30007]="SET_COMMENT_THREAD_VISIBILITY",e[e.DELETE_COMMENT_THREAD=30008]="DELETE_COMMENT_THREAD",e[e.ADD_COMMENT=30009]="ADD_COMMENT",e[e.EDIT_COMMENT=30010]="EDIT_COMMENT",e[e.DELETE_COMMENT=30011]="DELETE_COMMENT",e[e.GRANT_ENTITY_PERMISSION=30012]="GRANT_ENTITY_PERMISSION",e[e.GET_THREAD_PERMISSION=30013]="GET_THREAD_PERMISSION",e[e.REVOKE_PERMISSION=30014]="REVOKE_PERMISSION",e[e.ADD_REACTION_TO_COMMENT=30015]="ADD_REACTION_TO_COMMENT",e[e.DELETE_COMMENT_REACTION=30016]="DELETE_COMMENT_REACTION",e[e.SET_THREAD_SHARED_STRATEGY=30017]="SET_THREAD_SHARED_STRATEGY",e[e.PATCH_DOWNLOAD_STATUS=30018]="PATCH_DOWNLOAD_STATUS",e[e.GET_SMART_COMPOSE=79e3]="GET_SMART_COMPOSE",e[e.GET_COMPOSER_SETTING=79001]="GET_COMPOSER_SETTING",e[e.SET_COMPOSER_SETTING=79002]="SET_COMPOSER_SETTING",e[e.PUSH_COMPOSER_SETTING=79003]="PUSH_COMPOSER_SETTING",e[e.GET_SMART_MEMORY=79004]="GET_SMART_MEMORY",e[e.GET_SMART_REPLY=79010]="GET_SMART_REPLY",e[e.GET_ENTERPRISE_TOPIC=79011]="GET_ENTERPRISE_TOPIC",e[e.GET_VIEW_USER_SETTING=87e3]="GET_VIEW_USER_SETTING",e[e.PUSH_MEETING_PARTICIPANT_CHANGE=87101]="PUSH_MEETING_PARTICIPANT_CHANGE",e[e.TRIG_PUSH_FULL_MEETING_INFO=87102]="TRIG_PUSH_FULL_MEETING_INFO",e[e.PUSH_MEETING_INFO=87103]="PUSH_MEETING_INFO",e[e.PUSH_MEETING_CHANGED_INFO=87104]="PUSH_MEETING_CHANGED_INFO",e[e.TRIG_PUSH_SELF_INFO=87105]="TRIG_PUSH_SELF_INFO",e[e.SKETCH_START=88001]="SKETCH_START",e[e.UPDATE_SHARE_SCREEN_SETTINGS=88002]="UPDATE_SHARE_SCREEN_SETTINGS",e[e.FETCH_ALL_SKETCH_DATA=88003]="FETCH_ALL_SKETCH_DATA",e[e.APPLY_BYTEVIEW_ACCESSIBILITY=88004]="APPLY_BYTEVIEW_ACCESSIBILITY",e[e.FETCH_SKETCH_DATA_BY_SHAPE_IDS=88005]="FETCH_SKETCH_DATA_BY_SHAPE_IDS",e[e.PULL_SKETCH_HISTORY=88006]="PULL_SKETCH_HISTORY",e[e.REMOTE_CONTROL=88011]="REMOTE_CONTROL",e[e.UPDATE_REMOTE_CONTROL_SETTINGS=88012]="UPDATE_REMOTE_CONTROL_SETTINGS",e[e.GET_ADMIN_SETTINGS=88013]="GET_ADMIN_SETTINGS",e[e.GET_PARTICIPANT_LIST=88021]="GET_PARTICIPANT_LIST",e[e.SET_SUBTITLES_FILTER=88022]="SET_SUBTITLES_FILTER",e[e.GET_PARTICIPANTS_BY_IDS=88023]="GET_PARTICIPANTS_BY_IDS",e[e.WHITEBOARD_START=800021]="WHITEBOARD_START",e[e.WHITEBOARD_STOP=800022]="WHITEBOARD_STOP",e[e.FETCH_ALL_WHITEBOARD_DATA=800023]="FETCH_ALL_WHITEBOARD_DATA",e[e.GET_VC_VIRTUAL_BACKGROUND=800100]="GET_VC_VIRTUAL_BACKGROUND",e[e.PULL_ALL_FOLLOW_STATES=88051]="PULL_ALL_FOLLOW_STATES",e[e.GET_FOLLOW_RESOURCES=88052]="GET_FOLLOW_RESOURCES",e[e.GET_URL_BRIEFS=88053]="GET_URL_BRIEFS",e[e.UPLOAD_GOOGLE_TOKEN=88054]="UPLOAD_GOOGLE_TOKEN",e[e.GET_GOOGLE_TOKEN=88055]="GET_GOOGLE_TOKEN",e[e.REVOKE_GOOGLE_TOKEN=88056]="REVOKE_GOOGLE_TOKEN",e[e.EXCHANGE_GOOGLE_TOKEN=88057]="EXCHANGE_GOOGLE_TOKEN",e[e.REPLY_FOLLOW_NOTICE=88058]="REPLY_FOLLOW_NOTICE",e[e.PUSH_GROOT_CELLS=89002]="PUSH_GROOT_CELLS",e[e.PUSH_MEETING_SPACE_INFO=89004]="PUSH_MEETING_SPACE_INFO",e[e.UPDATE_READ_CURSOR=89005]="UPDATE_READ_CURSOR",e[e.GET_MEETING_SPACE_META_DATA=89006]="GET_MEETING_SPACE_META_DATA",e[e.GET_MEETING_SPACE_AGENDA=89007]="GET_MEETING_SPACE_AGENDA",e[e.GET_MEETING_SPACE_FILES=89008]="GET_MEETING_SPACE_FILES",e[e.GET_UNIQUE_ID_BY_MEETING_ID=89009]="GET_UNIQUE_ID_BY_MEETING_ID",e[e.CHECK_INTERVIEW_MEETING_SPACE=89011]="CHECK_INTERVIEW_MEETING_SPACE",e[e.OCCUPY_INTERVIEW_CODING=89012]="OCCUPY_INTERVIEW_CODING",e[e.SEND_INTERVIEW_CODING_ACTION=89013]="SEND_INTERVIEW_CODING_ACTION",e[e.PULL_UPSTREAM_GROOT_CELLS=89054]="PULL_UPSTREAM_GROOT_CELLS",e[e.OPEN_GROOT_CHANNEL=89094]="OPEN_GROOT_CHANNEL",e[e.SEND_GROOT_CELLS=89096]="SEND_GROOT_CELLS",e[e.PUSH_GROOT_CHANNEL_STATUS=89097]="PUSH_GROOT_CHANNEL_STATUS",e[e.CLOSE_GROOT_CHANNEL=89098]="CLOSE_GROOT_CHANNEL",e[e.PUSH_GROOT_CELLS_MEETING_SPACE=89100]="PUSH_GROOT_CELLS_MEETING_SPACE",e[e.PUSH_GROOT_CELLS_SKETCH=89101]="PUSH_GROOT_CELLS_SKETCH",e[e.PUSH_GROOT_CELLS_WHITEBOARD=89102]="PUSH_GROOT_CELLS_WHITEBOARD",e[e.PUSH_GROOT_CELLS_REMOTE_CONTROL=89103]="PUSH_GROOT_CELLS_REMOTE_CONTROL",e[e.PUSH_GROOT_CELLS_FOLLOW=89104]="PUSH_GROOT_CELLS_FOLLOW",e[e.GET_UPCOMING_EVENTS=89200]="GET_UPCOMING_EVENTS",e[e.GET_HISTORY_MEETING_LIST=89202]="GET_HISTORY_MEETING_LIST",e[e.GET_HISTORY_CALL_LIST=89203]="GET_HISTORY_CALL_LIST",e[e.PUSH_UPDATE_HISTORY_CALL=89297]="PUSH_UPDATE_HISTORY_CALL",e[e.PUSH_UPDATE_UPCOMING_EVENTS=89298]="PUSH_UPDATE_UPCOMING_EVENTS",e[e.PUSH_UPDATE_HISTORY_MEETINGS=89299]="PUSH_UPDATE_HISTORY_MEETINGS",e[e.GET_MEETING_URL_INFO=89301]="GET_MEETING_URL_INFO",e[e.VC_OWNER_FORCE_TRANSFER_HOST=89302]="VC_OWNER_FORCE_TRANSFER_HOST",e[e.KEEP_MEETING=89310]="KEEP_MEETING",e[e.GET_VC_LOBBY_PARTICIPANTS=89321]="GET_VC_LOBBY_PARTICIPANTS",e[e.UPDATE_VC_LOBBY_PARTICIPANT=89322]="UPDATE_VC_LOBBY_PARTICIPANT",e[e.TRIGGER_PUSH_FULL_VC_LOBBY_PARTICIPANTS=89324]="TRIGGER_PUSH_FULL_VC_LOBBY_PARTICIPANTS",e[e.PUSH_FULL_VC_LOBBY_PARTICIPANTS=89325]="PUSH_FULL_VC_LOBBY_PARTICIPANTS",e[e.VC_MANAGE_APPROVAL=89342]="VC_MANAGE_APPROVAL",e[e.PUSH_VC_MANAGE_NOTIFY=89343]="PUSH_VC_MANAGE_NOTIFY",e[e.PUSH_VC_MANAGE_RESULT=89344]="PUSH_VC_MANAGE_RESULT",e[e.APPLY_DTMF=89401]="APPLY_DTMF",e[e.PULL_PARTICIPANT_INFO=89403]="PULL_PARTICIPANT_INFO",e[e.SEARCH_USERS_AND_CHATS=89501]="SEARCH_USERS_AND_CHATS",e[e.CHECK_GUEST_JOIN_VC=89701]="CHECK_GUEST_JOIN_VC",e[e.MIGRATE_RESET=1e5]="MIGRATE_RESET",e[e.PUSH_USER_MIGRATE_SWITCH=100001]="PUSH_USER_MIGRATE_SWITCH",e[e.GET_CONTACT_TOKEN_V2=100101]="GET_CONTACT_TOKEN_V2",e[e.GET_CONTACT_OAUTH_URL=100801]="GET_CONTACT_OAUTH_URL",e[e.GET_OAUTH_CONTACTS=100802]="GET_OAUTH_CONTACTS",e[e.GET_PENDING_REVIEW_COUNT=100803]="GET_PENDING_REVIEW_COUNT"}(n||(n={}))},,,function(e,t,i){"use strict";i.d(t,"a",(function(){return u})),i.d(t,"b",(function(){return _})),i.d(t,"d",(function(){return E})),i.d(t,"c",(function(){return h}));var n=i(12),r=i(21),o=i(177),s=i(49),a=i(3),d=i(210);let c,l,p;function u(){return p||a.c.warn("currentUserCalendarId not found!"),p}function _(){return c||a.c.warn("currentUserId not found!"),c}function E(e){c=e.userId,l=e.tenantId}function h(e,t){!function(e){const t=e.cmd;r.a.UNIMPLEMENT_COMMANDS!==t&&d.a.send(t,e.payload)}(function(e,t){const i=Object(n.a)("basic.Packet");if(i.status=0,t){i.cmd=e,i.payload=t;const n=Object(o.a)();i.contextId=n}else i.cmd=r.a.UNIMPLEMENT_COMMANDS;return i.startCallbackTime=Object(s.c)(),i}(e,t))}},function(e,t,i){"use strict";var n=i(7),r=i(2),o=i(89),s=i(6),a=i(0),d=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},c=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};class l extends o.a{constructor(e){super(e),this.version="1.0.0",this.lang="",this.isTime12HourFormat=!1,this.localTimeZone="UTC",this.loading=!0,this.pageLoading=!1,this.appName=null,this.hangupModalData={visible:!1,type:a.ConfirmModalType.CALL},this.recordModalData={},this.meetingEndConfirmModalData={},this.remoteControlModalData={},this.confirmPopupModalData={},this.handsUpModalData={},this.muteAllModalData={},this.userInfo=null,this.netStatus=a.DynamicNetStatusEnum.EXCELLENT,this.initTimeFormat()}get isOnline(){return this.netStatus!==a.DynamicNetStatusEnum.OFFLINE}get isNamedLogin(){var e,t;return Boolean((null===(e=this.userInfo)||void 0===e?void 0:e.isLogin)&&!(null===(t=this.userInfo)||void 0===t?void 0:t.anonymous))}get isAnonymousLogin(){var e;return Boolean(null===(e=this.userInfo)||void 0===e?void 0:e.anonymous)}get isLogin(){var e;return Boolean(null===(e=this.userInfo)||void 0===e?void 0:e.isLogin)}setUserInfo(e){e&&(this.userInfo=e)}setAppName(e){void 0!==e&&(this.appName=e)}setLang(e){this.lang=e,window.document.documentElement.lang=e.replace("_","-")}setTimeFormat(e){this.isTime12HourFormat=e}initTimeFormat(){return c(this,void 0,void 0,(function*(){this.setTimeFormat(!1)}))}initTimeZone(){return c(this,void 0,void 0,(function*(){const{settings:e}=yield this.byteviewApi.request(a.Command.GET_LOCAL_CALENDAR_SETTINGS);s.c.info("timeZoneSettings: "+e.timezone),this.localTimeZone=e.timezone}))}setHangupModalData(e,t){this.hangupModalData.visible=e,t&&(this.hangupModalData.type=t)}setRecordModalData(e){this.recordModalData.visible&&e.visible||(this.recordModalData=Object.assign(Object.assign({},this.recordModalData),e))}setMeetingEndConfirmModalData(e){this.meetingEndConfirmModalData=e}setLoading(e){s.c.info(`setLoading from ${this.loading} to ${e}`),this.loading=e}setPageLoading(e){s.c.info(`setPageLoading from ${this.loading} to ${e}`),this.pageLoading=e}setConfirmPopupModalData(e){this.confirmPopupModalData=Object.assign({},e)}setHandsUpConfirmModalData(e){this.handsUpModalData=Object.assign({},e)}setNetStatus(e){this.netStatus=e}}d([r.p],l.prototype,"version",void 0),d([r.p],l.prototype,"lang",void 0),d([r.p],l.prototype,"isTime12HourFormat",void 0),d([r.p],l.prototype,"localTimeZone",void 0),d([r.p],l.prototype,"loading",void 0),d([r.p],l.prototype,"pageLoading",void 0),d([r.p],l.prototype,"appName",void 0),d([r.p],l.prototype,"hangupModalData",void 0),d([r.p],l.prototype,"recordModalData",void 0),d([r.p],l.prototype,"meetingEndConfirmModalData",void 0),d([r.p],l.prototype,"remoteControlModalData",void 0),d([r.p],l.prototype,"confirmPopupModalData",void 0),d([r.p],l.prototype,"handsUpModalData",void 0),d([r.p],l.prototype,"muteAllModalData",void 0),d([r.p],l.prototype,"userInfo",void 0),d([r.p],l.prototype,"netStatus",void 0),d([r.h],l.prototype,"isOnline",null),d([r.h],l.prototype,"isNamedLogin",null),d([r.h],l.prototype,"isAnonymousLogin",null),d([r.h],l.prototype,"isLogin",null),d([r.f],l.prototype,"setUserInfo",null),d([r.f],l.prototype,"setAppName",null),d([r.f],l.prototype,"setLang",null),d([r.f],l.prototype,"setTimeFormat",null),d([r.f],l.prototype,"setHangupModalData",null),d([r.f],l.prototype,"setRecordModalData",null),d([r.f],l.prototype,"setMeetingEndConfirmModalData",null),d([r.f],l.prototype,"setLoading",null),d([r.f],l.prototype,"setPageLoading",null),d([r.f],l.prototype,"setConfirmPopupModalData",null),d([r.f],l.prototype,"setHandsUpConfirmModalData",null),d([r.f],l.prototype,"setNetStatus",null);let p=function(){const e=-(new Date).getTimezoneOffset()/60,t="GMT"+(e>0?"+"+e:e);return p=()=>t,t};var u=i(19);const _=1e3,E=60*_;var h=i(408),T=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};class y{constructor(){this.isOpen=!0,this.isOpenInMiniWindow=!1,this.setOpenInMiniWindow=()=>{this.isOpenInMiniWindow=!0},this.setCloseInMiniWindow=()=>{this.isOpenInMiniWindow=!1},this.setOpen=()=>{this.isOpen=!0},this.setClose=()=>{this.isOpen=!1}}}T([r.p],y.prototype,"isOpen",void 0),T([r.p],y.prototype,"isOpenInMiniWindow",void 0),T([r.f],y.prototype,"setOpenInMiniWindow",void 0),T([r.f],y.prototype,"setCloseInMiniWindow",void 0),T([r.f],y.prototype,"setOpen",void 0),T([r.f],y.prototype,"setClose",void 0);var f,I=i(34),g=i(37),S=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LEAVE=1]="LEAVE",e[e.RETURN=2]="RETURN"}(f||(f={}));class C extends o.a{constructor(){super(...arguments),this.title="",this.isInterviewSpaceFGEnabled=!0,this.isInterviewerNoticeFGEnabled=!1,this.refreshInterviewSpace=()=>{I.b.emit(I.a.REFRESH_INTERVIEW_SPACE)}}get interviewCodingData(){return this.rootStore.conferenceStore._interviewCodingData}get IAmInterviewer(){return this.rootStore.conferenceStore.isPeopleMeeting&&this.rootStore.userStore.currentUser.isInterviewer}get IAmInterviewee(){return this.rootStore.conferenceStore.isPeopleMeeting&&this.rootStore.userStore.currentUser.isInterviewee}get currentUrl(){var e;return this.isCurrentDeviceCodingTesting?this.addMeetingIdToUrl(null===(e=this.interviewCodingData)||void 0===e?void 0:e.url):""}addMeetingIdToUrl(e){if(!e)return"";const t=new URL(e);return t.searchParams.append("meeting_id",this.rootStore.conferenceStore.id),t.toString()}get currentTitle(){return this.title||this.currentUrl||""}get isInterviewerNoticeEnabled(){return this.isInterviewerNoticeFGEnabled}get isInterviewSpaceEnabled(){var e,t;const{conferenceStore:i}=this.rootStore,{isPeopleMeeting:n}=i,r=Boolean(this.IAmInterviewee&&String(null===(e=this.interviewCodingData)||void 0===e?void 0:e.userId)===this.rootStore.userStore.currentUserId&&(null===(t=this.interviewCodingData)||void 0===t?void 0:t.url));return n&&this.isInterviewSpaceFGEnabled&&r}get isCurrentDeviceCodingTesting(){return Boolean(this.isInterviewSpaceEnabled&&this.interviewCodingData&&String(this.interviewCodingData.userId)===this.rootStore.userStore.currentUserId&&String(this.interviewCodingData.deviceId)===this.rootStore.userStore.currentDeviceId&&this.interviewCodingData.url)}setTitle(e){this.title=e}occupyCoding(){this.interviewCodingData&&Object(g.a)("OCCUPY_INTERVIEW_CODING",{meetingId:this.rootStore.conferenceStore.id})}reportLeave(){s.c.info("[INTERVIEW] report leave"),Object(g.a)("SEND_INTERVIEW_CODING_ACTION",{meetingId:this.rootStore.conferenceStore.id,action:f.LEAVE,actionTime:""+Date.now()})}reportReturn(){s.c.info("[INTERVIEW] report return"),Object(g.a)("SEND_INTERVIEW_CODING_ACTION",{meetingId:this.rootStore.conferenceStore.id,action:f.RETURN,actionTime:""+Date.now()})}}S([r.p],C.prototype,"title",void 0),S([r.p],C.prototype,"isInterviewSpaceFGEnabled",void 0),S([r.p],C.prototype,"isInterviewerNoticeFGEnabled",void 0),S([r.h],C.prototype,"interviewCodingData",null),S([r.h],C.prototype,"IAmInterviewer",null),S([r.h],C.prototype,"IAmInterviewee",null),S([r.h],C.prototype,"currentUrl",null),S([r.h],C.prototype,"currentTitle",null),S([r.h],C.prototype,"isInterviewerNoticeEnabled",null),S([r.h],C.prototype,"isInterviewSpaceEnabled",null),S([r.h],C.prototype,"isCurrentDeviceCodingTesting",null),S([r.f],C.prototype,"setTitle",null),S([r.f],C.prototype,"occupyCoding",null),S([r.f],C.prototype,"reportLeave",null),S([r.f],C.prototype,"reportReturn",null);var m,N=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},A=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};!function(e){e[e.TouchBar=1]="TouchBar",e[e.ShareScreenBar=2]="ShareScreenBar",e[e.Controlbar=3]="Controlbar"}(m||(m={}));class R extends o.a{constructor(e){super(e),this.type=a.VideoChatType.UNKNOWN,this.isVoiceCall=!1,this.sponsor=null,this.tenantId=null,this.vendorType=0,this.state=a.UserState.UNKNOWN,this.hostDeviceId="",this.id="",this.conferenceInfo=null,this.extraInfo=null,this.participants=[],this.groupId="",this.groupName="",this.targetRingingReceived=!1,this.meetingSettingsFromBE={},this.startTime=Date.now(),this.meetingSource=a.MeetingSource.VC_UNKNOWN_SOURCE_TYPE,this.meetNumber="",this.calendarInfo=null,this.tenantLicense=null,this.isRecording=!1,this.meetingUrl="",this.meetingNumber="",this.hasRecorded=!1,this.isMeetingWindowMostCover=!1,this.meetingDuration=0,this.meetingDurationRequestEndTime=0,this.topicOrigin="",this.isClosing=!1,this.timeUpdaterCbs=[],this.updateTimer=null,this.setGroupId=Object(r.k)((function*(e){if(+e>0&&e!==this.groupId){this.groupId=e;const t=yield this.byteviewApi.request(a.Command.GET_GROUP,e);this.groupName=t.name}})),this.live=new h.b(e,this.byteviewApi,this.track),this.interaction=new y,this.interviewStore=new C(e)}get isMeeting(){return this.type===a.VideoChatType.MEETING}get isCall(){return this.type===a.VideoChatType.CALL}get isCalendarMeeting(){return this.meetingSource===a.MeetingSource.VC_FROM_CALENDAR}get isPeopleMeeting(){return this.meetingSource===a.MeetingSource.VC_FROM_PEOPLE}get isMeetingSourceUnknown(){return this.meetingSource===a.MeetingSource.VC_UNKNOWN_SOURCE_TYPE}get isLocalScreenShare(){return this.meetingSettings.subType===a.SubType.SCREEN_SHARE||this.meetingSettings.subType===a.SubType.WIRED_SCREEN_SHARE}get isScreenShareToRoom(){return this.meetingSettings.subType===a.SubType.SCREEN_SHARE}get isWiredScreenShareToRoom(){return this.meetingSettings.subType===a.SubType.WIRED_SCREEN_SHARE}get meetingStopTime(){const{maxVideochatDuration:e=50}=this.meetingSettings;return this.startTime+e*E}get meetingSettings(){return Object.assign(Object.assign({},this.meetingSettingsFromBE),{topic:Object(u.b)(this,this.meetingSettingsFromBE.topic||"")})}get isOwnerJoinedMeeting(){return this.isMeeting&&!!this.meetingSettings.isOwnerJoinedMeeting}get hasHostControl(){const{isHost:e}=this.rootStore.userStore.currentUser;return e&&this.enableHostControl}get hasCoHostControl(){const{isCoHost:e}=this.rootStore.userStore.currentUser;return e&&this.enableHostControl}get enableHostControl(){const{meetingStore:e}=this.rootStore;return this.isMeeting&&!!e.featureConfig.hostControlEnable&&this.isOwnerJoinedMeeting}get isLocked(){const{securitySetting:e}=this.meetingSettings;return!(!e||e.securityLevel!==a.SecurityLevel.ONLY_HOST||e.isOpenLobby)}get sipDomain(){const{sipSetting:e}=this.meetingSettings;let t="";return e&&(t=e.domain||""),t||(t=this.isLarkMeeting?"lvc.larksuit.com":"lvc.bytedance.com"),t}get h323IPAddresses(){var e;const{h323Setting:t}=this.meetingSettings;return null!==(e=null==t?void 0:t.h323AccessList)&&void 0!==e?e:[]}fetchMettingDuration(){return A(this,void 0,void 0,(function*(){let e;const t=yield this.fetchMettingDurationFromBE(),i=yield this.fetchMeetingDurationFromNtp();i||t?(e=!i||t&&Math.abs(t.meetingDuration-i.meetingDuration)>5e3?t:i,e?(this.meetingDuration=e.meetingDuration,this.meetingDurationRequestEndTime=e.meetingDurationRequestEndTime):this.fetchMettingDuration()):this.fetchMettingDuration()}))}fetchMettingDurationFromBE(){return A(this,void 0,void 0,(function*(){if(!this.id)return s.c.error("fetch meeting duration from BE failed. this.id is '' or 0 "+this.id),null;try{const e=performance.now(),{meetingDuration:t,requestBeginTime:i,requestEndTime:n}=yield this.byteviewApi.request(a.Command.ADJUEST_MEETING_DURATION,{meetingId:this.id}),r=performance.now();return{meetingDuration:t+(r-e-(n-i))/2,meetingDurationRequestEndTime:r}}catch(e){return s.c.error("fetch meeting duration from BE failed."),null}}))}fetchMeetingDurationFromNtp(){return A(this,void 0,void 0,(function*(){const{startTime:e}=this;if(!e)return s.c.error("fetch meeting duration from NTP failed. startTime: "+e),setTimeout(()=>this.fetchMettingDuration(),1e3),null;const{ntpTime:t}=yield this.byteviewApi.request(a.Command.GET_NTP_TIME);return{meetingDuration:t-e,meetingDurationRequestEndTime:performance.now()}}))}setTargetRingingReceived(e){this.targetRingingReceived=e}setConferenceState(e){this.state=e}setIsVoiceCall(e=!0){this.isVoiceCall=e}setMeetingSettings(e){Object.assign(this.meetingSettingsFromBE,e),this.meetingSettingsFromBE.allowPartiUnmute=e.allowPartiUnmute}setMeetingUrl(e){this.meetingUrl=e}setIsRecording(e){this.isRecording=!!e}setHasRecorded(e){this.hasRecorded=!!e}updateConferenceInfo(e){const{force:t,id:i,type:n,vendorType:r,groupId:o,hostDeviceId:a,isVoiceCall:d,inviterId:c,startTime:l,settings:p,participants:u,meetingSource:_,meetNumber:E,sponsor:h,tenantId:T,isLarkMeeting:y,meetingOwner:f}=e,I={force:t,id:i,type:n,vendorType:r,groupId:o,hostDeviceId:a,isVoiceCall:d,inviterId:c,startTime:l,meetingSettings:p,participants:u,meetingSource:_,meetNumber:E,sponsor:h,tenantId:T,isLarkMeeting:y,meetingOwner:f};s.c.info(`meeting start time: ${l}, current time: ${Date.now()}`),Object.keys(I).forEach(t=>{void 0!==e[t]&&e[t]!==this[t]&&(this[t]=e[t])})}updateCalendarInfo(e){this.calendarInfo=e}updateCalendarGroupId(e){this.calendarInfo&&e&&(this.calendarInfo=Object.assign(Object.assign({},this.calendarInfo),{groupId:e}))}pullPreVCSettings(){return A(this,void 0,void 0,(function*(){const e=yield this.byteviewApi.pullPreVCSettings();e&&(this.tenantLicense=e)}))}recordMeeting(e,t){return A(this,void 0,void 0,(function*(){const i=p();this.byteviewApi.recordMeeting({action:e,timeZone:i,requester:t})}))}addMeetingUpdateTimer(e){return this.fetchMettingDuration(),this.timeUpdaterCbs.push(e),this.updateMeetingTimer(),()=>this.removeMeetingUpdateTimer(e)}removeMeetingUpdateTimer(e){if(e){const t=this.timeUpdaterCbs.indexOf(e);t>=0&&this.timeUpdaterCbs.splice(t,1)}else this.timeUpdaterCbs=[];0===this.timeUpdaterCbs.length&&(clearTimeout(this.updateTimer),this.updateTimer=null)}updateMeetingTimer(){let e=0;if(void 0!==this.meetingDuration){const t=(this.meetingDuration+performance.now()-this.meetingDurationRequestEndTime)/1e3;e=performance.now(),this.timeUpdaterCbs.map(e=>e(((e,t=!1)=>{if(e<=0)return(t?"00:":"")+"00:00";const i=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%3600%60),o=`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`;return i>0?`${i}:${o}`:t?`${i.toString().padStart(2,"0")}:${o}`:o})(t),t))}const t=1e3-Date.now()%1e3;this.updateTimer||(this.updateTimer=setTimeout(()=>{this.updateTimer=null,this.updateMeetingTimer()},t));performance.now()}setIsClosing(e){this.isClosing=e}getMeetingInfo(){return A(this,void 0,void 0,(function*(){this.meetingUrl||(yield u.a.request(a.Command.GET_MEETING_URL_INFO,{meetingIdStr:this.id}).then(e=>{this.meetingUrl=e.meetingUrl||"",this.meetNumber=e.meetingNo||""}))}))}setInterviewCodingData(e){s.c.info("[INTERVIEW] setInterviewCodingData",e),this._interviewCodingData=e}}N([r.p],R.prototype,"type",void 0),N([r.p],R.prototype,"isVoiceCall",void 0),N([r.p],R.prototype,"sponsor",void 0),N([r.p],R.prototype,"tenantId",void 0),N([r.p],R.prototype,"vendorType",void 0),N([r.p],R.prototype,"state",void 0),N([r.p],R.prototype,"hostDeviceId",void 0),N([r.p],R.prototype,"id",void 0),N([r.p],R.prototype,"conferenceInfo",void 0),N([r.p],R.prototype,"extraInfo",void 0),N([r.p],R.prototype,"participants",void 0),N([r.p],R.prototype,"groupId",void 0),N([r.p],R.prototype,"groupName",void 0),N([r.p],R.prototype,"targetRingingReceived",void 0),N([r.p],R.prototype,"meetingSettingsFromBE",void 0),N([r.p],R.prototype,"startTime",void 0),N([r.p],R.prototype,"meetingSource",void 0),N([r.p],R.prototype,"meetNumber",void 0),N([r.p],R.prototype,"calendarInfo",void 0),N([r.p],R.prototype,"tenantLicense",void 0),N([r.p],R.prototype,"isRecording",void 0),N([r.p],R.prototype,"meetingUrl",void 0),N([r.p],R.prototype,"meetingNumber",void 0),N([r.p],R.prototype,"hasRecorded",void 0),N([r.p],R.prototype,"isMeetingWindowMostCover",void 0),N([r.p],R.prototype,"isLarkMeeting",void 0),N([r.p],R.prototype,"meetingOwner",void 0),N([r.p],R.prototype,"_interviewCodingData",void 0),N([r.p],R.prototype,"isClosing",void 0),N([r.h],R.prototype,"isMeeting",null),N([r.h],R.prototype,"isCall",null),N([r.h],R.prototype,"isCalendarMeeting",null),N([r.h],R.prototype,"isPeopleMeeting",null),N([r.h],R.prototype,"isMeetingSourceUnknown",null),N([r.h],R.prototype,"isLocalScreenShare",null),N([r.h],R.prototype,"isScreenShareToRoom",null),N([r.h],R.prototype,"isWiredScreenShareToRoom",null),N([r.h],R.prototype,"meetingStopTime",null),N([r.h],R.prototype,"meetingSettings",null),N([r.h],R.prototype,"isOwnerJoinedMeeting",null),N([r.h],R.prototype,"hasHostControl",null),N([r.h],R.prototype,"hasCoHostControl",null),N([r.h],R.prototype,"enableHostControl",null),N([r.h],R.prototype,"isLocked",null),N([r.h],R.prototype,"sipDomain",null),N([r.h],R.prototype,"h323IPAddresses",null),N([r.f],R.prototype,"fetchMettingDuration",null),N([r.f],R.prototype,"fetchMettingDurationFromBE",null),N([r.f],R.prototype,"fetchMeetingDurationFromNtp",null),N([r.f],R.prototype,"setGroupId",void 0),N([r.f],R.prototype,"setTargetRingingReceived",null),N([r.f],R.prototype,"setConferenceState",null),N([r.f],R.prototype,"setIsVoiceCall",null),N([r.f],R.prototype,"setMeetingSettings",null),N([r.f],R.prototype,"setMeetingUrl",null),N([r.f],R.prototype,"setIsRecording",null),N([r.f],R.prototype,"setHasRecorded",null),N([r.f],R.prototype,"updateConferenceInfo",null),N([r.f],R.prototype,"updateCalendarInfo",null),N([r.f],R.prototype,"updateCalendarGroupId",null),N([r.f],R.prototype,"pullPreVCSettings",null),N([r.f],R.prototype,"setIsClosing",null),N([r.f],R.prototype,"getMeetingInfo",null),N([r.f],R.prototype,"setInterviewCodingData",null);var O=i(253),v=i(87),P=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};class M{constructor(e){this.queue=[],this.running=[],this.users={},this.isRunning=!1,this.onOnline=()=>{this.run()},this.queue=[],this.responseHandler=e,window.addEventListener("online",this.onOnline)}push(e){this.responseHandler(e.filter(e=>!!this.users[e]).map(e=>this.users[e])),e.forEach(e=>!this.users[e]&&!this.running.includes(e)&&!this.queue.includes(e)&&this.queue.push(e)),this.run()}run(){return P(this,void 0,void 0,(function*(){if(this.isRunning)return;const e=this.queue.splice(0,50);if(e.length){this.isRunning=!0;try{const t=yield u.a.request(a.Command.GET_USERS,e);this.isRunning=!1,t.forEach(e=>{this.users[e.id]=e}),this.responseHandler(t),this.run()}catch(t){s.c.error("fetch users info error: "+t.message,t),this.queue.splice(0,0,...e),this.isOnline()&&this.run()}}}))}getUsers(){return this.users}isOnline(){return window.navigator.onLine}}var L=i(246),b=i(393),D=i(396),U=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},w=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};class k{constructor(e){this.larkIdToParticipantIdsMap=new v.a,this.roomIdToParticipantIdsMap=new v.a,this.newTypeIdToParticipantIdsMap=new v.a,this.larkChatterInfoMaps={},this.roomChatterInfoMaps={},this.newTypeChatterInfoMaps={},this.rtcIdMap={},this.usersMap={},this.users=[],this.inMeetingUsers=[],this.initLarkChatterInfos=e=>w(this,void 0,void 0,(function*(){this.fetchLarkChatterInfoQueue.push(e)})),this.handleFetchLarkChatterInfos=e=>{e.forEach(e=>{const{id:t}=e;this.larkChatterInfoMaps[t]=e;this.larkIdToParticipantIdsMap.get(t).forEach(t=>{const i=this.usersMap[t];i&&(i.updateParticipantInfo({type:e.type}),i.initLarkInfo(e))})})},this.initRoomChatterInfos=e=>w(this,void 0,void 0,(function*(){(yield u.a.request(a.Command.GET_ROOMS,e)).forEach(e=>{const t=e.roomId;this.roomChatterInfoMaps[t]=e;this.roomIdToParticipantIdsMap.get(t).forEach(t=>{const i=this.usersMap[t];i&&(i.updateParticipantInfo({type:a.ParticipantType.ROOM}),i.initRoomInfo(e))})})})),this.initNewTypeChatterInfos=e=>w(this,void 0,void 0,(function*(){try{const t=this.rootStore[n.f].id;(yield u.a.request(a.Command.BV_PULL_PARTICIPANT_INFO,{byteviewUsers:e,meetingId:t})).forEach(e=>{this.newTypeChatterInfoMaps[e.id]=e;this.newTypeIdToParticipantIdsMap.get(e.id).forEach(t=>{const i=this.usersMap[t];i&&(i.updateParticipantInfo({type:e.type}),i.initNewTypeInfo(e))})})}catch(e){s.c.error("pull participant info error")}})),this.isUserExisted=e=>Boolean(this.usersMap[e]),this.getUser=e=>this.usersMap[e],this.initUser=({id:e,deviceId:t,rtcJoinId:i,force:n=!1})=>{const r=Object(v.b)(e,t);if(!n&&this.isUserExisted(r))return this.getUser(r);const o=new O.b(this.rootStore,e,t,i);this.usersMap[r]=o;const{rtcId:s}=o;return s&&(this.rtcIdMap[s]=o),o},this.syncUsersMap=(e,t,i)=>{this.usersMap[t]=e},this.updateUsersFromParticipants=(e,t)=>{var i,n;const r=[],o=[],d=[],c=[];for(const l of e){const{id:e,deviceId:p,rtcJoinId:u,type:_=a.ParticipantType.UNKNOWN}=l;let E;const h=Object(v.b)(e,p);E=this.isUserExisted(h)?this.getUser(h):this.initUser({id:e,deviceId:p,rtcJoinId:u}),this.syncUsersMap(E,e,p);try{t&&t(E,l),E.updateParticipantInfo(l)}catch(e){s.c.error(`UpdateParticipnt(${p}) failed, error: ${e}`)}if(_===a.ParticipantType.ROOM){const t=this.roomChatterInfoMaps[e];t?E.isInited||E.initRoomInfo(t):(this.roomIdToParticipantIdsMap.update(e,p),o.push(e))}if(_===a.ParticipantType.LARK_USER||_===a.ParticipantType.NEO_USER){const t=this.larkChatterInfoMaps[e];t?E.isInited||E.initLarkInfo(t):(this.larkIdToParticipantIdsMap.update(e,p),r.push(e))}const T=null===(i=E.participantInfo.pstnInfo)||void 0===i?void 0:i.bindId,y=Boolean(_===a.ParticipantType.PSTN_USER&&(null===(n=E.participantInfo.pstnInfo)||void 0===n?void 0:n.bindId));if(y)E.isInited||this.updateSignedPstnUser(E,T);else if(Object(L.a)(_)&&!y){const t=this.newTypeChatterInfoMaps[e];if(t)E.isInited||E.initNewTypeInfo(t);else{this.newTypeIdToParticipantIdsMap.update(e,p);const t={userId:e,deviceId:p||"0",userType:_};d.push(t)}}c.push(E)}return r.length&&this.initLarkChatterInfos(r),o.length&&this.initRoomChatterInfos(o),d.length&&this.initNewTypeChatterInfos(d),c},this.updateSignedPstnUser=(e,t)=>w(this,void 0,void 0,(function*(){const[i]=yield u.a.request(a.Command.GET_USERS,[t]);e.initBindLarkInfo(i)})),this.initChatterInfo=(e,t,i)=>{const n=Object(v.b)(t,i);if(this.isUserExisted(n))return;const r=this.initUser({id:t,deviceId:i});if(this.syncUsersMap(r,t,i),e===a.ParticipantType.ROOM&&(this.roomIdToParticipantIdsMap.update(t,i),this.initRoomChatterInfos([t])),e!==a.ParticipantType.LARK_USER&&e!==a.ParticipantType.NEO_USER||(this.larkIdToParticipantIdsMap.update(t,i),this.initLarkChatterInfos([t])),Object(L.a)(e)){this.newTypeIdToParticipantIdsMap.update(t,i);const n={userId:t,deviceId:i||"0",userType:e};this.initNewTypeChatterInfos([n])}},this.syncParticipants=e=>{s.c.info("syncParticipants, count: "+e.length);e.reduce((e,t)=>{const{id:i,deviceId:n}=t,r=n?Object(v.b)(i,n):i,o=this.usersMap[r];return o&&o.status!==a.ParticipantStatus.UNKNOWN&&o.status!==a.ParticipantStatus.IDLE||e.add(r),e},new Set);let t=[];e.length&&(t=this.updateUsersFromParticipants(e)),this.users=this.sortUsersInParticipantList(this.users,t),this.updateUserMultiDevice()},this.sortUsersInParticipantList=(e,t)=>{let i={},n=[],r=[],o={},s=[],d=[];const c=new Set,l=this.getUniqueUsers(e,t),{userStore:p}=this.rootStore,{currentUserId:u,currentDeviceId:_}=p;return l.forEach(e=>{e.status!==a.ParticipantStatus.IDLE&&e.status!==a.ParticipantStatus.UNKNOWN&&(e.status!==a.ParticipantStatus.RINGING?(e.status===a.ParticipantStatus.ON_THE_CALL&&c.add(e.id),e.id!==u||e.deviceId!==_?e.isHost?i=e:e.isHandsUp?n.push(e):e.isCoHost?r.push(e):d.push(e):o=e):s.push(e))}),n=Object(b.a)(n,e=>e.handsUpTime),r=Object(b.a)(r,[e=>e.sortName,e=>e.joinTime]),d=Object(b.a)(d,[e=>e.sortName,e=>e.joinTime]),s=Object(b.a)(s,e=>e.joinTime),s.forEach(e=>{c.has(e.id)||d.push(e)}),Object(D.a)([o,i,...n,...r,...d],e=>e.participantId).filter(e=>e.id)},this.rootStore=e,this.fetchLarkChatterInfoQueue=new M(this.handleFetchLarkChatterInfos)}updateUserMultiDevice(){const e=this.users.filter(e=>e.status!==a.ParticipantStatus.UNKNOWN),t={};e.forEach(e=>{const{id:i}=e,n=t[i],r=void 0===n?1:n+1;t[i]=r}),e.forEach(e=>{const{id:i}=e;t[i]>1&&e.setMultiDevice(!0)})}getUniqueUsers(e,t){if(0===e.length)return t;const i=t.reduce((e,t)=>(e.add(t.participantId),e),new Set);return e.filter(e=>!i.has(e.participantId)).concat(t)}}U([r.p.shallow],k.prototype,"usersMap",void 0),U([r.p],k.prototype,"users",void 0),U([r.p],k.prototype,"inMeetingUsers",void 0),U([r.f],k.prototype,"initChatterInfo",void 0),U([r.f],k.prototype,"syncParticipants",void 0),U([r.f],k.prototype,"sortUsersInParticipantList",void 0);var G=k,V=i(364),H=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};class B{constructor(e,t){this.prevOnTheCallParticipantLength=0,this.speechParticipantIdList=[],this.participantRankIdList=[],this.rankedParticipantList=[],this.filterParticipantUserIds=[],this.setSpeechParticipantIdList=e=>{const t=e.map(e=>this.userStore.rtcIdMap[e].participantId);this.speechParticipantIdList=t},this.setFilterParticipantUserIdList=e=>{this.filterParticipantUserIds=e},this.rankParticipantList=()=>{if(!this.speechParticipantIdList.length)return void(this.participantRankIdList=this.participantIdList);const{shareScreenStore:e,userStore:t}=this.rootStore,{sharingParticipantId:i}=e,{hostParticipantId:n,currentParticipantId:r}=t,{participantIdList:o}=this;let s=[],a=4,d=[];s=Object(V.a)([n,r,i]).filter(e=>!!e),a=4-s.length,d=this.speechParticipantIdList.filter(e=>this.participantIdList.indexOf(e)>-1&&-1===s.indexOf(e)&&!!e).slice(0,a);const{activeSpeakerParticipantId:c}=this.rootStore.meetingStore;c&&-1===d.indexOf(c)&&-1===s.indexOf(c)&&o.indexOf(c)>-1&&(d.pop(),d.push(c)),this.participantRankIdList=Object(V.a)([...s,...d,...this.participantIdList])},this.rootStore=e,this.sourceManager=t,Object(r.g)(()=>{const e=this.onTheCallParticipantList.length,t=this.prevOnTheCallParticipantLength;e>t?I.b.emit(I.a.USER_JOIN):e<t&&I.b.emit(I.a.USER_LEAVE),this.prevOnTheCallParticipantLength=e}),Object(r.g)(()=>{const e=this.participantRankIdList.map(e=>this.participantsMap[e]);Object(L.b)(this.rankedParticipantList,e)})}get userStore(){return this.rootStore.userStore}get participantsMap(){return this.sourceManager.usersMap}get participantList(){return this.sourceManager.users.filter(e=>e.status!==a.ParticipantStatus.UNKNOWN)}get othersParticipantList(){return[]}get onTheCallParticipantList(){return this.participantList.filter(e=>e.status===a.ParticipantStatus.ON_THE_CALL)}get onTheCallRtcIdsMap(){return this.onTheCallParticipantList.reduce((e,t)=>(e[t.rtcId]=t,e),{})}get onTheCallParticipantIdsMap(){return this.onTheCallParticipantList.reduce((e,t)=>(e[t.participantId]=t,e),{})}get onTheCallUserIdsMap(){return this.onTheCallParticipantList.reduce((e,t)=>(e[t.id]=!0,e),{})}get ringingParticipantList(){return this.participantList.filter(e=>e.status===a.ParticipantStatus.RINGING)}get ringingParticipantsMap(){return this.ringingParticipantList.reduce((e,t)=>(e[t.id]=t,e),{})}get waitingParticipantList(){return[]}get waitingParticipantsMap(){return{}}get handsUpParticipantList(){return this.onTheCallParticipantList.filter(e=>e.isHandsUp)}get onTheCallParticipantListExcludeMe(){return this.onTheCallParticipantList.filter(e=>e.participantId!==this.userStore.currentParticipantId)}get participantRtcIdList(){return this.participantList.map(e=>e.rtcId)}get participantIdList(){return this.participantList.map(e=>e.participantId)}get participantRoomList(){return this.participantList.filter(e=>e.type===a.ParticipantType.ROOM)}get dynamicLayoutParticipantList(){return[]}}H([r.p],B.prototype,"speechParticipantIdList",void 0),H([r.p],B.prototype,"participantRankIdList",void 0),H([r.p],B.prototype,"rankedParticipantList",void 0),H([r.p],B.prototype,"filterParticipantUserIds",void 0),H([r.h],B.prototype,"userStore",null),H([r.h],B.prototype,"participantsMap",null),H([r.h],B.prototype,"participantList",null),H([r.h],B.prototype,"othersParticipantList",null),H([r.h],B.prototype,"onTheCallParticipantList",null),H([r.h],B.prototype,"onTheCallRtcIdsMap",null),H([r.h],B.prototype,"onTheCallParticipantIdsMap",null),H([r.h],B.prototype,"onTheCallUserIdsMap",null),H([r.h],B.prototype,"ringingParticipantList",null),H([r.h],B.prototype,"ringingParticipantsMap",null),H([r.h],B.prototype,"waitingParticipantList",null),H([r.h],B.prototype,"waitingParticipantsMap",null),H([r.h],B.prototype,"handsUpParticipantList",null),H([r.h],B.prototype,"onTheCallParticipantListExcludeMe",null),H([r.h],B.prototype,"participantRtcIdList",null),H([r.h],B.prototype,"participantIdList",null),H([r.h],B.prototype,"participantRoomList",null),H([r.h],B.prototype,"dynamicLayoutParticipantList",null),H([r.f],B.prototype,"setSpeechParticipantIdList",void 0),H([r.f],B.prototype,"setFilterParticipantUserIdList",void 0),H([r.f],B.prototype,"rankParticipantList",void 0);var F=B,j=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};class W{constructor(e,t){this.pageSize=0,this.pageOffset=0,this.toPrev=()=>{if(!this.hasPrev)return;const e=this.pageOffset-this.pageSize;this.pageOffset=e,this.ensureOffsetRange()},this.toNext=()=>{if(!this.hasNext)return;const e=this.pageOffset+this.pageSize;this.pageOffset=e,this.ensureOffsetRange()},this.handleUserChange=()=>{this.ensureOffsetRange()},this.ensureOffsetRange=()=>{const e=this.userList.length-this.pageSize>0?this.userList.length-this.pageSize:0;this.pageOffset<0&&(this.pageOffset=0),this.pageOffset>e&&(this.pageOffset=e)},this.setPageSize=e=>{e&&this.pageSize!==e&&(this.pageSize=e),this.ensureOffsetRange()},this.rootStore=e,this.sourceManager=t}get userList(){return this.rootStore.userStore.rankedParticipantList.filter(e=>e.status!==a.ParticipantStatus.UNKNOWN)}get hasPrev(){return this.pageOffset>0}get hasNext(){return this.userList.length>this.pageOffset+this.pageSize}get currentParticipants(){return this.userList.slice(this.pageOffset,this.pageOffset+this.pageSize)}}j([r.p],W.prototype,"pageSize",void 0),j([r.p],W.prototype,"pageOffset",void 0),j([r.h],W.prototype,"userList",null),j([r.h],W.prototype,"hasPrev",null),j([r.h],W.prototype,"hasNext",null),j([r.h],W.prototype,"currentParticipants",null),j([r.f],W.prototype,"toPrev",void 0),j([r.f],W.prototype,"toNext",void 0),j([r.f],W.prototype,"handleUserChange",void 0),j([r.f],W.prototype,"ensureOffsetRange",void 0),j([r.f],W.prototype,"setPageSize",void 0);var x=i(273),K=i(390),q=i(383);var Y=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};class J{constructor(e,t){this.pageSize=9,this.pageOffset=0,this.cachedUserIdList=[],this.userIdListInView=[],this.activeSpeakerId="",this.status={hasPrev:!1,hasNext:!1},this.toPrev=()=>{if(!this.hasPrev)return;const e=this.pageOffset-this.pageSize;if(e<=0)this.pageOffset=0,this.swapActiveSpeakerToFirstPage();else{const t=this.cachedUserIdList.slice(e,this.pageOffset);!this.activeSpeakerId||t.includes(this.activeSpeakerId)?this.pageOffset=e:this.pageOffset=e-1}this.ensureOffsetRange(),this.updateUserListInView()},this.toNext=()=>{this.hasNext&&(this.pageOffset=this.nextStartFrom,this.ensureOffsetRange(),this.updateUserListInView())},this.handleUserChange=()=>{const{added:e,removed:t}=(i=this.cachedUserIdList,n=this.userIdList,{added:Object(q.a)(n,i),removed:Object(q.a)(i,n)});var i,n;e.length&&this.handleUserJoin(e),t.length&&this.handleUserLeave(t)},this.handleUserJoin=e=>{const t=0===this.cachedUserIdList.length;this.cachedUserIdList=[...this.cachedUserIdList,...e],t&&this.initSortUserList(),this.updateUserListInView()},this.handleUserLeave=e=>{e.includes(this.activeSpeakerId)&&(this.activeSpeakerId="");const t=e.filter(e=>{const t=this.cachedUserIdList.indexOf(e);return t>-1&&t<this.pageOffset});this.pageOffset-=t.length,Object(x.a)(this.cachedUserIdList,e),this.ensureOffsetRange(),this.updateUserListInView()},this.handleActiveSpeakerChange=e=>{e&&e!==this.activeSpeakerId&&(this.activeSpeakerId=e,this.userIdListInView.includes(e)||(0===this.pageOffset&&this.swapActiveSpeakerToFirstPage(),this.updateUserListInView()))},this.updateUserListInView=()=>{const e=this.cachedUserIdList.slice(this.pageOffset,this.pageSize+this.pageOffset);0!==this.pageOffset&&this.activeSpeakerId?this.userIdListInView=Object(V.a)([this.activeSpeakerId,...e]).slice(0,this.pageSize):this.userIdListInView=e,s.c.info(`[GalleryListPagination] updateUserListInView: idList '${this.userIdListInView}'`),this.updateStatus()},this.updateStatus=()=>{const e=this.cachedUserIdList.slice(this.nextStartFrom);let t;t=this.activeSpeakerId&&e.includes(this.activeSpeakerId)?e.length>1:e.length>0,this.status={hasPrev:this.pageOffset>0,hasNext:t},s.c.info(`[GalleryListPagination] updateStatus: offset ${this.pageOffset}, restList '${e}', asId '${this.activeSpeakerId}', cachedUserIdList '${this.cachedUserIdList}'`)},this.initSortUserList=()=>{this.cachedUserIdList=Object(V.a)([this.currentUserRtcId,...this.cachedUserIdList])},this.swapActiveSpeakerToFirstPage=()=>{if(this.cachedUserIdList.slice(0,this.pageSize).includes(this.activeSpeakerId))return;const e=this.cachedUserIdList.indexOf(this.activeSpeakerId);((e,t,i)=>{if(t<0||i<0||t>e.length-1||i>e.length-1)return;const n=e[t],r=e[i];e[t]=r,e[i]=n})(this.cachedUserIdList,this.userIdIndexWithMinWeightInFirstPage,e)},this.ensureOffsetRange=()=>{let e=0;if(this.cachedUserIdList.length<=this.pageSize)e=0;else{e=this.cachedUserIdList.length-this.pageSize;const t=this.cachedUserIdList.length-this.pageSize+1,i=this.cachedUserIdList.slice(t);this.activeSpeakerId&&!i.includes(this.activeSpeakerId)&&(e=t)}this.pageOffset<0&&(this.pageOffset=0),this.pageOffset>e&&(this.pageOffset=e)},this.setPageSize=e=>{e&&this.pageSize!==e&&(this.pageSize=e,this.ensureOffsetRange(),this.updateUserListInView())},this.rootStore=e,this.sourceManager=t}get userList(){return this.sourceManager.users.filter(e=>e.status!==a.ParticipantStatus.UNKNOWN)}get userIdList(){return this.userList.map(e=>e.rtcId||e.id)}get usersMap(){return this.sourceManager.usersMap}get currentUserRtcId(){return this.rootStore.userStore.currentRtcId}get hasPrev(){return this.status.hasPrev}get hasNext(){return this.status.hasNext}get currentParticipants(){return this.userIdListInView.map(e=>this.sourceManager.rtcIdMap[e])}get userIdIndexWithMinWeightInFirstPage(){const e=this.cachedUserIdList.slice(1,this.pageSize).map(e=>this.sourceManager.rtcIdMap[e]),t=Object(K.a)(e,e=>e.weight),i=t?t.rtcId||t.id:"",n=this.cachedUserIdList.indexOf(i);return n<0?1:n}get currentPageHasAS(){if(!this.activeSpeakerId)return!1;if(0===this.pageOffset)return!0;return this.cachedUserIdList.slice(this.pageOffset,this.pageOffset+this.pageSize).includes(this.activeSpeakerId)}get nextStartFrom(){const e=this.pageOffset>0&&this.activeSpeakerId&&!this.currentPageHasAS?1:0;return this.pageOffset+this.pageSize-e}}Y([r.p],J.prototype,"pageSize",void 0),Y([r.p],J.prototype,"pageOffset",void 0),Y([r.p],J.prototype,"cachedUserIdList",void 0),Y([r.p],J.prototype,"userIdListInView",void 0),Y([r.p],J.prototype,"activeSpeakerId",void 0),Y([r.p],J.prototype,"status",void 0),Y([r.h],J.prototype,"userList",null),Y([r.h],J.prototype,"userIdList",null),Y([r.h],J.prototype,"usersMap",null),Y([r.h],J.prototype,"currentUserRtcId",null),Y([r.h],J.prototype,"hasPrev",null),Y([r.h],J.prototype,"hasNext",null),Y([r.h],J.prototype,"currentParticipants",null),Y([r.h],J.prototype,"userIdIndexWithMinWeightInFirstPage",null),Y([r.h],J.prototype,"currentPageHasAS",null),Y([r.h],J.prototype,"nextStartFrom",null),Y([r.f],J.prototype,"toPrev",void 0),Y([r.f],J.prototype,"toNext",void 0),Y([r.f],J.prototype,"handleUserChange",void 0),Y([r.f],J.prototype,"handleUserJoin",void 0),Y([r.f],J.prototype,"handleUserLeave",void 0),Y([r.f],J.prototype,"handleActiveSpeakerChange",void 0),Y([r.f],J.prototype,"updateUserListInView",void 0),Y([r.f],J.prototype,"updateStatus",void 0),Y([r.f],J.prototype,"initSortUserList",void 0),Y([r.f],J.prototype,"swapActiveSpeakerToFirstPage",void 0),Y([r.f],J.prototype,"ensureOffsetRange",void 0),Y([r.f],J.prototype,"setPageSize",void 0);var z=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};class X{constructor(e,t){this.currentUserId="",this.currentDeviceId="",this.currentParticipantId="",this.hostUserId="",this.hostDeviceId="",this.targetUserId="",this.initCurrentUser=()=>{this.currentParticipantId=Object(v.b)(this.currentUserId,this.currentDeviceId),this.currentUserId?this.sourceManager.initChatterInfo(a.ParticipantType.LARK_USER,this.currentUserId,this.currentDeviceId):s.c.info("Miss current user id")},this.setCurrentUserId=e=>{this.currentUserId!==e&&(this.currentUserId=e)},this.setCurrentDeviceId=e=>{this.currentDeviceId!==e&&(this.currentDeviceId=e,this.currentParticipantId=Object(v.b)(this.currentUserId,this.currentDeviceId))},this.setTargetUserId=e=>{this.targetUserId!==e&&(this.targetUserId=e,this.sourceManager.initChatterInfo(a.ParticipantType.LARK_USER,e))},this.setInviter=(e,t)=>{e&&(this.targetUserId=e,this.sourceManager.initChatterInfo(t,e))},this.setHostIds=(e,t)=>{const i=e!==this.hostUserId,n=t!==this.hostDeviceId;i&&(this.hostUserId=e),n&&(this.hostDeviceId=t),(i||n)&&this.userStore.rankParticipantList()},this.rootStore=e,this.sourceManager=t}get userStore(){return this.rootStore.userStore}get hostParticipantId(){return Object(v.b)(this.hostUserId,this.hostDeviceId)}get currentUser(){return this.userStore.participantsMap[this.currentParticipantId]||{}}get targetUser(){return this.userStore.participantsMap[this.targetUserId]}get targetUserIn1V1Meeting(){let e;for(const t of this.userStore.participantList)t.id!==this.currentUserId&&(e=t);return e}get fallbackUser(){return this.userStore.participantList[0]||this.currentUser}get callMainVideoUser(){const{userStore:e,meetingStore:t}=this.rootStore,{participantsMap:i,participantList:n,targetUser:r}=e,{callViewMain:o}=t;return n.find(e=>e.id===o)||r||this.fallbackUser}get meetingMainVideoUser(){const{shareScreenStore:e,meetingStore:t,userStore:i}=this.rootStore,{participantsMap:n,participantIdList:r,onTheCallParticipantList:o}=i,{pinedId:s,activeSpeakerParticipantId:a,isPinedInSharing:d}=t,{sharingParticipantId:c,sharingFollowParticipantId:l}=e,{currentParticipantId:p}=this;return n[(d&&s?s:"")||(p===c?"":c)||l||s||(a&&r.includes(a)?a:"")]||o.find(e=>e.participantId!==p)||this.fallbackUser}get meetingPopupMiniUser(){return this.currentUser}get callPopupMiniUser(){const{meetingStore:e,userStore:t}=this.rootStore,{participantList:i}=t,{callViewMain:n}=e;return i.find(e=>e.id!==n)||this.fallbackUser}get popupShareScreenUsers(){const{userStore:e,meetingStore:t}=this.rootStore,{currentUser:i,participantList:n,rtcIdMap:r}=e,{activeSpeaker:o}=t,s=i,a=o&&o!==s.rtcId?r[o]:n.find(e=>e.participantId!==s.participantId);return a?[a,s]:[s]}get callMiniVideoPageUser(){return this.targetUser||this.fallbackUser}get meetingMiniVideoPageUser(){const{meetingStore:e,userStore:t}=this.rootStore,{onTheCallParticipantList:i}=t,{activeSpeaker:n}=e;return i.find(e=>e.rtcId===n||e.id===n)||i[0]||this.fallbackUser}}z([r.p],X.prototype,"currentUserId",void 0),z([r.p],X.prototype,"currentDeviceId",void 0),z([r.p],X.prototype,"currentParticipantId",void 0),z([r.p],X.prototype,"hostUserId",void 0),z([r.p],X.prototype,"hostDeviceId",void 0),z([r.p],X.prototype,"targetUserId",void 0),z([r.h],X.prototype,"userStore",null),z([r.h],X.prototype,"hostParticipantId",null),z([r.h],X.prototype,"currentUser",null),z([r.h],X.prototype,"targetUser",null),z([r.h],X.prototype,"targetUserIn1V1Meeting",null),z([r.h],X.prototype,"fallbackUser",null),z([r.h],X.prototype,"callMainVideoUser",null),z([r.h],X.prototype,"meetingMainVideoUser",null),z([r.h],X.prototype,"meetingPopupMiniUser",null),z([r.h],X.prototype,"callPopupMiniUser",null),z([r.h],X.prototype,"popupShareScreenUsers",null),z([r.h],X.prototype,"callMiniVideoPageUser",null),z([r.h],X.prototype,"meetingMiniVideoPageUser",null),z([r.f],X.prototype,"initCurrentUser",void 0),z([r.f],X.prototype,"setCurrentUserId",void 0),z([r.f],X.prototype,"setCurrentDeviceId",void 0),z([r.f],X.prototype,"setTargetUserId",void 0),z([r.f],X.prototype,"setInviter",void 0),z([r.f],X.prototype,"setHostIds",void 0);var Q=X,$=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Z=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const ee=s.a.getLogger("user-store");class te extends o.a{constructor(){super(...arguments),this.sourceManager=new G(this.rootStore),this.participantListManager=new F(this.rootStore,this.sourceManager),this.sideListPagination=new W(this.rootStore,this.sourceManager),this.galleryListPagination=new J(this.rootStore,this.sourceManager),this.userManager=new Q(this.rootStore,this.sourceManager),this.syncParticipants=this.sourceManager.syncParticipants,this.setSpeechParticipantIdList=this.participantListManager.setSpeechParticipantIdList,this.rankParticipantList=this.participantListManager.rankParticipantList,this.toRankedPrev=this.sideListPagination.toPrev,this.toRankedNext=this.sideListPagination.toNext,this.setRankedPageSize=this.sideListPagination.setPageSize,this.updateUserInSideList=this.sideListPagination.handleUserChange,this.toGalleryPrev=this.galleryListPagination.toPrev,this.toGalleryNext=this.galleryListPagination.toNext,this.updateUserInGalleryList=this.galleryListPagination.handleUserChange,this.updateASInGalleryList=this.galleryListPagination.handleActiveSpeakerChange,this.setCurrentDeviceId=this.userManager.setCurrentDeviceId,this.setCurrentUserId=this.userManager.setCurrentUserId,this.initCurrentUser=this.userManager.initCurrentUser,this.setTargetUserId=this.userManager.setTargetUserId,this.setInviter=this.userManager.setInviter,this.setHostIds=this.userManager.setHostIds}get rtcIdMap(){return this.sourceManager.rtcIdMap}get isParticipantUnread(){return!1}get participantsMap(){return this.participantListManager.participantsMap}get onTheCallRtcIdsMap(){return this.participantListManager.onTheCallRtcIdsMap}get ringingParticipantsMap(){return this.participantListManager.ringingParticipantsMap}get waitingParticipantsMap(){return this.participantListManager.waitingParticipantsMap}get participantList(){return this.participantListManager.participantList}get onTheCallUserIdsMap(){return this.participantListManager.onTheCallUserIdsMap}get ringingParticipantList(){return this.participantListManager.ringingParticipantList}get waitingParticipantList(){return this.participantListManager.waitingParticipantList}get onTheCallParticipantList(){return this.participantListManager.onTheCallParticipantList}get participantCount(){return this.onTheCallParticipantList.length+this.ringingParticipantList.length}get rankedParticipantList(){return this.participantListManager.rankedParticipantList}get onTheCallParticipantListExcludeMe(){return this.participantListManager.onTheCallParticipantListExcludeMe}get participantRtcIdList(){return this.participantListManager.participantRtcIdList}get participantIdList(){return this.participantListManager.participantIdList}get participantRoomList(){return this.participantListManager.participantRoomList}get dynamicLayoutParticipantList(){return this.participantListManager.dynamicLayoutParticipantList}get handsUpParticipantList(){return this.participantListManager.handsUpParticipantList}get currentRankedParticipantList(){return this.sideListPagination.currentParticipants}get hasRankedPrev(){return this.sideListPagination.hasPrev}get hasRankedNext(){return this.sideListPagination.hasNext}get currentGalleryParticipantList(){return this.galleryListPagination.currentParticipants}get hasGalleryPrev(){return this.galleryListPagination.hasPrev}get hasGalleryNext(){return this.galleryListPagination.hasNext}get currentUserId(){return this.userManager.currentUserId}get currentByteviewUser(){return{userId:this.currentUserId,deviceId:this.currentDeviceId,userType:this.currentUser.type}}get currentDeviceId(){return this.userManager.currentDeviceId}get currentRtcId(){return this.currentUser.rtcId}get currentParticipantId(){return this.userManager.currentParticipantId}get targetUserId(){return this.userManager.targetUserId}get hostUserId(){return this.userManager.hostUserId}get hostDeviceId(){return this.userManager.hostDeviceId}get hostParticipantId(){return this.userManager.hostParticipantId}get currentUser(){return this.userManager.currentUser}get targetUser(){return this.userManager.targetUser}get targetUserIn1V1Meeting(){return this.userManager.targetUserIn1V1Meeting}get callMainVideoUser(){return this.userManager.callMainVideoUser}get meetingMainVideoUser(){return this.userManager.meetingMainVideoUser}get meetingPopupMiniUser(){return this.userManager.meetingPopupMiniUser}get callPopupMiniUser(){return this.userManager.callPopupMiniUser}get popupShareScreenUsers(){return this.userManager.popupShareScreenUsers}get callMiniVideoPageUser(){return this.userManager.callMiniVideoPageUser}get meetingMiniVideoPageUser(){return this.userManager.meetingMiniVideoPageUser}get speakingUser(){return this.participantList.find(e=>e.isSpeaking)}get host(){return this.participantsMap[this.hostParticipantId]}get isExternalMeeting(){return!!this.participantList.find(e=>e.isExternal)}updateCurrentUserDeviceStatus({cameraStatus:e,microphoneStatus:t}){const i={};e&&(i.cameraStatus=e),t&&(i.microphoneStatus=t),a.EquipmentStatus.NORMAL,a.EquipmentStatus.NORMAL,this.byteviewApi.setDeviceStatus(i)}trySetUserMicStatus(e,t,i){const{allowPartiUnmute:n=!1}=this.rootStore.conferenceStore.meetingSettings,{hasHostControl:r,hasCoHostControl:o}=this.rootStore.conferenceStore,a=i||this.currentUser,{participantId:d}=a,c=!d||d===this.currentParticipantId;if(n||e)return ee.info(["[micMute]","trySetUserMicStatus",`allowPartiUnmute: ${n} || muted: ${e}`].join("\n")),void this.setUserMicStatus(e,t,!1,d);if(ee.info(["[micMute]","trySetUserMicStatus","I'm host or need confirm",`isTargetMyself: ${c} hasHostControl: ${r} || hasCoHostControl: ${o}`].join("\n")),c)if(r||o)this.setUserMicStatus(e,t,!1,d);else{const{isHandsUp:e}=this.currentUser;e?(s.c.info("trySetUserMicStatus user lower hand"),this.lowerHand()):(s.c.info("trySetUserMicStatus user raise hand"),this.raiseHand())}else(r||o)&&(i&&i.isHandsUp?(s.c.info("trySetUserMicStatus approval user handsup: "+i.deviceId),this.approvalHandsUp(i)):this.setUserMicStatus(e,t,!1,d))}setUserMicStatus(e,t,i,n){const r=n||this.currentParticipantId;if(this.participantsMap[r]&&(t||this.participantsMap[r].isMicrophoneMuted!==e)){const t=this.participantsMap[r].id,n=this.participantsMap[r].deviceId,o=this.participantsMap[r].type;e?this.byteviewApi.muteAudio({participantDeviceId:n,participantId:t,participantType:o}):this.byteviewApi.unMuteAudio({participantDeviceId:n,participantId:t,participantType:o,requestedByHost:i}),ee.info(["[micMute]",`setUserMicStatus complete muted to ${e}!`,`participantDeviceId: ${n}, participantId: ${t}, participantType: ${o}, requestedByHost: ${i}`].join("\n"))}}setUserCameraStatus(e,t,i,n){const r=n||this.currentParticipantId;if(this.participantsMap[r]&&(t||this.participantsMap[r].isCameraMuted!==e)){const t=this.participantsMap[r].id,n=this.participantsMap[r].deviceId,o=this.participantsMap[r].type;e?this.byteviewApi.muteVideo({participantDeviceId:n,participantId:t,participantType:o}):this.byteviewApi.unMuteVideo({participantDeviceId:n,participantId:t,participantType:o,requestedByHost:i}),ee.info(["[cameraMute]",`setUserCameraStatus complete muted to ${e}!`,`participantDeviceId: ${n}, participantId: ${t}, participantType: ${o}, requestedByHost: ${i}`].join("\n"))}}kickoutParticipant(e){}approvalHandsUp(e){}rejectHandsUp(e){}raiseHand(){s.c.info("raiseHand confirming"),this.openHandsUpConfirm(!0)}lowerHand(e){const t=e||this.currentUser;t.participantId===this.currentUser.participantId?(s.c.info("lowerHand confirming"),this.openHandsUpConfirm(!1)):(s.c.info("lowerHand host lower user's hand"),this.rejectHandsUp(t))}openHandsUpConfirm(e=!1){return Z(this,void 0,void 0,(function*(){this.rootStore.appStore.setHandsUpConfirmModalData({visible:!0,isRaiseHand:e})}))}closeHandsUpConfirm(){return Z(this,void 0,void 0,(function*(){s.c.info("closeHandsUpConfirm"),this.rootStore.appStore.setHandsUpConfirmModalData({visible:!1,isRaiseHand:!1})}))}}$([r.f],te.prototype,"syncParticipants",void 0),$([r.h],te.prototype,"isParticipantUnread",null),$([r.h],te.prototype,"participantsMap",null),$([r.h],te.prototype,"onTheCallRtcIdsMap",null),$([r.h],te.prototype,"ringingParticipantsMap",null),$([r.h],te.prototype,"waitingParticipantsMap",null),$([r.h],te.prototype,"participantList",null),$([r.h],te.prototype,"onTheCallUserIdsMap",null),$([r.h],te.prototype,"ringingParticipantList",null),$([r.h],te.prototype,"waitingParticipantList",null),$([r.h],te.prototype,"onTheCallParticipantList",null),$([r.h],te.prototype,"participantCount",null),$([r.h],te.prototype,"rankedParticipantList",null),$([r.h],te.prototype,"onTheCallParticipantListExcludeMe",null),$([r.h],te.prototype,"participantRtcIdList",null),$([r.h],te.prototype,"participantIdList",null),$([r.h],te.prototype,"participantRoomList",null),$([r.h],te.prototype,"dynamicLayoutParticipantList",null),$([r.h],te.prototype,"handsUpParticipantList",null),$([r.f],te.prototype,"setSpeechParticipantIdList",void 0),$([r.f],te.prototype,"rankParticipantList",void 0),$([r.h],te.prototype,"currentRankedParticipantList",null),$([r.h],te.prototype,"hasRankedPrev",null),$([r.h],te.prototype,"hasRankedNext",null),$([r.f],te.prototype,"toRankedPrev",void 0),$([r.f],te.prototype,"toRankedNext",void 0),$([r.f],te.prototype,"setRankedPageSize",void 0),$([r.f],te.prototype,"updateUserInSideList",void 0),$([r.h],te.prototype,"currentGalleryParticipantList",null),$([r.h],te.prototype,"hasGalleryPrev",null),$([r.h],te.prototype,"hasGalleryNext",null),$([r.f],te.prototype,"toGalleryPrev",void 0),$([r.f],te.prototype,"toGalleryNext",void 0),$([r.f],te.prototype,"updateUserInGalleryList",void 0),$([r.f],te.prototype,"updateASInGalleryList",void 0),$([r.h],te.prototype,"currentUserId",null),$([r.h],te.prototype,"currentByteviewUser",null),$([r.h],te.prototype,"currentDeviceId",null),$([r.h],te.prototype,"currentRtcId",null),$([r.h],te.prototype,"currentParticipantId",null),$([r.h],te.prototype,"targetUserId",null),$([r.h],te.prototype,"hostUserId",null),$([r.h],te.prototype,"hostDeviceId",null),$([r.h],te.prototype,"hostParticipantId",null),$([r.h],te.prototype,"currentUser",null),$([r.h],te.prototype,"targetUser",null),$([r.h],te.prototype,"targetUserIn1V1Meeting",null),$([r.h],te.prototype,"callMainVideoUser",null),$([r.h],te.prototype,"meetingMainVideoUser",null),$([r.h],te.prototype,"meetingPopupMiniUser",null),$([r.h],te.prototype,"callPopupMiniUser",null),$([r.h],te.prototype,"popupShareScreenUsers",null),$([r.h],te.prototype,"callMiniVideoPageUser",null),$([r.h],te.prototype,"meetingMiniVideoPageUser",null),$([r.h],te.prototype,"speakingUser",null),$([r.h],te.prototype,"host",null),$([r.h],te.prototype,"isExternalMeeting",null),$([r.f],te.prototype,"setCurrentDeviceId",void 0),$([r.f],te.prototype,"setCurrentUserId",void 0),$([r.f],te.prototype,"initCurrentUser",void 0),$([r.f],te.prototype,"setTargetUserId",void 0),$([r.f],te.prototype,"setInviter",void 0),$([r.f],te.prototype,"setHostIds",void 0),$([r.f],te.prototype,"updateCurrentUserDeviceStatus",null),$([r.f],te.prototype,"trySetUserMicStatus",null),$([r.f],te.prototype,"setUserMicStatus",null),$([r.f],te.prototype,"setUserCameraStatus",null),$([r.f],te.prototype,"kickoutParticipant",null),$([r.f],te.prototype,"approvalHandsUp",null),$([r.f],te.prototype,"rejectHandsUp",null),$([r.f],te.prototype,"raiseHand",null),$([r.f],te.prototype,"lowerHand",null),$([r.f],te.prototype,"openHandsUpConfirm",null),$([r.f],te.prototype,"closeHandsUpConfirm",null);var ie=i(199),ne=i(43),re=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};class oe extends o.a{constructor(e){super(e),this.meeting={},this.preview={previewPageUsage:a.PreviewPageUsage.JOIN,meetingSource:a.MeetingSource.VC_FROM_USER},this.inMeetingConfirm={},this.end={},this.hangupConfirm={},this.accessibilityConfirm={},this.pstnInfo={},this.endReason=ne.b.NONE,this.isInMeeting=!1,this.needHangupBeforeunload=!0,this.history=Object(ie.a)({basename:"/w"}),this.init()}init(){}initPageName(e){}initPageData(){}get isUsageJoin(){return!0}setPreviewTopic(e){this[a.PageName.PREVIEW].topic=e}setPageData(e,t){const i=e;this[i]=Object.assign(Object.assign({},this[i]),t)}setEndReason(e){this.endReason=e}}re([r.p],oe.prototype,"meeting",void 0),re([r.p],oe.prototype,"preview",void 0),re([r.p],oe.prototype,"inMeetingConfirm",void 0),re([r.p],oe.prototype,"end",void 0),re([r.p],oe.prototype,"hangupConfirm",void 0),re([r.p],oe.prototype,"accessibilityConfirm",void 0),re([r.p],oe.prototype,"pstnInfo",void 0),re([r.p],oe.prototype,"endReason",void 0),re([r.p],oe.prototype,"history",void 0),re([r.h],oe.prototype,"isUsageJoin",null),re([r.f],oe.prototype,"setPreviewTopic",null),re([r.f],oe.prototype,"setPageData",null),re([r.f],oe.prototype,"setEndReason",null);var se=i(20),ae=i(142),de=i(106),ce=i(153),le=i(44),pe=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},ue=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const _e=[{max:9,mode:180}],Ee=[{max:1,mode:720},{max:4,mode:360},{max:9,mode:180}];class he extends o.a{constructor(e,t){super(e),this.netWorkStatus=a.NetWorkStatus.ONLINE,this.isSharingMode=!1,this.notice=null,this.pinedId="",this.isPinedInSharing=!1,this.callViewMain="",this.activeSpeaker="",this.speakerViewBottomCollapsed=!1,this.meetingLeftWidth=0,this.meetingTimeTrigger=0,this.displayMode=n.b.VIDEO,this.shouldRecoverDisplayMode=!1,this.isShowBrowserDeviceAccessModal=!1,this.participationMode=n.d.STANDARD,this.canAutoSwitchParticipationMode=!0,this.isParticipationModeAutoSwitched=!1,this.participationModeConfirmStatus="initial",this.dragAndDockX=0,this.dragAndDockY=0,this.controlBarVisible=!0,this.isHostControlOpen=!1,this.isMoreOperationsOpen=!1,this.recordingBtnTimer=-1,this.isRecordingBtnDisabled=!1,this.mainMode=720,this.thumbnailMode=240,this.floatMode=240,this.galleryMode=Ee,this.asParticipantMode=_e,this.controlBarDepKeys=[],this.isQuickShareScreenEnabled=!1,this.isMeetingSpaceFGEnabled=!1,this.isMeetingSpaceInterviewerFGEnabled=!1,this.meetingSpaceRedDot=!1,this.mainViews=new ae.b(this.rootStore),this.intervieweeResumeUrl="",this.meetingSpaceTitle="",this.isInterviewerNoticeEnabled=!1,this.hasFirstRemoteAudioFrameReceived=!1,this.isCallConnectingStatusEnabled=!1,this.adminSettings=null,this.controlbarStatus=null,this.nextControlbarStatus=null,this.meetingLayoutMounted=!1,this.controlbarLeft=null,this.bodyHeight=null,this.bodyWidth=null,this.bannerNoticeItems=[],this.dynamicBtnsShownInMoreIcon=new Map(de.e.map(e=>[e.selector,!1])),this.activeSpeakerTickTime=2,this.dynamicLayoutDisappearCycle=3,this.galleryStatus=new Set,this.hasAccessibilityAuthorization=!0,this.featureConfig={},this.hasInitFeatureConfig={[a.VideoChatType.MEETING]:!1,[a.VideoChatType.CALL]:!1},this.inMeetingConfirmModalData={},this.isAdBlockEnabled=!1,this.showLoadModal=!1,this.enableBeautyEffect=!1,this.showMeetNumber=!1,this.timer=null,this.vcconfig={},this.isShowFollow=!1,this.recordMeetingFgEnabled=!1,this.isTouchBarEnabled=!1,this.isProfileFgEnabled=!1,this.isSubtitleFgEnabled=!1,this.hasShowMuteOnEntryToast=!1,this.isMuteOnEntryEnabled=!1,this.isV2pcsdklogversionEnabled=!1,this.isSketchEnabled=!1,this.isShowSketchEnabled=!1,this.isMiniVideoShowSketch=!1,this.isSketchEnableUnstableFeatures=!1,this.isShareScreenChooseModalEnabled=!1,this.isShareAudioEnabled=!1,this.isSubtitleRecordEnabled=!1,this.isParticipantWeakNetworkEnabled=!1,this.isWhiteboardEnabled=!1,this.isWindowProfileFgEnabled=!1,this.isCopymeetinglinkFgEnabled=!1,this.isMagicShareUploadEnabled=!1,this.isGoogleDriveEnabled=!1,this.isMagicShareNewDocsEnabled=!1,this.isVCLabEnabled=!1,this.isBackgroundBlurEnabled=!1,this.isNoiseCancellingEnabled=!1,this.isFaceBeautyEnabled=!1,this.isDynamicLayoutEnabled=!1,this.isVideoEnhanceEnabled=!1,this.isVideoEnhanceDefaultOpenEnabled=!1,this.isBackgroundNoiseRemoveEnabled=!1,this.isInteractionEnabled=!1,this.isSubtitleBtnInControlbarEnabled=!1,this.isDynamicLayoutDefaultOpenEnabled=!1,this.isMagicShareUniversalEnabled=!1,this.isMagicShareNewDocsTypeDocEnabled=!1,this.isMagicShareNewDocsTypeSheetEnabled=!1,this.isMagicShareNewDocsTypeMindnoteEnabled=!1,this.isMagicSharePresenterPositionGuideEnabled=!1,this.isMagicShareCCMCustomizedRenderEnabled=!1,this.isVirtualListParticipantsEnabled=!0,this.isScreenShareDynamicFPSEnabled=!1,this.isCanvas2dRenderEnable=!1,this.isRemoteControlBystanderEnabled=!1,this.isSpokenLangSettingEnbled=!1,this.isGalleryViewEnabled=!0,this.hasSettedDefaultSidebar=!1,this.disableWindowResizeForFirstTime=!1,this.isVcDoctorEnable=!1,this.isFaceBeautyDefaultOpenEnabled=!1,this.isMutePromptEnabled=!1,this.isSmoothShareScreenEnabled=!1,this.isLobbyEnabled=!1,this.isNativeNotificationEnable=!1,this.isForcedMuteEnable=!1,this.isLocalWeakNetworkEnabled=!1,this.isPageManagerSwitchEnabled=!1,this.isInputAudioVolumeControlEnabled=!1,this.interviewUId="",this.init=()=>{this.updateVideoChatConfig(),this.setVideoProfiles()},this.updateDragAndDockPosition=e=>{this.dragAndDockX=e.x,this.dragAndDockY=e.y},this.initDragAndDockPosition=()=>{this.updateDragAndDockPosition({x:12,y:12})},this.clearPinedFlagInSharing=()=>{this.isPinedInSharing=!1},this.updateMeetingTime=()=>{this.meetingTimeTrigger+=1;const e=1e3-Date.now()%1e3;this.timer=setTimeout(()=>{this.updateMeetingTime()},e)},this.bannerToast=e=>{this.bannerNoticeItems.push(e)},this.bannerToastCloseByTag=e=>{this.bannerNoticeItems=this.bannerNoticeItems.filter(t=>e!==t.tag)},this.bannerToastUpdate=e=>{const{key:t}=e;for(let i=0;i<this.bannerNoticeItems.length;i++){if(this.bannerNoticeItems[i].key===t)return void this.bannerNoticeItems.splice(i,1,e)}this.bannerToast(e)},this.fetchDynamicSettings=()=>ue(this,void 0,void 0,(function*(){const e=[{key:a.SettingConfig.VC_ACTIVE_SPEAKER_CONFIG,defaultValue:"{}"},{key:a.SettingConfig.VC_DYNAMIC_LAYOUT_CONFIG,defaultValue:"{}"}],t=yield u.a.request(a.Command.GET_SETTINGS,{fields:e.map(e=>e.key)}),{fieldGroups:i={}}=t,n=e.map(e=>{const{key:t,defaultValue:n}=e,r=i[t]||n;try{return JSON.parse(r)}catch(e){return JSON.parse(n)}}),r=n[0]&&n[0].tickTime;void 0!==r&&(this.activeSpeakerTickTime=r);const o=n[1]&&n[1].disappearCycle;void 0!==o&&(this.dynamicLayoutDisappearCycle=o)})),this.clearGalleryStatus=()=>{this.galleryStatus.clear()},this.setLoadModalStatus=e=>{this.showLoadModal=e},this.mainViews.toTop(ae.a.VIDEO),this.layout=t}get isSidebarPopup(){return!this.layout.hasSidebar}get isFastMode(){return!1}get isSidebarMaskVisible(){return!1}get isMeetingSpaceEnabled(){return!1}get isSubtitleEnabled(){return!1}get recordMeetingEnabled(){return!!this.adminSettings&&this.adminSettings.enableRecord}get isCopymeetinglinkEnabled(){return!0}get isSubtitleShow(){return!1}get viewHeightWithoutTop(){const{bodyHeight:e}=this;return e?e-40:null}get mainViewHeight(){const{viewHeightWithoutTop:e,isSubtitleShow:t}=this;if(!e)return null;let i=e;return t&&(i-=105),i}get mainViewWidth(){const{bodyWidth:e,layout:t}=this,{viewType:i,sidebar:n}=t;if(!e)return 0;let r=e;return n!==ce.a.none&&(r-=280),i===ce.b.activeSpeaker&&(r-=208),r}get shouldShowNativeHangup(){return!1}setInMeetingConfirmModalData(e){this.inMeetingConfirmModalData=e}get activeSpeakerParticipantId(){if(this.activeSpeaker){const e=this.rootStore.userStore.rtcIdMap[this.activeSpeaker];return e?e.participantId:""}return""}setRecordingHover(e){return ue(this,void 0,void 0,(function*(){try{const t=e.params.name;if(!t)return void(this.recordingHover=void 0);if(this.recordingHover&&this.recordingHover.params.userId===t)return e.params.name=this.recordingHover.params.name,this.recordingHover=e,void(this.recordingHover.params.userId=t);const i=(yield u.a.request(a.Command.GET_USERS,[t]))[0];e.params.name=i.localizedName||i.name,this.recordingHover=e,this.recordingHover.params.userId=t}catch(e){this.recordingHover=void 0}}))}setFeatureConfig(e,t){this.hasInitFeatureConfig[t]||(s.c.info("feature config: "+JSON.stringify(e)),this.hasInitFeatureConfig[t]=!0),this.featureConfig=e}setMainMode(e){this.mainMode=e}setThumbnailMode(e){this.thumbnailMode=e}setFloatMode(e){this.floatMode=e}setGalleryMode(e){this.galleryMode=e}setAsParticipantMode(e){this.asParticipantMode=e}setDefaultSidebar(){this.hasSettedDefaultSidebar||(this.hasSettedDefaultSidebar=!0)}setDisplayMode(e){this.displayMode=e}setPlayChimes(e){}setNetWorkStatus(e){e!==this.netWorkStatus&&(s.c.info("setNetWorkStatus: "+e),this.netWorkStatus=e)}setPinedId(e){if(this.pinedId===e)return;this.pinedId=e;const{someoneIsShaing:t}=this.rootStore.shareScreenStore;s.c.info(`set pin id: ${e}, someone is sharing: ${t}`),e&&t&&(this.isPinedInSharing=!0),e?(this.layout.handlePin(),this.mainViews.handlePin()):(this.layout.handleUnpin(),this.mainViews.handleUnpin())}setCallViewMain(e){this.callViewMain=e}setActiveSpeaker(e){e!==this.activeSpeaker&&(this.activeSpeaker=e)}setSpeakerViewBottomCollapsed(e){this.speakerViewBottomCollapsed=e}startMeetingTimer(){this.updateMeetingTime()}stopMeetingTimer(){this.timer&&clearTimeout(this.timer)}setNotice(e){this.notice=e}setIsSharingMode(e){e!==this.isSharingMode&&(this.isSharingMode=e)}hangup(e){s.c.info("meetingstore hangup: "+e),this.byteviewApi.hangup(e)}keepMeeting(){s.c.info("meetingstore keepmeeting"),this.byteviewApi.keepMeeting()}showToastForOnMutedEntry(){const{conferenceStore:e,pageStore:t}=this.rootStore,{meetingSettings:i}=e;!this.hasShowMuteOnEntryToast&&i.isMuteOnEntry&&t[a.PageName.MEETING].joinMeetingType!==a.UISDKJoinMeetingType.RECOVERY_MEETING&&I.b.emit(I.a.IN_MEETING_NOTICE,{id:(new Date).getTime(),msg:Object(se.b)("View_M_HostMutedYourMic")})}setParticipationMode(e){this.updateParticipationMode(e)}updateParticipationMode(e){this.participationMode=e}setCanAutoSwitchParticipationMode(e){this.canAutoSwitchParticipationMode=e}setIsParticipationModeAutoSwitched(e){this.isParticipationModeAutoSwitched=e}setInterviewUID(e){this.interviewUId=e}getVideoChatConfig(){return this.vcconfig}getAdminSettings(){return ue(this,void 0,void 0,(function*(){try{const{conferenceStore:e}=this.rootStore,t=yield u.a.request(a.Command.GET_ADMIN_SETTINGS,{tenantId:e.tenantId||""});s.c.info("sponsorAdminSettings: ",t),this.rootStore.inviteStore.sponsorAdminSettings=t}catch(e){s.c.error("getAdminSetting error")}}))}getFeatureGating(){return ue(this,void 0,void 0,(function*(){const e=yield this.byteviewApi.getFgs({"byteview.meeting.pc.copyinvitation":{isRuntime:!0},"byteview.meeting.pc.copysipinvitation":{isRuntime:!0},"byteview.meeting.copyh323invitation":{isRuntime:!0}});this.isShowFollow=!1,this.enableBeautyEffect=!1,this.showMeetNumber=!0,this.recordMeetingFgEnabled=!0,this.isTouchBarEnabled=!1,this.isProfileFgEnabled=!1,this.isSubtitleFgEnabled=!1,this.isMuteOnEntryEnabled=!1,this.isMeetingSpaceFGEnabled=!1,this.isMeetingSpaceInterviewerFGEnabled=!1,this.isV2pcsdklogversionEnabled=!0,this.isSketchEnabled=!1,this.isShowSketchEnabled=!1,this.isMiniVideoShowSketch=!1,this.isSketchEnableUnstableFeatures=!1,this.isCallConnectingStatusEnabled=!0,this.isShareScreenChooseModalEnabled=!1,this.isSubtitleRecordEnabled=!1,this.isShareAudioEnabled=!1,this.isInterviewerNoticeEnabled=!0,this.isParticipantWeakNetworkEnabled=!0,this.isWindowProfileFgEnabled=!1,this.isWhiteboardEnabled=!1,this.isQuickShareScreenEnabled=!1,this.isCopymeetinglinkFgEnabled=!0,this.isMagicShareUploadEnabled=!1,this.isMagicShareNewDocsEnabled=!1,this.isGoogleDriveEnabled=!1,this.isVCLabEnabled=!1,this.isBackgroundBlurEnabled=!1,this.isBackgroundNoiseRemoveEnabled=!1,this.isFaceBeautyEnabled=!1,this.isDynamicLayoutEnabled=!1,this.isVideoEnhanceEnabled=!1,this.isVideoEnhanceDefaultOpenEnabled=!1,this.isNoiseCancellingEnabled=!1,this.isInteractionEnabled=!1,this.isSubtitleBtnInControlbarEnabled=!1,this.isDynamicLayoutDefaultOpenEnabled=!1,this.isMagicShareUniversalEnabled=!1,this.isMagicShareNewDocsTypeDocEnabled=!1,this.isMagicShareNewDocsTypeSheetEnabled=!1,this.isMagicShareNewDocsTypeMindnoteEnabled=!1,this.isVirtualListParticipantsEnabled=!1,this.isScreenShareDynamicFPSEnabled=!1,this.isCanvas2dRenderEnable=!1,this.isMagicSharePresenterPositionGuideEnabled=!1,this.isSpokenLangSettingEnbled=!1,this.rootStore.inviteStore.isCallOutFgEnabled=!1,this.isMagicShareCCMCustomizedRenderEnabled=!0,this.isFaceBeautyDefaultOpenEnabled=!1,this.isVcDoctorEnable=!1,this.isMutePromptEnabled=!1,this.isSmoothShareScreenEnabled=!1,this.isRemoteControlBystanderEnabled=!1,this.isLobbyEnabled=!0,this.isNativeNotificationEnable=!1,this.rootStore.inviteStore.isSipCallOutFgEnabled=!1,this.rootStore.inviteStore.isSipCallInFgEnabled=!1,this.isForcedMuteEnable=!1,this.isLocalWeakNetworkEnabled=!0,this.isInputAudioVolumeControlEnabled=!0,Object(r.r)(()=>{this.rootStore.inviteStore.isCopyMeetingInfoFgEnabled="sass"===le.a.lark_app_channel,this.rootStore.inviteStore.isSipCallInFgEnabled=e["byteview.meeting.pc.copysipinvitation"],this.rootStore.inviteStore.isH323CopyFgEnabled=e["byteview.meeting.copyh323invitation"]})}))}setVideoProfiles(){return ue(this,void 0,void 0,(function*(){try{const e=yield this.byteviewApi.request(a.Command.GET_SETTINGS,{fields:[a.SettingConfig.VC_SIMULCAST_STREAM_DESC]}),{fieldGroups:t={}}=e,i=t[a.SettingConfig.VC_SIMULCAST_STREAM_DESC]||"",n=JSON.parse(i);n&&(this.setMainMode(n.main_mode||720),this.setThumbnailMode(n.thumbnail_mode||240),this.setFloatMode(n.float_mode||240),this.setGalleryMode(n.gallery_mode||Ee),this.setAsParticipantMode(n.as_participant_mode||_e))}catch(e){}}))}updateVideoChatConfig(){return ue(this,void 0,void 0,(function*(){this.vcconfig=yield this.byteviewApi.request(a.Command.PULL_VIDEO_CHAT_CONFIG);this.vcconfig.pcMaxVisibleVideo;return this.vcconfig}))}get controlBarDeps(){return this.controlBarDepKeys.length}setControlBarVisible(e){this.controlBarDeps>0&&s.c.warn('You should not use "setControlBarVisible()" directly. Consider use "eventEmitterCenter.emit(EventEmitterActionMap.SHOW_CONTROL_BAR)" to show controlbar'),this.controlBarVisible=e}increaseControlBarDeps(e,t="default"){this.controlBarDepKeys.push(t),s.c.info(`controlBarDeps increase by ${e}, current deps is ${this.controlBarDeps}`)}decreaseControlBarDeps(e,t="default"){const i=this.controlBarDepKeys.findIndex(e=>e===t);this.controlBarDepKeys=this.controlBarDepKeys.filter((e,t)=>t!==i),s.c.info(`controlBarDeps decrease by ${e}, current deps is ${this.controlBarDeps}`)}setMoreOperationsOpen(e){this.isMoreOperationsOpen=e}setIntervieweeResumeUrl(e){this.intervieweeResumeUrl=e}updateParticipationModeConfirmStatus(e){this.participationModeConfirmStatus=e}receiveFirstRemoteAudioFrame(){this.hasFirstRemoteAudioFrameReceived=!0}get isCallConnecting(){return this.rootStore.conferenceStore.type===a.VideoChatType.CALL&&!this.hasFirstRemoteAudioFrameReceived&&this.isCallConnectingStatusEnabled}get playChimes(){return this.rootStore.userStore.currentUser.participantSettings.playEnterExitChimes}setControlbarStatus(e){this.controlbarStatus=e}get isVCLabEntryEnabled(){return!1}setDynamicBtnShownInMoreIcon(e,t){this.dynamicBtnsShownInMoreIcon.set(e,t)}setControlbarLeft(e){this.controlbarLeft=e}setBodySize(e,t){this.bodyHeight=t,this.bodyWidth=e}setMeetingLayoutMounted(e){this.meetingLayoutMounted=e}shouldShowView(e){return e===ae.a.INTERVIEW_SPACE?this.mainViews.interviewSpaceVisible:this.isPinedInSharing&&this.pinedId?e===ae.a.VIDEO:this.mainViews.shouldShow(e)}setGalleryStatus(e){this.galleryStatus.add(e)}}pe([r.p],he.prototype,"netWorkStatus",void 0),pe([r.p],he.prototype,"isSharingMode",void 0),pe([r.p],he.prototype,"notice",void 0),pe([r.p],he.prototype,"pinedId",void 0),pe([r.p],he.prototype,"isPinedInSharing",void 0),pe([r.p],he.prototype,"callViewMain",void 0),pe([r.p],he.prototype,"activeSpeaker",void 0),pe([r.p],he.prototype,"speakerViewBottomCollapsed",void 0),pe([r.p],he.prototype,"meetingLeftWidth",void 0),pe([r.p],he.prototype,"meetingTimeTrigger",void 0),pe([r.p],he.prototype,"displayMode",void 0),pe([r.p],he.prototype,"shouldRecoverDisplayMode",void 0),pe([r.p],he.prototype,"isShowBrowserDeviceAccessModal",void 0),pe([r.p],he.prototype,"participationMode",void 0),pe([r.p],he.prototype,"canAutoSwitchParticipationMode",void 0),pe([r.p],he.prototype,"isParticipationModeAutoSwitched",void 0),pe([r.p],he.prototype,"participationModeConfirmStatus",void 0),pe([r.h],he.prototype,"isSidebarPopup",null),pe([r.p],he.prototype,"dragAndDockX",void 0),pe([r.p],he.prototype,"dragAndDockY",void 0),pe([r.p],he.prototype,"controlBarVisible",void 0),pe([r.p],he.prototype,"isHostControlOpen",void 0),pe([r.p],he.prototype,"isMoreOperationsOpen",void 0),pe([r.p],he.prototype,"isRecordingBtnDisabled",void 0),pe([r.p],he.prototype,"mainMode",void 0),pe([r.p],he.prototype,"thumbnailMode",void 0),pe([r.p],he.prototype,"floatMode",void 0),pe([r.p],he.prototype,"galleryMode",void 0),pe([r.p],he.prototype,"asParticipantMode",void 0),pe([r.p],he.prototype,"controlBarDepKeys",void 0),pe([r.p],he.prototype,"isQuickShareScreenEnabled",void 0),pe([r.p],he.prototype,"isMeetingSpaceFGEnabled",void 0),pe([r.p],he.prototype,"isMeetingSpaceInterviewerFGEnabled",void 0),pe([r.p],he.prototype,"meetingSpaceRedDot",void 0),pe([r.p],he.prototype,"mainViews",void 0),pe([r.p],he.prototype,"intervieweeResumeUrl",void 0),pe([r.p],he.prototype,"meetingSpaceTitle",void 0),pe([r.p],he.prototype,"isInterviewerNoticeEnabled",void 0),pe([r.p],he.prototype,"hasFirstRemoteAudioFrameReceived",void 0),pe([r.p],he.prototype,"isCallConnectingStatusEnabled",void 0),pe([r.p],he.prototype,"adminSettings",void 0),pe([r.p],he.prototype,"controlbarStatus",void 0),pe([r.p],he.prototype,"nextControlbarStatus",void 0),pe([r.p],he.prototype,"meetingLayoutMounted",void 0),pe([r.p],he.prototype,"controlbarLeft",void 0),pe([r.p],he.prototype,"bodyHeight",void 0),pe([r.p],he.prototype,"bodyWidth",void 0),pe([r.p],he.prototype,"bannerNoticeItems",void 0),pe([r.p],he.prototype,"dynamicBtnsShownInMoreIcon",void 0),pe([r.p],he.prototype,"activeSpeakerTickTime",void 0),pe([r.p],he.prototype,"dynamicLayoutDisappearCycle",void 0),pe([r.p],he.prototype,"galleryStatus",void 0),pe([r.p],he.prototype,"hasAccessibilityAuthorization",void 0),pe([r.p],he.prototype,"recordingHover",void 0),pe([r.p],he.prototype,"featureConfig",void 0),pe([r.p],he.prototype,"inMeetingConfirmModalData",void 0),pe([r.p],he.prototype,"isAdBlockEnabled",void 0),pe([r.p],he.prototype,"showLoadModal",void 0),pe([r.p],he.prototype,"isGalleryViewEnabled",void 0),pe([r.p],he.prototype,"interviewUId",void 0),pe([r.h],he.prototype,"isFastMode",null),pe([r.h],he.prototype,"isSidebarMaskVisible",null),pe([r.h],he.prototype,"isMeetingSpaceEnabled",null),pe([r.h],he.prototype,"isSubtitleEnabled",null),pe([r.h],he.prototype,"recordMeetingEnabled",null),pe([r.h],he.prototype,"isCopymeetinglinkEnabled",null),pe([r.h],he.prototype,"isSubtitleShow",null),pe([r.h],he.prototype,"viewHeightWithoutTop",null),pe([r.h],he.prototype,"mainViewHeight",null),pe([r.h],he.prototype,"mainViewWidth",null),pe([r.h],he.prototype,"shouldShowNativeHangup",null),pe([r.f],he.prototype,"setInMeetingConfirmModalData",null),pe([r.f],he.prototype,"init",void 0),pe([r.h],he.prototype,"activeSpeakerParticipantId",null),pe([r.f],he.prototype,"setRecordingHover",null),pe([r.f],he.prototype,"setFeatureConfig",null),pe([r.f],he.prototype,"setMainMode",null),pe([r.f],he.prototype,"setThumbnailMode",null),pe([r.f],he.prototype,"setFloatMode",null),pe([r.f],he.prototype,"setGalleryMode",null),pe([r.f],he.prototype,"setAsParticipantMode",null),pe([r.f],he.prototype,"setDefaultSidebar",null),pe([r.f],he.prototype,"updateDragAndDockPosition",void 0),pe([r.f],he.prototype,"initDragAndDockPosition",void 0),pe([r.f],he.prototype,"setDisplayMode",null),pe([r.f],he.prototype,"setPlayChimes",null),pe([r.f],he.prototype,"setNetWorkStatus",null),pe([r.f],he.prototype,"setPinedId",null),pe([r.f],he.prototype,"clearPinedFlagInSharing",void 0),pe([r.f],he.prototype,"setCallViewMain",null),pe([r.f],he.prototype,"setActiveSpeaker",null),pe([r.f],he.prototype,"setSpeakerViewBottomCollapsed",null),pe([r.f],he.prototype,"startMeetingTimer",null),pe([r.f],he.prototype,"updateMeetingTime",void 0),pe([r.f],he.prototype,"stopMeetingTimer",null),pe([r.f],he.prototype,"setNotice",null),pe([r.f],he.prototype,"setIsSharingMode",null),pe([r.f],he.prototype,"hangup",null),pe([r.f],he.prototype,"keepMeeting",null),pe([r.f],he.prototype,"showToastForOnMutedEntry",null),pe([r.f],he.prototype,"setParticipationMode",null),pe([r.f],he.prototype,"setCanAutoSwitchParticipationMode",null),pe([r.f],he.prototype,"setIsParticipationModeAutoSwitched",null),pe([r.f],he.prototype,"setInterviewUID",null),pe([r.h],he.prototype,"controlBarDeps",null),pe([r.f],he.prototype,"setControlBarVisible",null),pe([r.f],he.prototype,"increaseControlBarDeps",null),pe([r.f],he.prototype,"decreaseControlBarDeps",null),pe([r.f],he.prototype,"setMoreOperationsOpen",null),pe([r.f],he.prototype,"setIntervieweeResumeUrl",null),pe([r.f],he.prototype,"updateParticipationModeConfirmStatus",null),pe([r.f],he.prototype,"receiveFirstRemoteAudioFrame",null),pe([r.h],he.prototype,"isCallConnecting",null),pe([r.h],he.prototype,"playChimes",null),pe([r.f],he.prototype,"setControlbarStatus",null),pe([r.h],he.prototype,"isVCLabEntryEnabled",null),pe([r.f],he.prototype,"setDynamicBtnShownInMoreIcon",null),pe([r.f],he.prototype,"setControlbarLeft",null),pe([r.f],he.prototype,"setBodySize",null),pe([r.f],he.prototype,"setMeetingLayoutMounted",null),pe([r.f],he.prototype,"bannerToast",void 0),pe([r.f],he.prototype,"bannerToastCloseByTag",void 0),pe([r.f],he.prototype,"bannerToastUpdate",void 0),pe([r.f],he.prototype,"fetchDynamicSettings",void 0),pe([r.f],he.prototype,"clearGalleryStatus",void 0),pe([r.f],he.prototype,"setGalleryStatus",null),pe([r.f],he.prototype,"setLoadModalStatus",void 0);var Te=i(18),ye=i(27),fe=i(321),Ie=i(32),ge=i(148);const Se=Object(ge.d)()||{},Ce=Se.isMicMuted?Boolean(Se.isMicMuted):null,me=Se.isCameraMuted?Boolean(Se.isCameraMuted):null,Ne=Se.nickname||null,Ae=Se.micDeviceId||null,Re=Se.camDeviceId||null,Oe=Se.speakerDeviceId||null;var ve=i(31),Pe=i(61),Me=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Le=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const be=s.a.getLogger("rtc-store");class De extends o.a{constructor(e){super(e),this.deviceInitFlag=!1,this.streams={},this.cameraList=[],this.microphoneList=[],this.playbackList=[],this.sdkStartAudioError=!1,this.sdkStartVideoError=!1,this.currentDevice={[Te.DeviceType.kCamera]:"",[Te.DeviceType.kRecord]:"",[Te.DeviceType.kPlayback]:""},this.audioVolume=0,this.speakerVolume=0,this.micVolume=0,this.recordVolume=0,this.playoutVolume=0,this.localVideoMirror=!0,this.isRtcSdkReady=!0,this.cameraAccessStatus=Te.AuthStatus.NotDetermined,this.micAccessStatus=Te.AuthStatus.NotDetermined,this.micWarnCode=null,this.cameraWarnCode=null,this.mainProcessWinIdOrHandle=-1,this.cameraSystemPermissions=!0,this.micSystemPermissions=!0,this.cameraCanStart=!0,this.micCanStart=!0,this.updateDevices=Object(r.k)((function*(e,t){s.c.info(`device update: Type:${e}, ${t}`);try{if(this.setCurrentDevice(e,yield ye.a.getCurrentDeviceId(e)),e===Te.DeviceType.kCamera)return this.cameraList=t,void t.length;if(e===Te.DeviceType.kRecord)return this.microphoneList=t,void t.length;e===Te.DeviceType.kPlayback&&(this.playbackList=t)}catch(e){}})),this.getDevices=Object(r.k)((function*(){let e={};try{e=yield ye.a.getAllDevices()}catch(e){s.c.error(["[rtc-sdk]","getDevices error","message: "+e.message,"name: "+e.name,"stack: "+e.stack].join("\n")),Object(ve.d)(Pe.a.VC_WEB_RTC_SDK,{action_name:"rtc_sdk_get_all_devices",name:e.name,message:e.message},!1)}this.cameraList=e[Te.DeviceType.kCamera],this.microphoneList=e[Te.DeviceType.kRecord],this.playbackList=e[Te.DeviceType.kPlayback],this.setCurrentDevice(Te.DeviceType.kRecord,Ae||Ie.p||(yield ye.a.getCurrentDeviceId(Te.DeviceType.kRecord))),this.setCurrentDevice(Te.DeviceType.kCamera,Re||Ie.n||(yield ye.a.getCurrentDeviceId(Te.DeviceType.kCamera))),this.setCurrentDevice(Te.DeviceType.kPlayback,Oe||Ie.r||(yield ye.a.getCurrentDeviceId(Te.DeviceType.kPlayback))),this.checkDeviceOtherStatus(),this.deviceInitFlag=!0,be.info(["getDevices","get devices complete"].join("\n"))}))}setInitialDevices(){return Le(this,void 0,void 0,(function*(){}))}fetchCameraStatus(){return Le(this,void 0,void 0,(function*(){try{this.cameraAccessStatus=yield Object(fe.a)()}catch(e){}}))}fetchMicStatus(){return Le(this,void 0,void 0,(function*(){try{this.micAccessStatus=yield Object(fe.c)()}catch(e){}}))}updateMicStatus(e,t){return Le(this,void 0,void 0,(function*(){be.info(["[deviceAuthorState]",`updateMicStatus from ${t} to ${e}`].join("\n")),this.micAccessStatus!==e&&(this.micAccessStatus=e)}))}updateCameraStatus(e,t){return Le(this,void 0,void 0,(function*(){be.info(["[deviceAuthorState]",`updateCameraStatus from ${t} to ${e}`].join("\n")),this.cameraAccessStatus!==e&&(this.cameraAccessStatus===Te.AuthStatus.Granted&&e!==Te.AuthStatus.Granted&&ye.a.stopPreview(),this.cameraAccessStatus=e)}))}addStream(e){this.streams[e.id]=e}removeStream(e){delete this.streams[e]}checkDeviceOtherStatus(){return Le(this,void 0,void 0,(function*(){const e=yield ye.a.supportStateList();this.cameraCanStart=e.cameraCanStart,this.cameraSystemPermissions=e.cameraSystemPermissions,this.micCanStart=e.microphoneCanStart,this.micSystemPermissions=e.microphoneSystemPermissions}))}setSDKAudioError(e){this.hasMic&&(this.sdkStartAudioError=e)}setSDKVideoError(e){this.hasCamera&&(this.sdkStartVideoError=e)}setMicWarnCode(e){this.micWarnCode=e}setCameraWarnCode(e){this.cameraWarnCode=e}get hasCamera(){return s.c.info(`[get] hasCamera: deviceInitFlag -> ${this.deviceInitFlag}, cameraList -> ${this.cameraList.length}`),!this.deviceInitFlag||!!this.cameraList.length}get hasMic(){return!this.deviceInitFlag||!!this.microphoneList.length}get getCameraCanStart(){return this.cameraCanStart}get hasCameraSystemPermissions(){return this.cameraSystemPermissions}get getMicCanStart(){return this.micCanStart}get hasMicSystemPermissions(){return this.micSystemPermissions}get hasMicAccess(){this.fetchMicStatus();const e=this.micAccessStatus;return s.c.info(`get mic status:${e}, sdk audio error:${this.sdkStartAudioError}`),this.sdkStartAudioError?!this.sdkStartAudioError:"number"==typeof e&&e===Te.AuthStatus.Granted}get hasCameraAccess(){this.fetchCameraStatus();const e=this.cameraAccessStatus;return s.c.info(`get camera status:${e}, sdk video error:${this.sdkStartVideoError}`),this.sdkStartVideoError?!this.sdkStartVideoError:"number"==typeof e&&e===Te.AuthStatus.Granted}get hasPlayback(){return!!this.playbackList.length}get hasPlaybackAccess(){return!0}get cameraStatus(){if(this.cameraHasWarnCode)return a.EquipmentStatus.UNAVAILABLE;const e=this.hasCameraAccess?a.EquipmentStatus.NORMAL:a.EquipmentStatus.NO_PERMISSION;return this.hasCamera?e:a.EquipmentStatus.NOT_EXIST}get microphoneStatus(){if(this.micHasWarnCode)return a.EquipmentStatus.UNAVAILABLE;const e=this.hasMicAccess?a.EquipmentStatus.NORMAL:a.EquipmentStatus.NO_PERMISSION;return this.hasMic?e:a.EquipmentStatus.NOT_EXIST}get micHasWarnCode(){return null!==this.micWarnCode}get cameraHasWarnCode(){return null!==this.cameraWarnCode}get micWarnMessageKey(){const{micWarnCode:e}=this;return e===Te.SDKMediaDeviceErrorCode.BRERR_ADM_RECORDER_FAILED_UNKNOWN?"View_G_MicNotWorkingCheckOrSwitch":e===Te.SDKMediaDeviceErrorCode.BRERR_ADM_RECORDER_UNSUPPORT_CHANNELS||e===Te.SDKMediaDeviceErrorCode.BRERR_ADM_RECORDER_UNSUPPORT_SAMPLERATE?"View_G_MicNotWorkingSwitch":""}get cameraWarnMessageKey(){const{cameraWarnCode:e}=this;return e===Te.SDKMediaDeviceErrorCode.BRERR_VDM_CAMERA_FAILED_UNKNOWN?"View_G_CameraNotWorkingCheckOrSwitch":""}getByteSdkRateConfig(){return Le(this,void 0,void 0,(function*(){return(yield this.rootStore.meetingStore.updateVideoChatConfig()).byteSdkRateConfig}))}setCurrentDevice(e,t){return Le(this,void 0,void 0,(function*(){const i=t===this.currentDevice[e]&&"default"!==t;e!==Te.DeviceType.kCamera||i||this.setCameraWarnCode(null),e!==Te.DeviceType.kRecord||i||this.setMicWarnCode(null),this.currentDevice[e]=t;try{yield ye.a.setDevice(e,t),be.info(`[selectCurDevice] setCurrentDevice, type:${e}, value:${t} success!`)}catch(i){be.error(["[selectCurDevice]","setCurrentDevice",`rtcSdk.setDevice error, type: ${e}, value: ${t}`,"errName: "+i.name,"errMsg: "+i.message].join("\n"))}}))}getCurrentDevice(e){return this.currentDevice[e]}setAudioVolume(e){this.audioVolume=e}setSpeakerVolume(e){this.speakerVolume=e}setMicVolume(e){this.micVolume=e}setRecordVolume(e){this.recordVolume=e}setPlayoutVolume(e){this.playoutVolume=e}setCurrentVolume(e,t){return Le(this,void 0,void 0,(function*(){}))}getCurrentVolume(e){return Le(this,void 0,void 0,(function*(){}))}setLocalVideoMirror(e){this.localVideoMirror=e}setIsRtcSdkReady(e){this.isRtcSdkReady=e}}Me([r.p],De.prototype,"deviceInitFlag",void 0),Me([r.p],De.prototype,"streams",void 0),Me([r.p],De.prototype,"cameraList",void 0),Me([r.p],De.prototype,"microphoneList",void 0),Me([r.p],De.prototype,"playbackList",void 0),Me([r.p],De.prototype,"sdkStartAudioError",void 0),Me([r.p],De.prototype,"sdkStartVideoError",void 0),Me([r.p],De.prototype,"currentDevice",void 0),Me([r.p],De.prototype,"audioVolume",void 0),Me([r.p],De.prototype,"speakerVolume",void 0),Me([r.p],De.prototype,"micVolume",void 0),Me([r.p],De.prototype,"recordVolume",void 0),Me([r.p],De.prototype,"playoutVolume",void 0),Me([r.p],De.prototype,"localVideoMirror",void 0),Me([r.p],De.prototype,"isRtcSdkReady",void 0),Me([r.p],De.prototype,"cameraAccessStatus",void 0),Me([r.p],De.prototype,"micAccessStatus",void 0),Me([r.p],De.prototype,"micWarnCode",void 0),Me([r.p],De.prototype,"cameraWarnCode",void 0),Me([r.p],De.prototype,"cameraSystemPermissions",void 0),Me([r.p],De.prototype,"micSystemPermissions",void 0),Me([r.p],De.prototype,"cameraCanStart",void 0),Me([r.p],De.prototype,"micCanStart",void 0),Me([r.f],De.prototype,"fetchCameraStatus",null),Me([r.f],De.prototype,"fetchMicStatus",null),Me([r.f],De.prototype,"updateMicStatus",null),Me([r.f],De.prototype,"updateCameraStatus",null),Me([r.f],De.prototype,"addStream",null),Me([r.f],De.prototype,"removeStream",null),Me([r.f],De.prototype,"updateDevices",void 0),Me([r.f],De.prototype,"getDevices",void 0),Me([r.f],De.prototype,"checkDeviceOtherStatus",null),Me([r.f],De.prototype,"setSDKAudioError",null),Me([r.f],De.prototype,"setSDKVideoError",null),Me([r.f],De.prototype,"setMicWarnCode",null),Me([r.f],De.prototype,"setCameraWarnCode",null),Me([r.h],De.prototype,"hasCamera",null),Me([r.h],De.prototype,"hasMic",null),Me([r.h],De.prototype,"getCameraCanStart",null),Me([r.h],De.prototype,"hasCameraSystemPermissions",null),Me([r.h],De.prototype,"getMicCanStart",null),Me([r.h],De.prototype,"hasMicSystemPermissions",null),Me([r.h],De.prototype,"hasMicAccess",null),Me([r.h],De.prototype,"hasCameraAccess",null),Me([r.h],De.prototype,"hasPlayback",null),Me([r.h],De.prototype,"hasPlaybackAccess",null),Me([r.h],De.prototype,"cameraStatus",null),Me([r.h],De.prototype,"microphoneStatus",null),Me([r.h],De.prototype,"micHasWarnCode",null),Me([r.h],De.prototype,"cameraHasWarnCode",null),Me([r.h],De.prototype,"micWarnMessageKey",null),Me([r.h],De.prototype,"cameraWarnMessageKey",null),Me([r.f],De.prototype,"setCurrentDevice",null),Me([r.f],De.prototype,"setAudioVolume",null),Me([r.f],De.prototype,"setSpeakerVolume",null),Me([r.f],De.prototype,"setMicVolume",null),Me([r.f],De.prototype,"setRecordVolume",null),Me([r.f],De.prototype,"setPlayoutVolume",null),Me([r.f],De.prototype,"setCurrentVolume",null),Me([r.f],De.prototype,"getCurrentVolume",null),Me([r.f],De.prototype,"setLocalVideoMirror",null),Me([r.f],De.prototype,"setIsRtcSdkReady",null);var Ue=i(154),we=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},ke=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};class Ge extends o.a{constructor(e){super(e),this.inited=!1,this.userSetting={audio:{},video:{},meetingHost:{},meetingGeneral:{playEnterExitChimes:!0,calendarMeetingStartNotify:!0},meetingAdvanced:{subtitle:{turnOnSubtitleWhenJoin:!1}},googleToken:{bind:!1},ifDirectToPeopleAfterInterview:!0},this.deviceSetting={audio:{recordDeviceId:"",playbackDeviceId:"",defaultMicrophoneMuted:!1,autoAdjustMicrophoneVolume:!0},video:{cameraDeviceId:"",mirror:!0,smoothShare:!1,defaultCameraMuted:!1}},this.tempMicrophoneMuted=!1,this.tempCameraMuted=!1,this.initDefaultSettings=e=>ke(this,void 0,void 0,(function*(){const{video:t,audio:i}=e.deviceSetting||{},{defaultCameraMuted:n=!1}=t||{},{defaultMicrophoneMuted:r=!1}=i||{};this.tempCameraMuted=n,this.tempMicrophoneMuted=r})),this.tempMicrophoneMuted=Ce||Ie.h,this.tempCameraMuted=me||Ie.f}getCachedSetting(){return ke(this,void 0,void 0,(function*(){return{userSetting:this.userSetting,deviceSetting:this.deviceSetting}}))}updateSetting(e){this.updateSettingObject(this,e)}updateSettingObject(e,t){try{if(void 0===e||void 0===t)return;Object.keys(t).forEach(i=>{"object"!=typeof t[i]||Array.isArray(t[i])?e[i]!==t[i]&&(e[i]=t[i]):this.updateSettingObject(e[i],t[i])})}catch(e){s.c.error("updateSettingObject error",e)}}getSettingByKey(e){return e.split(".").reduce((e,t)=>e[t],this)}getSettingObject(e,t){const i=e.split("."),n={};return i.reduce((n,r,o)=>(o===i.length-1?n[r]=void 0===t?this.getSettingByKey(e):t:n[r]={},n[r]),n),n}createSettingObject(e,t){const i=e.split("."),n={};return i.reduce((e,n,r)=>(r===i.length-1?e[n]=t:e[n]={},e[n]),n),n}pullSetting(){return ke(this,void 0,void 0,(function*(){}))}getSetting(){return ke(this,void 0,void 0,(function*(){}))}patchSetting(e){return ke(this,void 0,void 0,(function*(){}))}patchSettingByKey(e,t){return ke(this,void 0,void 0,(function*(){}))}saveMicCamMute(){this.patchSetting({deviceSetting:{video:{defaultCameraMuted:this.tempCameraMuted},audio:{defaultMicrophoneMuted:this.tempMicrophoneMuted}}})}}we([r.p],Ge.prototype,"userSetting",void 0),we([r.p],Ge.prototype,"deviceSetting",void 0),we([r.p],Ge.prototype,"tempMicrophoneMuted",void 0),we([r.p],Ge.prototype,"tempCameraMuted",void 0),we([r.f],Ge.prototype,"updateSetting",null),we([r.f],Ge.prototype,"updateSettingObject",null);var Ve=i(341),He=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Be=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};class Fe extends o.a{constructor(){super(...arguments),this.sponsorAdminSettings=null,this.pstnInfo=null,this.pstnModalVisible=!1,this.isCallOutFgEnabled=!1,this.isCopyMeetingInfoFgEnabled=!1,this.isSipCallOutFgEnabled=!1,this.isSipCallInFgEnabled=!1,this.isH323CopyFgEnabled=!1,this.getPstnInfo=e=>Be(this,void 0,void 0,(function*(){if(this.pstnInfo)return this.pstnInfo;try{let t=this.sponsorAdminSettings;t||(t=yield this.byteviewApi.request(a.Command.GET_ADMIN_SETTINGS,{tenantId:e||""}),this.sponsorAdminSettings=t);const i=this.byteviewApi.getLang()||a.I18nLocale.EN_US,n={},r=[],o=t.pstnIncomingCallPhoneList;for(let e of o){const t=yield Object(Ve.a)(e.country,i),o=n[e.country];o?o.numbers.push(e.number):(n[e.country]={name:t.name,numbers:[e.number]},r.push(e.country))}const s=t.pstnIncomingCallCountryDefault;return this.pstnInfo={countries:r,current:s[0],all:n},this.pstnInfo}catch(e){return s.c.error("get admin settings error"),null}}))}get featureConfig(){return this.rootStore.meetingStore.featureConfig||{}}get isCallOutEnabled(){return!1}get isCopyMeetingInfoEnabled(){if(!this.sponsorAdminSettings)return!1;const{incomingCallEnable:e}=this.featureConfig.pstn||{},{pstnEnableIncomingCall:t}=this.sponsorAdminSettings;return this.isCopyMeetingInfoFgEnabled&&t&&!!e}get isSipCallOutEnabled(){return!1}get isSipCallInEnabled(){const{incomingCallEnable:e=!1}=this.featureConfig.sip||{};return this.isSipCallInFgEnabled&&e}get isH323CopyEnabled(){const{incomingCallEnable:e=!1}=this.featureConfig.sip||{};return this.isH323CopyFgEnabled&&e}setPstnModalVisible(e){this.pstnModalVisible=e}}He([r.p],Fe.prototype,"sponsorAdminSettings",void 0),He([r.p],Fe.prototype,"pstnInfo",void 0),He([r.p],Fe.prototype,"pstnModalVisible",void 0),He([r.h],Fe.prototype,"featureConfig",null),He([r.h],Fe.prototype,"isCallOutEnabled",null),He([r.h],Fe.prototype,"isCopyMeetingInfoEnabled",null),He([r.h],Fe.prototype,"isSipCallOutEnabled",null),He([r.h],Fe.prototype,"isSipCallInEnabled",null),He([r.h],Fe.prototype,"isH323CopyEnabled",null),He([r.f],Fe.prototype,"getPstnInfo",void 0),He([r.f],Fe.prototype,"setPstnModalVisible",null);var je=i(50),We=i(134),xe=i(79),Ke=i(208),qe=i(644),Ye=i.n(qe),Je=i(645),ze=i.n(Je),Xe=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function Qe(e){return Xe(this,void 0,void 0,(function*(){const t=function(e){const t="5JVB9ctdCpJkctXj13pCe"+JSON.stringify(e),i=Ye()(t),n=new Uint8Array(16);for(let e=0;e<i.length/2;e++){const t=i.slice(2*e,2*e+2),r=Number.parseInt(t,16);n[e]=r}return ze.a.fromByteArray(n).replace(/\=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(e);return fetch("/client/videochat/open/join/check",{method:"POST",mode:"cors",credentials:"include",headers:{"content-type":"application/json",token:t},body:JSON.stringify(e)}).then(e=>e.json())}))}var $e=i(70),Ze=i(127),et=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},tt=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const it=[233309,233310],nt=s.a.getLogger("preview-store"),rt=window.navigator.userAgent;class ot{constructor(e){this.isOversea=!1,this.meetingNumber="",this.nickname="",this.deviceAccessConfirmVisible=!1,this.matterNoticeConfirmVisible=!1,this.showMeetingNumberInvalid=!1,this.showNicknameInvalid=!1,this.joinButtonLoading=!1,this.camDeviceId="",this.micDeviceId="",this.speakerDeviceId="",this.hasLogin=!1,this.hasCheckMatter=!1,this.showPage={tip_1:!1,tip_2:!1,mic:!1,camera:!1,playbackDevices:!1},this.disposer=null,this.trackForPreviewPage=(e,t,i)=>{let n={action_name:e,is_loged:this.hasLogin?1:0,ua:rt,language_status:se.c.langCode===se.a["zh-CN"]?"CH":"EN"};t&&(n=Object.assign(n,{meeting_info:this.meetingNumber})),i&&(n=Object.assign(n,{from_source:i})),Object(ve.d)(a.Homeric.VC_MEETING_PAGE_PREVIEW,n)},this.trackForSource=e=>{let t="",i=null;const n="meeting_lark_entry"===e;try{const e="track_event";let r=Object($e.a)(e);if(r){r=JSON.parse(decodeURIComponent(r));let{params:e}=r;switch(i=e.from_source||null,i){case"card":t=n?"card":"web_card";break;case"join_room":t=n?"plus_join_room":"web_plus_join_room";break;case"tab_join_room":t=n?"tab_join_room":"web_tab_join_room";break;default:if(n)return;t=this.getOtherSource(i)}}else t=this.getOtherSource(i)}catch(e){if(n)return;t=this.getOtherSource(i)}let r={action_name:"display",from_source:t};if(!n)return this.trackForPreviewPage("display",!0,t);Object(ve.d)(a.Homeric.VC_MEETING_LARK_ENTRY,r)},this.checkLogin=()=>tt(this,void 0,void 0,(function*(){this.setJoinButtonLoading(!0);const{tempCameraMuted:e,tempMicrophoneMuted:t}=this.rootStore.settingStore,{meetingNumber:i,nickname:n,showNicknameInvalid:r}=this;if(i.length<9||r)return;const o=yield Object(Ke.a)(),a=(null==o?void 0:o.isLogin)||!1,d=(null==o?void 0:o.anonymous)||!1;s.c.info(`===joinMeeting get whether IsLogIn: ${a}, isAnonymousLogin: ${d}`);let c="";c=Object(Ie.a)(c,"cam",e?"1":"0"),c=Object(Ie.a)(c,"mic",t?"1":"0"),c=Object(Ie.a)(c,"lang",se.c.langCode),c=Object(Ie.a)(c,"fromLogin","1"),c=Object(Ie.a)(c,"name",n),c=Object(Ie.a)(c,"micDid",this.micDeviceId),c=Object(Ie.a)(c,"camDid",this.camDeviceId),c=Object(Ie.a)(c,"speakerDid",this.speakerDeviceId),c=Object(Ie.a)(c,"no",Ie.o),c=Object(Ie.a)(c,"interviewUId",Ie.e),c=Object(Ie.a)(c,"operate_env_id",Ie.j),c=Object(Ie.b)(c),s.c.info("redirectQuery: "+c);const l=`https://${location.hostname}/w/${i}`,p=encodeURIComponent(`${l}${c}`),u=le.a.passport_template_id,_=`https://${le.b.passport}${le.a.login_path}?template_id=${u}&app_id=1&lang=${se.c.langCode}&loginType=account&utm_from=organic_vc_web_interview&redirect_uri=${p}&to_lark=true`,E=`https://${le.b.passport}${le.a.login_path}?app_id=1&loginType=account&with_guest=1&user_name=${n}&utm_from=organic_vc_web_interview&redirect_uri=${p}`;if(je.c){if(!(yield Qe({meeting_number:i})).CanJoinAsGuest){if(!a||d)return Object(ve.d)(Pe.a.VC_MEETING_PASSPORT,{action_name:"passport_triggered"}),location.href=_,this.setJoinButtonLoading(!1),!1}else if(!a)return Object(ve.d)(Pe.a.VC_MEETING_PASSPORT,{action_name:"passport_triggered"}),location.href=E,this.setJoinButtonLoading(!1),!1}else if(!a||d)return Object(ve.d)(Pe.a.VC_MEETING_PASSPORT,{action_name:"passport_triggered"}),location.href=_,this.setJoinButtonLoading(!1),!1;return!0})),this.checkLiveStatus=()=>tt(this,void 0,void 0,(function*(){let e=!1;try{const t={meetingNumber:this.meetingNumber};({showPrivacyPolicy:e}=yield u.a.request(a.Command.LIVE_MEETING_JOIN_PRE_CHECK,t)),s.c.info("videoChatLivePreCheck: "+e)}catch(e){throw We.a.notice(Object(se.b)("View_M_FailedToJoinMeeting"),{theme:xe.b.LARK,iconType:xe.a.ERROR,interval:3e3}),this.setJoinButtonLoading(!1),e}return e})),this.joinMeeting=()=>tt(this,void 0,void 0,(function*(){const{setLoadModalStatus:e}=this.rootStore.meetingStore,{setJoinButtonLoading:t}=this.rootStore.previewStore;yield new Promise((i,n)=>{this.disposer=Object(r.q)(()=>this.hasCheckMatter,r=>{r&&!this.matterNoticeConfirmVisible?(this.disposer&&this.disposer(),i()):r&&(t(!1),e(!1),n(new Error("会前检测异常!")))},{fireImmediately:!0})}),yield this.updateAnonymousUserNameIfNeed();const{tempCameraMuted:i,tempMicrophoneMuted:n}=this.rootStore.settingStore,{hasMicAccess:o,hasCameraAccess:s,hasMic:d,hasCamera:c,micAccessStatus:l,cameraAccessStatus:p}=this.rootStore.rtcStore,u=!s||!c||i;let _,E,h;_=!o||!d||n?u?"all_close":"only_video":u?"only_voice":"all_open",E=l===Te.AuthStatus.Granted?"allow":l===Te.AuthStatus.Denied?"block":"ask",h=p===Te.AuthStatus.Granted?"allow":p===Te.AuthStatus.Denied?"block":"ask",Object(ve.d)(a.Homeric.VC_MEETING_ATTEND,{action_name:_,mic_permissions:E,camera_permissions:h,is_loged:this.hasLogin?1:0,meeting_info:this.meetingNumber}),this.trackForPreviewPage(_),this.trackForSource("meeting_lark_entry"),yield this.callJoinMeetingApi(!1)})),this.callJoinMeetingApi=e=>tt(this,void 0,void 0,(function*(){const{tempCameraMuted:t,tempMicrophoneMuted:i}=this.rootStore.settingStore,{setLoadModalStatus:n}=this.rootStore.meetingStore,{hasMicAccess:r,hasCameraAccess:o,hasMic:d,hasCamera:c,getCameraCanStart:l,getMicCanStart:p,micSystemPermissions:_,cameraSystemPermissions:E}=this.rootStore.rtcStore,{meetingNumber:h,nickname:T}=this,y={isMicrophoneMuted:!_||!p||!r||!d||i,isCameraMuted:!E||!l||!o||!c||t,nickname:T};nt.info(["[micMute][cameraMute][joinMeeting]","participantSettings: "+JSON.stringify(y)].join("\n"));const f={joinType:a.JoinType.JOIN_VC_VIA_MEETING_NUMBER,invitee:{inviteeRoomIds:[],inviteeUserIds:[]},handle:{meetingNo:h},selfParticipantInfo:{participantType:a.ParticipantType.LARK_USER,participantSettings:y,microphoneDeviceId:this.micDeviceId,cameraDeviceId:this.camDeviceId,speakerDeviceId:this.speakerDeviceId}};try{if(s.c.info(["[joinMeeting]","join meeting by meeting number start to: "+a.LogPrefix.CORE].join("\n")),e)return s.c.info(["[joinMeeting]","from lobby: joinMeetingWithApproval"].join("\n")),void u.a.joinMeetingWithApproval(f);s.c.info(["[joinMeeting]","try request byteviewApi.previewJoinMeeting"].join("\n"));const t=yield u.a.previewJoinMeeting(f);let i;s.c.info(["[joinMeeting]","previewJoinMeeting responseType: "+t].join("\n"));let r=xe.a.ERROR;switch(t){case a.JoinMeetingResponseType.SUCCESS:Object(ge.c)(),Object(ge.b)(),Object(ge.g)(),s.c.info(["[joinMeeting]","join meeting success!"].join("\n")),window.addEventListener("beforeunload",ge.a);break;case a.JoinMeetingResponseType.MEETING_ENDED:this.rootStore.pageStore.setEndReason(ne.b.MEETING_OVER),s.c.info(["[joinMeeting]","failed: MEETING_ENDED, ready to END page"].join("\n")),u.a.openByName(a.PageName.END,{});break;case a.JoinMeetingResponseType.MEETING_OUT_OF_DATE:this.rootStore.pageStore.setEndReason(ne.b.MEETING_EXPIRED),s.c.info(["[joinMeeting]","failed: MEETING_EXPIRED, ready to END page"].join("\n")),u.a.openByName(a.PageName.END,{});break;case a.JoinMeetingResponseType.INVALID_MEETING_ID:i=Object(se.b)("View_M_InvalidMeetingId"),Object(ve.d)(a.Homeric.VC_MEETING_ATTEND_FAIL,{fail_reason:"meetingnum_invalid"}),s.c.info(["[joinMeeting]","failed: INVALID_MEETING_ID, show invalid tip"].join("\n")),this.setShowMeetingNumberInvalid(!0);break;case a.JoinMeetingResponseType.MEETING_LOCKED:i=Object(se.b)("View_M_MeetingLocked"),Object(ve.d)(a.Homeric.VC_MEETING_ATTEND_FAIL,{fail_reason:"meeting_locked"}),s.c.info(["[joinMeeting]","failed: MEETING_LOCKED"].join("\n"));break;default:i=Object(se.b)("View_M_FailedToJoinMeeting"),Object(ve.d)(a.Homeric.VC_MEETING_ATTEND_FAIL,{fail_reason:"other"}),Object(Ze.b)("[fatal]previewJoinMeetingError: unexpected response type "+t),s.c.info(["[joinMeeting]","failed: UNKNOW, responseType: "+t].join("\n"))}i&&We.a.notice(i,{theme:xe.b.LARK,iconType:r,interval:3e3}),t!==a.JoinMeetingResponseType.SUCCESS&&(this.setJoinButtonLoading(!1),n(!1))}catch(e){if(this.setJoinButtonLoading(!1),n(!1),s.c.error(["[joinMeeting]","callJoinMeetingApi error","code: "+e.code,"message: "+e.message,"stack: "+e.stack].join("\n")),Object(ve.d)(a.Homeric.VC_MEETING_ATTEND_FAIL,{fail_reason:"other"}),232502===e.code?this.trackForPreviewPage("meeting_locked"):it.includes(e.code)||Object(Ze.a)(e,`[fatal]byteviewApiJoinMeetingError [code: ${e.code}] [x-tt-logid: ${e.xTtLogId}]`),e.code&&e.message)return;We.a.notice(Object(se.b)("View_M_FailedToJoinMeeting"),{theme:xe.b.LARK,iconType:xe.a.ERROR,interval:3e3})}})),this.setMeetingNumber=e=>{this.setShowMeetingNumberInvalid(!1),this.meetingNumber=e,Object(ve.b)({meeting_number:e||"none"})},this.setNickname=e=>{this.showNicknameInvalid=!1,this.nickname=e},this.setShowNicknameInvalid=e=>{this.showNicknameInvalid=e,e&&Object(ve.d)(a.Homeric.VC_MEETING_ATTEND_FAIL,{fail_reason:"user_name_invalid"})},this.setShowMeetingNumberInvalid=e=>{this.showMeetingNumberInvalid=e},this.setDeviceAccessConfirmVisible=e=>{this.deviceAccessConfirmVisible=e},this.setMatterNoticeConfirmStatus=e=>{const{cameraDevices:t,cameraPermissions:i,microphoneDevices:n,microphonePermissions:r,playbackDevices:o,cameraSystemPermissions:s,microphoneSystemPermissions:a,network:d,peerConnect:c}=e,l=t&&i&&n&&r&&o&&s&&a,p=d&&c,u=!(l&&p);u&&(this.showPage={tip_1:!l,tip_2:!p,camera:!(t&&i),mic:!(n&&r),playbackDevices:!o},s||(this.showPage.camera=!0),a||(this.showPage.mic=!0)),this.matterNoticeConfirmVisible=u,this.setHasCheckMatter(!0)},this.setMatterNoticeConfirmVisible=e=>{this.matterNoticeConfirmVisible=e},this.setHasCheckMatter=e=>{this.hasCheckMatter=e},this.setMicDeviceId=e=>{this.micDeviceId=e},this.setCamDeviceId=e=>{this.camDeviceId=e},this.setSpeakerDeviceId=e=>{this.speakerDeviceId=e},this.setJoinButtonLoading=e=>{this.joinButtonLoading=e},this.rootStore=e,this.isOversea=je.c,this.nickname=Ne||Ie.q,this.setMeetingNumber(Ie.o),this.setMeetingNumber(Ie.o),this.showNicknameInvalid=""!==Ie.i,this.disposer=null,this.micDeviceId=Ae||Ie.p,this.camDeviceId=Re||Ie.n,this.speakerDeviceId=Oe||Ie.r}getOtherSource(e){const t=document.referrer;return/feishu.*\.cn\/j?/.test(t)?"landing_page":null!==e?e||"input":t||"input"}updateAnonymousUserNameIfNeed(){var e;return tt(this,void 0,void 0,(function*(){const t=yield Object(Ke.a)();if(!t)return;const{isLogin:i,anonymous:n}=t;if(i&&n)try{const i=yield Object(g.b)("SET_USER_NAME",{name:this.nickname});if(s.c.info("Updated name is "+i.name),!i.name||i.name!==this.nickname)throw new Error(`Updated name is not equal to nickname, nickname is ${this.nickname}, updated name is ${i.name}`);const{currentUser:n}=this.rootStore.userStore;if(null===(e=n.larkInfo)||void 0===e?void 0:e.avatarUrl){const{userId:e}=t;Object(g.g)("PUSH_CHATTERS",t=>{var i,r;const{chatters:o}=t,s=o&&o[e],a=null==s?void 0:s.avatarUrl,d=null===(i=null==s?void 0:s.avatar)||void 0===i?void 0:i.key;s&&a&&d&&d!==(null===(r=n.larkInfo)||void 0===r?void 0:r.avatarKey)&&n.initLarkInfo(Object.assign(Object.assign({},n.larkInfo),{name:s.name,avatarUrl:a,avatarKey:d,avatar:{72:a,144:a,200:a,origin:a}}))}),yield u.a.request(a.Command.GET_USERS,[e])}}catch(e){s.c.warn("Update anonymous user name failed",e)}}))}}et([r.p],ot.prototype,"isOversea",void 0),et([r.p],ot.prototype,"meetingNumber",void 0),et([r.p],ot.prototype,"nickname",void 0),et([r.p],ot.prototype,"deviceAccessConfirmVisible",void 0),et([r.p],ot.prototype,"matterNoticeConfirmVisible",void 0),et([r.p],ot.prototype,"showMeetingNumberInvalid",void 0),et([r.p],ot.prototype,"showNicknameInvalid",void 0),et([r.p],ot.prototype,"joinButtonLoading",void 0),et([r.p],ot.prototype,"camDeviceId",void 0),et([r.p],ot.prototype,"micDeviceId",void 0),et([r.p],ot.prototype,"speakerDeviceId",void 0),et([r.p],ot.prototype,"hasLogin",void 0),et([r.p],ot.prototype,"hasCheckMatter",void 0),et([r.p],ot.prototype,"showPage",void 0),et([r.f],ot.prototype,"trackForPreviewPage",void 0),et([r.f],ot.prototype,"checkLogin",void 0),et([r.f],ot.prototype,"updateAnonymousUserNameIfNeed",null),et([r.f],ot.prototype,"joinMeeting",void 0),et([r.f],ot.prototype,"callJoinMeetingApi",void 0),et([r.f],ot.prototype,"setMeetingNumber",void 0),et([r.f],ot.prototype,"setNickname",void 0),et([r.f],ot.prototype,"setShowNicknameInvalid",void 0),et([r.f],ot.prototype,"setShowMeetingNumberInvalid",void 0),et([r.f],ot.prototype,"setDeviceAccessConfirmVisible",void 0),et([r.f],ot.prototype,"setMatterNoticeConfirmStatus",void 0),et([r.f],ot.prototype,"setMatterNoticeConfirmVisible",void 0),et([r.f],ot.prototype,"setHasCheckMatter",void 0),et([r.f],ot.prototype,"setMicDeviceId",void 0),et([r.f],ot.prototype,"setCamDeviceId",void 0),et([r.f],ot.prototype,"setSpeakerDeviceId",void 0),et([r.f],ot.prototype,"setJoinButtonLoading",void 0);var st=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},at=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const dt={[a.FeedbackType.SINGLE]:{videoItems:[],shareScreenItems:[]},[a.FeedbackType.MULTI]:{videoItems:[],shareScreenItems:[]}};class ct extends o.a{constructor(e){super(e),this.closeDelay=0,this.fetchFeedbackReasonList=Object(r.k)((function*(e){const{multiItems:t}=yield this.byteviewApi.request(a.Command.GET_FEEDBACK_REASONS,{feedbackType:e});this.meetingFBReasonsMap[e]=t})),this.fetchAllFeedbackReasonList=Object(r.k)((function*(){yield this.fetchFeedbackReasonList(a.FeedbackType.SINGLE),yield this.fetchFeedbackReasonList(a.FeedbackType.MULTI)})),this.submitMeetingFeedback=Object(r.k)((function*(e,t,i,n){const r=t&&t.audioVideoSubReasons.join(";"),o=i&&i.shareScreenSubReasons.join(";"),d=this.rootStore.appStore.isOnline?a.FeedbackNetworkType.LAN:a.FeedbackNetworkType.OTHER;try{let s;yield this.byteviewApi.request(a.Command.PUT_VIDEO_CHAT_FEEDBACKS,{meetingId:this.rootStore.conferenceStore.id,sdkVersion:"1.27",larkVersion:this.rootStore.appStore.version,network:d,quality:e,audioVideoFeedback:t,shareScreenFeedback:i,otherReason:n}),s=r&&o?"call,screen_share":r?"call":o?"screen_share":"call",this.track(a.Homeric.VC_MEETING_PAGE_FEEDBACK,{from_source:"click",action_name:"confirm",call_type:"meeting",user_type:"attendee",conference_id:this.rootStore.conferenceStore.id,extend_value:{product_type:s,click_type:e===a.VideoChatMeetingQuality.GOOD?"good_click":"bad_click",video_reason:r,share_reason:o,other_reason:n?"OTHER":null}})}catch(e){s.c.error("put video chat feedback failed",{})}})),this.submit1v1Feedback=Object(r.k)((function*(e,t,i,n){const r=t&&t.audioVideoSubReasons.join(";"),o=i&&i.shareScreenSubReasons.join(";"),d=this.rootStore.appStore.isOnline?a.FeedbackFor1v1NetworkType.LAN:a.FeedbackFor1v1NetworkType.OTHER;let c;c=r&&o?"meeting,screen_share":r?"meeting":o?"screen_share":"meeting";try{yield this.byteviewApi.request(a.Command.PUT_FEEDBACKS,{id:this.rootStore.conferenceStore.id,quality:e,network:d,reasonSubkeys:t.audioVideoSubReasons,shareScreenReasonSubkeys:i.shareScreenSubReasons,otherReason:n,sdkVersion:"1.27",larkVersion:this.rootStore.appStore.version}),this.track(a.Homeric.VC_CALL_PAGE_FEEDBACK,{from_source:"click",action_name:"confirm",call_type:"call",user_type:"attendee",conference_id:this.rootStore.conferenceStore.id,extend_value:{product_type:c,click_type:e===a.VideoChatMeetingQuality.GOOD?"good_click":"bad_click",video_reason:r,share_reason:o,other_reason:n?"OTHER":null}})}catch(e){s.c.error("put 1v1 feedback failed",{})}})),this.meetingFBReasonsMap=dt}get meetingFBreasons(){const{type:e}=this.rootStore.conferenceStore;return this.meetingFBReasonsMap[e===a.VideoChatType.CALL?a.FeedbackType.SINGLE:a.FeedbackType.MULTI]}fetchCloseDelay(){return at(this,void 0,void 0,(function*(){const e=yield this.byteviewApi.request(a.Command.GET_SETTINGS,{fields:[a.SettingConfig.VC_FEEDBACK]}),{fieldGroups:t={}}=e;if(void 0!==t[a.SettingConfig.VC_FEEDBACK]){try{const e=JSON.parse(t[a.SettingConfig.VC_FEEDBACK]);this.closeDelay=e.close_delay}catch(e){s.c.error("Parse setting failed:"+t[a.SettingConfig.VC_FEEDBACK])}s.c.info("Feedback close delay:"+this.closeDelay)}}))}}st([r.p],ct.prototype,"meetingFBReasonsMap",void 0),st([r.p],ct.prototype,"closeDelay",void 0),st([r.h],ct.prototype,"meetingFBreasons",null),st([r.f],ct.prototype,"fetchFeedbackReasonList",void 0),st([r.f],ct.prototype,"fetchAllFeedbackReasonList",void 0),st([r.f],ct.prototype,"submitMeetingFeedback",void 0),st([r.f],ct.prototype,"submit1v1Feedback",void 0);const lt=new class{constructor(){const e=new ce.c(this);this[n.e]=new l(this),this[n.j]=new oe(this),this[n.m]=new Ge(this),this[n.f]=new R(this),this[n.l]=new De(this),this[n.n]=new Ue.b(this,e),this[n.o]=new te(this),this[n.i]=new he(this,e),this[n.h]=new Fe(this),this[n.k]=new ot(this),this[n.g]=new ct(this),this.byteviewApi=u.a}};window.VC_WEB_ROOT_STORE=lt;t.a=lt},,function(e,t,i){"use strict";var n=i(44),r=i(18),o=i.n(r),s=(i(159),i(127)),a=i(6);const d=new o.a({appId:n.a.rtc_sdk_app_id,reqAddrs:n.a.rtc_sdk_req_addrs,logServer:n.a.rtc_sdk_log_server});d.on(r.SDKEventName.STREAM_FAILED,e=>{const t=new Error(`userId: ${Object(a.b)(e.userId)}, streamId: ${e.id}`);Object(s.a)(t,"[warn]streamFailedError")}),t.a=d},,function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(56);class r extends n.a{}n.b},,function(e,t,i){"use strict";i.d(t,"c",(function(){return g})),i.d(t,"b",(function(){return C})),i.d(t,"a",(function(){return m})),i.d(t,"d",(function(){return N}));var n=i(157),r=i(205),o=i(50),s=i(0),a=i(32),d=i(345),c=i(406),l=i(280),p=i(107),u=i(337);function _(){const e={resolve:u.a,reject:u.a};return e.promise=new Promise((t,i)=>{e.resolve=t,e.reject=i}),e}var E=i(6),h=i(346),T=i(19),y=i(44);Object(h.c)();const f=o.c?166462:161471;n.a.init({app_id:f,channel_domain:"https://"+y.b.tt_tea}),n.a.config(Object.assign(Object.assign({page_type:"vc_web",ua:navigator.userAgent,sdk_name:s.SDKName.BYTERTC,_staging_flag:r.a?1:0,operate_env_id:a.j},Object(c.a)()),{app_full_version:l.version,ab_version:"none",platform:"web",sub_platform:"pc_web",refer_url:document.referrer,refer_one_id:"none",user_agent:navigator.userAgent,device_id:Object(T.d)(),network_type:"none",browser:p.a.browser.name,browser_engine_version:p.a.engine.version,browser_engine_name:p.a.engine.name,browser_cpu_architecture:p.a.cpu.architecture||"none",browser_major:p.a.browser.major})),n.a.config({evtParams:{share_id:"none"}});const I={resource:[/sockjs-node\/info/,/internal-api-lark-api/,...[y.b.tt_slardar,y.b.tt_tea].filter(e=>e).map(e=>new RegExp(e))]};Object(d.b)(e=>{Object(n.a)("vc_web_"+e.perfName,e)},I);const g={browser_unique_id:_(),user_unique_id:_()},S=Object.values(g).map(e=>e.promise);function C(e){n.a.config(e)}function m(e){n.a.config({evtParams:e})}function N(e,t,i=!0){if(!i)return Object(n.a)(e,t);Object(n.a)(e,Object.assign(Object.assign({},Object(h.a)()),t))}Promise.all(S).then(()=>{n.a.start()}).catch(e=>{E.c.error("tea wait params failed: "+e)});n.a},function(e,t,i){"use strict";i.d(t,"q",(function(){return _})),i.d(t,"i",(function(){return E})),i.d(t,"o",(function(){return h})),i.d(t,"e",(function(){return T})),i.d(t,"h",(function(){return y})),i.d(t,"f",(function(){return f})),i.d(t,"g",(function(){return I})),i.d(t,"p",(function(){return g})),i.d(t,"n",(function(){return S})),i.d(t,"r",(function(){return C})),i.d(t,"j",(function(){return m})),i.d(t,"m",(function(){return N})),i.d(t,"a",(function(){return A})),i.d(t,"l",(function(){return R})),i.d(t,"c",(function(){return O})),i.d(t,"d",(function(){return v})),i.d(t,"k",(function(){return P})),i.d(t,"b",(function(){return M}));var n=i(493),r=i.n(n),o=i(0),s=i(195),a=i(70),d=i(25);const c=r.a.parse(window.location.href,!0),{query:l}=c;let{path:p=""}=c;p=p||"";let u=(p.match(/(\w+\/)(\d+)/)||[])[2];const _=l.name||"",E=l.name_error||"",h=(u||"").slice(0,9),T=l.interviewUId||l.id||"",y="1"===l.mic,f="1"===l.cam,I="1"===l.fromLogin,g=l.micDid?""+l.micDid:"",S=l.camDid?""+l.camDid:"",C=l.speakerDid?""+l.speakerDid:"",m=l.operate_env_id?""+l.operate_env_id:"",N=l.referrer||"";function A(e,t,i){const n=-1===e.indexOf("?");return t&&i?`${e}${n?"?":"&"}${t}=${i}`:e}function R(e){const{hostname:t}=c,{meetingNumber:i=""}=d.a.previewStore,n=A("","lang",Object(a.a)("lang"));d.a.pageStore.needHangupBeforeunload=!1,window.location.href=`https://${t}/w/${o.PageNameRouteMap[e]}/${i}${n}`}function O(e){const t=r.a.parse(window.location.href,!0),i=e||t.path||"";let n=o.PageName.PREVIEW;return Object(s.a)(Object.keys(o.PageNameRouteMap),e=>{i.indexOf(v(e))>-1&&(n=e)}),n}function v(e){return"/"+o.PageNameRouteMap[e]}function P(){const e=Object(a.a)("lang"),t=e?"&lang="+e:"",i=`https://vc.${function(){const e=location.hostname,t=/feishu.*\.cn/.exec(e)||/larksuite.*\.com/.exec(e);return t?t[0]:""}()}/j/?v=1${t}`;location.href=i}function M(e){return Object(a.a)("debug")&&(e=A(e,"debug",Object(a.a)("debug"))),Object(a.a)("bwstest")&&(e=A(e,"bwstest",Object(a.a)("bwstest"))),Object(a.a)("referrer")&&(e=A(e,"referrer",Object(a.a)("referrer"))),Object(a.a)("vendorType")&&(e=A(e,"vendorType",Object(a.a)("vendorType"))),e}},,function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return o}));var n,r=i(124);!function(e){e.WINDOW_EVENT="window.event",e.IN_MEETING_NOTICE="page.inmeeting.notice",e.IN_MEETING_BANNER_NOTICE="page.inmeeting.banner.notice",e.IN_MEETING_BANNER_NOTICE_UPDATE="page.inmeeting.banner.notice.update",e.PAGE_WILL_CLOSE="page.will.close",e.USER_JOIN="meeting.user.join",e.USER_LEAVE="meeting.user.leave",e.RECEIVED_FOLLOW_ACTION="page.meeting.follow.action",e.LOW_FPS="page.meeting.lowFps",e.TERMINAL_HIGH_CPU_USAGE="terminal.cpu.high",e.UPDATE_MY_SETTING="user.update.setting",e.SDK_STREAM_CHANGE="sdk.stream.change",e.SHOW_CONTROL_BAR="page.meeting.show-control-bar",e.TOUCH_BAR_JOIN_BTN_CLICK="touch_bar_join_btn_click",e.TOUCH_BAR_MIC_BTN_CLICK="touch_bar_mic_btn_click",e.TOUCH_BAR_CAMERA_BTN_CLICK="touch_bar_camera_btn_click",e.TOUCH_BAR_MUTE_ALL_BTN_CLICK="touch_bar_mute_all_btn_click",e.TOUCH_BAR_UNMUTE_ALL_BTN_CLICK="touch_bar_unmute_all_btn_click ",e.TOUCH_BAR_LOCK_BTN_CLICK="touch_bar_lock_btn_click",e.TOUCH_BAR_RECORD_BTN_CLICK="touch_bar_record_btn_click",e.TOUCH_BAR_SUBTITLE_BTN_CLICK="touch_bar_subtitle_btn_click",e.TOUCH_BAR_CALL_LEAVE_CLICK="touch_bar_record_btn_clic",e.TOUCH_BAR_MEETING_LEAVE_CLICK="touch_bar_meeting_leave_click",e.TOUCH_BAR_MEETING_END_CLICK="touch_bar_meeting_end_click",e.TOUCH_BAR_STOP_FOLLOW_SHARE_BTN_CLICK="touch_bar_stop_follow_share_btn_click",e.TOUCH_BAR_STOP_SCREEN_SHARE_BTN_CLICK="touch_bar_stop_screen_share_btn_click",e.TOUCH_BAR_FOLLOW_REFRESH_BTN_CLICK="touch_bar_follow_refresh_btn_click",e.TOUCH_BAR_CANCEL_BTN_CLICK="touch_bar_cancel_btn_click",e.TOUCH_BAR_VOICE_ONLY_BTN_CLICK="touch_bar_voice_only_btn_click",e.TOUCH_BAR_REFUSE_BTN_CLICK="touch_bar_refuse_btn_click",e.TOUCH_BAR_ACCEPT_BTN_CLICK="touch_bar_accept_btn_click",e.TOUCH_BAR_FOLLOW_PRESENTER_BTN_CLICK="touch_bar_follow_presenter_btn_click",e.TOUCH_BAR_MINI_VIDEO_RESTORE="touch_bar_mini_video_restore",e.SHARE_ANOTHER_SCREEN="share_another_screen",e.SHARE_SCREEN_PAGE_DATA="share_screen_page_data",e.SHARE_WINDOW_CHANGED="share_window_changed",e.SHARE_DESKTOP_CHANGED="share_desktop_changed",e.FOLLOW_BACKWARD="FOLLOW_BACKWARD",e.SHARE_PERMISSION_SETTING_UPDATE="share_permission_setting_update",e.APP_MOUNTED="app_mounted",e.TOGGLE_DOC_SETTINGS="toggle_doc_settings",e.FOLLOW_CCM_TITLE_CHANGE="FOLLOW_CCM_TITLE_CHANGE",e.REFRESH_INTERVIEW_SPACE="REFRESH_INTERVIEW_SPACE",e.TOGGLE_SS_INVITE="TOGGLE_SS_INVITE",e.NETWORK_UNSTABLE="network_unstable",e.GROOT_CELLS="groot_cells",e.INTERVIEW_CODING_TOAST_PUSH="INTERVIEW_CODING_TOAST_PUSH"}(n||(n={}));const o=new r.EventEmitter},,function(e,t,i){"use strict";i.d(t,"d",(function(){return r})),i.d(t,"e",(function(){return s})),i.d(t,"a",(function(){return o})),i.d(t,"c",(function(){return a}));var n=i(5);function r(e,t){return t?t(e):e}function o(e,t){return t?t(e):e}function s(e){return e}function a(e,t){const i=Object.assign({},e);return t.forEach(t=>{i[t]=Object(n.g)(e[t])}),i}i.d(t,"b",(function(){return n.g}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return kp})),i.d(t,"b",(function(){return Gp})),i.d(t,"f",(function(){return Vp})),i.d(t,"d",(function(){return Hp})),i.d(t,"g",(function(){return Bp})),i.d(t,"e",(function(){return Fp})),i.d(t,"h",(function(){return qc.c})),i.d(t,"c",(function(){return jp})),i.d(t,"i",(function(){return Wp}));var n={};i.r(n),i.d(n,"basic",(function(){return ce})),i.d(n,"calendar",(function(){return le})),i.d(n,"contact",(function(){return pe})),i.d(n,"onboarding",(function(){return ue})),i.d(n,"search",(function(){return _e}));var r,o,s,a,d,c=i(10),l=i(239),p=i(12),u=i(51),_=i.n(u),E=i(64),h=i(21),T=i(210),y=i(15);function f(e,t){T.a.send(e,t)}class I{constructor(e,t){this.type=e,this.value=t}static None(){return new I(I.Type.None,void 0)}static Normal(e){return new I(I.Type.Normal,e)}static Up(e){return new I(I.Type.Up,e)}static Down(e){return new I(I.Type.Down,e)}static BiDirection(e){return new I(I.Type.BiDirection,e)}}!function(e){let t;!function(e){e[e.None=0]="None",e[e.Normal=1]="Normal",e[e.Up=2]="Up",e[e.Down=3]="Down",e[e.BiDirection=4]="BiDirection"}(t=e.Type||(e.Type={}))}(I||(I={})),function(e){e[e.Chatter=0]="Chatter",e[e.ChatName=1]="ChatName",e[e.ChatterDescription=2]="ChatterDescription"}(r||(r={})),function(e){e[e.CreateMessageReaction=0]="CreateMessageReaction",e[e.DeleteMessageReaction=1]="DeleteMessageReaction",e[e.UpdateMessagesMeRead=2]="UpdateMessagesMeRead",e[e.SyncMessage=3]="SyncMessage",e[e.SyncMessagesByIds=4]="SyncMessagesByIds",e[e.SyncMessagesByPositions=5]="SyncMessagesByPositions",e[e.SyncChatById=6]="SyncChatById",e[e.SyncChattersByIds=7]="SyncChattersByIds",e[e.SyncChatSetting=8]="SyncChatSetting",e[e.SyncReminder=9]="SyncReminder",e[e.SyncMessageById=10]="SyncMessageById",e[e.SyncUrgent=11]="SyncUrgent",e[e.SyncChat=12]="SyncChat",e[e.UpdateFeedCards=13]="UpdateFeedCards",e[e.SyncEmailMessage=14]="SyncEmailMessage",e[e.SyncChatsByIds=15]="SyncChatsByIds",e[e.SyncEmail=16]="SyncEmail",e[e.SyncEmailById=17]="SyncEmailById",e[e.SyncUrlMessageByIds=18]="SyncUrlMessageByIds",e[e.SyncMessageReadState=19]="SyncMessageReadState",e[e.SyncEventsByIds=20]="SyncEventsByIds",e[e.SyncThread=21]="SyncThread",e[e.SyncThreadById=22]="SyncThreadById",e[e.SyncThreadSetting=23]="SyncThreadSetting",e[e.UpdateThreadsMeRead=24]="UpdateThreadsMeRead",e[e.SyncMeetingsByChatIds=25]="SyncMeetingsByChatIds",e[e.PeakFeedCard=26]="PeakFeedCard",e[e.SyncI18nTemplate=27]="SyncI18nTemplate",e[e.SyncChatApplicationByIds=28]="SyncChatApplicationByIds",e[e.UpdateChatApplicationsMeRead=29]="UpdateChatApplicationsMeRead",e[e.SyncDocById=30]="SyncDocById",e[e.PullE2eeMessage=31]="PullE2eeMessage",e[e.SyncFeedCardDelayed=32]="SyncFeedCardDelayed",e[e.SyncEmailRoleById=33]="SyncEmailRoleById",e[e.CreateMessagePin=34]="CreateMessagePin",e[e.DeleteMessagePin=35]="DeleteMessagePin",e[e.SyncCryptoChatFirstMessagePosition=36]="SyncCryptoChatFirstMessagePosition",e[e.SyncI18nMessages=37]="SyncI18nMessages",e[e.SyncUrgentAckStatus=38]="SyncUrgentAckStatus",e[e.UploadCalendarUserDeviceSettings=39]="UploadCalendarUserDeviceSettings",e[e.SyncMessagesDependency=40]="SyncMessagesDependency",e[e.SyncThreadByIds=41]="SyncThreadByIds",e[e.SyncDocReadMessage=42]="SyncDocReadMessage",e[e.SyncThreadsByPositions=43]="SyncThreadsByPositions",e[e.SyncThreadMessagesByPositions=44]="SyncThreadMessagesByPositions",e[e.SyncStatusByEventKeys=45]="SyncStatusByEventKeys"}(o||(o={})),function(e){e[e.Image=1]="Image",e[e.Audio=2]="Audio",e[e.Sticker=3]="Sticker",e[e.Avatar=4]="Avatar",e[e.File=5]="File",e[e.Media=6]="Media",e[e.Temp=7]="Temp",e[e.Reaction=8]="Reaction"}(s||(s={})),function(e){e[e.Miss=0]="Miss",e[e.Hit=1]="Hit"}(a||(a={})),function(e){e[e.AccessToken=0]="AccessToken",e[e.LastSID=1]="LastSID",e[e.SearchHistory=2]="SearchHistory",e[e.NetType=3]="NetType",e[e.ClientSettings=4]="ClientSettings",e[e.ShowNoticeDetail=5]="ShowNoticeDetail",e[e.SearchHistoryEntity=6]="SearchHistoryEntity",e[e.InboxMaxCursor=7]="InboxMaxCursor",e[e.Stickers=8]="Stickers",e[e.Shortcuts=9]="Shortcuts",e[e.DisableMobileNotify=10]="DisableMobileNotify",e[e.StillNotifyAt=11]="StillNotifyAt",e[e.OnlinePCDeviceIds=12]="OnlinePCDeviceIds",e[e.SyncPacketTime=13]="SyncPacketTime",e[e.MyCustomerServiceChatId=14]="MyCustomerServiceChatId",e[e.LocalTimezone=15]="LocalTimezone",e[e.DoneFeedCardCursor=16]="DoneFeedCardCursor",e[e.IsDialPrompt=17]="IsDialPrompt",e[e.ShowPhoneAlert=18]="ShowPhoneAlert",e[e.SyncFeedCardCursor=19]="SyncFeedCardCursor",e[e.SyncBoxCardCursor=20]="SyncBoxCardCursor",e[e.CalendarSettings=21]="CalendarSettings",e[e.LastVersion=22]="LastVersion",e[e.LastActiveTime=23]="LastActiveTime",e[e.DepartmentDetail=24]="DepartmentDetail",e[e.DeviceSetting=25]="DeviceSetting",e[e.TrafficDataRecordDuration=26]="TrafficDataRecordDuration",e[e.FeedCardFilter=27]="FeedCardFilter",e[e.MyGroupChatsDetail=28]="MyGroupChatsDetail",e[e.SkinSettings=29]="SkinSettings",e[e.InitLastSidTime=30]="InitLastSidTime",e[e.LastNetActiveTime=31]="LastNetActiveTime",e[e.AppConfig=32]="AppConfig",e[e.ContactSetting=33]="ContactSetting",e[e.ChatApplicationBadge=34]="ChatApplicationBadge",e[e.ContactToken=35]="ContactToken",e[e.ContactInviteMsg=36]="ContactInviteMsg",e[e.ContactInviteUrl=37]="ContactInviteUrl",e[e.ContactCanSearchWithToken=38]="ContactCanSearchWithToken",e[e.PreloadChannelMessageIds=39]="PreloadChannelMessageIds",e[e.IsNewDb=40]="IsNewDb",e[e.UnknownChatIds=41]="UnknownChatIds",e[e.XLogSizeLimitM=42]="XLogSizeLimitM",e[e.FeedCardFilterV2=43]="FeedCardFilterV2",e[e.IdentityPrivate=44]="IdentityPrivate",e[e.IdentityPublic=45]="IdentityPublic",e[e.CryptoChatMode=46]="CryptoChatMode",e[e.LastSyncSID=47]="LastSyncSID",e[e.TenantIdIsZeroChatterIds=48]="TenantIdIsZeroChatterIds",e[e.RegistrationID=49]="RegistrationID",e[e.NextPreKeyID=50]="NextPreKeyID",e[e.LastRootStoragePath=51]="LastRootStoragePath",e[e.PathPrefix=52]="PathPrefix",e[e.AutoUpdateWorkStatus=53]="AutoUpdateWorkStatus",e[e.CacheStorage=54]="CacheStorage",e[e.SearchVersion=55]="SearchVersion",e[e.ProductGuide=56]="ProductGuide",e[e.FeedCursors=57]="FeedCursors",e[e.Reactions=58]="Reactions",e[e.SyncChatterFts=59]="SyncChatterFts",e[e.SyncMessageFts=60]="SyncMessageFts",e[e.BadgeStyle=61]="BadgeStyle",e[e.UserSettingUpdateTime=62]="UserSettingUpdateTime",e[e.UsedReactions=63]="UsedReactions",e[e.NotificationSetting=64]="NotificationSetting",e[e.WayToAddMeChat=65]="WayToAddMeChat",e[e.WayToAddMeContactToken=66]="WayToAddMeContactToken",e[e.WayToAddMeUnknown=67]="WayToAddMeUnknown",e[e.TimeFormatSetting=68]="TimeFormatSetting"}(d||(d={}));const g={};function S(e){return isNaN(+e)||(e=d[e]),g[e]}function C(e,t){isNaN(+e)||(e=d[e]),g[e]=t}function m(e,t){C(e,t)}var N,A=i(3),R=i(226);!function(e){e[e.SetAccessToken=1]="SetAccessToken",e[e.EnterBackground=2]="EnterBackground",e[e.EnterForeground=3]="EnterForeground",e[e.ReceiveMemoryWarning=4]="ReceiveMemoryWarning",e[e.Logout=5]="Logout",e[e.Terminating=6]="Terminating",e[e.FrontierOnSuccess=7]="FrontierOnSuccess",e[e.ClearResources=8]="ClearResources",e[e.TriggerSyncData=9]="TriggerSyncData",e[e.ClearChannelSet=10]="ClearChannelSet",e[e.SendPendingQuasiMessageOnLaunch=11]="SendPendingQuasiMessageOnLaunch",e[e.ByteviewPullFeedback=12]="ByteviewPullFeedback",e[e.ResumeFromSleep=13]="ResumeFromSleep"}(N||(N={}));const O=new R.a;function v(e,t){O.on(e,t)}function P(e){O.emit(e)}var M=i(175),L=i(254),b=i(13),D=i(74),U=i(24),w=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const k={},G={};function V(e){const t=e.sid;if(Y.isSidCached(t))return void A.c.debug("sid already received: {}",t);Y.cachePushSid(t);if(Object(D.e)().isSyncing)return i=e.cmd,void([2102,2210,2306,2215].includes(i)?q.handlePacket(e,W.WS,!1,!1):Y.cachedPushPackets.push(e));var i,n,r;if(Y.cachedPushPackets.length>0){const e=[...Y.cachedPushPackets];Y.cachedPushPackets=[],n=e,r=Y.cachedPipeSids,n.forEach(e=>{const t=e.sid;r.has(t)?A.c.info("sid was already handled by pipe: {}",t):(A.c.debug("handle saved push packet: cmd={} sid={}",e.cmd,t),q.handlePacket(e,W.WS,!1,!0))})}q.handlePacket(e,W.WS,!1,!0)}function H(e,t){for(const[t,i]of Object.entries(e)){if(k[t])throw new Error("Duplicate websocket handler with same command:"+t);k[t]=i}for(const[e,i]of Object.entries(t)){if(G[e])throw new Error("Duplicate pipe handler with same command:"+e);G[e]=i}}const B=new class{constructor(){this.enabled=!1,this.ids=new Set}};function F(){return B.enabled?new Set(B.ids):void 0}function j(e){const t=S(d.LastSID)||"",i=_.a.fromString(e);if(t&&!_.a.fromString(t).lessThan(i));else C(d.LastSID,e)}var W;!function(e){e[e.WS=1]="WS",e[e.PIPE=2]="PIPE"}(W||(W={}));class x{handlePacket(e,t,i,n){const r=e.sid;if(6e3!==e.cmd){if(n)try{j(r)}catch(e){A.c.warn("update last sid fail: {}",e)}A.c.debug("handle push packet: source={} cmd={} sid={}",W[t],e.cmd,r),function(e,t,i,n,r){w(this,void 0,void 0,(function*(){const o=t===W.WS?k[e]:G[e];if(!o)return;const[s,a]=o;try{const e=yield a(i,n,r);s&&e&&f(s,e)}catch(e){A.c.error("process error: {}",e)}}))}(e.cmd,t,e.payload,i,e.sid)}else!function(e){const t=e.sid;t?(A.c.debug("receive push sid, start pull, sid={}",t),Object(l.c)([t]).then(e=>{A.c.debug("receive push sid, pull success, sid={}",t);const i=c.d.decode("improto.PullPacketsBySidsResponse",e.data).packets;Object.values(i).forEach(e=>{A.c.debug("handle packet than pull by sid, cmd={}, status={}, sid={}, cid={}",e.cmd,e.status,e.sid,e.cid),q.handlePacket(e,W.WS,!1,!1)})})):A.c.warn("receive push sid empty")}(e)}}const K=new x,q=new x;const Y=new class{constructor(){this.cachedPushPackets=[],this.cachedPushSids=new Set,this.cachedPipeSids=new Set}cachePipeSids(e){e.forEach(e=>this.cachedPipeSids.add(e))}isSidCached(e){return this.cachedPushSids.has(e)}cachePushSid(e){this.cachedPushSids.size>=1e3&&this.cachedPushSids.delete(this.cachedPushSids.keys().next().value),this.cachedPushSids.add(e)}};const J={onOpen(){P(N.FrontierOnSuccess)},onClose(e){switch(e){case L.a.SESSION_INVALID:case L.a.TICKET_INVALID:f(h.a.PUSH_SESSION_EXPIRED,Object(p.a)("PushSessionExpiredResponse"));break;case L.a.DEFAULT:default:(function(){A.c.info("Auth:: check is is_logged_in start");const e=E.a.apiHost+"/suite/passport/auth/is_logged_in/";return Object(b.d)({method:"GET",url:e}).then(e=>e.json()).then(e=>(A.c.info("Auth:: check is_logged={}, userId={}",e.is_logged,e.user.id),!(!e.is_logged||e.user.id!==Object(U.b)())))})().then(e=>{e?setTimeout(M.c,3e5):f(h.a.PUSH_SESSION_EXPIRED,Object(p.a)("PushSessionExpiredResponse"))})}},onMessage(e){V(e)}};var z=i(613);Object(c.f)({bots:z.a});var X={encode:c.e,decode:c.b,create:c.a};const Q=Object(A.b)("log");function $(e){try{const t=X.decode("bots.PushLogRequest",e);if(t.deviceId!==Object(M.b)())return void Q.warn("[FIXME] receive log upload, but device_id mismatch, will not upload log");switch(t.pushType){case 1:Object(A.d)(),Q.debug("SerBots.PushLogRequest.PushType.LOG_UPLOAD");break;case 2:Q.debug("SerBots.PushLogRequest.PushType.MODULE_LEVEL");break;case 0:Q.warn("Receive unknown push log request type")}}catch(e){return void Q.warn("packet handler failed: err= {}",e.message)}}const Z={receiveLogRequest:e=>{$(e)}};h.a.PUSH_LOG_UPLOAD,h.a.PUSH_LOG_UPLOAD;var ee=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const te={};function ie(e){Object.keys(e).forEach(t=>{if(te[t])throw new Error("Duplicate handler with same command:"+t);te[t]=e[t]})}var ne=i(290),re=i(420);Object(c.f)({chats:ne.a,topic_group:re.a});var oe={encode:c.e,decode:c.b,create:c.a},se=i(614);Object(c.f)({searches:se.a});c.e,c.b,c.a;var ae=i(42),de=i.n(ae);const ce={Urgent:{Type:{APP:1,SMS:2,PHONE:3},Status:{ME_CREATE:1,ME_ACK:2,URGENT_ME:3,ACK_ME:4}},File:{Source:{UNKNOWN:0,LARK_SERVER:1,NUT_STORE:2}},Content:{ContentValueType:{CONTENT_VALUE_TYPE_UNKNOWN:0,USER:1,BOT:2,TEXT:3,CHAT:4,CHATTER:5,URL:6,ACTION:7},SystemType:{UNKNOWN:0,USER_MODIFY_GROUP_NAME:1,USER_MODIFY_GROUP_AVATAR:2,USER_MODIFY_GROUP_DESCRIPTION:3,USER_MODIFY_GROUP_SETTINGS:4,USER_START_GROUP_AND_INVITE:5,SYSTEM_WELCOME_USER:6,USER_INVITE_OTHERS_JOIN:7,USER_QUIT_GROUP:8,USER_REMOVE_OTHERS:9,USER_REMOVE_GROUP_DESCRIPTION:10,USER_CHECK_OTHERS_TELEPHONE:11,DERIVE_FROM_P2P_CHAT:12,USER_JOIN_VIA_SHARE:13,TRANSFER_GROUP_CHAT_OWNER:14,TRANSFER_GROUP_CHAT_OWNER_AND_QUIT:15,WIPE_ANNOUNCEMENT:16,ADD_EMAIL_MEMBERS:17,REMOVE_EMAIL_MEMBERS:18,MODIFY_EMAIL_MEMBERS:19,USER_MODIFY_EMAIL_SUBJECT:20,USER_SYNC_MESSAGE:21,USER_MODIFY_THREAD_TOPIC:22,USER_INVITE_OTHERS_JOIN_CRYPTO_CHAT:23,USER_START_CRYPTO_GROUP_AND_INVITE:24,USER_CALL_E2EE_VOICE_ON_CANCELL:25,USER_CALL_E2EE_VOICE_ON_MISSING:26,USER_CALL_E2EE_VOICE_DURATION:27,VC_CALL_HOST_CANCEL:28,VC_CALL_PARTI_NO_ANSWER:29,VC_CALL_PARTI_CANCEL:30,VC_CALL_HOST_BUSY:31,VC_CALL_PARTI_BUSY:32,VC_CALL_FINISH_NOTICE:33,VC_CALL_DURATION:34,USER_START_MEETING_GROUP_AND_INVITE:35,USER_INVITE_OTHERS_JOIN_MEETING:36,USER_QUIT_MEETING_CHAT:37,USER_DISMISSED_MEETING_CHAT:38,USER_START_GROUP:39,USER_REMOVE_OTHERS_FROM_MEETING:40,USER_ADD_MEETING_CHAT:41,JOIN_DEPARTMENT_GROUP:42,BUILD_FRIENDSHIP:43,NON_FRIENDS_NOTICE:44,DECLINE_INVITATION:45,DECLINE_SPEC_INVITATION:46,USER_JOIN_VIA_QR_CODE:47,VC_CALL_CONNECT_FAIL:48,VC_CALL_DISCONNECT:49,USER_CALL_E2EE_VOICE_WHEN_REFUSED:52,USER_CALL_E2EE_VOICE_WHEN_OCCUPY:53,GRAB_OTHER_HONGBAO:54,OTHER_GRAB_MY_HONGBAO:55,LAST_HONGBAO_IS_GRABBED:56,SEND_HONGBAO_MESSAGE_FAILED:57,USER_SYNC_MESSAGE_V2:58,USER_SHARE_DOC_PERMISSION:59,USER_CHANGE_DOC_PERMISSION:60,USER_SHARE_DOC_FOLDER:61,USER_OPEN_ONLY_ADMIN_POST:62,USER_SEPECIFY_MEMBERS_POST:63,USER_LOW_VERSION_HINT:64,USER_THREAD_CLEAR_TITLE:65,USER_OPEN_ANYONE_POST:66,CRYPTO_MESSAGE_NOTICE_NO_TRANSMIT:67,CRYPTO_MESSAGE_NOTICE_SEVEN_DAYS:68,CRYPTO_MESSAGE_NOTICE_BURN_AFTER_READING:69,USER_SET_CRYPTO_MESSAGE_BURN_LIFE:70,USER_TOOK_SCREENSHOT_IN_CRYPTO_CHAT:71,CRYPTO_LOW_VERSION_HINT:72,INVITE_CHAT_MEMBER_2_OUT_CHAT:73,CREATE_CHAT_AND_INVITE_FROM_CHAT_MEMBER:74,AUTO_TRANSLATE_GUIDANCE:75,WITHDRAW_ADDED_USER:76,SAIPAN_REMIND_ONCALL_REPLY:77,SAIPAN_REMIND_ONCALL_DONE:78,SAIPAN_REMIND_ONCALL_AUTO_DONE:79,SAIPAN_ADD_ONCALL:80,VC_MEETING_STARTED:83,USER_OPEN_ONLY_ADMIN_POST_THREAD:84,USER_SPECIFY_MEMBERS_POST_THREAD:85,USER_OPEN_ANYONE_POST_THREAD:86,VC_MEETING_ENDED_OVER_ONE_HOUR:87,INVITE_AT_CHATTERS:88,VC_MEETING_ENDED_LESS_ONE_HOUR:89,VC_MEETING_ENDED_LESS_ONE_MIN:90,VC_DEFAULT_MEETING_ENDED_OVER_ONE_HOUR:91,VC_DEFAULT_MEETING_ENDED_LESS_ONE_HOUR:92,VC_DEFAULT_MEETING_ENDED_LESS_ONE_MIN:93,VC_VIDEO_CHAT_STARTED:94,VC_CALL_ENDED_OVER_ONE_HOUR:95,VC_CALL_ENDED_LESS_ONE_HOUR:96,VC_CALL_ENDED_LESS_ONE_MIN:97,VC_CALL_DISCONNECTED_ENDED_OVER_ONE_HOUR:98,VC_CALL_DISCONNECTED_ENDED_LESS_ONE_HOUR:99,VC_CALL_DISCONNECTED_ENDED_LESS_ONE_MIN:100,VC_CALL_INTERVIEWEE_NO_ANSWER:101,VC_CALL_INTERVIEWEE_REFUSE:102,VC_CALL_INTERVIEWER_CANCEL:103,VC_CALL_INTERVIEWEE_BUSY:104,VOIP_ENDED_OVER_ONE_HOUR:105,VOIP_ENDED_LESS_ONE_HOUR:106,VOIP_ENDED_LESS_ONE_MIN:107,VOIP_DISCONNECTED_ENDED_OVER_ONE_HOUR:108,VOIP_DISCONNECTED_ENDED_LESS_ONE_HOUR:109,VOIP_DISCONNECTED_ENDED_LESS_ONE_MIN:110,VOIP_INTERVIEWEE_NO_ANSWER:111,VOIP_INTERVIEWEE_REFUSE:112,VOIP_INTERVIEWER_CANCEL:113,VOIP_INTERVIEWEE_BUSY:114,SAIPAN_SELECT_CARD_CONTENT:115,SAIPAN_USER_QUEUEING:116,SAIPAN_NOTIFY_AGENT_QUEUEING:117,SAIPAN_RESERVED_3:118,SAIPAN_RESERVED_4:119,SAIPAN_RESERVED_5:120,CANCEL_EMERGENCY_CALL:121,HANGUP_EMERGENCY_CALL:122,START_EMERGENCY_CALL:123,MEETING_TRANSFER_TO_CHAT:124,MEETING_TRANSFER_TO_CHAT_WITH_DOC_URL:125,VC_CALL_INTERVIEWEE_NOT_ONLINE:131,VOIP_INTERVIEWEE_NOT_ONLINE:132,USER_JOIN_CHAT_AUTO_MUTE:138,EMERGENCY_CALL_NOTANSWER:139,INVITE_CHATTERS_TO_CHAT_NO_PERMISSION_LESS_THRESHOLD:140,INVITE_CHATTERS_TO_CHAT_NO_PERMISSION_OVER_THRESHOLD:141,CHAT_ROOM_START:143,USER_TURN_ON_GROUP_MAIL:148,USER_TURN_OFF_GROUP_MAIL:149,USER_CHANGE_GROUP_MAIL_PERMISSION_OWNER:150,USER_CHANGE_GROUP_MAIL_PERMISSION_MEMBERS:151,USER_CHANGE_GROUP_MAIL_PERMISSION_TENANT:152,USER_CHANGE_GROUP_MAIL_PERMISSION_EVERYONE:153,USER_JOIN_VIA_GROUP_LINK:154,CHAT_ROOM_END:155,CHAT_ROOM_START_V2:156,SYSTEM_EPHEMERAL_NOTIFY:157,BUILD_ONEWAY_RELATION:158,INVITE_FRIENDS_SUCCESS:159,CREATE_P2P_SOURCE:160,SEND_MESSAGE_COLLABORATION_AUTH_FAILED:161,NOT_COLLABORATION_AUTH_SEND_MSG_LIMIT_NOTIFY:162,NOT_COLLABORATION_AUTH_SEND_MSG_REACH_LIMIT:163,USER_INVITE_BOT_JOIN:169}},Channel:{Type:{UNKNOWN:0,CHAT:1,EMAIL:2,DOC:3,OPENAPP:4,OPENAPP_CHAT:5}},Message:{Type:{UNKNOWN:0,POST:2,FILE:3,TEXT:4,IMAGE:5,SYSTEM:6,AUDIO:7,EMAIL:8,SHARE_GROUP_CHAT:9,STICKER:10,MERGE_FORWARD:11,CALENDAR:12,CARD:13,MEDIA:15,SHARE_CALENDAR_EVENT:16,HONGBAO:17,GENERAL_CALENDAR:18,VIDEO_CHAT:19,LOCATION:20,COMMERCIALIZED_HONGBAO:22,SHARE_USER_CARD:23},FromType:{UNKNOWN_FROM_TYPE:0,USER:1,BOT:2},RecallerIdentity:{UNKNOWN_IDENTITY:0,OWNER:1,ADMINISTRATOR:2}},CardContent:{Type:{UNKNOWN_TYPE:0,VOTE:1,TEXT:2,VCHAT:3}},CardAction:{Method:{GET:1,POST:2,LARK_COMMAND:3,OPEN_URL:4}},RichTextElement:{Tag:{UNKNOWN:0,TEXT:1,IMG:2,P:3,FIGURE:4,AT:5,A:6,B:7,I:8,U:9,EMOTION:10,BUTTON:11,SELECT:12,PROGRESSSELECT:13,DIV:14,TEXTABLEAREA:15,TIME:16,LINK:17,MEDIA:18,SELECTMENU:19,OVERFLOWMENU:20,DATEPICKER:21,DOCS:22,H1:23,H2:24,H3:25,UL:26,OL:27,LI:28,QUOTE:29,CODE:30,CODE_BLOCK:31,HR:32,TIMEPICKER:33,DATETIMEPICKER:34,REACTION:35}},Chat:{Type:{P2P:1,GROUP:2,TOPIC_GROUP:3},Role:{IGNORE:0,MEMBER:1,VISITOR:2,THREAD_FOLLOWER:3},MessagePosition:{Enum:{UNKNOWN:0,RECENT_LEFT:1,NEWEST_UNREAD:2}},PostType:{UNKNOWN_POST_TYPE:0,ANYONE:1,ONLY_ADMIN:2,WHITE_LIST:3},ChatMode:{UNKNOWN:0,DEFAULT:1,THREAD:2,THREAD_V2:3},AddMemberPermission:{Enum:{UNKNOWN:0,ALL_MEMBERS:1,ONLY_OWNER:2}},AtAllPermission:{Enum:{UNKNOWN:0,ALL_MEMBERS:1,ONLY_OWNER:2}},AddMemberApply:{Enum:{UNKNOWN:0,NO_APPLY:1,NEED_APPLY:2}},SystemMessageVisible:{Enum:{UNKNOWN:0,ONLY_OWNER:1,ALL_MEMBERS:2,NOT_ANYONE:3}},ShareCardPermission:{Enum:{UNKNOWN:0,ALLOWED:1,NOT_ALLOWED:2}}},Chatter:{Type:{UNKNOWN:0,USER:1,BOT:2},Description:{Type:{ON_DEFAULT:0,ON_BUSINESS:1,ON_LEAVE:2,ON_MEETING:3}},AccessInfo:{AccessProfile:{AccessMessage:{InaccessibleCode:{DEFAULT:0,EXECUTIVES:1}}}},ChatExtra:{OncallRole:{UNKNOWN:0,USER:3,ONCALL:4,ONCALL_HELPER:5,USER_HELPER:6}}},FeedCard:{FeedType:{UNKNOWN:0,INBOX:1,DONE:2},EntityType:{UNKNOWN_ENTITY:0,CHAT:1,EMAIL:2,DOC_FEED:3,THREAD:4,BOX:5,OPENAPP:6,TOPIC:7,OPENAPP_CHAT:8,EMAIL_ROOT_DRAFT:100}},Doc:{Type:{UNKNOWN:0,DOC:1,SHEET:2,BITABLE:3,MINDNOTE:4,FILE:5,SLIDE:6}},DocMessage:{Type:{UNKNOWN_TYPE:0,MENTION:1,COMMENT:2,REPLY:3,SOLVE:4,SHARE:5,REOPEN:6,COMMENT_REACTION:7,TEMPLATE_CARD:8}},DocFeed:{Type:{UNKNOWN:0,DOC:1,SHEET:2,BITABLE:3,MINDNOTE:4,FILE:5,SLIDE:6}},ThreadFollowStatus:{UNKNOWN_STATUS:0,NOT_FOLLOWING:1,FOLLOWING:2,LOADING:3},ChatApplication:{Status:{UNKNOWN_STATUS:0,PENDING:1,AGREED:2,REFUSED:3,DELETED:4,EXPIRED:5},Type:{UNKNOWN_TYPE:0,FRIEND:1,JOIN_CHAT:2}},OpenApp:{State:{UNKNOWN_STATE:100,USABLE:0,TENANT_FORBIDDEN:2,PLATFORM_FORBIDDEN:3,DEVELOPER_FORBIDDEN:4,OFFLINE:5,USER_INVISIBLE:6,APP_NEED_PAY_USE:7,APP_DELETED:8}}},le={ActionType:{UNKNOWN_ACTION:0,CREATE_P2P_CHAT:1,INVITE_SAME_CHAT:2,SEND_URGENT:3,SEND_MESSAGE:4,MAKE_PHONE_CALL:5,CRATE_P2P_CRYPTO_CHAT:6,VIEW_PERSONAL_STATUS:7,VOIP_CALL:8,CREATE_SINGLE_VIDEOCHAT:9,INVITE_VIDEO_CHAT:10,SHARE_VIDEO_CHAT:11,INVITE_EVENT:12,SHARE_EVENT:13,TRANSFER_EVENT:14,CCM_SEND_MESSAGE:15,CCM_BOT_MESSAGE:16,CCM_FEED_MESSAGE:17,BLOCK:30,COOPERATION:31}},pe={GetUserProfileResponse:{Personal:{ProfileField:{FieldType:{UNKNOWN:0,DEFAULT:1,CUSTOM:2}},ProfileValue:{Gender:{DEFAULT:0,MAN:1,WOMAN:2}}}},GetAccountUserListResponse:{AccountUser:{TenantTag:{STANDARD:0,UNDEFINED:1,SIMPLE:2}}},v2:{GetUserProfileResponse:{UserInfo:{Gender:{DEFAULT:0,MAN:1,WOMAN:2},FriendStatus:{UNKNOWN:0,DOUBLE:1,FORWARD:2,REVERSE:3,NONE:4}},CTA:{CTAType:{UNKNOWN:0,LINK:1,CHAT:10,CRYPTO_CHAT:11,VOICE:12,VIDEO:13,USER_CARD:14,BLOCK_SETTING:15,COLLABORATION_PERMISSION_SETTING:16},DeniedReason:{UNKNOWN_REASON:0,CROSS_TENANT_BLOCKED:1,CROSS_TENANT_DENY:2,SAME_TENANT_DENY:3}},Field:{FieldType:{UNKNOWN:0,TEXT:1,LINK:2,C_ALIAS:50,C_DESCRIPTION:51,S_DEPARTMENT:100,S_PHONE_NUMBER:101,S_FRIEND_LINK:102}}}}},ue={IceBreakingStep:{StepType:{Unknown:0,WelcomeVideo:1,Invite:2,Spotlight:3,JumpChat:4,JumpTab:5,JumpGadget:6}}},_e={SearchResult:{Type:{UNKNOWN:0,CHATTER:1,CHAT:2,MESSAGE:3,DOC_FEED:4,EMAIL:5,DOC:6,EMAIL_MESSAGE:7,THREAD:8,BOX:9,ONCALL:10,CRYPTO_P2P_CHAT:11,OPEN_APP:12,LINK:13,EXTERNAL:14,WIKI:15,MAIL_CONTACT:16,DEPARTMENT:17}},IntegrationSearchRequest:{FilterParam:{TimeLabel:{UNLIMITED:0,YESTERDAY:1,LAST_7_DAYS:2,LAST_30_DAYS:3,LAST_90_DAYS:4}}},SearchHistoryInfo:{Source:{UNKNOWN:0,MAIN:1,MESSAGE:2,SPACE:3,EXTERNAL:4,WIKI:5,CHAT:6,USER:7}}};var Ee;!function(e){let t,i,n;!function(e){e[e.FEED=1]="FEED",e[e.CONTACT=2]="CONTACT"}(t=e.BannerScene||(e.BannerScene={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.UPGRADE_TEAM=1]="UPGRADE_TEAM",e[e.ACTIVITY=2]="ACTIVITY",e[e.INVITE_MEMBER=3]="INVITE_MEMBER",e[e.NOTIFICATION=4]="NOTIFICATION",e[e.DYNAMIC=5]="DYNAMIC"}(i=e.BannerBizName||(e.BannerBizName={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NORMAL=1]="NORMAL"}(n=e.BannerType||(e.BannerType={}))}(Ee||(Ee={}));var he=i(5);class Te extends class{}{constructor(e){super();Object.keys(e).forEach(t=>{this[t]=e[t]})}}class ye{constructor(e){Object.keys(e).forEach(t=>{this[t]=e[t]})}}class fe{constructor(e){Object.keys(e).forEach(t=>{this[t]=e[t]})}}class Ie{constructor(e){Object.keys(e).forEach(t=>{this[t]=e[t]}),this.joinTime=Object(he.g)(e.joinTime),this.createTime=Object(he.g)(e.createTime),this.updateTime=Object(he.g)(e.updateTime),this.updateTimeMs=Object(he.g)(e.updateTimeMs),this.type=Object(he.b)(this.type,ce.Chat.Type),this.role=Object(he.b)(this.role,ce.Chat.Role),this.messagePosition=Object(he.b)(this.messagePosition,ce.Chat.MessagePosition.Enum),this.addMemberPermission=Object(he.b)(this.addMemberPermission,ce.Chat.AddMemberPermission.Enum),this.atAllPermission=Object(he.b)(this.atAllPermission,ce.Chat.AtAllPermission.Enum),this.joinMessageVisible=Object(he.b)(this.joinMessageVisible,ce.Chat.SystemMessageVisible.Enum),this.quitMessageVisible=Object(he.b)(this.quitMessageVisible,ce.Chat.SystemMessageVisible.Enum),this.shareCardPermission=Object(he.b)(this.shareCardPermission,ce.Chat.ShareCardPermission.Enum),this.chatMode=Object(he.b)(this.chatMode,ce.Chat.ChatMode),this.postType=Object(he.b)(this.postType,ce.Chat.PostType),this.addMemberApply=Object(he.b)(this.addMemberApply,ce.Chat.AddMemberApply.Enum)}toString(){return Object(he.i)("Chat {{ id: {} type_: {} lastMessageId: {} lastMessagePosition: {}         lastMessagePositionBadgeCount= {} read_position= {}         read_position_badge_count= {} last_visible_message_id= {}         last_visible_message_position= {} update_time: {} chatter_id: {} role: {}         is_shortcut: {} name_pinyin: {} tenant_id: {} is_remind: {} is_custom_icon:         {} is_dissolved: {} message_position: {} add_member_permission: {}         at_all_permission: {} join_message_visible: {} quit_message_visible: {}         share_card_permission: {} is_me_create: {} is_crypto: {} is_meeting= {}         chat_mode: {} chatable= {} muteable= {} is_tenant= {} is_cross_tenant= {}         support_view= {} crypto_chat_first_message_position= {} avatar_key= {}         oncall_id= {} is_auto_translate= {} show_nickname= {} open_security= {}         show_member_limit= {} start_thread_position= {} read_thread_position= {}         read_thread_position_badge_count= {} last_thread_id= {} last_thread_position=         {} last_thread_position_badge_count= {} last_visible_thread_id= {}         last_visible_thread_position= {} allow_post= {} post_type= {}         add_member_apply= {} chatter_apply_count= {} show_banner= {} }}",this.id,this.type,this.lastMessageId,this.lastMessagePosition,this.lastMessagePositionBadgeCount,this.readPosition,this.readPositionBadgeCount,this.lastVisibleMessageId,this.lastVisibleMessagePosition,this.updateTime,this.chatterId,this.role,this.isShortcut,this.namePinyin.slice(0,3),this.tenantId,this.isRemind,this.isCustomIcon,this.isDissolved,this.messagePosition,this.addMemberPermission,this.atAllPermission,this.joinMessageVisible,this.quitMessageVisible,this.shareCardPermission,this.isMeCreate,this.isCrypto,this.isMeeting,this.chatMode,this.chatable,this.muteable,this.isTenant,this.isCrossTenant,this.supportView,this.cryptoChatFirstMessagePosition,this.avatarKey,this.oncallId,this.isAutoTranslate,this.showNickname,this.openSecurity,this.showMemberLimit,this.startThreadPosition,this.readThreadPosition,this.readThreadPositionBadgeCount,this.lastThreadId,this.lastThreadPosition,this.lastThreadPositionBadgeCount,this.lastVisibleMessageId,this.lastVisibleMessagePosition,this.allowPost,this.postType,this.addMemberApply,this.chatterApplyCount,this.showBanner)}}class ge extends R.a{send(e){this.emit("SEND_PAYLOAD",e)}addReceiver(e){return this.on("SEND_PAYLOAD",e)}}const Se=new ge;function Ce(e){setTimeout(()=>{Se.send(e)})}function me(e,t,i,n){if(!e||!Object.keys(e).length)return;const r=[];for(const[i,n]of Object.entries(e))r.push({id:i,type:n,isDelete:t});const o={pairs:[],removeChatterIds:void 0,visitorChannelIds:void 0,chatterId2chatId:void 0,forceShouldSortChannel:!1,flushFeedCards:!1,chatterId2threadId:void 0,withoutPush:!1};o.pairs=r,o.flushFeedCards=i,o.withoutPush=n,Ce(o)}function Ne(e){if(0===e.length)return;const t={pairs:[],removeChatterIds:void 0,visitorChannelIds:void 0,chatterId2chatId:void 0,forceShouldSortChannel:!1,flushFeedCards:!1,chatterId2threadId:void 0,withoutPush:!1};t.removeChatterIds=e,Ce(t)}function Ae(e,t){const i={};for(const t of e)i[t]=1;Oe(i,t)}function Re(e,t){const i={};for(const t of e)i[t]=4;Oe(i,t)}function Oe(e,t){me(e,t,!1,!1)}class ve{constructor(e){for(const t in e)this[t]=e[t]}hasParent(){return!!this.parentId}canSync(){return this.childCount<=0}}class Pe{constructor(e){for(const t in e)this[t]=e[t]}}class Me{constructor(e){for(const t in e)this[t]=e[t]}}const Le=y.b.Chinese,be=y.b.English,De=y.b.Japanese,Ue={};function we(e,t){const i={};for(const n of e){const e=Ue[n];if(e){const r=e[t];if(r){const e=Object.values(r);i[n]=e}}}return i}function ke(e,t){const i=we(e,t),n={};for(const[e,t]of Object.entries(i)){const i=new Me({id:e,zhCnName:"",enUsName:"",jaJpName:""});for(const e of t)e.localeIdentifier===Le?i.zhCnName=e.value:e.localeIdentifier===be?i.enUsName=e.value:e.localeIdentifier===De&&(i.jaJpName=e.value);n[e]=i}return n}function Ge(e){return ke(e,r.ChatName)}function Ve(e){return ke(e,r.Chatter)}function He(e){for(const t of e){const e=Ue[t.id]=Ue[t.id]||{};(e[t.type]=e[t.type]||{})[t.localeIdentifier]=t}}function Be(e,t){for(const i in e){const e=Ue[i];e&&delete e[t]}}function Fe(e,t,i,n,r){const o={},s=new Pe({id:e,type:t,localeIdentifier:Le,value:i}),a=new Pe({id:e,type:t,localeIdentifier:be,value:n});o[Le]=s,o[be]=a;for(const[i,n]of Object.entries(r)){let r=Object(y.f)(i);if(null!=r){r=r;const i=new Pe({id:e,type:t,localeIdentifier:r,value:n});o[r]=i}}return Object.values(o)}function je(e,t,i,n){return Fe(e,r.Chatter,t,i,n||{})}function We(e,t,i,n){return Fe(e,r.ChatterDescription,t,i,n||{})}var xe=i(63);let Ke=[],qe={};function Ye(e){Object.keys(e).forEach(t=>{const i=e[t],n=qe[t];n?Object.keys(i).forEach(e=>{const t=i[e];n[e]=t}):qe[t]=i})}const Je=new de.a({max:Number.MAX_SAFE_INTEGER}),ze=(new de.a({max:Number.MAX_SAFE_INTEGER}),new de.a({max:Number.MAX_SAFE_INTEGER}));function Xe(e){const t=function(e){const t=Ge(e.map(e=>e.id));return e.map(e=>{const i=t[e.id];if(!i)return e;const n={[xe.a.toLocaleLowerCase()]:i.zhCnName,[xe.c.toLocaleLowerCase()]:i.enUsName,[xe.d.toLocaleLowerCase()]:i.jaJpName};return Object.assign(Object.create(Object.getPrototypeOf(e)),e,{i18nNames:n})})}(e.reduce((e,t)=>{const i=Je.get(t);return i&&e.push(i),e},[]));return function(e){e.forEach(e=>{!function(e){const t=rt.fromChat(e);ze.set(t.id,t)}(e)}),function(e){const t=e.filter(e=>1===e.type).map(e=>e.id);Ke.push(...t)}(e)}(t),t.reduce((e,t)=>(e[t.id]=t,e),{})}function Qe(e){return Xe([e])[e]}function $e(e,t){const i=[],n=[];for(const[r,o]of Object.entries(e))t[r],o?n.push(r):i.push(r);it(n,void 0,void 0,!0,void 0,void 0,!0),it(i,void 0,void 0,!1,void 0,void 0,!0)}function Ze(e,t){it(e,void 0,void 0,void 0,void 0,t,!0)}function et(e){const t=[],i=[];for(const[n,r]of Object.entries(e))1===r?t.push(n):2===r&&i.push(n);it(t,void 0,void 0,void 0,1,void 0,!0),it(i,void 0,void 0,void 0,2,void 0,!0)}function tt(e,t){it(e,void 0,t,void 0,void 0,void 0,!0)}function it(e,t,i,n,r,o,s){for(const s of e){const e=Je.get(s);e&&(null!=t&&(e.isShortcut=t),null!=i&&(e.role=i),null!=n&&(e.isRemind=n),null!=r&&(e.messagePosition=r),null!=o&&(e.isAutoTranslate=o))}null!=s&&s&&Ae(e,!1)}function nt(e){e.forEach(e=>{Je.set(e.id,e)})}class rt{static fromChat(e){const t=new rt;return t.id=e.id,t.lastMessageId=e.lastMessageId,t.lastMessagePositionBadgeCount=e.lastMessagePositionBadgeCount,t.lastMessagePosition=e.lastMessagePosition,t.readPosition=e.readPosition,t.readPositionBadgeCount=e.readPositionBadgeCount,t.lastVisibleMessageId=e.lastVisibleMessageId,t.lastVisibleMessagePosition=e.lastMessagePosition,t}}function ot(e){const t={};return Je.values().forEach(i=>{e.forEach(e=>{const{chatterId:n,id:r,type:o}=i;e===n&&1===o&&(t[r]=i)})}),t}function st(e){const t=Xe(e);return e.filter(e=>!t[e])}const at=new de.a({max:Number.MAX_SAFE_INTEGER});function dt(e){return function(e){const t=[];return e.forEach(e=>{const i=at.get(e);i&&Object.keys(i).forEach(n=>{t.push(new ye({chatId:e,chatterId:n,weight:i[n]}))})}),t}([e])}function ct(e){e.forEach(e=>at.del(e))}class lt{constructor(e){Object.keys(e).forEach(t=>{this[t]=e[t]})}toString(){return Object(he.i)("Chatter {{ id: {} }}",this.id)}}class pt{constructor(e){Object.keys(e).forEach(t=>{this[t]=e[t]})}toString(){return Object(he.i)("Chatter {{ id: {} }}",this.id)}}class ut{toString(){return Object(he.i)("UpdateChatter {{ id: {} }}",this.id)}}class _t{constructor(e){Object.keys(e).forEach(t=>{this[t]=e[t]})}}class Et extends _t{}class ht{constructor(e){Object.keys(e).forEach(t=>{this[t]=e[t]}),this.id=e.chatterId}}const Tt=new de.a({max:Number.MAX_SAFE_INTEGER});function yt(e){e.forEach(e=>{Tt.set(e.id,e)})}const ft=new de.a({max:Number.MAX_SAFE_INTEGER});function It(e){const[t,i,n]=function(e){const t=[],i=[],n=[];for(const r of e){const e=new lt({id:r.id,name:r.name,type:r.type,avatarKey:r.avatarKey,updateTime:r.updateTime,namePinyin:r.namePinyin,creatorId:r.creatorId,isResigned:r.isResigned,isRegistered:r.isRegistered,enUsName:r.enUsName,description:r.description,botTag:r.botTag,inContacts:r.inContacts,canJoinGroup:r.canJoinGroup,tenantId:r.tenantId,expireTime:r.expireTime,alias:r.alias,workStatus:r.workStatus,accountId:r.accountId,email:r.email,doNotDisturbEndTime:r.doNotDisturbEndTime});t.push(e);const o=je(r.id,r.zhCnName,r.enUsName,r.i18nName);if(i.push(...o),r.i18nDescriptions){const e=r.i18nDescriptions;if(0===Object.keys(e).length)n.push(r.id);else{const t=Object(y.e)(xe.e.Chinese,t=>e[t]||"")||"",n=Object(y.e)(xe.e.English,t=>e[t]||"")||"",o=We(r.id,t,n,e);i.push(...o)}}}return[t,i,n]}(e);t.forEach(e=>ft.set(e.id,e)),Be(n,r.ChatterDescription),He(i);Ne(e.map(e=>e.id))}function gt(e){const t=[];return e.filter(e=>"1"!==e).forEach(e=>{ft.get(e)||t.push(e)}),t}function St(e){return Ct([e])[e]}function Ct(e){return function(e,t,i,n){const r={};for(const[o,s]of Object.entries(e)){const e={};let a,d,c;if(t[o]){const e=t[o];a=e.zhCnName,d=e.enUsName||s.enUsName,c=e.jaJpName}e[xe.a]=a,e[xe.c]=d,e[xe.d]=c;const l={},p=i[o];if(p)for(const[e,t]of Object.entries(p.map)){const i=xe.e.fromValue(parseInt(e,10));i&&(l[i]=t)}let u,_=!0,E=!0,h=!0;const T=n[o];T&&(null!=T.phoneCall&&(_=T.phoneCall),null!=T.voiceCall&&(E=T.voiceCall),null!=T.videoCall&&(h=T.videoCall),u=T);const y=new pt({id:o,name:s.name,type:s.type,avatarKey:s.avatarKey,updateTime:s.updateTime,namePinyin:s.namePinyin,creatorId:s.creatorId,isRegistered:s.isRegistered,isResigned:s.isResigned,enUsName:d,description:s.description,botTag:s.botTag,inContacts:s.inContacts,canJoinGroup:s.canJoinGroup,tenantId:s.tenantId,expireTime:s.expireTime,zhCnName:a,alias:s.alias,workStatus:s.workStatus,accountId:s.accountId,i18nName:e,i18nDescriptions:l,accessPhoneCall:_,accessVoiceCall:E,accessVideoCall:h,accessProfileBlob:u,email:s.email,doNotDisturbEndTime:s.doNotDisturbEndTime});r[o]=y}return r}(function(e){const t={};return e.forEach(e=>{const i=ft.get(e);i&&(t[e]=i)}),t}(e),Ve(e),function(e){const t=we(e,r.ChatterDescription),i={};for(const[e,n]of Object.entries(t)){const t={map:{}};for(const e of n)e.value&&(t.map[e.localeIdentifier]=e.value);i[e]=t}return i}(e),function(e){const t={};return e.forEach(e=>{const i=Tt.get(e);i&&(t[e]=i)}),t}(e))}const mt=new de.a({max:Number.MAX_SAFE_INTEGER});var Nt=i(187);const At=Object(Nt.a)();function Rt(e){const t={};for(const i of e)At[i]&&(t[i]=At[i]);return t}function Ot(e,t){for(const t of e)At[t.id]=t;if(t){const t={};for(const i of e)t[i.id]=i.entityType;Oe(t,!1)}}function vt(e){Ot(e,!0)}function Pt(e){!function(e){if(0===e.length)return;const t={pairs:[],removeChatterIds:void 0,visitorChannelIds:void 0,chatterId2chatId:void 0,forceShouldSortChannel:!1,flushFeedCards:!1,chatterId2threadId:void 0,withoutPush:!1};t.visitorChannelIds=e,Ce(t)}(e)}var Mt=i(615),Lt=i.n(Mt),bt=i(167),Dt=i(177),Ut=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const wt=new Lt.a;let kt=null,Gt=null;function Vt(){const{appId:e,appVersion:t}=self.__appMeta,i={version:t,app_id:e,app:"lark",platform:"web",user_id:Object(U.b)(),action:"startup"};if(kt){const{meta:{user_etag:e,data_etag:t,version_code:n}}=kt;i.data_etag=t,i.version_code=n,i.user_etag=e}i.app_channel=E.a.channel;const n=Object(Dt.a)(),r=E.a.apiHost+"/settings/v3/",o=Object(bt.d)(r,i);return A.c.info("LarkSettings fetch server data start, domain={}, requestId={}",r,n),Object(bt.a)({url:o,method:"GET",headers:{"x-request-id":n}}).then(e=>e.json()).then(e=>{!function(e){if(!kt)return void(kt=e);const t=Object.assign({},kt.data,e.data);kt={meta:e.meta,data:t}}(e),A.c.info("LarkSettings fetch server data end")})}function Ht(){return Ut(this,void 0,void 0,(function*(){return kt||(A.c.info("LarkSettings: first fetch"),yield Vt(),Gt||function e(){Gt=setTimeout(()=>Ut(this,void 0,void 0,(function*(){A.c.info("LarkSettings: timer update"),yield Vt(),Gt=null,e(),f(h.a.PUSH_SETTINGS,kt.data),wt.emit("SETTINGS_UPDATE",kt.data)})),36e5)}()),kt.data}))}wt.addListener.bind(wt),wt.removeListener.bind(wt);const Bt=new de.a({max:2e3});function Ft(e,t,i){const n={};t.forEach(t=>{const r=i[t];let o="",s="",a=0;r&&(o=r.groupNickname,s=r.groupNicknamePinyin,a=r.role);const d=new fe({chatId:e,chatterId:t,nickname:o,nicknamePinyin:s,oncallRole:a});let c=Bt.get(e);c||(c={}),c[t]=d,Bt.set(e,c),n[e]||(n[e]={}),n[e][t]=o}),Ye(n)}function jt(e){const t={},i={};return e.forEach(e=>{const n=Bt.get(e);if(n){t[e]=n,i[e]={};for(const[t,r]of Object.entries(n))i[e][t]=r.nickname}}),Ye(i),t}function Wt(e,t){return function(e,t){const i=qe[e];if(i)return i[t]}(e,t)}function xt(e){return function(e){return e.filter(e=>!qe[e]&&-1===Ke.indexOf(e))}(e)}Te.prototype.isOncallChat=function(){return!Object(he.e)(this.oncallId)},Te.prototype.isP2pChat=function(){return 1===this.type},Te.prototype.showNicknameFunc=function(){return this.showNickname},Te.prototype.getAvatarKey=function(){return this.avatarKey};const Kt={};function qt(e){const t=Xe(e);if(Object.keys(t).length===e.length)return[t,[]];const i=e.filter(e=>!t[e]);return[t,i]}var Yt;!function(e){e[e.Unknown=0]="Unknown",e[e.P2PGroup=1]="P2PGroup",e[e.Meeting=2]="Meeting",e[e.Thread=3]="Thread",e[e.Crypto=4]="Crypto"}(Yt||(Yt={}));function Jt(e){const t=kt?kt.data:kt;if(!t||!t.official_helpdesk)return!1;return(t.official_helpdesk.bot_ids||[]).includes(e)}function zt(e){const t=Xt(e);return!!t&&t.isOncallChat()}function Xt(e){const t=Kt[e];if(t)return t;const i=Qe(e);return i?([i].forEach(e=>{Kt[e.id]=new Te({id:e.id,type:e.type,oncallId:e.oncallId,showNickname:e.showNickname,avatarKey:e.avatarKey,allowPost:e.allowPost})}),Kt[e]):null}function Qt(e,t){return 1===e.type?function(e,t){if("0"===e)return;return $t([e]),Wt(e,t)}(e.id,t):null}function $t(e){const t=xt(e);0!==t.length&&function(e){const t=[],i={};e.forEach(e=>{const n=Bt.get(e);n&&Object.keys(n).forEach(r=>{const o=n[r];t.push(o),i[e]||(i[e]={}),i[e][r]=o.nickname})}),Ye(i)}(t)}function Zt(e){const t=Xt(e);return!!t&&t.showNicknameFunc()}Ie.prototype.getP2pChatterId=function(){if(1===this.type)return this.chatterId},Ie.prototype.mergeFromUpdateChat=function(e){for(const t in e)null!=e[t]&&(this[t]=e[t])},Ie.prototype.getLastVisibleMessageId=function(){const e=this;let t=e.lastVisibleMessageId;return Object(he.e)(t)&&(t=e.lastMessageId),t},Ie.prototype.getLastVisibleMessagePosition=function(){return this.lastVisibleMessagePosition},Ie.prototype.getNewMessageCount=function(){if(!this.getIsMember())return 0;const e=this.isCrypto?this.cryptoChatFirstMessagePosition:this.readPosition;let t=this.isThreadChat()?Math.min(this.lastThreadPosition-this.readThreadPosition,this.lastThreadPositionBadgeCount-this.readThreadPositionBadgeCount):Math.min(this.lastMessagePositionBadgeCount-this.readPositionBadgeCount,this.lastMessagePosition-e);return t=this.showBanner?t+Math.max(this.chatterApplyCount,0):t,Math.max(t,0)},Ie.prototype.getLocalizedName=function(){const e=this,t=y.a.getLanguage(),i=Object(y.e)(t,t=>e.i18nNames[t]);return i||e.name},Ie.prototype.getIsMember=function(){return 1===this.role},Ie.prototype.getLastVisibleThreadId=function(){const e=this;return Object(he.e)(e.lastVisibleThreadId)?e.lastThreadId:e.lastVisibleThreadId},Ie.prototype.getLastVisibleThreadPosition=function(){return this.lastVisibleThreadPosition},Ie.prototype.isThreadChat=function(){return 3===this.chatMode},Ie.prototype.getFirstPosition=function(){return this.isThreadChat()?-1:this.cryptoChatFirstMessagePosition},Ie.prototype.getLastVisiblePosition=function(){const e=this;return e.isThreadChat()?e.getLastVisibleThreadPosition():e.getLastVisibleMessagePosition()},Ie.prototype.getReadPosition=function(){const e=this;return e.isThreadChat()?e.readThreadPosition:e.readPosition},Ie.prototype.getLastPosition=function(){const e=this;return e.isThreadChat()?e.lastThreadPosition:e.lastMessagePosition};new de.a({max:Number.MAX_SAFE_INTEGER});var ei=i(616),ti=i(617),ii=i(618);Object(c.f)({messages:ei.a,replies:ti.a,i18n:ii.a});var ni,ri={encode:c.e,decode:c.b,create:c.a};!function(e){e[e.Normal=0]="Normal",e[e.NeedsPull=1]="NeedsPull",e[e.Pulling=2]="Pulling",e[e.Pulled=3]="Pulled",e[e.Decrypted=4]="Decrypted",e[e.Burned=5]="Burned",e[e.HistoryNoContent=6]="HistoryNoContent"}(ni||(ni={}));class oi{constructor(e){for(const t in e)null!=e[t]&&(this[t]=e[t]),"type"===t&&(this.type=Object(he.b)(e.type,ce.Message.Type)),"fromType"===t&&(this.fromType=Object(he.b)(e.fromType,ce.Message.FromType)),"recallerIdentity"===t&&(this.recallerIdentity=Object(he.b)(e.recallerIdentity,ce.Message.RecallerIdentity)),"channelType"===t&&(this.channelType=Object(he.b)(e.channelType,ce.Channel.Type));this.createTime=Object(he.g)(e.createTime),this.updateTime=Object(he.g)(e.updateTime),this.burnTime=Object(he.g)(e.burnTime)}toString(){return Object(he.i)("Message {{ id: {} chat_id: {} from_id: {} root_id: {} type_: {} position: {}         create_time: {} update_time: {} unread_count: {} reply_count: {} me_read: {}         is_recalled: {} is_edited: {} cid: {} parent_source_id: {} root_source_id: {}         is_urgent: {} parent_id: {} is_truncated: {} read_count: {} is_at_me: {} is_at_all:         {} is_file_deleted: {} is_deleted: {} from_type: {} doc_key: {} channel_type: {}         channel_id: {} is_visible= {} thread_id: {} thread_position: {} recaller_id:         {} recaller_identity= {} translate_language= {} burn_life= {} burn_time=         {} is_content_unknown= {} dep_status= {} sync_dependency= {}         is_unknown_system_message= {} is_badged= {} badge_count= {}         is_untranslateable= {} thread_badge_count= {} thread_reply_count= {} original_sender_id= {}}}",this.id,this.chatId,this.fromId,this.rootId,this.type,this.position,this.createTime,this.updateTime,this.unreadCount,this.replyCount,this.meRead,this.isRecalled,this.isEdited,this.cid,this.parentSourceId,this.rootSourceId,this.isUrgent,this.parentId,this.isTruncated,this.readCount,this.isAtMe,this.isAtAll,this.isFileDeleted,this.isDeleted,this.fromType,this.docKey,this.channelType,this.channelId,this.isVisible,this.threadId,this.threadPosition,this.recallerId,this.recallerIdentity,this.translateLanguage,this.burnLife,this.burnTime,this.isContentUnknown,this.depStatus,this.syncDependency,this.isUnknownSystemMessage,this.isBadged,this.badgeCount,this.isUntranslateable,this.threadBadgeCount,this.threadReplyCount,this.originalSenderId)}}class si{}class ai extends class{}{constructor(e){super(),Object.keys(e).forEach(t=>{this[t]=e[t]})}isInSubscribedChannel(){return!0}toString(){return Object(he.i)("QuasiMessage {{ cid: {} chat_id: {} channel_id= {} channel_type= {} }}",this.cid,this.chatId,this.channelId,this.channelType)}}class di{}class ci{}class li extends class{toString(){return Object(he.i)("I18nTemplate {{ i18n_key: {}, local: {}, max_age: {}}}",this.i18nKey,this.locale,this.maxAge)}}{}class pi{}var ui=i(619);Object(c.f)({misc:ui.a});c.e,c.b,c.a;const _i={Urgent:{Type:{UNKNOWN_URGENT:0,APP:1,SMS:2,PHONE:3}},Crypto:{Type:{UNKNOWN:0,AES_256_GCM:1,AES_CTR:2,CRYPTO_SDK_UNIFIED:3,CRYPTO_SDK_DOWNGRADE:4,CRYPTO_SDK_THIRDPARTY:5,SM4_128:6}},Message:{Type:{UNKNOWN:0,POST:2,FILE:3,TEXT:4,IMAGE:5,SYSTEM:6,AUDIO:7,EMAIL:8,SHARE_GROUP_CHAT:9,STICKER:10,MERGE_FORWARD:11,CALENDAR:12,CLOUD_FILE:13,CARD:14,MEDIA:15,SHARE_CALENDAR_EVENT:16,HONGBAO:17,GENERAL_CALENDAR:18,VIDEO_CHAT:19,LOCATION:20,COMMERCIALIZED_HONGBAO:22,SHARE_USER_CARD:23,TODO:24,FOLDER:25}},RichTextElement:{Tag:{UNKNOWN_TAG:0,TEXT:1,IMG:2,P:3,FIGURE:4,AT:5,A:6,B:7,I:8,U:9,EMOTION:10,BUTTON:11,SELECT:12,PROGRESS_SELECT_OPTION:13,DIV:14,TEXTABLE_AREA:15,TIME:16,LINK:17,MEDIA:18,SELECTMENU:19,OVERFLOWMENU:20,DATEPICKER:21,DOCS:22,H1:23,H2:24,H3:25,UL:26,OL:27,LI:28,QUOTE:29,CODE:30,CODE_BLOCK:31,HR:32,TIMEPICKER:33,DATETIMEPICKER:34,REACTION:35,MENTION:36}},Chat:{Type:{UNKNOWN:0,P2P:1,GROUP:2,TOPIC_GROUP:3},ChatMode:{UNKNOWN_CHAT_MODE:0,DEFAULT:1,THREAD:2,THREAD_V2:3}},ChatApplication:{ApplicationStatus:{UNKNOWN_STATUS:0,PENDING:1,AGREED:2,REFUSED:3,DELETED:4,EXPIRED:5},ChatApplicationType:{UNKNOWN_TYPE:0,FRIEND:1,JOIN_CHAT:2}},FeedType:{UNKNOWN_TYPE:0,INBOX:1,DONE:2},FeedCard:{Type:{UNKNOWN_TYPE:0,CHAT:1,MAIL:2,DOC:3,THREAD:4,BOX:5,OPENAPP:6,TOPIC:7,APP_CHAT:8,SUBSCRIPTION:10}},PlatformType:{PlatformIPhone:1,PlatformAndroid:2,PlatformWebAdmin:3,PlatformWebOther:4,PlatformWindows:5,PlatformMac:6,PlatformPassport:7,PlatformIpad:8},ContactSource:{UNKNOWN_SOURCE:0,LINK:1,CHAT:2,CALENDAR:3,DOCS:4,VC:5,EMAIL:6,NAME_CARD:7,SEARCH_PHONE:8,SEARCH_EMAIL:9,SEARCH_CONTACT:10,CCM_FOLDER:11,CCM_SHEET:12,CCM_SLIDE:13,CCM_MIND_NOTE:14,CCM_SMART_TABLE:15,HOTLINE:16,SPECIAL_FOCUS:19}};var Ei=i(620);Object(c.f)({keyserver:Ei.a});c.e,c.b,c.a;var hi,Ti=i(78);!function(e){e[e.DocDomain=0]="DocDomain",e[e.CreateDoc=1]="CreateDoc",e[e.E2EEFetchDevices=2]="E2EEFetchDevices"}(hi||(hi={}));const yi=new class{constructor(){this.urls={}}set(e,t){t?this.urls[e]=t:A.c.warn("can not set domain, newUrl is empty: urlType = {}",e)}get(e){return this.urls[e]}init(){this.initDocUrls(),this.set(hi.E2EEFetchDevices,E.a.apiHost+"/sc/devices/fetch")}initDocUrls(){this.urls[hi.CreateDoc]=E.a.internalApi+"/space/api/explorer/create/",this.urls[hi.DocDomain]=self.location.host}};var fi=i(324);const Ii=fi.Reader,gi=fi.Writer,Si=fi.util,Ci=fi.roots.custom||(fi.roots.custom={}),mi=(Ci.PushSyncDevices=(()=>{function e(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)null!=e[t[i]]&&(this[t[i]]=e[t[i]])}return e.prototype.command=0,e.prototype.payload=Si.newBuffer([]),e.encode=function(e,t){return t||(t=gi.create()),t.uint32(8).int32(e.command),t.uint32(18).bytes(e.payload),t},e.decode=function(e,t){e instanceof Ii||(e=Ii.create(e));for(var i=void 0===t?e.len:e.pos+t,n=new Ci.PushSyncDevices;e.pos<i;){var r=e.uint32();switch(r>>>3){case 1:n.command=e.int32();break;case 2:n.payload=e.bytes();break;default:e.skipType(7&r)}}if(!n.hasOwnProperty("command"))throw Si.ProtocolError("missing required 'command'",{instance:n});if(!n.hasOwnProperty("payload"))throw Si.ProtocolError("missing required 'payload'",{instance:n});return n},e.Command=function(){const e={},t=Object.create(e);return t[e[0]="UNKNOWN"]=0,t[e[1]="HIDE_CHANNEL"]=1,t[e[2]="HONGBAO_STATUS"]=2,t}(),e})(),Ci.PushHideChannelRequest=(()=>{function e(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)null!=e[t[i]]&&(this[t[i]]=e[t[i]])}return e.prototype.channel=null,e.encode=function(e,t){return t||(t=gi.create()),Ci.Channel.encode(e.channel,t.uint32(10).fork()).ldelim(),t},e.decode=function(e,t){e instanceof Ii||(e=Ii.create(e));for(var i=void 0===t?e.len:e.pos+t,n=new Ci.PushHideChannelRequest;e.pos<i;){var r=e.uint32();switch(r>>>3){case 1:n.channel=Ci.Channel.decode(e,e.uint32());break;default:e.skipType(7&r)}}if(!n.hasOwnProperty("channel"))throw Si.ProtocolError("missing required 'channel'",{instance:n});return n},e})(),Ci.PushHideChannelResponse=(()=>{function e(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)null!=e[t[i]]&&(this[t[i]]=e[t[i]])}return e.encode=function(e,t){return t||(t=gi.create()),t},e.decode=function(e,t){e instanceof Ii||(e=Ii.create(e));for(var i=void 0===t?e.len:e.pos+t,n=new Ci.PushHideChannelResponse;e.pos<i;){var r=e.uint32();e.skipType(7&r)}return n},e})(),Ci.Channel=(()=>{function e(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)null!=e[t[i]]&&(this[t[i]]=e[t[i]])}return e.prototype.id="",e.prototype.type=1,e.encode=function(e,t){return t||(t=gi.create()),t.uint32(10).string(e.id),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(16).int32(e.type),t},e.decode=function(e,t){e instanceof Ii||(e=Ii.create(e));for(var i=void 0===t?e.len:e.pos+t,n=new Ci.Channel;e.pos<i;){var r=e.uint32();switch(r>>>3){case 1:n.id=e.string();break;case 2:n.type=e.int32();break;default:e.skipType(7&r)}}if(!n.hasOwnProperty("id"))throw Si.ProtocolError("missing required 'id'",{instance:n});return n},e.Type=function(){const e={},t=Object.create(e);return t[e[0]="UNKNOWN"]=0,t[e[1]="CHAT"]=1,t[e[2]="EMAIL"]=2,t[e[3]="DOC"]=3,t}(),e})(),Ci.AtProperty=(()=>{function e(e){if(e)for(var t=Object.keys(e),i=0;i<t.length;++i)null!=e[t[i]]&&(this[t[i]]=e[t[i]])}return e.prototype.userId="",e.prototype.content="",e.prototype.isOuter=!1,e.encode=function(e,t){return t||(t=gi.create()),t.uint32(10).string(e.userId),t.uint32(18).string(e.content),null!=e.isOuter&&Object.hasOwnProperty.call(e,"isOuter")&&t.uint32(24).bool(e.isOuter),t},e.decode=function(e,t){e instanceof Ii||(e=Ii.create(e));for(var i=void 0===t?e.len:e.pos+t,n=new Ci.AtProperty;e.pos<i;){var r=e.uint32();switch(r>>>3){case 1:n.userId=e.string();break;case 2:n.content=e.string();break;case 3:n.isOuter=e.bool();break;default:e.skipType(7&r)}}if(!n.hasOwnProperty("userId"))throw Si.ProtocolError("missing required 'userId'",{instance:n});if(!n.hasOwnProperty("content"))throw Si.ProtocolError("missing required 'content'",{instance:n});return n},e})());var Ni=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Ai={};function Ri(e){return Ni(this,void 0,void 0,(function*(){const t=oe.encode("chats.PullChatsByIdsRequest",{chatIds:e});return yield Object(b.f)({cmd:64,payload:t})}))}function Oi(e){return Ai[e]}function vi(e,t){return Ni(this,void 0,void 0,(function*(){const i=function(e){return oe.encode("chats.PullChatSettingsRequest",{chatIds:[...e]})}(e);return yield Object(b.f)({cmd:62,payload:i,cid:t&&t.cid})}))}var Pi,Mi,Li=i(49);!function(e){e[e.ByUser=0]="ByUser",e[e.Recall=1]="Recall",e[e.Burned=2]="Burned"}(Pi||(Pi={})),function(e){e[e.Up=0]="Up",e[e.Down=1]="Down"}(Mi||(Mi={}));new de.a({max:Number.MAX_SAFE_INTEGER});var bi;!function(e){e[e.C1=1]="C1",e[e.C2=2]="C2",e[e.C3=3]="C3",e[e.C4=4]="C4",e[e.C5=5]="C5",e[e.CS=6]="CS"}(bi||(bi={}));var Di;!function(e){e[e.WEBP=1]="WEBP",e[e.JPEG=2]="JPEG",e[e.PNG=3]="PNG"}(Di||(Di={}));var Ui;function wi(e){return e.hasOwnProperty("imageKey")?e.imageKey:e.key}function ki(e){const{type:t}=e;if(2===t||0===t)return!1;return 2==(2&e.status)}!function(e){e[e.Success=0]="Success",e[e.InFlight=1]="InFlight",e[e.FailRecall=2]="FailRecall",e[e.FailBurned=3]="FailBurned",e[e.FailUnknown=4]="FailUnknown",e[e.Cancel=5]="Cancel"}(Ui||(Ui={}));const Gi={ser2DbChatter(e,t,i){const n=e.id,r=e.name,o=e.type,s=Object(he.g)(e.donotDisturbBeforeMs||0),a=Object(he.g)(e.updateTime),d=e.namePinyin,l=e.creatorId,u=e.isRegistered,_=ki(e),E=e.email,h=function(e){return e?e.indexOf("/")>-1?e.split("/")[1]:e:""}(wi(e.avatar||c.d.create("entities.ImageSet"))),T=function(e,t){const i=Object(y.e)(y.b.Chinese,t=>e[t])||(t?t.zhCnName:""),n=Object(y.e)(y.b.English,t=>e[t])||(t?t.enUsName:"");return[i,n]}(e.internationalName,t),f=T[0];let I=T[1];""===I&&(I=e.enUsName);let g="";e.hasOwnProperty("alias")?g=e.alias:t&&(g=t.alias);const S=e.tenantId;let C,m;Object.keys(e.internationalName).length&&(C=e.internationalName),e.botConfig&&e.botConfig.hasOwnProperty("withBotTag")&&(m=e.botConfig.withBotTag);let N=!1;e.botConfig&&e.botConfig.hasOwnProperty("inContacts")&&(N=e.botConfig.inContacts);let A,R,O,v,P=!1;e.botConfig&&e.botConfig.hasOwnProperty("canJoinGroup")&&(P=e.botConfig.canJoinGroup),e.i18nInf&&e.i18nInf.hasOwnProperty("i18nDescriptions")&&(A=e.i18nInf.i18nDescriptions),e.hasOwnProperty("userConfig")&&e.userConfig?(e.userConfig.hasOwnProperty("phoneCallAccessible")&&(R=e.userConfig.phoneCallAccessible),e.userConfig.hasOwnProperty("voiceCallAccessible")&&(O=e.userConfig.voiceCallAccessible),e.userConfig.hasOwnProperty("videoCallAccessible")&&(v=e.userConfig.videoCallAccessible)):t&&(R=t.accessPhoneCall,O=t.accessVoiceCall,v=t.accessVideoCall);let M=0;t&&(M=t.expireTime),null==i&&(i=0);i=Math.max(i||0,172800);const L=Date.now()+i+Math.floor(7200*Math.random()-3600);let b,D,U,w;if(b=M<0?M:Math.max(L,M),e.hasOwnProperty("description")&&e.hasOwnProperty("descriptionFlag")||!t){const t=Object(p.a)("basic.Chatter.Description");t.text=e.description,t.type=Object(he.b)(e.descriptionFlag,ce.Chatter.Description.Type),D=t}else D=t.description;if(e.hasOwnProperty("workStatus")&&e.workStatus){const{workStatus:{status:t,startTime:i,endTime:n}}=e,r=Math.floor(Date.now()/1e3);U=0===t||r<Object(he.g)(i)||r>Object(he.g)(n)?c.d.create("entities.WorkStatus"):e.workStatus}else U=t?t.workStatus:c.d.create("entities.WorkStatus");return e.hasOwnProperty("userConfig")&&(w=Vi(e.userConfig)),new pt({id:n,name:r,type:o,avatarKey:h,updateTime:a,namePinyin:d,creatorId:l,isResigned:_,isRegistered:u,enUsName:I,description:D,botTag:m,inContacts:N,canJoinGroup:P,tenantId:S,expireTime:b,zhCnName:f,alias:g,workStatus:U,accountId:e.accountId,i18nDescriptions:A,i18nName:C,accessPhoneCall:R,accessVoiceCall:O,accessVideoCall:v,accessProfileBlob:w,email:E,doNotDisturbEndTime:s})},db2CliChatter(e){const t=Object(p.a)("basic.Chatter");t.id=e.id,t.name=e.name,t.updateTime=e.updateTime,t.namePinyin=e.namePinyin.replace(" ",""),t.canJoinGroup=e.canJoinGroup,t.inContacts=e.inContacts,t.tenantId=e.tenantId,t.localizedName=e.getLocalizedName(),t.alias=e.alias,t.accountId=e.accountId,t.withBotTag=e.botTag||"",e.enUsName?t.enUsName=e.enUsName:t.enUsName=e.name;const i=e.type;t.type=i,2===i?t.creatorId=e.creatorId||"":1===i&&(t.isResigned=e.isResigned||!1,t.isRegistered=e.isRegistered);const n=e.getLocalizedDescription();n&&(t.description=n);const r=e.avatarKey;if(!r)return t;const o=function(e){const t=e.workStatus,i=Object(p.a)("basic.WorkStatus");if(!t)return i;const n=t.status;if(0===n)return;let r=0;1===n?r=1:2===n&&(r=2);const o=Object(he.g)(t.startTime),s=Object(he.g)(t.endTime),a=Math.floor(Date.now()/1e3);if(a<o||a>s)return;const d=y.a.getLanguage(),c=Object(y.e)(d,e=>t.descriptionTemplates[e])||"";return i.status=r,i.startTime=o,i.endTime=s,i.description=c,i}(e);o&&(t.workStatus=o),t.avatarKey=r;const s=Object(p.a)("basic.Chatter.AccessInfo");return s.phoneCall=e.accessPhoneCall,s.voiceCall=e.accessVoiceCall,s.videoCall=e.accessVideoCall,s.accessProfile=e.accessProfileBlob,t.accessInfo=s,e.email&&(t.email=e.email),t},db2CliChatters(e){const t={};return Object.values(e).forEach(e=>{const i=Gi.db2CliChatter(e);i&&(t[e.id]=i)}),t},db2CliChatChatters(e){const t=Object.keys(e),i={};if(0===t.length)return i;const n=jt(t);return t.forEach(t=>{const r=e[t],o=Gi.db2CliChatters(r),s={};if(n[t]){Object.values(r).forEach(e=>{const i=o[e.id];if(i){const n=e.getChatChatterExtraData(e.id);i.name=n.name,i.enUsName=n.enUsName,i.namePinyin=n.namePinyin,i.localizedName=n.localizedName,i.profileEnabled=n.profileEnabled;const r=Object(p.a)("basic.Chatter.ChatExtra");r.chatId=t,r.nickName=n.nickname,r.nickNamePinyin=n.nicknamePinyin;const o=Object(he.b)(n.oncallRole,ce.Chatter.ChatExtra.OncallRole);r.oncallRole=o,i.chatExtra=r,s[e.id]=i}})}else Object.assign(s,o);if(Object.keys(s).length){const e=Object(p.a)("basic.Entity.ChatChatter");e.chatters=s,i[t]=e}}),i}};function Vi(e){const t=Object(p.a)("basic.Chatter.AccessInfo.AccessProfile");{const i=Object(p.a)("basic.Chatter.AccessInfo.AccessProfile.AccessMessage");if(e.hasOwnProperty("accessPhoneCall")){const t=e.accessPhoneCall;i.isAccessible=t.isAccessible,i.inaccessibleCode=Object(he.b)(t.inaccessibleCode,ce.Chatter.AccessInfo.AccessProfile.AccessMessage.InaccessibleCode)}t.accessMessagePhoneCall=i}{const i=Object(p.a)("basic.Chatter.AccessInfo.AccessProfile.AccessMessage");if(e.hasOwnProperty("accessVoiceCall")){const t=e.accessVoiceCall;i.isAccessible=t.isAccessible,i.inaccessibleCode=Object(he.b)(t.inaccessibleCode,ce.Chatter.AccessInfo.AccessProfile.AccessMessage.InaccessibleCode)}t.accessMessageVoiceCall=i}{const i=Object(p.a)("basic.Chatter.AccessInfo.AccessProfile.AccessMessage");if(e.hasOwnProperty("accessVideoCall")){const t=e.accessVideoCall;i.isAccessible=t.isAccessible,i.inaccessibleCode=Object(he.b)(t.inaccessibleCode,ce.Chatter.AccessInfo.AccessProfile.AccessMessage.InaccessibleCode)}t.accessMessageVideoCall=i}return t}var Hi=i(621);Object(c.f)({users:Hi.a,chats:ne.a});var Bi={encode:c.e,decode:c.b,create:c.a},Fi=i(622);Object(c.f)({chatters:Fi.a});var ji={encode:c.e,decode:c.b,create:c.a},Wi=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function xi(e,t=!0){return Wi(this,void 0,void 0,(function*(){const i=ji.encode("chatters.PullChattersByIdsRequest",{chatterIds:e.filter(e=>!Object(he.e)(e)),needBotInfo:t}),n=yield Object(b.h)({cmd:46,payload:i});return ji.decode("chatters.PullChattersByIdsResponse",n)}))}function Ki(e,t,i){return Wi(this,void 0,void 0,(function*(){const n=Bi.encode("users.PullUserProfileRequest",{targetUserId:e,contactToken:t,isSelf:i}),r=yield Object(b.h)({cmd:5017,payload:n});return Bi.decode("users.PullUserProfileResponse",r)}))}const qi=new de.a({max:Number.MAX_SAFE_INTEGER});function Yi(e){return qi.get(e)}function Ji(e,t){const{adminInfo:i,leaderProfile:n}=t,r=St(e);let o=!1,s="";i&&(o=i.isAdmin,s=i.adminUrl);let a="",d={},c="",l="";n&&(a=n.id,d=n.internationalName,Object(y.e)(y.b.Chinese,e=>c=d[e]||""),Object(y.e)(y.b.English,e=>l=d[e]||""));const u=function(e,t,i){A.c.debug("custom_fields key len: {}}",Object.keys(e).length),A.c.debug("profile_fields_order len: {}",t.length);const n=Object(p.a)("contact.GetUserProfileResponse.Personal.ProfileValue"),r=t.map(e=>{const t=Object(p.a)("contact.GetUserProfileResponse.Personal.ProfileField");t.key=e.key,t.visible=e.visible,t.defaultLocale=e.defaultLocale.toLowerCase(),t.i18nNames=Object.entries(e.i18nNames).reduce((e,[t,i])=>(e[t]=i,e),{}),t.fieldType=Object(he.b)(e.fieldType,pe.GetUserProfileResponse.Personal.ProfileField.FieldType);const i=y.a.getLanguageIdentifier().toLowerCase();let n=e.key;return e.i18nNames[i]?n=e.i18nNames[i]:t.defaultLocale&&(n=t.defaultLocale),t.i18nFieldName=n,t});n.profileFieldsOrder=r,n.customFieldValues=Object.assign({},e);let o=Object(he.b)(i,pe.GetUserProfileResponse.Personal.ProfileValue.Gender);return o===he.a&&(o=0),n.genderEnum=o,n}(t.customFields,t.profileFieldsOrder,t.gender),{mainPost:_,orgUnit:E,departments:h}=t,T=y.a.getLanguageIdentifier().toLowerCase();let f,I,g;if(h){f={deptMetas:h.deptMetas.map(e=>{const t=Object(p.a)("contact.GetUserProfileResponse.Company.DepartmentMeta");return t.name=e.name.i18nVals[T]||e.name.defaultVal,t.id=e.ID.toString(),t})}}_&&(I={name:_.name.i18nVals[T]||_.name.defaultVal}),E&&(g={name:E.name.i18nVals[T]||E.name.defaultVal});let S=0;r?S=r.doNotDisturbEndTime:A.c.warn("pull chatter before but local still empty, chatterId: "+e);const C=new Et({chatterId:e,leaderId:a,leaderName:n?n.name:"",departmentName:t.departmentName,tenantName:t.tenantName,email:t.email,city:t.city,doNotDisturbEndTime:S,malaitaProfileUrl:t.malaitaUrl,employeeId:t.employeeId,enName:t.enName,leaderEnName:l,isFriend:t.isFriend,requestUserApply:t.requestUserApply,targetUserApply:t.targetUserApply,contactToken:t.contactToken,contactApplicationId:t.contactApplicationId,applicationReason:t.applicationReason,isAdmin:o,adminUrl:s,microappProfileUrl:t.microappProfileUrl,profileValue:u,position:I,orgUnit:g,departments:f});if(d){He(je(a,c,l,d))}!function(e){qi.del(e.chatterId),qi.set(e.chatterId,e)}(C);const m=new ut;if(m.id=e,t.description&&t.hasOwnProperty("descriptionFlag")){const e=Object(p.a)("basic.Chatter.Description");e.text=t.description,e.type=Object(he.b)(t.descriptionFlag,ce.Chatter.Description.Type),m.description=e}t.hasOwnProperty("isRegistered")&&(m.isRegistered=t.isRegistered),t.hasOwnProperty("tenantId")&&(m.tenantId=t.tenantId),t.hasOwnProperty("alias")&&(m.alias=t.alias),function(e){const{id:t}=e,i=ft.get(t);i&&ft.set(t,Object.assign(i,e))}(m);const{userConfig:N}=t;if(N){yt([new ht({chatterId:e,phoneCall:N.phoneCallAccessible,voiceCall:N.voiceCallAccessible,videoCall:N.videoCallAccessible,accessProfileBlob:N})])}}var zi=i(9);const Xi=new de.a({max:1e4}),Qi=new de.a({max:1e4});class $i{constructor(e){this.id=e}finalize(){const e=new si;return e.id=this.id,e.isDeleted=this.isDeleted,e.isEdited=this.isEdited,e.unreadCount=this.unreadCount,e.isUrgent=this.isUrgent,e.replyCount=this.replyCount,e.isTruncated=this.isTruncated,e.readCount=this.readCount,e.content=this.content,e.isFileDeleted=this.isFileDeleted,e.isRecalled=this.isRecalled,e.docKey=this.docKey,e.burnTime=this.burnTime,e.contentState=this.contentState,e.translateLanguage=this.translateLanguage,e.recallerId=this.recallerId,e.recallerIdentity=this.recallerIdentity,e.depStatus=this.depStatus,e.syncDependency=this.syncDependency,e.isUntranslateable=this.isUntranslateable,e.displayRule=this.displayRule,e}}function Zi(e){const t={};return e.forEach(e=>{const i=Xi.get(e);i&&(t[e]=i)}),t}function en(e){return Zi([e])[e]}function tn(e){nn([e])}function nn(e){e.length&&e.forEach(e=>{e.content;const t=Xi.get(e.id);t&&(Object.keys(t).forEach(i=>{void 0!==e[i]&&(t[i]=e[i])}),Xi.set(e.id,t))})}function rn(e){const t=[];e.forEach(e=>{const i=Qi.get(e);i&&t.push(...Object.values(i))});const i={};return t.forEach(e=>{const t=e.messageId;i[t]?i[t].push(e):i[t]=[e]}),i}function on(e){return Xi.values().reduce((t,i)=>i.chatId!==e?t:Math.max(t,i.position),-1)}function sn(e){const t=Xi.values().filter(t=>t.threadId===e).map(e=>e.position);return t.sort((e,t)=>t-e),t[0]}function an(e,t,i,n){const r={};if(n){const n=Xi.values().filter(i=>i.chatId===e&&i.position<t&&i.isVisible).map(e=>e.position).sort((e,t)=>t-e).slice(0,i);n.length||A.c.info("get_chat_valid_message_positions chat_id={} positions={}",e,n);let o=t-i;n.length>0&&(o=Math.min(n[n.length-1],o)),Xi.values().filter(i=>i.chatId===e&&i.position<t&&i.position>=o).forEach(e=>{r[e.position]=[e.isVisible,e.isDeleted]})}else{const n=Xi.values().filter(i=>i.chatId===e&&i.position>t&&i.isVisible).map(e=>e.position).sort((e,t)=>e-t).slice(0,i);n.length||A.c.info("get_chat_valid_message_positions chat_id={} positions={}",e,n);let o=t+i;n.length>0&&(o=Math.max(n[n.length-1],o)),Xi.values().filter(i=>i.chatId===e&&i.position>t&&i.position<=o).forEach(e=>{r[e.position]=[e.isVisible,e.isDeleted]})}return r}function dn(e,t){e.forEach(e=>{const i=Xi.get(e);i&&(i.meRead=t,Xi.set(e,i))})}function cn(e,t,i){let n=[];for(const t in e)n=n.concat(e[t].map(e=>({messageId:t,chatterId:e,isRead:i})));n.map(e=>{const{messageId:t}=e,i=Qi.get(t)||{};i[e.chatterId]=e,Qi.set(t,i)}),i&&Ae(t,!1)}function ln(e,t){const i=Qi.get(e);i&&(t.forEach(e=>delete i[e]),Qi.set(e,i))}var pn=i(623);Object(c.f)({docs:pn.a});var un={encode:c.e,decode:c.b,create:c.a},_n=i(624);Object(c.f)({thread:_n.a,topic_group:re.a});c.e,c.b,c.a;class En{constructor(e){for(const t in e)this[t]=e[t];this.channelType=Object(he.b)(e.channelType,ce.Channel.Type),this.followStatus=Object(he.b)(e.followStatus,ce.ThreadFollowStatus)}toString(){return Object(he.i)("Thead {{ id: {} position: {} root_message_id: {} last_message_id: {}         last_message_position: {} last_message_position_badge_count: {} read_position:         {} read_position_badge_count: {} last_visible_message_id: {}         last_visible_message_position: {} update_time: {} is_follow: {} channel_id:         {}, channel_type: {}, should_update: {} reply_count: {}         start_message_position: {} last_follow_update_time: {} owner_id= {}         badge_count= {} is_visible= {} is_badged= {} follow_status = {} }}",this.id,this.position,this.rootMessageId,this.lastMessageId,this.lastMessagePosition,this.lastMessagePositionBadgeCount,this.readPosition,this.readPositionBadgeCount,this.lastVisibleMessageId,this.lastVisibleMessagePosition,this.updateTime,this.isFollow,this.channelId,this.channelType,this.shouldUpdate,this.replyCount,this.startMessagePosition,this.lastFollowUpdateTime,this.ownerId,this.badgeCount,this.isVisible,this.isBadged,this.followStatus)}mergeFromUpdateThread(e){this.id===e.id?(Object.keys(e).forEach(t=>{this[t]=e[t]}),Object.hasOwnProperty.call(e,"isFollow")&&(this.followStatus=e.isFollow?2:1)):A.c.warn("merge from update thread abort, thread id not eq: self_id={}, update_thread_id={}",this.id,e.id)}}const hn={"微笑":"Lark_Emoji_Smile_0","爱慕":"Lark_Emoji_Drool_0","惊呆":"Lark_Emoji_Scowl_0","酷拽":"Lark_Emoji_haughty_0","抠鼻":"Lark_Emoji_NosePick_0","流泪":"Lark_Emoji_Sob_0","发怒":"Lark_Emoji_Angry_0","呲牙":"Lark_Emoji_Grin_0","鼾睡":"Lark_Emoji_Sleep_0","害羞":"Lark_Emoji_Shy_0","可爱":"Lark_Emoji_Wink_0","晕":"Lark_Emoji_Dizzy_0","衰":"Lark_Emoji_Toasted_0","闭嘴":"Lark_Emoji_Silent_0","机智":"Lark_Emoji_Smart_0","来看我":"Lark_Emoji_Attention_0","灵光一闪":"Lark_Emoji_Witty_0","耶":"Lark_Emoji_Yeah_0","捂脸":"Lark_Emoji_Facepalm_0","打脸":"Lark_Emoji_Slap_0","大笑":"Lark_Emoji_Laugh_0","哈欠":"Lark_Emoji_Yawn_0","震惊":"Lark_Emoji_Shocked_0","送心":"Lark_Emoji_Love_0","困":"Lark_Emoji_Drowsy_0",what:"Lark_Emoji_What_0","泣不成声":"Lark_Emoji_Cry_0","小鼓掌":"Lark_Emoji_Clap_0","酷":"Lark_Emoji_ShowOff_0","偷笑":"Lark_Emoji_Chuckle_0","石化":"Lark_Emoji_Petrified_0","思考":"Lark_Emoji_Thinking_0","吐血":"Lark_Emoji_SpitBlood_0","可怜":"Lark_Emoji_Whimper_0","嘘":"Lark_Emoji_Shhh_0","撇嘴":"Lark_Emoji_Smug_0","黑线":"Lark_Emoji_Errr_0","笑哭":"Lark_Emoji_Lol_0","雾霾":"Lark_Emoji_Sick_0","奸笑":"Lark_Emoji_Smirk_0","得意":"Lark_Emoji_Proud_0","憨笑":"Lark_Emoji_Trick_0","抓狂":"Lark_Emoji_Crazy_0","泪奔":"Lark_Emoji_Tears_0","钱":"Lark_Emoji_Money_0","吻":"Lark_Emoji_Kiss_0","恐惧":"Lark_Emoji_Terror_0","笑":"Lark_Emoji_Joyful_0","快哭了":"Lark_Emoji_Blubber_0","翻白眼":"Lark_Emoji_Husky_0","互粉":"Lark_Emoji_FollowMe_0","赞":"Lark_Emoji_Thumbsup_0","鼓掌":"Lark_Emoji_Applaud_0","谢谢":"Lark_Emoji_Thanks_0",OK:"Lark_Emoji_OK_0","加油":"Lark_Emoji_Fighting_0","爱心":"Lark_Emoji_Heart_0",kiss:"Lark_Emoji_Lips_0","去污粉":"Lark_Emoji_Detergent_0",666:"Lark_Emoji_Awesome_0","玫瑰":"Lark_Emoji_Rose_0","胡瓜":"Lark_Emoji_Cucumber_0","啤酒":"Lark_Emoji_Beer_0","我想静静":"Lark_Emoji_Enough_0","委屈":"Lark_Emoji_Wronged_0","舔屏":"Lark_Emoji_Obsessed_0","鄙视":"Lark_Emoji_LookDown_0","飞吻":"Lark_Emoji_Smooch_0","再见":"Lark_Emoji_Wave_0","紫薇别走":"Lark_Emoji_DonnotGo_0","听歌":"Lark_Emoji_Headset_0","求抱抱":"Lark_Emoji_Hug_0","周冬雨的凝视":"Lark_Emoji_DullStare_0","马思纯的微笑":"Lark_Emoji_InnocentSmile_0","吐舌":"Lark_Emoji_Tongue_0","呆无辜":"Lark_Emoji_Dull_0","看":"Lark_Emoji_Glance_0","白眼":"Lark_Emoji_Slight_0","熊吉":"Lark_Emoji_Bear_0","骷髅":"Lark_Emoji_Skull_0","黑脸":"Lark_Emoji_BlackFace_0","吃瓜群众":"Lark_Emoji_Eating_0","绿帽子":"Lark_Emoji_Betrayed_0","汗":"Lark_Emoji_Sweat_0","摸头":"Lark_Emoji_Comfort_0","皱眉":"Lark_Emoji_Frown_0","擦汗":"Lark_Emoji_Speechless_0","红脸":"Lark_Emoji_Blush_0","尬笑":"Lark_Emoji_Embarrassed_0","做鬼脸":"Lark_Emoji_Tease_0","强":"Lark_Emoji_Praise_0","如花":"Lark_Emoji_BigKiss_0","吐":"Lark_Emoji_Puke_0","惊喜":"Lark_Emoji_Wow_0","敲打":"Lark_Emoji_Hammer_0","奋斗":"Lark_Emoji_Strive_0","吐彩虹":"Lark_Emoji_RainbowPuke_0","大哭":"Lark_Emoji_Wail_0","比心":"Lark_Emoji_FingerHeart_0","碰拳":"Lark_Emoji_FistBump_0","击掌":"Lark_Emoji_HighFive_0","左上":"Lark_Emoji_UpperLeft_0","握手":"Lark_Emoji_Shake_0","18禁":"Lark_Emoji_18x_0","刀":"Lark_Emoji_Cleaver_0",V5:"Lark_Emoji_WellDone_0","给力":"Lark_Emoji_GoodJob_0","伤心":"Lark_Emoji_HeartBroken_0","屎":"Lark_Emoji_Poop_0","礼物":"Lark_Emoji_Gift_0","蛋糕":"Lark_Emoji_Cake_0","撒花":"Lark_Emoji_Party_0","不看":"Lark_Emoji_EyesClosed_0","炸弹":"Lark_Emoji_Bomb_0"},Tn=/\[(Lark_Emoji.*?)\]/g;function yn(e){return hn[e]}class fn{constructor(e){this.richText=e}begin(){}visitorElement(e,t){return t}visit(){this.begin();const e=Object(p.a)("basic.RichText");let t=!1;const i=this.richText;e.innerText=i.innerText;const n=i.elements.dictionary,r={};for(const[e,i]of Object.entries(n))try{const[n,o]=gn(i);if(t=o,t)break;r[e]=n}catch(t){A.c.error("ser2cli element failed: id={} err={}",e,t)}return t||(e.elementIds=i.elementIds,e.imageIds=i.imageIds,e.atIds=i.atIds,e.anchorIds=i.anchorIds,e.elements=r),[e,t]}}function In(e){return new fn(e).visit()}function gn(e){const t=Object(p.a)("basic.RichTextElement");let i=!1;const n=Object(he.b)(e.tag,ce.RichTextElement.Tag);t.tag=n,t.style=e.style,t.childIds=e.childIds;const r=Object(p.a)("basic.RichTextElement.PropertySet");switch(n){case 3:const t=c.d.decode("entities.RichTextElement.ParagraphProperty",e.property);r.paragraph=t;break;case 4:const n=c.d.decode("entities.RichTextElement.FigureProperty",e.property);r.figure=n;break;case 1:const o=c.d.decode("entities.RichTextElement.TextProperty",e.property);r.text=o;break;case 8:const s=c.d.decode("entities.RichTextElement.ItalicProperty",e.property);r.italic=s;break;case 7:const a=c.d.decode("entities.RichTextElement.BoldProperty",e.property);r.bold=a;break;case 9:const d=c.d.decode("entities.RichTextElement.UnderlineProperty",e.property);r.underline=d;break;case 6:const l=c.d.decode("entities.RichTextElement.AnchorProperty",e.property);r.anchor=l;break;case 5:const u=mi.decode(e.property);r.at=u;break;case 10:const _=c.d.decode("entities.RichTextElement.EmotionProperty",e.property),E=yn(_.key);E&&(_.key=E),r.emotion=_;break;case 2:const h=c.d.decode("entities.RichTextElement.ImageProperty",e.property),T=Object(p.a)("basic.RichTextElement.ImageProperty");T.urls=h.urls,T.token=h.token,T.originKey=h.originKey,T.middleKey=h.middleKey,T.thumbKey=h.thumbKey,T.originHeight=h.originHeight,T.originWidth=h.originWidth,T.alt=h.alt,T.altI18nKey=h.altI18nKey,T.imgCanPreview=h.imgCanPreview,r.image=T;break;case 11:const y=c.d.decode("entities.RichTextElement.ButtonProperty",e.property),f=Object(p.a)("basic.RichTextElement.ButtonProperty");if(f.actionId=y.actionId,f.disable=y.disable,f.active=y.active,y.confirm&&y.confirm.hasOwnProperty("title")){const e=Object(p.a)("basic.RichTextElement.ButtonConfirmProperty");e.title=y.confirm.title,e.dismiss=y.confirm.dismiss,e.dismissI18nKey=y.confirm.dismissI18nKey,e.titleI18nKey=y.confirm.titleI18nKey,e.text=y.confirm.text,e.textI18nKey=y.confirm.textI18nKey,e.confirm=y.confirm.confirm,e.confirmI18nKey=y.confirm.confirmI18nKey,f.confirm=e}else f.confirm=Object(p.a)("basic.RichTextElement.ButtonConfirmProperty");if(y.loading&&y.loading.hasOwnProperty("begin")){const e=Object(p.a)("basic.RichTextElement.ButtonLoadingProperty");e.begin=y.loading.begin,e.beginI18nKey=y.loading.beginI18nKey,e.fail=y.loading.fail,e.failI18nKey=y.loading.failI18nKey,e.success=y.loading.success,e.successI18nKey=y.loading.successI18nKey,f.loading=e}else f.loading=Object(p.a)("basic.RichTextElement.ButtonLoadingProperty");r.button=f;break;case 12:const I=c.d.decode("entities.RichTextElement.SelectProperty",e.property),g=Object(p.a)("basic.RichTextElement.SelectProperty");g.minPickNum=I.minPickNum,g.maxPickNum=I.maxPickNum,r.select=g;break;case 13:const S=c.d.decode("entities.RichTextElement.ProgressSelectOptionProperty",e.property),C=Object(p.a)("basic.RichTextElement.ProgressSelectOptionProperty");C.actionId=S.actionId,C.actionParamName=S.actionParamName,C.actionParamValue=S.actionParamValue,C.disable=S.disable,C.selected=S.selected,C.optionCase=S.optionCase,C.content=S.content,C.numberOfSelected=S.numberOfSelected,C.numberOfTotal=S.numberOfTotal,r.progress=C;break;case 14:const m=c.d.decode("entities.RichTextElement.DivProperty",e.property);r.div=m;break;case 15:const N=c.d.decode("entities.RichTextElement.TextableAreaProperty",e.property);r.textableArea=N;break;case 16:const A=c.d.decode("entities.RichTextElement.TimeProperty",e.property);r.time=A;break;case 17:const R=c.d.decode("entities.RichTextElement.LinkProperty",e.property);r.link=R;break;case 0:default:r.unknown=Object(p.a)("basic.RichTextElement.UnknownProperty"),i=!0}return t.property=r,[t,i]}function Sn(e){const t=c.d.create("entities.RichTextElement"),i=Object(he.b)(e.tag,_i.RichTextElement.Tag);t.tag=i,t.style=e.style,t.childIds=e.childIds;const n=e.property;let r;switch(e.tag){case 0:r=new Uint8Array;break;case 3:r=c.d.encode("entities.RichTextElement.ParagraphProperty",n.paragraph);break;case 4:r=c.d.encode("entities.RichTextElement.FigureProperty",n.figure);break;case 1:r=c.d.encode("entities.RichTextElement.TextProperty",n.text);break;case 8:r=c.d.encode("entities.RichTextElement.ItalicProperty",n.italic);break;case 7:r=c.d.encode("entities.RichTextElement.BoldProperty",n.bold);break;case 9:r=c.d.encode("entities.RichTextElement.UnderlineProperty",n.underline);break;case 6:r=c.d.encode("entities.RichTextElement.AnchorProperty",n.anchor);break;case 5:r=c.d.encode("entities.RichTextElement.AtProperty",n.at);break;case 10:r=c.d.encode("entities.RichTextElement.EmotionProperty",n.emotion);break;case 2:{const e=n.image||Object(p.a)("basic.RichTextElement.ImageProperty"),t=c.d.create("entities.RichTextElement.ImageProperty");t.urls=e.urls,t.token=e.token,t.originKey=e.originKey,t.middleKey=e.middleKey,t.thumbKey=e.thumbKey,t.originHeight=e.originHeight,t.originWidth=e.originWidth,r=c.d.encode("entities.RichTextElement.ImageProperty",t);break}case 11:{const e=n.button||Object(p.a)("basic.RichTextElement.ButtonProperty"),t=c.d.create("entities.RichTextElement.ButtonProperty");if(t.actionId=e.actionId,t.disable=e.disable,t.active=e.active,e.confirm&&e.confirm.hasOwnProperty("title")){const i=c.d.create("entities.RichTextElement.ButtonConfirmProperty");i.title=e.confirm.title,i.titleI18nKey=e.confirm.titleI18nKey,i.dismiss=e.confirm.dismiss,i.dismissI18nKey=e.confirm.dismissI18nKey,i.text=e.confirm.text,i.textI18nKey=e.confirm.textI18nKey,i.confirm=e.confirm.confirm,i.confirmI18nKey=e.confirm.confirmI18nKey,t.confirm=i}if(e.loading&&e.loading.hasOwnProperty("begin")){const i=c.d.create("entities.RichTextElement.ButtonLoadingProperty");i.begin=e.loading.begin,i.beginI18nKey=e.loading.beginI18nKey,i.fail=e.loading.fail,i.failI18nKey=e.loading.failI18nKey,i.success=e.loading.success,i.successI18nKey=e.loading.successI18nKey,t.loading=i}r=c.d.encode("entities.RichTextElement.ButtonProperty",t);break}case 12:{const e=n.select||Object(p.a)("basic.RichTextElement.SelectProperty"),t=c.d.create("entities.RichTextElement.SelectProperty");t.minPickNum=e.minPickNum,t.maxPickNum=e.maxPickNum,r=c.d.encode("entities.RichTextElement.SelectProperty",t);break}case 13:{const e=n.progress||Object(p.a)("basic.RichTextElement.ProgressSelectOptionProperty"),t=c.d.create("entities.RichTextElement.ProgressSelectOptionProperty");t.actionId=e.actionId,t.actionParamName=e.actionParamName,t.actionParamValue=e.actionParamValue,t.disable=e.disable,t.selected=e.selected,t.optionCase=e.optionCase,t.content=e.content,t.numberOfSelected=e.numberOfSelected,t.numberOfTotal=e.numberOfTotal,r=c.d.encode("entities.RichTextElement.ProgressSelectOptionProperty",t);break}case 14:r=c.d.encode("entities.RichTextElement.DivProperty",n.div);break;case 15:r=c.d.encode("entities.RichTextElement.TextableAreaProperty",n.textableArea);break;case 16:r=c.d.encode("entities.RichTextElement.TimeProperty",n.time);break;case 17:r=c.d.encode("entities.RichTextElement.LinkProperty",n.link)}return t.property=r,t}class Cn{constructor(e){for(const t in e)null!=e[t]&&(this[t]=e[t]),"type"===t&&(this.type=Object(he.b)(e.type,ce.Doc.Type))}static fromNewDoc(e,t){const i={};return i.id=e,i.key=t.key,i.url=t.url,i.type=t.type,i.name=t.name,i.iconKey=t.iconKey,i.abstract=t.abstract,i.createTime=t.createTime,i.updateTime=t.updateTime,i.ownerName=t.ownerName,i.ownerId=t.ownerId,i.icon=t.icon,new Cn(i)}}new de.a({max:1e3});const mn=new de.a({max:Number.MAX_SAFE_INTEGER}),Nn=new de.a({max:1500});new de.a({max:1500});function An(e){const t={};return e.forEach(e=>{const i=mn.get(e);i&&(t[e]=i)}),t}function Rn(e){const t={};return e.forEach(e=>{const i=Nn.get(e);i&&(t[e]=i)}),t}function On(e){const t={cmd:14003,payload:function(e){return un.encode("docs.PullDocsRequest",{messageIds:e,version:1})}(e)};return Object(b.e)(t)}const vn=Object(Nt.a)();function Pn(e){const t={};for(const i of e)vn[i]&&(t[i]=vn[i]);return t}var Mn=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Ln={getChannelId(){throw new Error("You should cover this method!")},isSubscribed(e){return e.includes(this.getChannelId())},isInSubscribedChannel(){const e=F(),t=!e||this.isSubscribed(e);return t&&A.c.debug("item is not be subscribed: channel_id ={}",this.getChannelId()),t}};oi.prototype.getChannelId=function(){return this.channelId},oi.prototype.isSubscribed=function(e){return this.ignoreSubscription()||e.includes(this.getChannelId())},oi.prototype.isInSubscribedChannel=Ln.isInSubscribedChannel,Ie.prototype.getChannelId=function(){return this.id},Ie.prototype.isSubscribed=Ln.isSubscribed,Ie.prototype.isInSubscribedChannel=Ln.isInSubscribedChannel,En.prototype.getChannelId=function(){return this.channelId},En.prototype.isSubscribed=function(e){return!Object(D.g)()||e.includes(this.getChannelId())},En.prototype.isInSubscribedChannel=Ln.isInSubscribedChannel,ai.prototype.getChannelId=function(){return this.channelId},ai.prototype.isSubscribed=Ln.isSubscribed,ai.prototype.isInSubscribedChannel=Ln.isInSubscribedChannel;class bn{constructor(e){this.id=e}getInnerId(){return this.id}getHittedLastMessagePosition(){return this instanceof bn.ChatId?on(this.id):this instanceof bn.DocFeedId?0:this instanceof bn.ThreadId?sn(this.id):void 0}}!function(e){e.ChatId=class extends e{};e.DocFeedId=class extends e{};e.ThreadId=class extends e{}}(bn||(bn={}));class Dn{constructor(){this.chats={},this.docFeeds={},this.threads={}}}class Un{constructor(){this.chatIds=[],this.docFeedIds=[],this.threadIds=[]}isEmpty(){return 0===this.chatIds.length&&0===this.docFeedIds.length&&0===this.threadIds.length}clear(){this.chatIds=[],this.docFeedIds=[],this.threadIds=[]}push(e){e instanceof bn.ChatId?this.chatIds.push(e.id):e instanceof bn.DocFeedId?this.docFeedIds.push(e.id):e instanceof bn.ThreadId&&this.threadIds.push(e.id)}dedup(){const e=e=>[...new Set(e)];this.chatIds=e(this.chatIds),this.docFeedIds=e(this.docFeedIds),this.threadIds=e(this.threadIds)}}function wn(e){const t=new Dn;if(e.isEmpty())return t;if(e.chatIds.length>0){const i=Xe(e.chatIds);t.chats=i}if(e.docFeedIds.length>0){const i=An(e.docFeedIds);t.docFeeds=i}return t}function kn(e){return Mn(this,void 0,void 0,(function*(){if(0===e.length)return;let t;try{t=yield vi(e,void 0)}catch(t){return void A.c.warn("pull chat setting failed: {}",{channelIds:e,error:t})}Ca(function(e,t){const i=oe.decode("chats.PullChatSettingsResponse",t.data).chatSettings,n=function(e,t){const i=new Dn,n=Xe(e),r={},o={},s={};e.forEach(e=>{const a=t[e];if(!a)return;const d=a.isRemind,c=a.checkMessagePosition,l=(a.isAutoTranslate,n[e]);l?d===l.isRemind&&c===l.messagePosition||(d!==l.isRemind&&(l.isRemind=d,r[e]=d,s[e]=a.updateTime),c!==l.messagePosition&&(l.messagePosition=c,o[e]=c),i.chats[e]=l):A.c.debug("updating chat is_remind not found chat: id={}",e)}),Object.keys(r).length>0&&A.c.debug("update chats is remind: {}",r);return $e(r,s),et(o),Ze([],!0),Ze([],!1),i}(e,i);return A.c.debug("get chat settings from net success"),n}(e,t))}))}function Gn(e,t){const i=Object(p.a)("basic.Channel");return i.id=e,i.type=t,i}function Vn(e,t){const i=Object(p.a)("basic.Channel"),n=ce.Channel.Type[t]?t:0;return i.id=e,i.type=n,i}class Hn extends class{constructor(){this.invalid=[]}}{isEmpty(){return-1===this.start&&-1===this.end}getValidPositions(){const e=[];for(let t=this.start;t<=this.end;t+=1)this.invalid.includes(t)||e.push(t);return e}getFilterPositions(e,t){const i=0===e.length?this.located:t?Math.max(...e):Math.min(...e);return(t?Array.from({length:i-this.start},(e,t)=>i-t-1):Array.from({length:this.end-i+1},(e,t)=>i+t)).filter(t=>!this.invalid.includes(t)&&!e.includes(t))}}function Bn(e,t){return Math.max(e,Math.max(t,0))}function Fn(e,t){return Math.min(e,t)}function jn(e,t,i){const n=new Hn;return n.located=e,n.start=Bn(e-t+1,i),n.end=e,n}function Wn(e,t,i,n,r){if(r-e<t)return jn(r,t+i,n);{const o=new Hn;o.located=Bn(e,n);const s=e-i,a=e+t-1,d=a>r?a-r:0,c=s<n?n-s:0;return o.start=Bn(s-d,n),o.end=Fn(a+c,r),A.c.debug("get specified position: {}",{position:e,redundancyCount:i,count:t,start:s,last:a,topCompensation:d,bottomCompensation:c,lastMessagePosition:r,firstMessagePosition:n}),o}}function xn(e,t,i,n,r,o,s){const a=Math.abs(t-i),d=s(e,t,a,n),c=Object.keys(d).map(e=>Number.parseInt(e,10));let l=n?Math.min(...c):Math.max(...c),p=t,u=i;const _=[],E=[];l=Number.isInteger(l)?l:i;let h=0,T=[];if(n){p-=1;const e=-1===r?Math.max(l-a,0):Math.max(l-a,r);T=Array.from({length:p-e+1},(t,i)=>i+e).reverse()}else{p+=1;const e=Math.min(l+a,o);T=Array.from({length:e-p+1},(e,t)=>t+p)}return T.forEach(e=>{if(h>=a)return;const t=d[e];if(t){const[i,n]=t;i&&!n?h+=1:E.push(e)}else h+=1,_.push(e);u=e}),A.c.debug("get newTarget position and missed position: {}",{channelId:e,located:t,newLocated:p,target:i,old:n,count:a,newTargetPosition:l,newTarget:u,missingPos:_}),[u,_,E]}function Kn(e,t,i,n,r,o){const[[s,a,d,c],l]=function(e,t,i,n,r,o,s,a){let d,c,l,p,u,_,E;switch(s){case 1:case 2:[d,l,u]=xn(e,t,i,!0,r,o,a),[c,p,_]=xn(e,t-1,n,!1,r,o,a);break;case 3:[d,l,u]=xn(e,t+1,i,!0,r,o,a),[c,p,_]=[t,[],[]];break;case 4:[c,p,_]=xn(e,t-1,n,!1,r,o,a),[d,l,u]=[t,[],[]]}if(l.length>0||p.length>0){const e=new ma;e.top=l,e.down=p,E=e}const h=[...u,..._];return A.c.debug("calculate missing message positions: {}",{channelId:e,newStart:d,located:t,newEnd:c,missPositions:E,invalidPositions:h}),[[t,d,c,h],E]}(e,n.located,n.start,n.end,t,i,r,o),p=new Hn;p.start=a,p.located=s,p.end=d,p.invalid=c,A.c.debug("calculate: {}",{channelId:e,r2:p,missingPos:l});return[p,function(e,t,i,n){if(!n)return;const r=0!==n.top.length||4!==i&&3!==i?t.getFilterPositions(n.top,!0):[],o=0!==n.down.length||4!==i&&3!==i?t.getFilterPositions(n.down,!1):[];let s=[];if(0===n.top.length)switch(i){case 1:case 2:s=[Bn(t.start,e)];break;default:s=[]}else s=n.top;let a,d=[];if(0===n.down.length)switch(i){case 1:case 2:d=[Bn(t.start,e)];break;default:d=[]}else d=n.down;switch(s.sort(),r.sort(),d.sort(),o.sort(),i){case 1:case 2:a=I.BiDirection([s,r,d,o]);break;case 3:a=I.Up([s,r]);break;case 4:a=I.Down([d,o])}return a}(t,p,r,l),l]}function qn(e,t,i,n,r){return Kn(e,t,i,n,r,an)}function Yn(e,t,i,n,r,o){switch(A.c.debug("get first screen messages range: {}",{messagePosition:e,count:t,redundancyCount:i,readPosition:n,firstMessagePosition:r,lastMessagePosition:o}),e){case 2:return jn(o,t+i,r);default:return Wn(n,t,i,r,o)}}Ie.prototype.getNextPageMessagesRange=function(e,t){return function(e,t,i){const n=new Hn;return n.located=e,n.start=e,n.end=Fn(e+t-1,i),n}(e,t,this.lastMessagePosition)},Ie.prototype.getPreviousPageMessagesRange=function(e,t){return jn(e,t,this.getFirstPosition())},Ie.prototype.getSpecifiedPositionMessagesRange=function(e,t,i){return Wn(e,t,i,this.getFirstPosition(),this.getLastPosition())},Ie.prototype.getFirstScreenMessagesRange=function(e,t,i){return Yn(ce.Chat.MessagePosition.Enum[this.messagePosition]?this.messagePosition:1,t,i,e||this.getReadPosition(),this.getFirstPosition(),this.getLastPosition())},Ie.prototype.calculateChannelDataPositionsDirectionData=function(e,t){const i=this.getFirstPosition(),n=this.getLastPosition();if(this.isThreadChat())throw new Error("Not support!");return qn(this.id,i,n,e,t)};var Jn=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};class zn{}function Xn(e,t){const i=er(t);Object.values(i).forEach(t=>{e.chatters[t.id]=t})}function Qn(e){const t=e.chatters,i=Object(he.g)(e.maxAge);pa(t,e.botInfo,i);const n=Object.keys(t).map(e=>e.toString());return A.c.debug("pull chatter by ids success: chatter_ids={} botInfo={}",Object.keys(t),e.botInfo),n}function $n(e){const t=oe.decode("chats.PullChatChattersByIDsResponse",e),i=Object(he.g)(t.maxAge);pa(t.chatters,t.botInfo,i);const n={};Object.entries(t.metas).forEach(([e,t])=>{const i=t.chatId.toString();n[i]||(n[i]={}),n[i][e]=t}),Object.entries(n).forEach(([e,t])=>{Ft(e,Object.keys(t),t)})}function Zn(e){e&&e.length&&xi(e).then(t=>{Qn(t);Na(Ct(e))})}function er(e){const t=[];return 0!==t.length&&A.c.debug("chatter image not found or en_us_name is empty"),Zn(t),Gi.db2CliChatters(e)}function tr(e){const t=Ct(e);if(Object.keys(t).length===e.length)return[t,[]];const i=e.filter(e=>"1"!==e&&!t[e]);return[t,i]}function ir(e){return Jn(this,void 0,void 0,(function*(){if(e=e.filter(e=>!Object(he.e)(e)),0===(e=Array.from(new Set(e))).length)return;A.c.debug("pull chatter by ids start: {}",e);Qn(yield xi(e))}))}pt.prototype.getId=function(){return this.id},pt.prototype.getLocalizedName=function(){const e=Object(y.e)(y.a.getLanguage(),e=>this.i18nName[e]);return e||this.name},pt.prototype.getLocalizedDescription=function(){const e=Object(y.e)(y.a.getLanguage(),e=>this.i18nDescriptions[e]);return e&&(this.description.text=e),this.description},pt.prototype.getAliasOrNicknameOrLocalizedName=function(e){return this.alias?this.alias:this.getNicknameOrLocalizedName(e)},pt.prototype.getNicknameOrLocalizedName=function(e){return e||this.getLocalizedName()},pt.prototype.getOncallChatExtraData=function(e,t){const i=new zn;i.name=this.getLocalizedName(),i.enUsName=this.enUsName,i.namePinyin=this.namePinyin,i.localizedName=this.getLocalizedName(),i.profileEnabled=!0;const n=Object(U.b)();if(!t&&(t=function(e,t){const i={},n={},r=Bt.get(e);return r?(t.forEach(t=>{const o=r[t];o&&(i[t]=o,n[e]||(n[e]={}),n[e][t]=o.nickname)}),Ye(n),i):i}(e,[n,this.id]),0===Object.keys(t).length))return i;const r=t[this.id];if(r&&(i.nickname=r.nickname,i.nicknamePinyin=r.nicknamePinyin,i.oncallRole=r.oncallRole),!Zt(e))return i;if(!r)return i;const o=e=>{const{oncallRole:t}=e,{ONCALL:i,ONCALL_HELPER:n}=ce.Chatter.ChatExtra.OncallRole;return t===i||t===n};if(!o(r))return i;const s=t[n];if(!s)return i;const a=r.nickname;let d="",c="",l="";if(a){d=a,c=r.nicknamePinyin,l=a}else d=y.c.render(zi.b.Oncall)||"",c="zhibanren",l="Oncall";if(o(s))i.name=`${this.name}(${d})`,i.localizedName=`${this.getLocalizedName()}(${d})`,i.enUsName=`${this.enUsName}(${l})`,i.namePinyin=`${this.namePinyin}${c}`,i.profileEnabled=!0;else{i.name=d,i.localizedName=d,i.enUsName=l,i.namePinyin=c,i.profileEnabled=!1;const t=function(e){const t=Xt(e);return t?t.getAvatarKey():""}(e);i.avatarKey=t}return i},pt.prototype.getP2pChatExtraData=function(){const e=new zn;return e.name=this.getAliasOrNicknameOrLocalizedName(),e.enUsName=this.enUsName,e.namePinyin=this.namePinyin,e.localizedName=this.getLocalizedName(),e.profileEnabled=!0,e},pt.prototype.getGroupChatExtraData=function(e,t){const i=new zn;if(t)i.name=this.getNicknameOrLocalizedName(t.nickname),i.nickname=t.nickname,i.nicknamePinyin=t.nicknamePinyin;else{const t=Qt(Gn(e,1),this.id);i.name=this.getNicknameOrLocalizedName(t)}return i.enUsName=this.enUsName,i.namePinyin=this.namePinyin,i.localizedName=this.getLocalizedName(),i.profileEnabled=!0,i},pt.prototype.getChatChatterExtraData=function(e,t={}){return zt(e)?this.getOncallChatExtraData(e,t):function(e){const t=Xt(e);return!!t&&t.isP2pChat()}(e)?this.getP2pChatExtraData():this.getGroupChatExtraData(e,t[this.id])},pt.prototype.getChatChatterName=function(e){return this.getChatChatterExtraData(e).name},pt.prototype.getChatChatterAliasName=function(e){return this.alias?this.alias:this.getChatChatterExtraData(e).name};var nr=i(625);Object(c.f)({tenant:nr.a});var rr={encode:c.e,decode:c.b,create:c.a},or=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};new de.a({max:Number.MAX_SAFE_INTEGER});const sr=new de.a({max:Number.MAX_SAFE_INTEGER});function ar(e){return e.filter(e=>!sr.get(e))}new de.a({max:Number.MAX_SAFE_INTEGER});const dr=(()=>{let e=0;return function(){return e===Number.MAX_SAFE_INTEGER&&(e=0),e+=1,e}})(),cr=Object(Nt.a)();function lr(e){return cr[e]}function pr(e,t,i){const n=Object(Li.b)(),r=function(e){return Object.values(cr).filter(t=>t.command===e).length}(e),o=function(e){return e<5?1:e<10?2:5}(r),s=Math.min(60,5+r*o),a=Object(U.b)();return new ve({id:dr(),command:e,request:t,executeTime:n,intervalTime:s,parentId:i||0,childCount:0,createTime:Object(Li.b)(),userId:a})}function ur(e,t){const i=lr(e);if(!i)return;const n=i.childCount+t;return cr[i.id].childCount=n,A.c.debug("update child count: taskId={}, count={}",e,n),i}function _r(e){return String(e.request)}const Er=new class{setChatMessageHandler(e){this.chatMessageHandler=e}setMessageHandler(e){this.messageHandler=e}setChatHandler(e){this.chatHandler=e}setChatterHandler(e){this.chatterHandler=e}setCalendarHandler(e){this.calendarHandler=e}setFeedHandler(e){this.feedHandler=e}setUrgentHandler(e){this.urgentHandler=e}setI18nHandler(e){this.i18nHandler=e}setTenantHandler(e){this.tenantHandler=e}setDocMessageHandler(e){this.docMessageHandler=e}};function hr(){if(!Er.chatHandler)throw Error("chat handler not found");return Er.chatHandler}function Tr(){if(!Er.chatMessageHandler)throw Error("chat message handler not found");return Er.chatMessageHandler}function yr(){if(!Er.chatterHandler)throw Error("chatter handler not found");return Er.chatterHandler}function fr(){if(!Er.feedHandler)throw Error("feed handler not found");return Er.feedHandler}function Ir(){if(!Er.tenantHandler)throw Error("tenant handler not found");return Er.tenantHandler}function gr(e){A.c.debug("run task, task={}",e),function(e){switch(e.command){case o.SyncMessage:Tr().syncMessage(e);break;case o.SyncMessageById:Tr().syncMessageById(e);break;case o.SyncMessagesByIds:Tr().syncMessagesByIds(e);break;case o.SyncMessagesByPositions:Tr().syncMessagesByPositions(e);break;case o.SyncMessagesDependency:Tr().syncMessagesDependency(e);break;case o.CreateMessageReaction:Tr().syncCreateMessageReaction(e);break;case o.DeleteMessageReaction:Tr().syncDeleteMessageReaction(e);break;case o.CreateMessagePin:Tr().syncCreateMessagePin(e);break;case o.DeleteMessagePin:Tr().syncDeleteMessagePin(e);break;case o.SyncChattersByIds:yr().syncChatters(e);break;case o.SyncStatusByEventKeys:(function(){if(!Er.calendarHandler)throw Error("event handler not found");return Er.calendarHandler})().syncStatusByKeys(e);break;case o.SyncChatById:hr().syncChatById(e);break;case o.SyncChatsByIds:hr().syncChatsByIds(e);break;case o.SyncChatSetting:hr().syncChatSetting(e);break;case o.SyncChat:hr().syncChat(e);break;case o.SyncUrgent:(function(){if(!Er.urgentHandler)throw Error("urgent handler not found");return Er.urgentHandler})().syncUrgent(e);break;case o.PeakFeedCard:fr().syncPeakFeedCard(e);break;case o.SyncFeedCardDelayed:fr().syncUpdateFeedCardDelayed(e);break;case o.UpdateFeedCards:fr().syncUpdateFeedCards(e);break;case o.SyncI18nTemplate:(function(){if(!Er.i18nHandler)throw Error("i18n message handler not found");return Er.i18nHandler})().syncI18nTemplateKeys(e);break;case o.SyncChatApplicationByIds:Ir().syncChatApplicationByIds(e)}}(e)}function Sr(e){gr(e);const t=function(e){const t=lr(e);if(!t)return;const i=Object(Li.b)()+t.intervalTime,n=Math.min(2*t.intervalTime,6048e5);return t.executeTime=i,t.intervalTime=n,A.c.debug("delay task: taskId={}",t.id),t}(e.id);t&&mr(t,t.executeTime-Object(Li.b)())}function Cr(e){e.forEach(e=>Sr(e))}function mr(e,t){const{id:i}=e;t=Math.max(t,5),A.c.debug("set task interval: taskId={} interval={}",e.id,t),setTimeout(()=>{!function(e){const t=lr(e);t&&Sr(t)}(i)},1e3*t)}function Nr(e,t,i){const n=function(e,t,i){const n=pr(e,t,i);return cr[n.id]=n,n}(e,t,i);return i&&ur(i,1),mr(n,Object(Li.b)()-n.executeTime),n}function Ar(e){if(0===e.childCount){if(A.c.debug("finish task, taskId={}, parentTaskId={}",e.id,e.parentId),t=e.id,delete cr[t],!e.hasParent())return;const i=ur(e.parentId||0,-1);if(!i)return void A.c.warn("parent task not found, taskId={}",e.parentId);i.canSync()||A.c.debug("parent task can not sync, taskId={}, childCount={}",i.id,i.childCount),gr(i)}var t}function Rr(e){const{id:t}=e,i=function(e){const t=[];return Object.values(cr).map(i=>{i.parentId===e&&t.push(i)}),t}(t),{length:n}=i;return e.childCount!==n&&(ur(t,n-e.childCount),A.c.warn("task child count does not equal len: taskId={}, len={}",t,n)),0===n}var Or=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};let vr;function Pr(e){return Or(this,void 0,void 0,(function*(){const t=(i=e,Array.from(new Set(i)));var i;if(0===t.length)return;let n;try{n=yield function(e){return or(this,void 0,void 0,(function*(){const t=rr.encode("tenant.PullTenantsByIDsRequest",{tenantIds:e}),i=yield Object(b.h)({cmd:300,payload:t});return rr.decode("tenant.PullTenantsByIDsResponse",i)}))}(t)}catch(e){return void A.c.error("pull tenants by ids failed: err={}",e)}!function(e){!function(e){if(!Object.values(e).length)return;const t=[];for(const n in e)if(e.hasOwnProperty(n)){const r=e[n];try{t.push((i=r,vr.ser2DbTenant(i)))}catch(e){A.c.warn("save tenant failed: tenant_id= {} err= {}",n,e)}}var i;n=t,n.forEach(e=>{sr.set(e.id,e)});var n}(e.tenants)}(n),A.c.debug("fetch tenants success: tenant_ids={}",t)}))}var Mr=i(626),Lr=i(627),br=i(628);Object(c.f)({calendars:br.a,calendarevents:Lr.a,calendar_entities:Mr.a});var Dr={encode:c.e,decode:c.b,create:c.a},Ur=i(629);Object(c.f)({reactions:Ur.a});var wr={encode:c.e,decode:c.b,create:c.a},kr=i(630);Object(c.f)({urgent:kr.a});var Gr={encode:c.e,decode:c.b,create:c.a},Vr=i(631);Object(c.f)({pin:Vr.a});var Hr={encode:c.e,decode:c.b,create:c.a};const Br=new de.a({max:Number.MAX_SAFE_INTEGER});function Fr(e,t){const i=jr(e);Br.set(i,t)}function jr(e){return`${e.calendarId}:${e.uniqueKey}:${e.originalTime}`}i(251);const Wr=new de.a({max:Number.MAX_SAFE_INTEGER});function xr(e){const t={};return e.forEach(e=>{const i=Wr.get(e);i&&(t[e]=i)}),t}function Kr(e,t,i){let n=Wr.get(e);n&&(n=n.filter(e=>e.type!==i||!!t&&t!==e.chatterId),Wr.set(e,n))}new de.a({max:100});var qr,Yr;!function(e){e[e.UpdateTime=0]="UpdateTime",e[e.Insert=1]="Insert"}(qr||(qr={})),function(e){e[e.Disable=0]="Disable",e[e.Enable=1]="Enable"}(Yr||(Yr={}));function Jr(e){const t=[];Object.keys(e).forEach(i=>{const{reactions:n}=e[i];let r=function(e){const t=Wr.get(e);if(!t)return 0;const i=t.filter(e=>void 0!==e.weight).sort((e,t)=>t-e)[0];return i?i.weight+1:0}(i);n.forEach(e=>{const{type:n}=e,o=e.chatterIds;o&&o.length||Kr(i,null,n);const s=function(e,t){if(t){return Wr.values().filter(t=>t.messageId===e).filter(e=>e.type===t)}return Wr.values().filter(t=>t.messageId===e)}(i,n);let a=[];s&&(a=s.map(e=>e.chatterId)),o.filter(e=>!a.includes(e)).forEach(o=>{const s=e.udpateTimes.chatterId||0,a=new di;a.chatterId=o,a.messageId=i,a.type=n,a.weight=r,a.updateTime=Object(he.g)(s),t.push(a),r+=1}),a.filter(e=>!o.includes(e)).forEach(e=>{Kr(i,e,n)})})}),t.length||A.c.error("add new reaction: {}",t),t.forEach(e=>{const t=Wr.get(e.messageId)||[];t.find(t=>e.chatterId===t.chatterId&&e.type===t.type)||(t.push(e),Wr.set(e.messageId,t))})}const zr=new de.a({max:Number.MAX_SAFE_INTEGER});function Xr(e){const t={};return e.forEach(e=>{t[e]=zr.get(e)}),t}function Qr(e){const t={};return e.forEach(e=>{zr.values().forEach(i=>{i.channelId===e&&(t[i.cid]=i)})}),t}class $r{constructor(e,t){this.packet=e,this.command=t}}class Zr{constructor(){this.pairs=[]}isEmpty(){return 0===this.pairs.length}intoSplit(){const e=[],t=[];return this.pairs.forEach(i=>{e.push(i.packet),t.push(i.command)}),[e,t]}getPacketsArr(){return this.pairs.map(e=>e.packet)}getCommands(){return this.pairs.map(e=>e.command)}setPair(e,t){20<=this.pairs.length?A.c.trace("only process {} packets",20):this.pairs.push(new $r(e,t))}}var eo=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function to(e){return eo(this,void 0,void 0,(function*(){const t=ri.encode("messages.PullMessagesByIdsRequest",{messageIds:e});return yield Object(b.f)({cmd:8,payload:t})}))}var io=i(632),no={calendarEventVisibility:{DEFAULT:1,PUBLIC:2,PRIVATE:3},calendarEventStatus:{TENTATIVE:1,CONFIRMED:2,CANCELED:3},calendarDirtyType:{NONE_DIRTY_TYPE:0,UPDATED:1,DELETED:2},calendarContentCalendarMessageVersion:{V1:1,V2:2,V3:3},calendarContentCalendarMessageType:{UNKNOWN:0,REPLY_ACCEPT:1,REPLY_DECLINE:2,REPLY_TENTATIVE:3,EVENT_INVITE:4,EVENT_DELETE:5,EVENT_UPDATE:6,EVENT_RESCHEDULE:7,CALENDAR_UPDATE:8,EVENT_UPDATE_LOCATION:9,SELF_ATTENDEE_STATUS_CHANGE:10,ADJUST_SHARE_CALENDAR_MEMBER:11,REMOVE_SHARE_CALENDAR_MEMBER:12,DELETE_SHARE_CALENDAR:13,EVENT_UPDATE_DESCRIPTION:14,REPLY_ACCEPT_AFTER_DECLINE:15},messageType:{UNKNOWN:0,POST:2,FILE:3,TEXT:4,IMAGE:5,SYSTEM:6,AUDIO:7,EMAIL:8,SHARE_GROUP_CHAT:9,STICKER:10,MERGE_FORWARD:11,CALENDAR:12,CARD:13,MEDIA:15,SHARE_CALENDAR_EVENT:16,HONGBAO:17,GENERAL_CALENDAR:18,VIDEO_CHAT:19,LOCATION:20,NOT_SUPPORT_AUDIO:200},generalCalendarContentType:{UNKNOWN:0,TRANSFER_CALENDAR_EVENT:1,RSVP_COMMENT:2}};const ro=i.n(io)()({storeAsString:!0});function oo(e){const t=Object(p.a)("basic.CalendarContent"),i=ro.parse(e);t.payload=e;const{type:n,card_title:r}=i;return n?t.messageType=n:t.messageVersion=no.calendarContentCalendarMessageVersion.V1,r?(t.messageVersion=no.calendarContentCalendarMessageVersion.V2,t.cardTitle=i.card_title,t.startTime=Object(he.g)(i.start_time),t.endTime=Object(he.g)(i.end_time),t.isAllDay=i.is_all_day,t.startTimezone=i.start_timezone,t.endTimezone=i.end_timezone,t.rrule=i.rrule,t):(t.messageVersion=no.calendarContentCalendarMessageVersion.V3,n===no.calendarContentCalendarMessageType.EVENT_INVITE||n===no.calendarContentCalendarMessageType.EVENT_DELETE||n===no.calendarContentCalendarMessageType.EVENT_RESCHEDULE||n===no.calendarContentCalendarMessageType.EVENT_UPDATE_LOCATION||n===no.calendarContentCalendarMessageType.EVENT_UPDATE_DESCRIPTION?t.eventCard=function(e){const t=Object(p.a)("basic.CalendarEventMessageCard");t.eventId=e.id+"",t.senderUserId=e.sender_id+"",t.summary=e.summary,t.isAllDay=e.is_all_day,t.startTime=Object(he.g)(e.start_time),t.startTimezone=e.start_timezone,t.endTime=Object(he.g)(e.end_time),t.endTimezone=e.end_timezone,t.rrule=e.rrule,t.location=e.location,t.version=Object(he.g)(e.version),t.meetingRooms=e.meeting_rooms,e.meeting_rooms&&(t.isMeetingRoomsDisabled=e.meeting_rooms.map(e=>!1));e.calendar_resource_infos&&(t.isMeetingRoomsDisabled=e.calendar_resource_infos.map(e=>e.is_disabled));t.attendeeUserIds=e.individual_chatter_ids&&e.individual_chatter_ids.length?e.individual_chatter_ids:e.attendee_chatter_ids?e.attendee_chatter_ids:[],t.selfAttendeeStatus=e.self_attendee_status,t.attendeeCount=e.attendee_count,t.isOptional=e.is_optional,t.calendarId=e.calendar_id+"",t.eventKey=e.key,t.originalTime=Object(he.g)(e.original_time),t.description=e.description||"",t.eventType=e.event_type;const i=e.chat_ids;if(Array.isArray(i)){const e=Xe(i);t.chatNames=i.reduce((t,i)=>(t[i]=e[i]?e[i].name:"",t),{})}return t.isCrossTenant=e.is_cross_tenant,t}(i):n===no.calendarContentCalendarMessageType.REPLY_ACCEPT||n===no.calendarContentCalendarMessageType.REPLY_DECLINE||n===no.calendarContentCalendarMessageType.REPLY_TENTATIVE||n===no.calendarContentCalendarMessageType.REPLY_ACCEPT_AFTER_DECLINE||n===no.calendarContentCalendarMessageType.ADJUST_SHARE_CALENDAR_MEMBER||n===no.calendarContentCalendarMessageType.REMOVE_SHARE_CALENDAR_MEMBER||n===no.calendarContentCalendarMessageType.DELETE_SHARE_CALENDAR||n===no.calendarContentCalendarMessageType.UNKNOWN||n===no.calendarContentCalendarMessageType.EVENT_UPDATE||n===no.calendarContentCalendarMessageType.CALENDAR_UPDATE||no.calendarContentCalendarMessageType.SELF_ATTENDEE_STATUS_CHANGE,t)}function so(e){return function(e){const t=e.content,i=e.type;if(i===no.messageType.CALENDAR){let e=t.calendarContent;if(!e)return;if(e=oo(e.payload),e.messageVersion!==no.calendarContentCalendarMessageVersion.V3)return;const i=[];return e.calendarCard&&i.push(e.calendarCard.inviterUserId+""),e.eventCard&&(i.push(e.eventCard.senderUserId+""),i.push(...e.eventCard.attendeeUserIds.map(e=>e+""))),i}if(i===no.messageType.GENERAL_CALENDAR){const e=t.generalCalendarContent;if(!e)return;const i=e.calendarType;if(i===no.generalCalendarContentType.UNKNOWN)return;if(i===no.generalCalendarContentType.TRANSFER_CALENDAR_EVENT){const t=e.eventCard;if(!t)return;const i=t.attendeeChatterIds.map(e=>e+"");return i.push(t.senderId+""),i}}}(e)}function ao(e){return function(e){const t=e.content.calendarContent;return t&&t.eventCard?Object.keys(t.eventCard.chatNames):[]}(e)}function co(e,t){return function(e,t){return!(e.type!==no.messageType.CALENDAR||!t.calendarContent||![no.calendarContentCalendarMessageType.EVENT_INVITE,no.calendarContentCalendarMessageType.EVENT_UPDATE_LOCATION,no.calendarContentCalendarMessageType.EVENT_UPDATE_DESCRIPTION,no.calendarContentCalendarMessageType.EVENT_RESCHEDULE,no.calendarContentCalendarMessageType.EVENT_DELETE].includes(t.calendarContent.messageType))}(e,t)}function lo(e){return function(e){const t=e.calendarContent;if(!t)return"";const i=t.eventCard;if(!i)return"";const n=t.messageType,r=i.summary,o=y.c.render(zi.b.NoTitle),s={event_summary:r||o};let a;switch(n){case 4:a=y.c.renderWithValues(zi.b.BotCalendarEventInvitation,s);break;case 5:a=y.c.renderWithValues(zi.b.BotCalendarEventCancelled,s);break;case 7:a=y.c.renderWithValues(zi.b.BotCalendarEventReschedule,s);break;case 9:a=y.c.renderWithValues(zi.b.BotCalendarEventUpdateLocation,s);break;case 14:a=y.c.renderWithValues(zi.b.BotCalendarEventUpdateDescription,s);break;default:const e=t.payload;try{a=JSON.parse(e).title.elements.title.property.content}catch(e){a=""}}return a}(e)}function po(e){return function(e){const t=[];return Object.values(e).forEach(e=>{if(16===e.type){const{shareCalendarEventContent:i}=e.content;if(i&&i.isSharable){const e=i.calendarEvent;if(!e)return;t.push({calendarId:e.calendarId,uniqueKey:e.key,originalTime:e.originalTime})}}}),t}(e)}const uo={};function _o(e,t){let i=[];const n=Object(y.f)(e);n&&(i=Object(y.g)(n));const r=Object(Li.b)(),o={};return Object.values(uo).forEach(e=>{const{i18nKey:n,locale:s,maxAge:a}=e;i.includes(s)&&t.includes(n)&&a>r&&(o[n]=e)}),o}const Eo={};function ho(e){const t=Object(y.f)(e);let i=null;return i=t?Object(y.g)(t):[e],i}function To(e,t){const i={cmd:5500,payload:ri.encode("i18n.PullMessageI18NTemplatesRequest",{locale:e,i18nKeys:t})};return Object(b.e)(i)}function yo(e){const t=y.a.getLanguageIdentifier(),i=Object.values(e).reduce((e,t)=>e.concat(t),[]),n=_o(t,i);return[t,i.filter(e=>e&&!n[e])]}function fo(e){const t=1e3*Object(he.g)(e.maxAge)+Object(Li.b)(),{templates:i}=e,n=y.a.getLanguageIdentifier(),r=Object.entries(i).map(([e,i])=>{const r=new li;return r.i18nKey=e,r.maxAge=t,r.locale=n,r.content=i,r});r.forEach(e=>{uo[e.i18nKey]=e})}function Io(e){return e.richText&&e.richText.elements?Object.values(e.richText.elements).filter(e=>5===e.tag).filter(e=>"all"!==e.property.at.userId).filter(e=>!!e.property.at.userId).map(e=>e.property.at.userId):[]}function go(e){return e?Object.values(e.elements).filter(e=>5===e.tag&&e.hasOwnProperty("property")&&e.property.hasOwnProperty("at")).map(e=>e.property.at):[]}function So(e){if(!e.richText)return[];let t=go(e.richText);if(e.hasOwnProperty("cardContent")){const i=go(Object(he.c)(e,"cardContent.richtext",Object(p.a)("basic.RichText")));t=t.concat(i)}return t}function Co(e){const t=[],i=Object.values(e.elements).map(e=>{const{property:i}=e;ce.RichTextElement.Tag;switch(e.tag){case 1:return i.text&&i.text.i18nKey;case 8:return i.italic&&i.italic.i18nKey;case 7:return i.bold&&i.bold.i18nKey;case 9:return i.underline&&i.underline.i18nKey;case 6:return i.anchor&&i.anchor.i18nKey;case 11:{let{loading:e,confirm:n}=i.button||Object(p.a)("basic.RichTextElement.ButtonProperty");return e||(e=Object(p.a)("basic.RichTextElement.ButtonLoadingProperty")),n||(n=Object(p.a)("basic.RichTextElement.ButtonConfirmProperty")),t.push(e.successI18nKey),t.push(e.beginI18nKey),t.push(e.failI18nKey),t.push(n.confirmI18nKey),t.push(n.titleI18nKey),t.push(n.textI18nKey),t.push(n.dismissI18nKey),null}default:return null}}).filter(e=>!!e);return Array.prototype.push.apply(i,t),i}function mo(e,t){let i=[];if(t.hasOwnProperty("richText"))i=Co(t.richText||Object(p.a)("basic.RichText"));else switch(e){case 11:const e=t.mergeForwardContent,n=[];e&&e.messages.map(e=>{const t=mo(e.type,e.content);Array.prototype.push.apply(n,t)}),i=n;break;case 13:const r=t.cardContent;r&&(r.richtext&&(i=Co(r.richtext)),r.cardHeader&&r.cardHeader.titleI18nKey&&i.push(r.cardHeader.titleI18nKey))}const n=t.i18nTitleKey;return n&&i.push(n),i.filter(e=>e)}function No(e,t,i,n){const r=e[i],{i18nKey:o}=r;if(!o)return;const s=t[o];s?r.content=s.content||"":A.c.error("i18n_template not found!: i18n_key={}, message_id={}",o,n)}function Ao(e,t,i){Object.values(t.elements).forEach(t=>{const{property:n}=t;ce.RichTextElement.Tag;switch(t.tag){case 1:No(n,i,"text",e);break;case 8:No(n,i,"italic",e);break;case 7:No(n,i,"bold",e);break;case 9:No(n,i,"underline",e);break;case 6:No(n,i,"anchor",e);break;case 11:const{button:t=Object(p.a)("basic.RichTextElement.ButtonProperty")}=n;[{first:"confirm",second:"text"},{first:"confirm",second:"title"},{first:"confirm",second:"confirm"},{first:"confirm",second:"dismiss"},{first:"loading",second:"begin"},{first:"loading",second:"success"},{first:"loading",second:"fail"}].forEach(({first:e,second:n})=>{!function(e,t,i,n,r){if(e){const o=t[e];i[n][r]=o&&o.content||""}}(n+"I18nKey",i,t,e,n)})}})}function Ro(e){const t=mo(e.type,e.content),i=y.a.getLanguageIdentifier();if(A.c.trace("replace_i18n_content_if_need! locale={}",i),0!==t.length){!function e(t,i){const n=t.content,r=t.id;if(n.hasOwnProperty("i18nTitleKey")){const e=n.i18nTitleKey;if(e){const t=i[e];t?n.title=t.content||"":A.c.error("i18n_template not found!: i18n_key={}, message_id={}",e,r)}}if(n.hasOwnProperty("richText")&&n.richText)Ao(r,n.richText,i);else{const{type:o}=t;switch(o){case 11:const s=n.mergeForwardContent;s&&s.messages.forEach(n=>{e(t,i)});break;case 13:const a=n.cardContent;if(a){if(a.cardHeader&&a.cardHeader.titleI18nKey){const e=a.cardHeader.titleI18nKey,t=i[e];t&&t.content?a.cardHeader.title=t.content:A.c.warn("i18n template replace i18n content not found, i18nKey= {}, messageId= {}",e,r)}Ao(r,a.richtext,i)}break;default:A.c.debug("replace i18n content: type={} text={}",o,n.text)}}}(e,_o(i,t))}return null}function Oo(e){const t=y.a.getLanguageIdentifier().toLowerCase(),i=Object.values(e).map(e=>e.id),n=function(e,t){const i={},n=ho(e);return t.forEach(e=>{Eo[e]&&Eo[e].forEach(e=>{t.includes(e.id)&&n.includes(e.locale)&&(i[e.id]=e)})}),i}(t,i);return Object.keys(t=>{i.includes(t)&&n[t].updateTime>=e[t].updateTime||delete n[t]}),n}function vo(e,t){const i=y.a.getLanguageIdentifiers(),n=Oo(e),r=[],o={};return Object.keys(e).forEach(s=>{const a=e[s];if(n.hasOwnProperty(s)&&!i.includes(a.locale)){const e=n[s];a.locale=e.locale,a.updateTime=e.updateTime,a.content=e.content}a.isI18nMessage&&!i.includes(a.locale)?(r.push(s),t||(o[s]=a)):o[s]=a}),[o,r]}function Po(e){return vo(e,!1)}oi.prototype.getShareChatId=function(){if(!this.isRecallOrDelOrInvisible()&&9===this.type)return this.content.shareChatId},oi.prototype.isRecallOrDel=function(){return this.isRecalled||this.isDeleted},oi.prototype.isRecallOrDelOrInvisible=function(){return this.isRecalled||this.isDeleted||!this.isVisible},oi.prototype.isDelOrInvisible=function(){return this.isDeleted||!this.isVisible},oi.prototype.isNoBadged=function(){return!this.isBadged},oi.prototype.getShareChatId=function(){if(!this.isRecallOrDelOrInvisible()&&9===this.type)return this.content.shareChatId},oi.prototype.getAtChatterIds=function(e){return this.isRecallOrDelOrInvisible()?[]:Io(e||this.content)},oi.prototype.getMergeForwardFromIds=function(){if(!this.isRecallOrDelOrInvisible()&&11===this.type&&this.content.mergeForwardContent)return this.content.mergeForwardContent.messages.map(e=>e.fromId)},oi.prototype.getSystemMessageChatterIds=function(){if(this.isRecallOrDelOrInvisible())return;if(6!==this.type)return;let e=[];const t=this.content;return t.triggerId&&e.push(t.triggerId),t.e2eeFromId&&e.push(t.e2eeFromId),t.e2eeToId&&e.push(t.e2eeToId),t.vcFromId&&e.push(t.vcFromId),t.vcToId&&e.push(t.vcToId),t.values.callerId&&e.push(t.values.callerId),t.values.calleeId&&e.push(t.values.calleeId),e=e.filter(e=>"0"!==e&&"1"!==e),e},oi.prototype.getOriginalSenderId=function(){if(!this.isRecallOrDelOrInvisible()&&this.hasOwnProperty("originalSenderId"))return this.originalSenderId},oi.prototype.getAudioOriginSenderId=function(){if(!this.isRecallOrDelOrInvisible()&&7===this.type&&this.content.hasOwnProperty("originSenderId"))return this.content.originSenderId.toString()},oi.prototype.getMergeForwardShareChatIds=function(){if(!this.isRecallOrDelOrInvisible()&&11===this.type&&this.content.mergeForwardContent)return this.content.mergeForwardContent.messages.filter(e=>9===e.type&&e.content.hasOwnProperty("shareChatId")).map(e=>e.content.shareChatId)},oi.prototype.isAtMessageExceptMeAndAll=function(){const e=So(this.content);if(0===e.length)return!1;const t=Object(U.b)();return e.some(e=>e.userId!==t&&"all"!==e.userId)},oi.prototype.isFromMe=function(){const e=Object(U.b)();return this.fromId===e},oi.prototype.getShareChatterId=function(){const e=this;return 23===e.type?e.content.shareChatterId:null};new de.a({max:Number.MAX_SAFE_INTEGER});function Mo(e,t,i){const n=i.readCount+i.unreadCount!==e+t;if(i.unreadCount<=t&&e<=i.readCount&&!n)return!1;let r=i.readCount>e?i.readCount:e,o=i.unreadCount>t?t:i.unreadCount;n&&(r=e,o=t,A.c.warn("fix message read count: id= {} old_read_count= {} old_unread_count= {} new_read_count= {} new_unread_count= {}",i.id,i.readCount,i.unreadCount,e,t));const s=new $i(i.id);return s.unreadCount=o,s.readCount=r,tn(s.finalize()),!0}function Lo(e){return mo(Object(he.b)(e.type,ce.Message.Type),e.content)}function bo(e,t){let i,n;const r=t?parseInt(t.lastDraftId||"0",10):0;for(const t of e){if(t.id===r){n=t;break}1===t.type&&(i=t)}return n||i}function Do(e,t){const i=new Set(e);for(const e of t)i.delete(e);return i}var Uo=i(633);Object(c.f)({feed:Uo.a,chats:ne.a});var wo={encode:c.e,decode:c.b,create:c.a},ko=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};var Go=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Vo=Object(A.b)("feed");let Ho,Bo={ser2DbFeedCard:(e,t,i,n)=>{throw new Error("not implement")},db2CliFeedCard:e=>{throw new Error("not implement")},packFeedCards:(e,t)=>{throw new Error("not implement")}};function Fo(e,t,i,n){return Bo.ser2DbFeedCard(e,t,i,n)}function jo(e,t,i,n){Ea(e.chats,!1,!1,n),fa(e.messages),Object.values(e.messages).map(e=>e.id).forEach(e=>Es.add(e));const r=ca(e.cards,!1,!1);Vo.debug("save get feedCards: feedCards={} feedCardId={} feedType={}",r,t,_i.FeedType[i]),function(e){Ho&&Ho.insertFeedCardsToChannelSet(e)}(r)}class Wo extends class{constructor(e){Object.keys(e).forEach(t=>{this[t]=e[t]})}}{static fromDBChat(e){return new Wo({id:e.id,lastMessageId:e.lastMessageId||"",lastMessagePosition:e.lastMessagePosition,lastMessagePositionBadgeCount:e.lastMessagePositionBadgeCount,readPosition:e.readPosition,readPositionBadgeCount:e.readPositionBadgeCount,lastVisibleMessageId:e.lastVisibleMessageId||"",lastVisibleMessagePosition:e.lastVisibleMessagePosition,updateTime:e.updateTime})}static fromSerChat(e){return new Wo({id:e.id,lastMessageId:e.lastMessageId||"",lastMessagePosition:e.lastMessagePosition,lastMessagePositionBadgeCount:e.lastMessagePositionBadgeCount,readPosition:e.readPosition,readPositionBadgeCount:e.readPositionBadgeCount,lastVisibleMessageId:e.lastVisibleMessageId||"",lastVisibleMessagePosition:e.lastVisibleMessagePosition,updateTime:Object(he.g)(e.updateTime)})}static fromDBThread(e){return new Wo({id:e.id,lastMessageId:e.lastMessageId||"",lastMessagePosition:e.lastMessagePosition,lastMessagePositionBadgeCount:e.lastMessagePositionBadgeCount,readPosition:e.readPosition,readPositionBadgeCount:e.readPositionBadgeCount,lastVisibleMessageId:e.lastVisibleMessageId||"",lastVisibleMessagePosition:e.lastVisibleMessagePosition,updateTime:e.updateTime})}static fromSerThread(e){return new Wo({id:e.id,lastMessageId:e.lastMessageId||"",lastMessagePosition:e.lastMessagePosition,lastMessagePositionBadgeCount:e.lastMessagePositionBadgeCount,readPosition:e.readPosition,readPositionBadgeCount:e.readPositionBadgeCount,lastVisibleMessageId:e.lastVisibleMessageId||"",lastVisibleMessagePosition:e.lastVisibleMessagePosition,updateTime:Object(he.g)(e.updateTime)})}static merge(e,t){if(e.lastMessagePosition<t.lastMessagePosition)return 0===t.readPosition&&0===t.readPositionBadgeCount&&(t.readPosition=e.readPosition,t.readPositionBadgeCount=e.readPositionBadgeCount),t;if(e.lastMessagePosition===t.lastMessagePosition){const i=Object(he.e)(e.lastMessageId)?t.lastMessageId:e.lastMessageId,[n,r]=e.readPosition>t.readPosition?[e.readPosition,e.readPositionBadgeCount]:[t.readPosition,t.readPositionBadgeCount],[o,s]=e.lastVisibleMessagePosition>t.lastVisibleMessagePosition?[e.lastVisibleMessagePosition,e.lastVisibleMessageId]:[t.lastVisibleMessagePosition,t.lastVisibleMessageId];return new Wo({id:e.id,lastMessageId:i,lastMessagePosition:t.lastMessagePosition,lastMessagePositionBadgeCount:t.lastMessagePositionBadgeCount,readPosition:n,readPositionBadgeCount:r,lastVisibleMessageId:s,lastVisibleMessagePosition:o,updateTime:Math.max(e.updateTime,t.updateTime)})}return e}updateFromCardMessage(e,t){if(e.position<this.lastMessagePosition)return;if(this.lastMessageId=e.id,this.lastMessagePositionBadgeCount=e.badgeCount,e.isVisible&&(this.lastVisibleMessageId=e.id,this.lastVisibleMessagePosition=e.position),e.position===this.lastMessagePosition)return;this.lastMessagePosition=e.position;const i=Object(U.b)(),n=t.chatterId===i,r=!Object(he.e)(e.rootSourceId),o=11===e.type;if(!n&&(r||o))return;const s=e.fromId===i,a=e.isNoBadged()&&this.readPosition+1===e.position;(s||e.meRead||a)&&(this.readPosition=e.position,this.readPositionBadgeCount=e.badgeCount),this.updateTime=Math.max(this.updateTime,e.updateTime)}updateFromThreadMessage(e,t){if(t.rootMessageId===e.id)return;const i=e.threadPosition;if(i<this.lastMessagePosition)return;if(this.lastMessageId=e.id,this.lastMessagePositionBadgeCount=e.threadBadgeCount,e.isVisible&&(this.lastVisibleMessageId=e.id,this.lastMessagePosition=i),i===this.lastMessagePosition)return e.threadReplyCount;if(this.lastMessagePosition=i,!t.getIsMember())return e.threadReplyCount;const n=Object(U.b)(),r=!Object(he.e)(e.rootSourceId),o=11===e.type,s=e.fromId===n&&!(r||o),a=e.isNoBadged()&&this.readPosition+1===i;return(s||e.meRead||a)&&(this.readPosition=i,this.readPositionBadgeCount=e.threadBadgeCount),this.updateTime=Math.max(this.updateTime,e.updateTime),e.replyCount}}class xo{constructor(e){for(const t in e)this[t]=e[t]}static fromDBChat(e){return new xo({id:e.id,lastThreadId:e.lastThreadId,lastThreadPosition:e.lastThreadPosition,lastThreadPositionBadgeCount:e.lastThreadPositionBadgeCount,readThreadPosition:e.readThreadPosition,readThreadPositionBadgeCount:e.readThreadPositionBadgeCount,lastVisibleThreadId:e.lastVisibleThreadId,lastVisibleThreadPosition:e.lastVisibleThreadPosition,updateTime:e.updateTime})}static fromSerChat(e){return new xo({id:e.id,lastThreadId:e.lastThreadId,lastThreadPosition:e.lastThreadPosition,lastThreadPositionBadgeCount:e.lastThreadPositionBadgeCount,readThreadPosition:e.readThreadPosition,readThreadPositionBadgeCount:e.readThreadPositionBadgeCount,lastVisibleThreadId:e.lastVisibleThreadId,lastVisibleThreadPosition:e.lastVisibleThreadPosition,updateTime:Object(he.g)(e.updateTime)})}static merge(e,t){if(e.lastThreadPosition<t.lastThreadPosition)return 0===t.readThreadPosition&&0===t.readThreadPositionBadgeCount&&(t.readThreadPosition=e.readThreadPosition,t.readThreadPositionBadgeCount=e.readThreadPositionBadgeCount),t;if(e.lastThreadPosition===t.lastThreadPosition){const i=Object(he.e)(e.lastThreadId)?t.lastThreadId:e.lastThreadId,[n,r]=e.readThreadPosition>t.readThreadPosition?[e.readThreadPosition,e.readThreadPositionBadgeCount]:[t.readThreadPosition,t.readThreadPositionBadgeCount],[o,s]=e.lastVisibleThreadPosition>t.lastVisibleThreadPosition?[e.lastVisibleThreadPosition,e.lastVisibleThreadId]:[t.lastVisibleThreadPosition,t.lastVisibleThreadId];return new xo({id:e.id,lastThreadId:i,lastThreadPosition:t.lastThreadPosition,lastThreadPositionBadgeCount:t.lastThreadPositionBadgeCount,readThreadPosition:n,readThreadPositionBadgeCount:r,lastVisibleThreadId:s,lastVisibleThreadPosition:o,updateTime:Math.max(e.updateTime,t.updateTime)})}return e}updateFromThread(e,t){if(e.position<this.lastThreadPosition)return;if(this.lastThreadId=e.id,this.lastThreadPositionBadgeCount=e.badgeCount,e.isVisible&&(this.lastVisibleThreadId=e.id,this.lastVisibleThreadPosition=e.position),e.position===this.lastThreadPosition)return;this.lastThreadPosition=e.position;let i=!1;if(t=t||en(e.id)){const e=Object(U.b)(),n=!Object(he.e)(t.rootSourceId),r=11===t.type;i=t.fromId===e&&!(n||r)}const n=e.isNoBadged()&&this.readThreadPosition+1===e.position;(i||n)&&(this.readThreadPosition=e.position,this.readThreadPositionBadgeCount=e.badgeCount),this.updateTime=Math.max(this.updateTime,e.updateTime)}}function Ko(e){return Go(this,void 0,void 0,(function*(){if(0===(e=Array.from(new Set(e.filter(e=>!Object(he.e)(e))))).length)return;const t=yield function(e){return ko(this,void 0,void 0,(function*(){const t=wo.create("feed.PullFeedCardsByIdsRequest");t.cardIds=e;const i=wo.encode("feed.PullFeedCardsByIdsRequest",t);return yield Object(b.f)({cmd:1009,payload:i})}))}(e);t.isError||function(e){const t=wo.decode("feed.PullFeedCardsByIdsResponse",e),i=Object.keys(t.cards);la(Object.values(t.cards))}(t.data)}))}const qo=Object(Nt.a)();function Yo(e){if(0===e.length)return{};const t={},i=Object.values(qo).filter(t=>e.includes(t.messageId)&&!1===t.isDeleted);for(const e of i)t[e.messageId]=t[e.messageId]||{},t[e.messageId][e.receiverId]=e;return t}function Jo(e){const t=function(e){const t={};return e.forEach(e=>{const i=qo[e];i&&(t[i.id]=i)}),t}(e.map(e=>e.id));for(const i of e){const e=t[i.id];e&&(0===i.sendTime&&(i.sendTime=e.sendTime),0===i.type&&(i.type=e.type),i.isPhoneSuccess=i.isPhoneSuccess||e.isPhoneSuccess,i.isDeleted=i.isDeleted||e.isDeleted)}e.forEach(e=>qo[e.id]=e)}class zo{constructor(e){for(const t in e)null!=e[t]&&(this[t]=e[t]),"type"===t&&(this.type=Object(he.b)(e.type,ce.Urgent.Type)),"status"===t&&(this.status=Object(he.b)(e.status,ce.Urgent.Status))}getId(){return this.id}toPb(){const e=Object(p.a)("basic.Urgent");return e.id=this.id,e.messageId=this.messageId,e.sendTime=this.sendTime,e.type=this.type,e.status=Object(he.f)(this.status)?1:this.status,4===e.status&&(e.ackChatterId=this.receiverId),e}}var Xo;function Qo(e){return e===Xo.IsAcked}!function(e){e[e.IsAcked=1]="IsAcked",e[e.UnAcked=2]="UnAcked"}(Xo||(Xo={}));function $o(e){return 1===e}function Zo(e,t,i,n,r){return new zo({id:e,messageId:t,receiverId:Object(U.b)(),sendTime:i,type:n,isPhoneSuccess:r,status:3,isDeleted:!1})}function es(e,t,i,n,r){return new zo({id:e,messageId:t,receiverId:Object(U.b)(),sendTime:i,type:n,isPhoneSuccess:r,status:2,isDeleted:!1})}function ts(e,t,i,n,r,o){return new zo({id:e,messageId:t,receiverId:i,sendTime:n,type:r,isPhoneSuccess:o,status:4,isDeleted:!1})}function is(e,t,i,n,r,o){return new zo({id:e,messageId:t,receiverId:i,sendTime:n,type:r,isPhoneSuccess:o,status:1,isDeleted:!1})}const ns={pin:new de.a({max:Number.MAX_SAFE_INTEGER}),pinMeta:new de.a({max:Number.MAX_SAFE_INTEGER})};function rs(e){return"m_"+e}function os(e){let t;return t=e.pinId?e.pinId.toString():rs(e.messageId),t}function ss(e,t){let i=[];return ns.pin.forEach(t=>{e(t)&&i.push(t)}),i.sort((e,t)=>t.createTime-e.createTime),t&&t>0&&(i=i.slice(0,t)),i}function as(e){const t={};return ss(t=>e.includes(t.messageId)).forEach(e=>{t[e.messageId]=Object.assign(new ci,e)}),t}function ds(e,t){if(0===e.length)return;const i=as(e.map(e=>e.messageId.toString())),n=e.filter(e=>{const n=i[e.messageId.toString()];return!n||(t&&!n.fromList||n.createTime<e.createTime)}).map(e=>{const i=new ci;return i.messageId=e.messageId.toString(),i.chatId=e.chatId.toString(),i.pinId=e.id.toString(),i.operatorId=e.chatterId.toString(),i.fromList=t,i.createTime=Object(he.g)(e.createTime),i});n.forEach(e=>{const t=os(e);e.id=t,ns.pin.set(t,e)});return n.map(e=>e.messageId)}const cs={1:"messages",2:"quasiMessages"};function ls(e,t,i){const n=Object(p.a)("im.PushMessageResponse"),r=function(e,t){return e?e.map(e=>{const t=Object(p.a)("im.PushMessageResponse.MessageItem");return t.itemId=e,t.itemType=1,t}):[]}(e);return function(e,t="messages",i){const n=i[t]||{};e.sort((e,t)=>{const i=n[e.itemId],r=n[t.itemId];return i?r?i.position-r.position:1:-1})}(r,cs[t],i),n.messageItems=r,n.entity=i,n}function ps(e,t){const i=ls(e,1,t);Object(U.c)(h.a.PUSH_MESSAGES_V2,i)}var us=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};let _s={};const Es=new Set;let hs;function Ts(e,t,i,n,r,o,s,a,d){return hs.db2CliMessage(e,t,i,n,r,o,s,a,d)}function ys(e,t){return hs.packMessages(e,t)}class fs{constructor(e){const t=function(e){const t=new Set,i=new Set,n={},r={};for(const o of e){if(!o.isVisible)continue;if(![6,9].includes(o.type))continue;const e=o.content;if(6===o.type)for(const s of Object.values(e.contentValues))switch(s.type){case 4:s.ids.forEach(e=>i.add(e));break;case 5:case 2:case 1:for(const e of s.ids)1===o.channelType&&(n[e]=n[e]||[],n[e].push(o.channelId)),r[e]=r[e]||[],r[e].push(o.id),t.add(e)}else if(9===o.type){const t=e.shareChatId;i.add(t)}}return{chatIds:Array.from(i),chatterIds:Array.from(t),chatterId2chatIds:n,chatterId2messageIds:r}}(e),{chatterId2chatIds:i}=t,{chatterId2messageIds:n}=t,[r,o]=tr(t.chatterIds),s=Xe(t.chatIds),a=[];for(const e of o){const t=i[e];t&&a.push(...t)}!function(e,t,i){Jn(this,void 0,void 0,(function*(){if(!e.length)return;let n;try{n=yield xi(e)}catch(e){return void A.c.warn("pull chatter by ids failed: err={}",e)}Qn(n);const r=new Set,o=new Set,s=gt(e);e.filter(e=>!s.includes(e)).forEach(e=>{const n=t[e];delete t[e],n&&n.forEach(e=>r.add(e));const s=i[e];delete i[e],s&&s.forEach(e=>o.add(e))});r.size&&Ae([...r],!1);Sa(Zi([...o]))}))}(o,i,n),this.chats=s,this.chatters=r}}function Is(e,t,i){const n=e.contentValues;let r=e.systemType;e.hasOwnProperty("systemTypeValue")&&(r=e.systemTypeValue);const{values:o}=e,s={};for(const[r,a]of Object.entries(n)){const{ids:n}=a,d=[],c=[];switch(a.type){case 4:{const i=e.values[r];i&&d.push(i);for(const e of n){const i=t.chats[e];if(i){const t=Object(p.a)("basic.Content.SystemContentValue.ContentValue");t.value=i.name,t.id=e,t.type=4,c.push(t)}}break}case 3:{const t=e.values[r];if(t&&d.push(t),a.hasOwnProperty("text")){const{text:e}=a,t=Object(p.a)("basic.Content.SystemContentValue.ContentValue");t.value=e,t.type=3,c.push(t)}break}case 1:case 2:case 5:{const e=i.id;for(let i=0,r=n.length;i<r;i++){const r=n[i];if(0!==i){const e=y.c.render(zi.b.Comma);d.push(e)}const o=t.chatters[r];if(o){const t=o.getChatChatterExtraData(e).name;d.push(t);const i=Object(p.a)("basic.Content.SystemContentValue.ContentValue");i.id=r,i.value=t,2===o.type?i.type=2:1===o.type?i.type=1:0===o.type&&(i.type=0),c.push(i)}else d.push("")}break}case 6:{const e=Object(p.a)("basic.Content.SystemContentValue.ContentValue");e.value=a.text,e.link=a.link,e.type=6,c.push(e);break}case 0:{const t=e.values[r];t&&d.push(t);const i=Object(p.a)("basic.Content.SystemContentValue.ContentValue");a.hasOwnProperty("text")&&(i.value=a.text),i.type=0,c.push(i);break}}o[r]=d.join(""),s[r]=gs(c,a.type)}const{systemType:a}=e;switch(a){case 11:{const e=[],t={};if(o.callee_id){const i=o.callee_id;e.push(i),t[i]="to_chatters"}if(o.caller_id){const i=o.caller_id;e.push(i),t[i]="from_user"}const n=Ct(e);for(const[e,r]of Object.entries(n)){const n=t[e];if(n){const t=r.getChatChatterName(i.id);o[n]=t;const a=Object(p.a)("basic.Content.SystemContentValue.ContentValue");a.id=e,a.value=t,s[n]=gs([a],5)}}break}case 57:case 54:case 55:case 56:{const{hongbaoSystemContent:t}=e;if(!t)break;const i=Object(y.e)(y.a.getLanguage(),e=>t.wallet[e])||t.wallet.default||y.c.render(zi.b.Wallet);if(54===a){const e=n.send_user;if(e){const t=e.ids[0];if(t){if(Object(U.b)()===t){const e=y.c.render(zi.b.Yourself);o.send_user=e;const i=Object(p.a)("basic.Content.SystemContentValue.ContentValue");i.value=e,i.id=t,s.send_user=gs([i],5)}}}}if(57===a){o.wallet=i;const e=Object(p.a)("basic.Content.SystemContentValue.ContentValue");e.value=i,s.wallet=gs([e],null)}else{o.hongbao=i;const e=Object(p.a)("basic.Content.SystemContentValue.ContentValue");e.value=i,s.hongbao=gs([e],null);const{hongbaoId:n}=t;o.hongbao_id=n;const r=Object(p.a)("basic.Content.SystemContentValue.ContentValue");r.value=n,s.hongbao_id=gs([r],null);const{messageId:a}=t;o[a]=a;Object(p.a)("basic.Content.SystemContentValue.ContentValue").value=a,s.message_id=gs([r],null)}break}}const d=`${r}${function(e){const t=e.systemType;let i="template";const n=e.event||Object(p.a)("basic.EmailSystemEvent");if(17===t){const e=n.cc,t=n.to;i=e.length&&t.length?"add-to-and-cc-member":t.length&&!e.length?"add-to-member":!t.length&&e.length?"add-cc-member":"template"}else if(19===t){const e=n.cc;i=n.to.length?"change-member-to-to":e.length?"change-member-to-cc":"template"}return i}(e)}`;let c,l=Object(D.f)(d)||e.template;if(54===a?c=zi.b.GrabOtherHongbao:55===a?c=zi.b.OtherGrabMyHongbao:56===a?c=zi.b.LastHongbaoIsGrabbed:57===a&&(c=zi.b.SendHongbaoMessageFailed),c){l=y.c.getTemplateByKey(c)||l}return[l,o,s]}function gs(e,t){const i=Object(p.a)("basic.Content.SystemContentValue");(t||0===t)&&(i.type=t);for(const t of e)i.contentValues.push(t);return i}function Ss(e,t){const i=Object.values(e.elements).filter(e=>5===e.tag);if(0===i.length)return;const n=t.id,r=Object(U.b)(),o=i.filter(e=>e.property.at&&"all"!==e.property.at.userId).map(e=>e.property.at&&e.property.at.userId).filter(e=>Boolean(e)),s=Ct(o),a=[];a.push(r),a.push(...o);for(const e of i)if(e.property.at){const i=e.property.at.userId;let r;if("all"===i)r=y.c.render(zi.b.AtEveryone);else if(s[i]){const e=s[i];r=3===t.type?e.getLocalizedName():e.getChatChatterAliasName(n)}r&&(e.property.at.content=r)}}function Cs(e){if(1===e.type)return[e.chatterId?e.chatterId:""];const t=dt(e.id);if(0===t.length)return[];const i=Object(U.b)(),n=t.map(e=>e.chatterId).filter(e=>e!==i);if(e.userCount<t.length){const e=function(e){return e.map(e=>ft.get(e)).filter(e=>e&&2===e.type).map(e=>e.id)}(n);n.filter(t=>!e.includes(t))}return n}function ms(e,t,i){return us(this,void 0,void 0,(function*(){if(0===Object.keys(e).length)return;const n=Ns(e,null,t);if(n.isEmpty())return;const r=yield Object(l.b)(n.getPacketsArr());if(r.error)throw r.error;As(n.pairs,r,i,e);const o=n.getCommands();!function(e,t,i){if(i)return;t.forEach(t=>{if(46!==t)return;const i=[];Object.values(e).forEach(e=>{6===e.type&&i.push(e.id)});Sa(Zi(i))})}(e,o,i);Object.keys(e).map(e=>{const t=new $i(e);return t.syncDependency=!0,t.finalize()}).forEach(e=>tn(e))}))}function Ns(e,t,i){if(0===Object.keys(e).length)return new Zr;const n=t?t.slice():[],r=[],o=[],s=[],a=[],d=[],c={},l=[],p=[],u=Object(Li.a)(Object.values(e).filter(e=>1===e.channelType).map(e=>e.chatId)),E=Xe(u),h=Object(U.b)();Object.entries(e).forEach(([e,t])=>{if(i&&2!==t.channelType&&n.push(e),0===t.depStatus){const i=E[t.chatId];i&&2===i.type&&r.push(e)}const u=h===t.fromId;u&&t.unreadCount>0&&o.push(e),t.isUrgent&&a.push(e),t.docKey&&d.push(e),t.meRead||u||1!==t.channelType||s.push(e);const _=Lo(t);_.length>0&&(c[e]=_);const T=t.getShareChatId();var y;T&&(y=T,!Je.get(y))&&l.push(T);const f=ao(t);l.push(...st(f)),"0"!==t.parentId&&p.push(t.parentId)});const T={};u.forEach(e=>{Object(Li.e)(T,e,h)}),Object.values(e).forEach(e=>{if(6===e.type){const t=e.getSystemMessageChatterIds(),{chatId:i}=e;t&&Object(Li.e)(T,i,t)}else Object(Li.e)(T,e.chatId,e.fromId);if(7===e.type)try{const t=e.getAudioOriginSenderId();t?Object(Li.e)(T,e.chatId,t):A.c.warn("can not get valid audio sender msgId={}",e.id)}catch(e){A.c.warn("get audio origin send failed")}if(e.getOriginalSenderId()&&Object(Li.e)(T,e.chatId,e.getOriginalSenderId()),12===e.type||18===e.type||16===e.type){const t=so(e);t&&T[e.chatId].push(...t)}});const y=po(e);Object.values(e).forEach(e=>{const t=e.getSystemMessageChatterIds();t&&T[e.chatId].push(...t)});const f={},I=jt(u);Object.entries(T).forEach(([e,t])=>{const i=Object(Li.a)(t),n=I[e];n?i.forEach(t=>{n[t]||Object(Li.e)(f,e,t)}):Object(Li.e)(f,e,i)});const g=Object(Li.a)(p),S=g.filter(e=>!Xi.get(e));const C=new Zr;if(n.length>0){const e=24,t=function(e){const t={cmd:24,payload:wr.encode("reactions.PullReactionsRequest",{messageIds:e,fetchChatters:!0})};return Object(b.e)(t)}(n);C.setPair(t,e)}if(r.length>0){const e=5101,t=function(e){const t=Hr.create("pin.PullPinsByMessageIDsRequest");return t.messageIds=e.map(e=>_.a.fromString(e)),Object(b.e)({cmd:5101,payload:Hr.encode("pin.PullPinsByMessageIDsRequest",t)})}(r);C.setPair(t,e)}if(o.length>0){const e=12,t=function(e){const t=e.map(e=>({messageId:e,chatId:"0"})),i={cmd:12,payload:ri.encode("messages.PullMessageReadStateRequest",{pairs:t,needUsers:!0})};return Object(b.e)(i)}(o);C.setPair(t,e)}if(s.length>0){const e=73,t=function(e){const t={cmd:73,payload:ri.encode("messages.PullMessageMeReadStateRequest",{messageIds:e,needReadTime:!0})};return Object(b.e)(t)}(s);C.setPair(t,e)}if(a.length>0){const e=30005,t=function(e){const t={cmd:30005,payload:Gr.encode("urgent.PullUrgentsAckStatusRequest",{messageIds:e})};return Object(b.e)(t)}(a);C.setPair(t,e)}const[m,N]=yo(c);if(N.length>0){const e=5500,t=To(m,N);C.setPair(t,e)}if([].length>0){const e=14003,t=On(d);C.setPair(t,e)}if(l.length>0){const e=64,t=function(e){return Object(b.e)({cmd:64,payload:oe.encode("chats.PullChatsByIdsRequest",{chatIds:e})})}(l);C.setPair(t,e)}if(y.length>0){const e=1010039,t=function(e){const t=Dr.create("calendarevents.MGetIsJoinedEventStatusRequest");return t.keys=e,Object(b.e)({cmd:1010039,payload:Dr.encode("calendarevents.MGetIsJoinedEventStatusRequest",t)})}(y);C.setPair(t,e)}if(S.length>0){const e=8,t=function(e){const t={cmd:8,payload:ri.encode("messages.PullMessagesByIdsRequest",{messageIds:e})};return Object(b.e)(t)}(S);C.setPair(t,e)}if(Object.keys(f).length>0){const e=5023;Object.entries(f).forEach(([t,i])=>{if(Object(he.e)(t)||0===i.length)return;const n=function(e,t){return t=t.filter(e=>!Object(he.e)(e)),Object(b.e)({cmd:5023,payload:oe.encode("chats.PullChatChattersByIDsRequest",{needChatters:!0,chatId:e,chatterIds:t,needBotInfo:!0})})}(t,i);C.setPair(n,e)})}return C}function As(e,t,i,n){if(t.error)throw t.error;const r=c.d.decode("improto.ProcessMultiPacketsResponse",t.data).results;r.length===e.length?r.forEach((t,r)=>{const{command:o,packet:s}=e[r];try{!function(e,t,i,n,r){let o;try{o=c.d.decode("improto.Packet",e)}catch(e){const t=c.d.decode("errors.LarkError",e);throw A.c.error("e={} error={}",e,t),new Error(`${e} ${t}`)}switch(t){case 24:{const e=function(e,t){const i=wr.decode("reactions.PullReactionsResponse",e.payload);if(!i||!i.messageReactions.length)return;const{messageReactions:n}=i,r=[],o={};n.forEach(e=>{const t=e.messageId;r.push(t),o[t]=e});let s=[];n.forEach(e=>e.reactions.forEach(e=>{s.push(...e.chatterIds)})),s=s.filter(e=>e);const a=gt(s);if(Jr(o),r.forEach(e=>{if(Es.has(e)){const t=en(e);t&&(Es.delete(e),function(e){const t=Qe(e.channelId);t&&t.getLastVisibleMessageId()===e.id&&Ae([e.channelId],!1)}(t))}}),t)return a}(o,n);e&&e.length&&(A.c.error("fetch missed reaction chattersIds={}",e),ir(e));break}case 5101:!function(e,t,i){const n=Hr.decode("pin.PullPinsByMessageIDsResponse",t),r=Object.values(n.pins),o=ds(r,!1);!function(e,t){us(this,void 0,void 0,(function*(){const i=new Set,n=[];e.forEach(e=>{e.chatterId&&(n.push(e.chatterId.toString()),i.add(e.messageId?e.messageId.toString():"0"))});const r=gt(n);if(0===r.length)return;const o=yield xi(r),{chatters:s,maxAge:a,botInfo:d}=o;pa(s,d,Object(he.g)(a));const c=Array.from(i);if(!t&&0!==c.length){Sa(Zi(c))}}))}(r,i);const s=Hr.decode("pin.PullPinsByMessageIDsRequest",e);if(nn(s.messageIds.map(e=>{const t=new $i(e.toString());t.depStatus=1;return t.finalize()})),!o)return[]}(i,o.payload,n);break;case 12:Rs(o.payload,n);break;case 30005:!function(e){const t=Gr.decode("urgent.PullUrgentsAckStatusResponse",e.payload),{urgentAcks:i}=t,n=Object.keys(i),r={};for(const[e,t]of Object.entries(i))r[e]=t.urgentAckList;!function(e){const t=[],i=Object(U.b)();for(const[n,r]of Object.entries(e))for(const e of r){const r=e.ackId,o=e.type,s=Object(he.g)(e.sendTime),a=Object(he.g)(e.phoneStatus),d=e.toId===i,c=$o(a),l=Qo(Object(he.g)(e.status)),p=e.toId;let u;u=d?l?es(r,n,s,o,c):Zo(r,n,s,o,c):l?ts(r,n,p,s,o,c):is(r,n,p,s,o,c),t.push(u)}Jo(t),t.length&&A.c.debug("save urgent status: urgents={}",t)}(r);const o=Yo(n);for(const e of n)o[e]&&Aa(e)}(o);break;case 46:_a(ji.decode("chatters.PullChattersByIdsResponse",o.payload).chatters);break;case 5023:$n(o.payload);break;case 64:!function(e){Pa(oe.decode("chats.PullChatsByIdsResponse",e.payload),[])}(o);break;case 73:!function(e){const t=ri.decode("messages.PullMessageMeReadStateResponse",e.payload).readStatus,i=[];for(const[e,n]of Object.entries(t))n&&i.push(e);n=i,n.length&&dn(n,!0);var n}(o);break;case 8:!function(e,t){const i=ri.decode("messages.PullMessagesByIdsResponse",e.payload),{messages:n}=i;t(n)}(o,ya);break;case 5500:!function(e,t,i){const n={};Object.keys(i).forEach(e=>{const t=Lo(i[e]);t.length&&(n[e]=t)});const[r,o]=yo(n);if(o.length){fo(e);const s={};Object.keys(n).filter(e=>n[e].some(e=>o.includes(e))).map(e=>s[e]=i[e]);const a=y.a.getLanguage()===Object(y.f)(r);!t&&a&&Sa(s)}}(ri.decode("i18n.PullMessageI18NTemplatesResponse",o.payload),n,r);break;case 1010039:{const e=Dr.decode("calendarevents.MGetIsJoinedEventStatusResponse",o.payload),{keys:t,isJoined:i}=e;s=i,t.forEach((e,t)=>{Fr(e,s[t])});break}}var s}(t,o,s,i,n)}catch(e){A.c.error("save messages dependency packet failed: err={} command={}",e,o)}}):A.c.warn("save messages dependency callback data failed, len not equal: packetsLen={} command2PacketLen={}",r.length,e.length)}function Rs(e,t){const i=ri.decode("messages.PullMessageReadStateResponse",e),{readStates:n}=i;let r;if(r=function(e,t,i){if(0===Object.keys(e).length)return;const n=rn(Object.keys(t)),r={},o={},s=new Set;for(const i in e){const a=e[i],d=new Set(a.readUserIds),c=new Set(a.unreadUserIds),l=new Set([...a.readUserIds,...a.unreadUserIds]);if(-1===Object.keys(n).indexOf(i)){const e=[...d];e.length&&(o[i]=e);const t=[...c];t.length&&(r[i]=t)}else{const e=n[i];if(!e)return;const t=new Set,a=new Set,p=new Set;e.forEach(e=>{p.add(e.chatterId),e.isRead?t.add(e.chatterId):a.add(e.chatterId)});const u=Array.from(Do(d,t)),_=Array.from(Do(c,a)),E=Array.from(Do(p,l));E.length&&(s.add(i),ln(i,E)),u.length&&(o[i]=u),_.length&&(r[i]=_)}const p=t[i];Mo(d.size,c.size,p)&&s.add(i)}if(Object.keys(o).length||Object.keys(r).length){cn(o,i,!0),cn(r,i,!1);for(const e in o)s.add(e);for(const e in r)s.add(e);A.c.debug("save messages read states success: messages_read_chatters= {} messages_unread_chatters= {}",o,r)}return[...s]}(n,Zi(Object.keys(n)),function(e){const t=Zi(Object.keys(e)),i=[];Object.values(t).forEach(e=>{1===e.channelType&&i.push(e.chatId)});const n=Xe(i),r=[];return Object.values(n).forEach(t=>{if(1!==t.type)return;const i=t.chatterId||"",n=t.lastMessageId||"",o=e[n];o&&o.readUserIds.includes(i)&&r.push(t.id)}),r}(n)),!r||t)return;A.c.debug("fetch messages read states success: message_ids= {}",r);Sa(Zi(r))}function Os(e,t,i,n){const r={},o=function(e,t){const i={};return e.length?(e.forEach(e=>{const n=_s[e];if(n){const r=t[e];r?r.readPosition<n.position&&(i[e]=n):i[e]=n}}),i):i}(e,t),s={};return Object.keys(o).forEach(e=>{r[e]=o[e]}),Object.keys(s).forEach(e=>{r[e]=s[e]}),r}function vs(e,t){Xn(e,t)}function Ps(e,t){wa(e,t)}function Ms(e,t){ys(e,t)}function Ls(e,t,i){const n={};Object.keys(i).forEach(e=>{const r=i[e];n[e]={},r.forEach(i=>{t[i]&&(n[e][i]=t[i])})});const r=t=>{Object.keys(t).forEach(i=>{const n=t[i];if(n&&n.chatters){Object.keys(n.chatters).forEach(t=>{const r=e.chatChatters[i]||Object(p.a)("basic.Entity.ChatChatter");e.chatChatters[i]=r;const o=n.chatters[t];o&&(r.chatters[t]=o)})}})};r(Gi.db2CliChatChatters(n)),r(e.chatChatters)}const bs=new de.a({max:Number.MAX_SAFE_INTEGER});function Ds(e){const t={};return bs.forEach((i,n)=>{e.includes(i.chatId)&&i.content&&Object(Li.e)(t,i.chatId,i)}),t}function Us(e){const t=Ds(e),i=Object.keys(t);let n=[];i.forEach(e=>{const i=t[e];n=n.concat(i.map(e=>e.id))}),function(e){e.forEach(e=>bs.del(e))}(n),Ae(e,!1)}var ws;i(149);!function(e){e.AUDIO="Lark_Message_AudioMessagePlaceholder",e.MERGE_FORWARD="Lark_Message_ForwardingMessagePlaceholder",e.CARD="Lark_Message_CardMessagePlaceholder",e.VIDEO_CHAT="Lark_Message_VideoChatMessagePlaceholder",e.HONGBAO="Lark_Message_HongbaoMessagePlaceholder",e.MEDIA="Lark_Message_VideoMessagePlaceholder",e.GENERAL_CALENDAR="Lark_Message_CalendarMessagePlaceholder",e.CALENDAR="Lark_Message_CalendarMessagePlaceholder",e.SHARE_CALENDAR_EVENT="Lark_Message_CalendarMessagePlaceholder",e.SHARE_GROUP_CHAT="Lark_Message_GroupCardMessagePlaceholder"}(ws||(ws={}));const ks={Lark_Message_AudioMessagePlaceholder:"收到一条语音消息，请在{{{appName}}}客户端查看",Lark_Message_CalendarMessagePlaceholder:"收到一条日历消息，请在{{{appName}}}客户端查看",Lark_Message_CardMessagePlaceholder:"收到一条卡片消息，请在{{{appName}}}客户端查看",Lark_Message_ForwardingMessagePlaceholder:"收到一条会话记录消息，请在{{{appName}}}客户端查看",Lark_Message_GroupCardMessagePlaceholder:"收到一个群名片，请在{{{appName}}}客户端查看",Lark_Message_HongbaoMessagePlaceholder:"收到一个红包，请在手机上查看",Lark_Message_VideoChatMessagePlaceholder:"收到一条视频聊天消息，请在{{{appName}}}客户端查看",Lark_Message_VideoMessagePlaceholder:"收到一条视频消息，请在{{{appName}}}客户端查看"},Gs={Lark_Message_AudioMessagePlaceholder:"You have received an audio message, please check on {{{appName}}} App",Lark_Message_CalendarMessagePlaceholder:"You have received a calendar message, please check on {{{appName}}} App",Lark_Message_CardMessagePlaceholder:"You have received a card message, please check on {{{appName}}} App",Lark_Message_ForwardingMessagePlaceholder:"You have received a chat history message, please check on {{{appName}}} App",Lark_Message_GroupCardMessagePlaceholder:"You have received a group card, please check on {{{appName}}} App",Lark_Message_HongbaoMessagePlaceholder:"You have received a Hongbao, please view on mobile",Lark_Message_VideoChatMessagePlaceholder:"You have received a video chat message, please check on {{{appName}}} App",Lark_Message_VideoMessagePlaceholder:"You have received a video message, please check on {{{appName}}} App"},Vs={Lark_Message_AudioMessagePlaceholder:"音声メッセージを受け取りました。{{{appName}}}クライアントで確認してください",Lark_Message_CalendarMessagePlaceholder:"カレンダーメッセージを受け取りました。{{{appName}}}クライアントで確認してください",Lark_Message_CardMessagePlaceholder:"カード情報を受け取りました。{{{appName}}}クライアントで確認してください",Lark_Message_ForwardingMessagePlaceholder:"新しいメッセージを受け取りました。{{{appName}}}クライアントで確認してください",Lark_Message_GroupCardMessagePlaceholder:"グループ名刺を受け取りました。{{{appName}}}クライアントで確認してください",Lark_Message_HongbaoMessagePlaceholder:"ラッキーマネーを受け取りました。{{{appName}}}クライアントで確認してください",Lark_Message_VideoChatMessagePlaceholder:"動画チャットメッセージを受け取りました。{{{appName}}}クライアントで確認してください",Lark_Message_VideoMessagePlaceholder:"動画メッセージを受け取りました。{{{appName}}}クライアントで確認してください"};String.prototype.replaceImage=function(){const e=y.c.render(zi.b.ReplaceImage);return this.replace(/<figure><img[^>]*>(<\/img>)*<\/figure>/g,e)},String.prototype.replaceParagraph=function(){return this.replace(/<p>/,"").replace(/<\/p>/,"")},String.prototype.replaceAt=function(){return this.replace(/<at[^>]*>/g,"").replace(/<\/at>/,"")},String.prototype.replaceLineFeed=function(){return this.replace("\n"," ")};function Hs(e,t,i){let n="";const r=t[e];if(e===Object(U.b)())n=y.c.render(zi.b.You);else if(r){const e=i.id;n=r.getChatChatterName(e)}return n}function Bs(e,t,i,n,r){const o=Object(he.b)(t,ce.Message.Type);let s="";if(23===o){let e="";e=i.shareUserCardInfo?Object(y.e)(y.d.language,e=>i.shareUserCardInfo.internationalName[e]):i.shareUserCardInfo.enUsName,s=y.c.renderWithValues(zi.b.ShareUserCard,{name:e})}else if(4===o)if(i.hasOwnProperty("richText")&&i.richText){const e=xs(i.richText);e&&(s=e.replaceLineFeed())}else s=i.text.replaceAt().replaceLineFeed();else if(19===o)s=function(e,t){const i=`[${(y.a.isChinese()?ks:y.a.isEnglish()?Gs:Vs)[e]}]`||"";return Object(y.j)(i,t)}(ws.VIDEO_CHAT,{appName:y.d.appName});else if(5===o)s=y.c.render(zi.b.Image);else if(3===o){const e={name:i.name};s=y.c.renderWithValues(zi.b.File,e)}else if(2===o)if(i.isGroupAnnouncement)s=y.c.render(zi.b.GroupChatAnnouncement);else{const e=i.title,t=i.text,n=["无标题帖子","Untitled Post","タイトルなし"].includes(e);if(!e||n)if(i.hasOwnProperty("richText")&&i.richText){const e=xs(i.richText);e&&(s=e.replaceLineFeed())}else s=t.replaceImage().replaceParagraph().replaceAt().replaceLineFeed();else s=e}else if(7===o)s=y.c.render(zi.b.Audio);else if(6===o)s=function(e,t,i){e.systemType;const[n,r]=Is(e,t,i);let o=n;for(const[e,t]of Object.entries(r))o=o.replace(`{{${e}}}`,t),o=o.replace(`{${e}}`,t);return o}(i,n,r);else if(8===o)i.richText&&(s=xs(i.richText));else if(9===o){const e=n.chats[i.shareChatId];if(!e)throw new Error("Chat not found: "+i.shareChatId);const t={name:e.getLocalizedName()};s=y.c.renderWithValues(zi.b.ShareGroupChat,t)}else if(11===o)s=y.c.render(zi.b.MergeForward);else if(10===o)s=y.c.render(zi.b.Sticker);else if(12===o)s=lo(i);else if(16===o){const e=i.shareCalendarEventContent;if(e&&e.isSharable){const t=e.calendarEvent,i=t?t.summary:"";if(i){const e={title:i};s=y.c.renderWithValues(zi.b.CalendarEventInvitation,e)}else s=y.c.render(zi.b.CalendarEventNoSummary)}else s=y.c.render(zi.b.CalendarEventExpired)}else if(13===o){const e=i.cardContent||Object(p.a)("basic.CardContent");let t;t=1===e.type?zi.b.Vote:2===e.type?zi.b.CardText:3===e.type?zi.b.CardVideoChat:zi.b.Unknown,s=y.c.render(t)}else if(15===o)s=y.c.render(zi.b.Video);else if(17===o){s=Object(U.b)()===e?y.c.render(zi.b.PcHongbaoSent):y.c.render(zi.b.PcHongbaoReceived)}else if(0===o)A.c.warn("unknown message type: from_id={}",e),s=y.c.render(zi.b.Unknown);else if(18===o){const t=i.generalCalendarContent;if(t){const i=t.calendarType;if(0===i)A.c.warn("unknown message type: from_id= {}",e),s=y.c.render(zi.b.Unknown);else if(1===i){const e=t.eventCard;if(e){const t=e.summary;if(t){const e={title:t};s=y.c.renderWithValues(zi.b.CalendarTransferFeed,e)}else s=y.c.render(zi.b.CalendarTransferFeednotitle)}}}}return s}function Fs(e,t,i){const n={from_user:i};let r;if(e.recallerId&&!Object(he.e)(e.recallerId)){let i;i=1===e.recallerIdentity?y.c.render(zi.b.ChatOwner):2===e.recallerIdentity?y.c.render(zi.b.ChatAdministrator):"";const n=t[e.recallerId];let o="";n&&(o=n.getChatChatterName(e.channelId),o=` @${o} `);const s={from_user:o,chat_identity:i};r=y.c.renderWithValues(zi.b.RecallGroupMessage,s)}else r=y.c.renderWithValues(zi.b.RecallMessage,n);return r}function js(e,t){const i=Object(he.b)(e,ce.Message.Type);return 13===i&&t.cardContent?3===t.cardContent.type:!(19!==i||!t.videochatContent)&&1===t.videochatContent.type}function Ws(e){Ro(e);if(e.content.hasOwnProperty("richText")&&e.content.hasOwnProperty("docEntity")&&e.content.docEntity){const t=e.content.docEntity.elementEntityRef;!function(e,t){if(!e.richText)return;const i=e.richText.elements;for(const[e,n]of Object.entries(t)){const t=i[e];if(t){if(6!==t.tag)continue;const e=n.title,i=t.property.anchor;if(!i)continue;const r={doc_title:e},o=y.c.renderWithValues(zi.b.LarkDocTitleSymbol,r);i.textContent=o,i.content=o}}}(e.content,t)}}function xs(e){const t=e.elements;return qs(e.elementIds,t)}function Ks(e,t){const i=e.tag;switch(i){case 1:{const t=e.property;if(t.text&&t.hasOwnProperty("text")){return t.text.content}return""}case 2:return y.c.render(zi.b.Image);case 5:{const t=e.property;if(t.at&&t.hasOwnProperty("at")){const e="@",i=t.at.content;return i[0]===e?i:"@"+i}return""}case 10:{const t=e.property;if(t.emotion&&t.hasOwnProperty("emotion")){let e=t.emotion.key;e=yn(e)||e;return`[${y.c.renderByRawKey(e)||e||e}]`}return""}case 6:{const t=e.property;return t.anchor&&t.hasOwnProperty("anchor")?t.anchor.textContent?t.anchor.textContent:t.anchor.content:""}default:{const n=3===i?" ":"";return 0===e.childIds.length?n:`${qs(e.childIds,t)}${n}`}}}function qs(e,t){if(0===e.length)return"";let i="";for(const n of e){const e=t[n];e&&(i+=Ks(e,t))}return i}function Ys(e,t,i,n,r){const o=Object(he.b)(e.channelType,ce.Channel.Type),s=Vn(e.channelId,e.channelType),a=e.fromId;let d;const c=e,l=n[e.id];if(l){const e=y.c.render(zi.b.TranslateMessage);l.languageKey&&(d=e,c.content=l.content)}const p=Ts(c,null,null,null,null,null,null,null,!1);Ws(p);const u=p.content,_=(e,t,i,n)=>{const r=Bs(a,e,t,n,s);let o;return i?(o=i,`${o}${r}`):(js(e,t),r)},E=Hs(e.fromId,i,s);let h;const T=t[e.chatId];if(1===o)if(e.isDeleted)h=y.c.render(zi.b.DeleteMessage);else if(e.isRecalled)h=Fs(e,i,E);else if(T){const t=Object(he.b)(T.type,ce.Chat.Type);if(T.isCrypto)h=e.fromId===Object(U.b)()?y.c.render(zi.b.LarkSecretSendMessage):y.c.render(zi.b.LarkSecretReceiveMessage);else if(1===t)if(co(e,u)){const t=u.calendarContent&&u.calendarContent.eventCard?u.calendarContent.eventCard.senderUserId:"";h=((e,t,n,r,o)=>{let d=Bs(a,e,n,o,s);if(r){d=`${r}${d}`}if(6!==e){const e=i[t];if(e){d=`${e.getAliasOrNicknameOrLocalizedName()}${d}`}}return d})(e.type,t,u,d,r)}else h=_(e.type,u,d,r);else 2===t&&(h=((t,n,r,o,a)=>{let d=Bs(n,t,r,a,s);if(o){d=`${o}${d}`}if(6!==t){const o=i[n];if(o){const i=o.getChatChatterName(e.channelId);[19,17,18,12].includes(t)||(d=js(t,r)?`${i}${d}`:`${i}: ${d}`)}}return d})(e.type,e.fromId,u,d,r))}else h=_(e.type,u,d,r);return h}const Js={1:zi.b.DocMention,2:zi.b.DocComment,3:zi.b.DocReply,4:zi.b.DocSolve,5:zi.b.DocShare,6:zi.b.DocReopen};function zs(e,t,i,n){let r="";const o=t[e.chatId];if(o&&o.isCrypto)r=y.c.render(zi.b.LarkSecretSendMessage);else{const o=Vn(e.channelId,e.channelType),s=i&&i.getChatChatterName(e.channelId)||"",a=e.content;!function(e,t){e.hasOwnProperty("richText")&&e.richText&&Ss(e.richText,t),e.hasOwnProperty("cardContent")&&e.cardContent&&e.cardContent.hasOwnProperty("richtext")&&e.cardContent.richtext&&Ss(e.cardContent.richtext,t)}(a,o),r=Bs(null,e.type,a,n,o);const d=t[e.chatId];d&&2===d.type&&(r=`${s}: ${r}`)}return r}const Xs=Object(A.b)("feed");class Qs{constructor(e,t){const i=Math.max(e,t,0),n=Math.max(0,Math.min(e,t));this.maxCursor=i,this.minCursor=n}}function $s(e){e.sort((e,t)=>t.maxCursor-e.maxCursor);const t=[];for(const i of e){const e=t.pop();if(e){if(e.maxCursor>=i.maxCursor&&e.minCursor<=i.minCursor||e.maxCursor<=i.maxCursor&&e.minCursor>=i.minCursor){const n=Math.max(e.maxCursor,i.maxCursor),r=Math.min(e.minCursor,i.minCursor),o=new Qs(n,r);t.push(o);continue}if(e.minCursor<=i.maxCursor){const n=new Qs(e.maxCursor,i.minCursor);t.push(n);continue}t.push(e),t.push(i)}else t.push(i)}return t}const Zs=new class{constructor(){this.inbox=[],this.done=[],this.boxCursors={}}getFirstSection(e,t){if(null==e&&null==t)return;let i=[];if(null!=e)switch(e){case 1:i=$s(this.inbox);break;case 2:i=$s(this.done)}return null!=t&&(i=$s(this.boxCursors[t]||[])),i[0]}getCursor(e,t,i){const n=this.getFirstSection(t,i);return n?e?n.maxCursor:n.minCursor:0}addCursor(e,t,i,n){const r=new Qs(e,t);if(Xs.debug("save feed cursor: newSection={} feedType={} boxId={}",r,i,n),!(e===t||r.maxCursor<=0||null==i&&null==n)){if(null!=i)switch(i){case 1:this.inbox.push(r),this.inbox=$s(this.inbox);break;case 2:this.done.push(r),this.done=$s(this.done)}if(null!=n){const e=this.boxCursors[n]||[];e.push(r),this.boxCursors[n]=$s(e)}}}getFeedFreshCursor(e){return this.getCursor(!0,e,void 0)}getFeedLoadMoreCursor(e){return this.getCursor(!1,e,void 0)}addFeedCursor(e,t,i){this.addCursor(t,i,e)}getBoxFreshCursor(e){return this.getCursor(!0,void 0,e)}getBoxLoadMoreCursor(e){return this.getCursor(!1,void 0,e)}addBoxCursor(e,t,i){this.addCursor(t,i,void 0,e)}removeBoxCursor(e){delete this.boxCursors[e]}getAllSections(e,t){let i=[];if(t&&na(t))i=this.boxCursors[t]||[];else switch(e){case 2:i=this.done;break;case 1:i=this.inbox}return $s(i)}};function ea(e,t){return Zs.getAllSections(t,e)}function ta(e,t,i,n,r){const o=Object(he.g)(e.nextCursor);let s=0;s=0===o&&1===r?t:o;let a=0;if(1===r){const i=e.cards[0];let n=0;n=i?Object(he.g)(i.updateTime):t,a=Math.max(t,n)}else a=t;return function(e,t,i,n){na(e)?Zs.addBoxCursor(e,i,n):Zs.addFeedCursor(t,i,n)}(i,n,a,s),()=>{!function(e,t,i,n,r){if(e===t)return;const o=new Qs(e,t);f(h.a.PUSH_FEED_CURSOR,{cursor:o,count:i,feedCardId:n,feedType:r})}(a,s,e.cards.length,i,n)}}function ia(e,t,i){return na(e)?1===t?Zs.getBoxFreshCursor(e):Zs.getBoxLoadMoreCursor(e):1===t?Zs.getFeedFreshCursor(i):Zs.getFeedLoadMoreCursor(i)}function na(e){return e&&!Object(he.e)(e)}const ra=new Set;let oa;new class{setCallback(e){this.provider=e}getBoxInfos(e){if(this.provider)return this.provider.callback(e)}};function sa(e,t){na(e)&&(!t&&ra.has(e)||(ra.add(e),oa&&oa.callback(e)))}function aa(e,t){e.forEach(e=>sa(e,t))}var da=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function ca(e,t,i){const n=e.map(e=>e.id.toString()),r=[],o=[],s=[];let a={};t&&(a=Rt(n));for(const i of e){const e=i.id.toString(),n=Fo(i,t,r,a[e]);5===n.entityType&&s.push(e),o.push(n)}return aa(s,!1),i?vt(o):Ot(o,!1),o}function la(e){return ca(e,!1,!0)}function pa(e,t,i){ua(e,t,i)}function ua(e,t,i){const n=Object.keys(e);if(0===n.length)return;const r=Ct(n),o=[],s=[],a=[];for(const t in e){const n=e[t];ki(n)&&o.push(t);const d=r[t],c=Gi.ser2DbChatter(n,d,i);if(s.push(c),n.hasOwnProperty("userConfig")&&n.userConfig){const e=new ht({chatterId:t,phoneCall:void 0,voiceCall:void 0,videoCall:void 0,accessProfileBlob:n.userConfig}),{userConfig:i}=n;i.hasOwnProperty("phoneCallAccessible")&&(e.phoneCall=i.phoneCallAccessible),i.hasOwnProperty("voiceCallAccessible")&&(e.voiceCall=i.voiceCallAccessible),i.hasOwnProperty("videoCallAccessible")&&(e.videoCall=i.videoCallAccessible),a.push(e)}}const d=ar(s.map(e=>e.tenantId));if(d.length>0&&Pr(d),o.length>0){const e=ot(o),t=[];Object.keys(e).forEach(e=>t.push(e)),Us(t)}a.length>0&&yt(a),It(s)}function _a(e){ua(e,0,null)}function Ea(e,t,i,n){const r=Object.keys(e);if(!r.length)return;const[o,s]=qt(r),a=[],d=[];r.forEach(t=>{const i=e[t],n=o[t];try{const e=Ua(i,n);1===e.type&&d.push(e.chatterId),a.push(e)}catch(e){A.c.warn("create new chat failed: chat_id={} e={}",t,e)}}),i?function(e){const t=[];e.forEach(e=>{Je.set(e.id,e),t.push(e.id)}),Ae(t,!1)}(a):nt(a);const[c,l]=tr(d),p=ar(a.map(e=>e.tenantId));if(s.length){const t=[];s.forEach(i=>{e[i]&&t.push(i)}),n?n.push(...t):kn(t)}l.length&&(A.c.debug("save chats miss chatter, ids={}",l),Zn(l)),p.length,t&&s.length&&ka(s)}function ha(e,t){return da(this,void 0,void 0,(function*(){if(0===Object.keys(e).length)return;const i=[],n={};Object.keys(e).forEach(t=>{const i=e[t],r=i.hasOwnProperty("cryptoInfo"),o=1===i.status;r&&i.cryptoInfo&&2===i.cryptoInfo.cryptoType&&o?(i.type=0,n[t]=i):n[t]=i});const r=Object.keys(n);if(0===r.length)return;r.forEach(e=>{const t=i.indexOf(e);t>-1&&i.splice(t,1)});const o=[];r.forEach(e=>{const t=n[e];3===t.type&&o.push(t.cid)});let s={};o.length>0&&(s=Xr(o));const a=Zi(r),d=[],l=[];r.forEach(e=>{if(a[e])return;d.push(e);const t=n[e];t&&t.isDing&&l.push(e)});const p=[],u=[];r.forEach(e=>{const t=n[e],i=a[e];let r;try{r=function(e,t){return hs.ser2DbMessage(e,t)}(t,i)}catch(t){return void A.c.debug("create NewMessage failed: message_ids={} err={}",e,t)}const o=s[r.cid];if(o){const e=r.content;if(!e.filePath){const t=o.content;t.filePath&&(e.filePath=t.filePath)}}if(t.hasOwnProperty("i18nInfo")&&t.i18nInfo&&t.i18nInfo.isI18nMessage){const e=new pi,[i,...n]=(d=t.content,c=t.type,l=t.id,hs.ser2CliContent(d,c,l));e.id=t.id,e.locale=t.i18nInfo.locale,e.content=i,e.updateTime=Object(he.g)(t.updateTime),u.push(e)}var d,c,l;p.push(r)}),function(e){const t=Zi(e.map(e=>e.id));Object.values(t).length&&(e=e.filter(e=>{const i=t[e.id];return!i||e.contentState!==ni.NeedsPull||(A.c.warn("message id={} old message content_state={} new message content_state={}",i.id,i.contentState,e.contentState),!1)})),e.forEach(e=>{const{id:t}=e;null==e.content&&A.c.debug("create empty message: message_id:{} content_state:{}",t,e.contentState),Xi.set(t,e)})}(p),u.forEach(e=>{const{id:t}=e;if(Eo.hasOwnProperty(t)){let i=!0;Eo[t]=Eo[t].map(t=>t.locale===e.locale?(i=!1,e):t),i&&Eo[t].push(e)}else Eo[t]=[e]});const _=[];if(p.forEach(e=>{if(e.contentState!==ni.NeedsPull)return;var t;Xr([t=e.cid])[t]||_.push(e.id)}),_.length>0){const e=yield function(e,t){return eo(this,void 0,void 0,(function*(){const i=ri.encode("messages.PullMessageMeReadStateRequest",{messageIds:e,needReadTime:!0});return yield Object(b.f)({cid:t.cid,cmd:73,payload:i})}))}(_,new Ti.a);if(e.isError)throw e.error;const{readTimes:t}=ri.decode("messages.PullMessageMeReadStateResponse",e.data);Object.keys(t).length>0&&A.c.warn("lark-message-base/db/messages.ts-updateMessageBurnTime")}const E=function(e){const t={};return Object.values(e).forEach(e=>{if(11!==e.type)return;const i=c.d.decode("entities.MergeForwardContent",e.content);for(const e of i.messages)t[e.id]=e}),t}(n);let h=n;if(Object.keys(E).length>0&&(r.forEach(e=>{E[e]=n[e]}),h=E),0===d.length)return;const T=Zi(d);!function(e){Object.values(e).forEach(e=>{try{!function(e){if(!e.isFromMe)return;const t=e.id,i=rn([t]);if(0!==Object.keys(i).length)return;const n=Object(he.b)(e.type,ce.Message.Type),r=[];if(8===n)return;const o=e.content,s=Qe(e.chatId);if(!s)throw new Error("chat not found:"+e.chatId);if(!function(e,t,i){if(0===i)return!1;let n=!1;return t.richText&&(n=Object.values(t.richText.elements).some(e=>5===e.tag)),n||e.userCount<=5||i<=3}(s,o,e.unreadCount))return;s.lastMessageId===t&&r.push(s.id);const a=Cs(s);if(!a||0===a.length)return;const d=a.length;cn({messageId:a},r,!1),A.c.debug("create client messages read state success: message_id= {} unread_chatter_ids_len= {}",t,d),A.c.trace("lark-logic/helpers.ts-saveCliMessageReadStates")}(e)}catch(t){A.c.warn("save client message read states failed: message_id= {} err= {}",e.id,t)}})}(T),yield t(T)}))}function Ta(e,t,i){return da(this,void 0,void 0,(function*(){yield ha(e,e=>da(this,void 0,void 0,(function*(){i&&(yield ms(e,!0,t))})))}))}function ya(e){Ta(e,!0,!1)}function fa(e){return da(this,void 0,void 0,(function*(){yield Ta(e,!1,!0)}))}function Ia(e){if(0===Object.keys(e).length)return;const t=e;if(0===Object.keys(t).length)return;const i=Object(p.a)("basic.Entity");Ps(i,e),Object(U.c)(h.a.PUSH_CHATS,i)}function ga(e){Ia({[e.id]:new Ie(e)})}function Sa(e){if(0===Object.keys(e).length)return;if(e=e,0===Object.keys(e).length)return;const t=Object(p.a)("basic.Entity");Ms(t,e),ps(Object.keys(e),t)}function Ca(e){Ia(e.chats)}class ma{constructor(){this.top=[],this.down=[]}}function Na(e){if(!Object.keys(e).length)return void A.c.warn("push chatters is empty!");const t=Object(p.a)("basic.Entity");vs(t,e),Object(U.c)(h.a.PUSH_CHATTERS,t)}function Aa(e){const t=new $i(e);t.isUrgent=!0,tn(t.finalize()),A.c.debug("update message.isding success: message_id={}",e)}var Ra=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function Oa(e,t){t&&Pt(e),tt(e,2),ct(e),function(e){e.forEach(e=>mt.del(e))}(e)}function va(e){const t=Xe(e);Object.values(t).forEach(e=>{if(e.getIsMember())return;const t=Object(p.a)("im.PushChatChattersResponse");t.type=3,t.chat=Da(e),Object(U.c)(h.a.PUSH_CHAT_CHATTERS,t)})}function Pa(e,t){Ea(e.chats,!1,!0,void 0);const i=Object.keys(e.chats),n=e.unauthorizedChatIds,r=[];i.forEach(e=>{n.includes(e)?t.push(e):r.push(e)});tt(r,1),Oa(t,!1)}function Ma(e){La(e,!1)}function La(e,t){if(0===e.length)return;const i=ot(e);if(0===Object.keys(i).length)return;let n=[];if(Object.keys(i).forEach(e=>{n.push(e)}),t){const e=Ct(n);n=[],Object.values(e).forEach(e=>{e.isResigned||n.push(e.id)})}Ae(n,!1),Ia(i)}let ba=null;function Da(e,t,i){return ba.db2CliChat(e,t,i)}function Ua(e,t){return ba.ser2DBChat(e,t)}function wa(e,t){return ba.packChats(e,t)}function ka(e){return Ra(this,void 0,void 0,(function*(){if(0===e.length)return;const t=yield function(e){const t=oe.encode("chats.PullChatsRoleRequest",{chatIds:e});return Object(b.f)({cmd:5001,payload:t})}(e);if(t.error)return void A.c.warn("pull chats role by ids failed");const i=oe.decode("chats.PullChatsRoleResponse",t.data),n=Xe(e),r=Object.values(n).filter(e=>e.getIsMember()).map(e=>e.id),o=i.roles,s=Object.entries(o).filter(([e,t])=>2===t).map(([e,t])=>e);if(tt(Object.entries(o).filter(([e,t])=>1===t).map(([e,t])=>e).filter(e=>!r.includes(e)),1),s.length>0){try{Oa(s,!1)}catch(e){A.c.warn("delete chats dependency and member role failed: ids={} e={}",s,e)}va(s)}Ia(Xe(e))}))}function Ga(e,t,i){const n=t.userSetting;return t.hasOwnProperty("userSetting")&&n.hasOwnProperty("isRemind")?n.isRemind:t.hasOwnProperty("isRemind")?t.isRemind:!!i&&i.isRemind}function Va(e){const t={};return e=e||c.d.create("entities.Chat.Announcement"),t.updateTime=e.updateTime,t.lastEditorId=e.lastEditorId,t.content=e.content,t.docUrl=e.docUrl,t.enableOpendoc=e.enableOpendoc,t}function Ha(e,t){const i=e.userSetting;return e.hasOwnProperty("userSetting")&&i.hasOwnProperty("isHiddenNickname")?!i.isHiddenNickname:!t||t.showNickname}function Ba(e,t){const i=e.chatEntitySetting;if(e.hasOwnProperty("chatEntitySetting")&&i&&i.hasOwnProperty("addMemberApplySetting")){const e=i&&i.addMemberApplySetting;if(0!==e)return e}return t?t.addMemberApply:1}function Fa(e,t){const i=e.userSetting;if(e.hasOwnProperty("userSetting")&&i.hasOwnProperty("checkMessagePosition")){const e=i.checkMessagePosition;if(0!==e)return e}return t?t.messagePosition:1}function ja(e,t){const i=e.chatEntitySetting;if(e.hasOwnProperty("chatEntitySetting")&&i&&i.hasOwnProperty("addMemberPermissionSetting")){const e=i.addMemberPermissionSetting;if(0!==e)return e}return t?t.addMemberPermission:1}function Wa(e,t){const i=e.chatEntitySetting;if(e.hasOwnProperty("chatEntitySetting")&&i&&i.hasOwnProperty("atAllPermissionSetting")){const e=i.atAllPermissionSetting;if(0!==e)return e}return t?t.atAllPermission:1}function xa(e,t){const i=e.chatEntitySetting;if(e.hasOwnProperty("chatEntitySetting")&&i&&i.hasOwnProperty("joinMessageVisibleSetting")){const e=i.joinMessageVisibleSetting;if(0!==e)return e}return t?t.joinMessageVisible:2}function Ka(e,t){const i=e.chatEntitySetting;if(e.hasOwnProperty("chatEntitySetting")&&i&&i.hasOwnProperty("quitMessageVisibleSetting")){const e=i.quitMessageVisibleSetting;if(0!==e)return e}return t?t.quitMessageVisible:1}function qa(e,t){const i=e.chatEntitySetting;if(e.hasOwnProperty("chatEntitySetting")&&i&&i.hasOwnProperty("shareCardPermissionSetting")){const e=i.shareCardPermissionSetting;if(0!==e)return e}return t?t.shareCardPermission:1}function Ya(e,t){return e.hasOwnProperty("putChatterApplyCount")?e.putChatterApplyCount:t?t.chatterApplyCount:0}function Ja(e,t){return e.hasOwnProperty("showBanner")?e.showBanner:!!t&&t.showBanner}const za={db2CliChat(e,t,i){const n=Object(p.a)("basic.Chat");if(n.name=e.getLocalizedName(),n.id=e.id,n.type=e.type,1===e.type&&!e.chatterId)throw new Error("p2p chat to pb failed, chatter_id not found:"+e.id);const r=Oi(e.id);if(r){const[e,t]=r;void 0!==e&&(n.lastReadPosition=e,n.lastReadOffset=t)}if(n.role=e.role,i){n.feedType=i.feedType;const e=i.parentFeedCardId;e?(n.boxId=e,n.isInBox=Number(e)>0):n.isInBox=!1}let o,s;1===e.role?(o=e.readPosition,s=e.readPositionBadgeCount):(o=e.lastMessagePosition,s=e.lastMessagePositionBadgeCount),n.lastMessageId=e.lastMessageId,n.lastMessagePosition=e.lastMessagePosition,n.lastMessagePositionBadgeCount=e.lastMessagePositionBadgeCount,n.readPosition=o,n.readPositionBadgeCount=s,n.lastVisibleMessageId=e.lastVisibleMessageId,n.lastVisibleMessagePosition=e.lastVisibleMessagePosition,n.hasWaterMark=e.hasWaterMark,n.burnLife=e.burnLife,n.chatterId=e.chatterId,n.isArchived=e.isArchived,n.isDeleted=e.isDeleted,n.isDepartment=e.isDepartment,n.isTenant=e.isTenant,n.isPublicV2=e.isPublic,n.description=e.description,n.ownerId=e.ownerId,n.chatterCount=e.chatterCount,n.userCount=e.userCount,n.isShortcut=e.isShortcut,n.offEditGroupChatInfo=e.offEditGroupChatInfo,0!==Number(e.oncallId)&&(n.oncallId=e.oncallId,n.isOfficialOncall=Jt(e.oncallId)),e.isCrypto||-1===e.cryptoChatFirstMessagePosition?n.firstMessagePosition=e.cryptoChatFirstMessagePosition:n.firstMessagePosition=-1,n.announcement=e.announcement,n.tenantId=e.tenantId,n.updateTime=e.updateTime;const a=e.namePinyin.replace(" ","");return n.namePinyin=a,n.isRemind=e.isRemind,n.isCustomerService=e.isCustomerService,n.isCustomIcon=e.isCustomIcon,n.isDissolved=e.isDissolved,n.isCrypto=e.isCrypto,n.messagePosition=e.messagePosition,n.addMemberPermission=e.addMemberPermission,n.atAllPermission=e.atAllPermission,n.joinMessageVisible=e.joinMessageVisible,n.quitMessageVisible=e.quitMessageVisible,n.shareCardPermission=e.shareCardPermission,n.chatMode=e.chatMode,n.isMeeting=e.isMeeting,n.isCrossTenant=e.isCrossTenant,n.chatable=e.chatable,n.muteable=e.muteable,n.isAutoTranslate=e.isAutoTranslate,n.showNickname=e.showNickname,n.allowPost=e.allowPost,n.postType=e.postType,n.addMemberApply=e.addMemberApply,n.putChatterApplyCount=e.chatterApplyCount,n.showBanner=e.showBanner,n.isSupportView=e.supportView!==Yt.Unknown,t&&t.forEach(e=>{switch(e.type){case 1:n.textDraftId=""+e.id;break;case 2:n.postDraftId=""+e.id}}),n.avatarKey=e.avatarKey,n},ser2DBChat(e,t){const i=e.id.toString(),n=e.type,r=1===e.status,o=t&&t.lastDraftId;let s,a=!1;if(1===n){const t=e.key,n=t.split(":"),r=Object(U.b)();if(2!==n.length)throw new Error(`Bad p2p key: chatId=${i} key=${t}`);a=n[0]===n[1];const o=n.filter(e=>e!==r);if(o.length>1&&r)throw new Error(`Bad p2p key: chatId=${i} key=${t}`);s=0===o.length?r:o.pop()}const d=(e.avatar||c.d.create("entities.Image")).key;let l,p,u,_,E,h;2===n&&(l=e.ownerId,p=e.description,u=e.namePy),t?(_=t.role,E=t.isShortcut,h=t.cryptoChatFirstMessagePosition):(_=1,E=!1,h=-1);let T=Wo.fromSerChat(e);if(t){const e=Wo.fromDBChat(t);T=Wo.merge(e,T)}let y=xo.fromSerChat(e);if(t){const e=xo.fromDBChat(t);y=xo.merge(e,y)}const f=e.createTime,I=e.offEditGroupChatInfo;let g;2===e.type&&(g=e.tenantId);const S=e.updateTimeMs;let C=a,m=3600;t&&(C=t.isMeCreate,m=t.burnLife);const N=Object(he.b)(e.supportView,Yt);let A=T.readPosition;e.isCrypto&&(A=Math.max(0,A,h));const R=e.i18nInf&&e.i18nInf.i18nNames||{};let O,v=0,P=0,M=0;const L=e.chatSecurityConfig;L?(O=L.openSecurity,v=L.limit,L.read&&(P=L.read.limit,M=L.read.readShowType)):t&&(O=t.openSecurity,v=t.showMemberLimit,P=t.showReadStateLimit,M=t.showReadStateType);const b=e.chatConfig||c.d.create("entities.ChatConfig");return new Ie({id:i,name:e.name,type:e.type,updateTime:Object(he.g)(e.updateTime),lastMessageId:T.lastMessageId,lastMessagePosition:T.lastMessagePosition,isArchived:r,chatterId:s,isRemind:Ga(0,e,t),chatterCount:e.memberCount,userCount:e.userCount,avatarKey:d,ownerId:l,description:p||"",namePinyin:u||"",createTime:Object(he.g)(f),isCustomerService:e.isCustomerService,role:_,isShortcut:E,announcement:Va(e.announcement),offEditGroupChatInfo:I,tenantId:g,updateTimeMs:Object(he.g)(S),isCustomIcon:e.isCustomIcon,isDissolved:e.isDissolved,messagePosition:Fa(e,t),addMemberPermission:ja(e,t),atAllPermission:Wa(e,t),joinMessageVisible:xa(e,t),quitMessageVisible:Ka(e,t),shareCardPermission:qa(e,t),isMeCreate:C,isCrypto:e.isCrypto,chatMode:e.chatMode,lastThreadId:y.lastThreadId,lastThreadPosition:y.lastThreadPosition,lastThreadPositionBadgeCount:y.lastThreadPositionBadgeCount,readThreadPosition:y.readThreadPosition,readThreadPositionBadgeCount:y.readThreadPositionBadgeCount,lastVisibleThreadPosition:y.lastVisibleThreadPosition,lastVisibleThreadId:y.lastVisibleThreadId,startThreadPosition:e.threadStartPosition,isMeeting:e.isMeeting,lastVisibleMessageId:T.lastVisibleMessageId,burnLife:m,chatable:b.chatable,muteable:b.muteable,isTenant:e.isTenant,isCrossTenant:e.isCrossTenant,isDepartment:e.isDepartment,supportView:N,cryptoChatFirstMessagePosition:h,oncallId:(e.oncallId||"").toString(),lastVisibleMessagePosition:T.lastVisibleMessagePosition,lastMessagePositionBadgeCount:T.lastMessagePositionBadgeCount,isAutoTranslate:!1,readPosition:A,readPositionBadgeCount:T.readPositionBadgeCount,i18nNames:R,isPublic:e.isPublicV2,showNickname:Ha(e,t),openSecurity:O,showMemberLimit:v,showReadStateLimit:P,showReadStateType:M,allowPost:e.allowPost,postType:e.postType,hasWaterMark:e.enableWatermark,lastDraftId:o,addMemberApply:Ba(e,t),chatterApplyCount:Ya(e,t),showBanner:Ja(e,t),isDeleted:!1,joinTime:Object(he.g)(e.joinTimeMs),pinCount:0})},packChats(e,t){const i=Array.from(Object.keys(t)),n=Rt(i),r=Ds(i);i.forEach(i=>{const o=Da(t[i],r[i],n[i]);e.chats[i]=o});const o=[];if(i.forEach(e=>{const i=t[e].getP2pChatterId();i&&o.push(i)}),!o.length)return;const s=Ct(o);vs(e,s)}};function Xa(){ba=za}function Qa(e){const t=Object(p.a)("basic.Entity");Ps(t,e);const i=[],n=Object.values(e);Object.values(e).forEach(e=>{e.chatterId&&i.push(e.chatterId)});const r=Ct(i);vs(t,r);const o={};return n.forEach(e=>{const t=e.id;e.chatterId&&(o[t]=o[t]||[],o[t].push(e.chatterId))}),Ls(t,r,o),{entity:t}}var $a=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Za=Object(A.b)("chat");var ed=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};var td={taskHandler:new class extends class{registerAndSyncChatById(e,t){const i=this.registerChatById(e,t,null);this.syncChatById(i)}registerAndSyncChat(e,t){const i=this.registerChat(e,t);this.syncChat(i)}registerAndSyncCryptoChatFirstMessagePosition(e,t){const i=this.registerCryptoChatFirstMessagePosition(e,t);this.syncCryptoChatFirstMessagePosition(i)}}{registerChatsByIds(e,t){const i=oe.create("chats.PullChatsByIdsRequest");i.chatIds=e;return Nr(o.SyncChatsByIds,i,t)}syncChatsByIds(e){return ed(this,void 0,void 0,(function*(){if(!Rr(e))return;const t=e.request;t||A.c.debug("Request cannot be null");const i=t.chatIds;A.c.debug("sync chats by ids start: chat_ids={}",i);const n=yield Ri(i);if(n.isError)throw n.error;Pa(oe.decode("chats.PullChatsByIdsResponse",n.data),[]),A.c.debug("sync chats by ids success: chat_ids={}",i),Ar(e)}))}registerChatById(e,t,i){const n={chatId:e,threadId:i};return Nr(o.SyncChatById,n,t)}syncChatById(e){return ed(this,void 0,void 0,(function*(){if(!Rr(e))return;const t=e.request;t||A.c.debug("Request cannot be null");const i=t.chatId,n=t.threadId||"";let r=Qe(i);if(r)return n&&r.isThreadChat(),Ar(e),void A.c.debug("sync chat by id success, chat ready in db: chat_id={}",i);const o=e.id;A.c.debug("sync chat by id: chat_id={}",i),Cr([]);const s=yield Ri([i]);if(s.isError)throw s.error;if(Pa(oe.decode("chats.PullChatsByIdsResponse",s.data),[]),r=Qe(i),!r)return A.c.warn("sync chat by id not found chat: chat_id={}",i),void Ar(e);n&&r.isThreadChat(),hr().registerAndSyncChat(r,o),A.c.debug("sync chat by id success: chat_id= {}",i)}))}registerChat(e,t){const i=Nr(o.SyncChat,e.id,t),n=[],r=[],s=e.lastMessageId||"",a=e.getLastVisibleMessageId(),d=function(e,t,i){if(t<0)return;const n=e.getHittedLastMessagePosition();if(t<=n)return;const r=[];for(let e=n+1;e<=t;e++)r.push(e);let o;if(e instanceof bn.ChatId)o=1;else if(e instanceof bn.DocFeedId||e instanceof bn.ThreadId)throw new Error("Invalid card type");const s=Gn(e.getInnerId(),o);return Tr().registerMessagesByPositions(s,r,i)}(new bn.ChatId(e.id),e.lastMessagePosition,i.id);if(d)n.push(d);else if(-1!==e.lastMessagePosition&&s){const e=Zi([s,a]);let t=e[s];delete e[s],t&&r.push(t.fromId),t=e[a],delete e[a],t&&r.push(t.fromId)}const c=e.getP2pChatterId();c&&r.push(c);const l=this.registerChatSetting(e.id,i.id);n.push(l);const p=function(e,t){const i=gt(e);if(!i.length)return;return yr().registerChatters(i,t)}(r,i.id);p&&n.push(p),Cr(n);const u=lr(i.id);if(!u)throw new Error("Task not found");return u}syncChat(e){if(!Rr(e))return;const t=_r(e),i=Qe(t);if(!i)throw new Error("Chat not found: "+t);ga(i),Ar(e),A.c.debug("sync chat success: chat_id={}",t)}registerChatSetting(e,t){return Nr(o.SyncChatSetting,e,t)}syncChatSetting(e){return ed(this,void 0,void 0,(function*(){if(!Rr(e))return;const t=_r(e);A.c.debug("sync chat setting: chat_id={}",t);const i=yield vi([t],void 0);if(i.isError)throw i.error;!function(e){const t=Xe(Object.keys(e)),i={},n={},r={};Object.values(t).forEach(t=>{const o=e[t.id];if(!o)throw new Error("Chat setting not found");const s=o.isRemind,a=o.checkMessagePosition;s===t.isRemind&&a===t.messagePosition||(s!==t.isRemind&&(i[t.id]=s,r[t.id]=o.updateTime),a!==t.messagePosition&&(n[t.id]=a))}),$e(i,r),et(n)}(oe.decode("chats.PullChatSettingsResponse",i.data).chatSettings),Ar(e),A.c.debug("sync chat setting success: chat_id={}",t)}))}registerCryptoChatFirstMessagePosition(e,t){return Nr(o.SyncCryptoChatFirstMessagePosition,e,t)}syncCryptoChatFirstMessagePosition(e){}}};function id(){Er.setChatHandler(td.taskHandler)}const nd={[h.a.MGET_CHATS]:function(e){return $a(this,void 0,void 0,(function*(){const t=e.chatIds,i=e.shouldAuth;if(0===t.length)throw new Error("chat_ids is empty");let n;if(i)n=t;else{const[e,i]=qt(t);if(0===i.length)return Qa(e);n=i}const r=yield Ri(n);if(r.isError)throw Za.error("mget chats net failed: err= {}",r.error.code),r.error;Pa(oe.decode("chats.PullChatsByIdsResponse",r.data),[]);return Qa(Xe(t))}))}},rd={},od={};var sd={taskHandler:new class extends class{registerAndSyncChatters(e,t){const i=this.registerChatters(e,t);this.syncChatters(i)}}{syncChatters(e){if(!Rr(e))return;const t=e.request;t||A.c.error("syncChatters: request cannot be null");xi(ji.decode("chatters.PullChattersByIdsRequest",t).chatterIds).then(t=>{const{chatters:i,maxAge:n}=t;pa(i,t.botInfo,Object(he.g)(n)),A.c.debug("sync chatters success"),Ar(e)})}registerChatters(e,t){const i=ji.encode("chatters.PullChattersByIdsRequest",{chatterIds:e,needBotInfo:!0});return Nr(o.SyncChattersByIds,i,t)}}};function ad(){Er.setChatterHandler(sd.taskHandler)}new de.a({max:Number.MAX_SAFE_INTEGER});function dd(e){const t=Object(p.a)("contact.MGetChattersResponse");return t.entity=Object(p.a)("basic.Entity"),vs(t.entity,e),t}function cd(e){const t=Object(p.a)("contact.GetUserProfileResponse");t.company=t.company||Object(p.a)("contact.GetUserProfileResponse.Company");const i=t.company;i.departmentName=e.departmentName,i.tenantName=e.tenantName,t.personal=t.personal||Object(p.a)("contact.GetUserProfileResponse.Personal");const n=t.personal;if(n.name=e.name,n.description=e.description,n.email=e.email,n.malaitaProfileUrl=e.malaitaUrl,e.hasOwnProperty("city")&&(n.city=e.city),e.hasOwnProperty("employeeId")&&(n.employeeId=e.employeeId),e.hasOwnProperty("enName")&&(n.enName=e.enName),e.hasOwnProperty("isFriend")&&(n.isFriend=e.isFriend),e.hasOwnProperty("requestUserApply")&&(n.requestUserApply=e.requestUserApply),n.targetUserApply=e.targetUserApply,e.hasOwnProperty("contactToken")&&(n.contactToken=e.contactToken),e.hasOwnProperty("contactApplicationId")&&(n.contactApplicationId=(e.contactApplicationId||0).toString()),e.hasOwnProperty("applicationReason")&&(n.applicationReason=e.applicationReason),e.hasOwnProperty("targetUserId")&&(n.userId=(e.targetUserId||0).toString()),e.hasOwnProperty("tenantId")&&(n.tenantId=e.tenantId),e.hasOwnProperty("avatarTosKey")){let t=e.avatarTosKey.replace("lark.avatar/","");t=t.replace("lark-avatar-va/",""),n.avatarKey=t}n.isResigned=e.isRegistered;const r=e.i18nInfo||Bi.create("users.PullUserProfileResponse.I18nInf"),o=e.name,s=Object(y.e)(y.a.getLanguage(),e=>r.internationalName[e])||o;n.localizedName=s,n.alias=e.alias,n.microappProfileUrl=e.microappProfileUrl,t.leader=t.leader||Object(p.a)("contact.GetUserProfileResponse.Leader");const a=t.leader,d=e.leaderProfile||Bi.create("users.ProfileBrief");if(d.name){let e="";e=`${e}?uid=${d.id}`;const t=Ve([c=d.id])[c]||new Me({id:"",zhCnName:"",enUsName:"",jaJpName:""}),i=function(e,t){const i=y.a.isChinese()?t.zhCnName:y.a.isEnglish()?t.enUsName:t.jaJpName;return i||e}(d.name,t);a.profileUrl=e,a.id=d.id,a.name=d.name,a.enName=d.enName,a.localizedName=i}var c;if(e.hasOwnProperty("adminInfo")&&e.adminInfo){t.adminInfo=t.adminInfo||Object(p.a)("contact.GetUserProfileResponse.AdminInfo");const i=t.adminInfo,n=e.adminInfo;i.adminUrl=n.adminUrl,i.isAdmin=n.isAdmin}if(e.hasOwnProperty("userConfig")&&e.userConfig){t.accessInfo=t.accessInfo||Object(p.a)("basic.Chatter.AccessInfo");const i=t.accessInfo,n=e.userConfig;i.phoneCall=n.phoneCallAccessible,i.voiceCall=n.voiceCallAccessible,i.videoCall=n.videoCallAccessible,i.accessProfile=Vi(n)}return t}var ld=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function pd(e){const t=ji.decode("chatters.PushChattersRequest",e),i=t.chatters,n=Object.keys(i),r=t.maxAge;pa(i,null,Object(he.g)(r));const o=Ct(n),s=Object(p.a)("basic.Entity");return vs(s,o),Ma(n),Object(U.c)(h.a.PUSH_CHATTERS,{chatters:i}),A.c.debug("receive chatters"),s}const ud={receiveChatters:e=>pd(e)},_d={receiveChatters:e=>pd(e)},Ed={[h.a.GET_USER_PROFILE]:function(e){return ld(this,void 0,void 0,(function*(){let t=e.userId;const i=e.contactToken,n=e.isSelf;if(t&&ot(Array.isArray(t)?t:[t]),!t&&i)return A.c.debug("user is is none, contactToken={}",i),function(e){return ld(this,void 0,void 0,(function*(){return cd(yield Ki(void 0,e,!1))}))}(i);A.c.debug("async get user profile start: userId={} has_contactToken={}",t,i);try{const e=yield Ki(t,i,n);!t&&n&&(t=e.targetUserId.toString(),Object(U.d)({userId:t,tenantId:e.tenantId})),yield function(e){return ld(this,void 0,void 0,(function*(){if(0===gt(e).length)return;A.c.debug("get chatter profile has missed chatter: chatter_ids={}",e);const t=yield xi(e);return Qn(t),t}))}([t]),Ji(t,e)}catch(e){A.c.warn("async get user profile failed, get from local")}return function(e){const t=St(e);if(!t)throw new Error("chatter not found:"+e);const i=t.description,n=Yi(e);if(!n)throw new Error("profile not found:"+e);return{personal:{name:t.name,description:i,descriptionType:0,tenantId:t.tenantId,userId:e,avatarKey:t.avatarKey,isResigned:t.isResigned,email:n.email,city:n.city,doNotDisturbEndTime:n.doNotDisturbEndTime,malaitaProfileUrl:n.malaitaProfileUrl,microappProfileUrl:n.microappProfileUrl,employeeId:n.employeeId,enName:n.enName,isFriend:n.isFriend,requestUserApply:n.requestUserApply,targetUserApply:n.targetUserApply,contactToken:n.contactToken,contactApplicationId:n.contactApplicationId,applicationReason:n.applicationReason,localizedName:t.localizedName,alias:t.alias,profileValue:{}},company:{departmentName:n.departmentName,tenantName:n.tenantName,position:n.position,orgUnit:n.orgUnit,departments:n.departments},accessInfo:{},adminInfo:{adminUrl:n.adminUrl,isAdmin:n.isAdmin},leader:{enName:n.leaderEnName,name:n.leaderName,profileUrl:"",id:n.leaderId,localizedName:""},contextId:"tohradf2l0",toString(){return this.personal.name}}}(t)}))},[h.a.MGET_CHATTERS]:function(e){return ld(this,void 0,void 0,(function*(){const t=e.chatterIds;let i,n=[...t],r={};if(!e.isFromServer){const[e,i]=tr(t);if(r=e,0===i.length){return dd(r)}n=i}try{i=yield xi(n)}catch(e){return A.c.warn("mget chatters failed: e={}",e),dd(r)}const o=i.chatters,s=i.maxAge;pa(o,i.botInfo,Object(he.g)(s)),Ma(n);const a=Ct(n);Object.assign(r,a);const d=dd(r);return A.c.debug("mget chatters success: {}",n),d}))},[h.a.GET_CHATTER_MOBILE]:function(e){return ld(this,void 0,void 0,(function*(){const{chatterId:t}=e,i=yield function(e){return Wi(this,void 0,void 0,(function*(){return Object(b.a)({url:`${E.a.apiHost}/passport/users/details/mobile/?uid=${e}`},Ti.b.JSON)}))}(t);if(i.isError)throw new Error("getChatterMobile Failed");const n=Object(p.a)("contact.GetChatterMobileResponse");return n.mobile=i.data.mobile,n}))}},hd={95:[h.a.PUSH_CHATTERS,ud.receiveChatters]},Td={95:[h.a.PUSH_CHATTERS,_d.receiveChatters]};var yd=i(498);function fd(e){const t=[],i={},n=[],r={},o={};for(const[s,a]of Object.entries(e)){2!==a.type?Object(he.e)(a.chatterId)||(t.push(a.chatterId),i[s]=a.chatterId):(n.push(a.avatarKey),r[s]=a.avatarKey,o[s]=a.getLocalizedName())}const s=Ct(t);for(const[e,t]of Object.entries(i)){const i=s[t];i?(n.push(i.avatarKey),r[e]=i.avatarKey,o[e]=i.getAliasOrNicknameOrLocalizedName(null)):A.c.warn("chatter not found in db: chat_id={} chatter_id={}",e,t)}const a={};for(const[e,t]of Object.entries(r)){const i=o[e]||"";a[e]=[i,t,null]}return a}const Id="(https://(docs.bytedance.net|bytedance.feishu.cn/space)/(doc|sheet|bitable|mindnote|file|slide)/(([A-Za-z0-9]){22,27}))";new RegExp(Id);function gd(e){return function(e,t){const i=t(e);if(Object.keys(i).length===e.length)return[i,[]];const n=e.filter(e=>!!i[e]);return[i,n]}(e,Rn)}Cn.prototype.intoPb=function(e){const t=Object(p.a)("basic.Doc");let i;return t.key=this.key,t.url=this.url,t.type=this.type,t.name=this.name,t.iconKey=this.iconKey,t.abstract=this.abstract,t.createTime=this.createTime,t.updateTime=this.updateTime,Object(he.f)(this.ownerId)||(t.ownerId=this.ownerId,i=e[this.ownerId]||this.ownerName),t.ownerName=i,this.icon&&(t.icon=this.icon),t};var Sd=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function Cd(e){return Sd(this,void 0,void 0,(function*(){if(e.length)try{const t=yield to(e);if(t.isError)throw t.error;const i=ri.decode("messages.PullMessagesByIdsResponse",t.data).messages,n=Object.keys(i),r=Object.values(i).filter(e=>1===e.channelType).map(e=>e.channelId),o=function(e){const t=[];return e.forEach(e=>{const i=Je.get(e);i&&3===i.chatMode&&t.push(e)}),t}(r),s=!1;fa(i),r.length&&Ae(r,s),o.length&&Re(o,s),A.c.debug("fetch messages success: message_ids= {}, chat_ids= {}",n,r)}catch(e){A.c.warn("pull message by ids failed: err={}",e)}}))}function md(e){const t=[],i=[];for(const n of e)switch(n.type){case 3:Object(he.e)(n.lastVisibleMessageId)||i.push(n.lastVisibleMessageId);break;case 1:case 4:case 5:Object(he.e)(n.lastVisibleMessageId)||t.push(n.lastVisibleMessageId)}const[n,r]=function(e){const t=Zi(e),i=e.filter(e=>!t[e]);return[t,i]}(t),[o,s]=gd(i);return Cd(r),[n,o]}let Nd;function Ad(e){return Nd.db2CliUrgent(e)}function Rd(e,t,i,n,r){const o=Os(e,t),s={},a=Object.keys(o),d=Object.values(o);if(!d.length)return s;const c=Ct(d.map(e=>e.fromId));Object.values(c).map(e=>e.avatarKey);return a.forEach(e=>{const i=Object(p.a)("feed.FeedCardPreview.AtInfo"),n=o[e];n.isAtMe&&(i.userId=n.fromId,i.type=2),n.isAtAll&&(i.type=1);const r=c[n.fromId];if(r){const o=t[e];if(o&&!Object(he.e)(o.oncallId)){const t=r.getOncallChatExtraData(e,null);t.avatarKey&&(i.avatarKey=t.avatarKey),i.localizedUserName=t.name}else{const e=r.avatarKey;e?i.avatarKey=e:A.c.warn("set avatar_key failed: chatter_id= {}",n.fromId),i.localizedUserName=r.getAliasOrNicknameOrLocalizedName(null)}}i.avatarKey&&(i.avatarPath=`${E.a.fileURL}/api/avatar/v1/${i.avatarKey}/72x72.png`),i.channelId=e;const a=t[e];if(a){let e="";if(1===a.type){const t=a.getP2pChatterId()||"",i=c[t];e=i?i.getChatChatterName(a.id):a.getLocalizedName()}else e=a.getLocalizedName();i.channelName=e}s[e]=i}),s}let Od=0;function vd(e,t,i,n){const r=e.map(e=>e.id);A.c.debug("pack feed card perviews start: channel_ids= {}",r);let o="";t=t||{};const s=Rt(r),a=Ds(r);let d=e.filter(e=>1===e.type).map(e=>e.id);e.filter(e=>4===e.type).map(e=>e.id);const c=e.filter(e=>3===e.type).map(e=>e.id),l={},u=new Set;e.filter(e=>5===e.type).forEach(e=>{if(e.boxExtra&&e.boxExtra.channelBeInclude){const t=e.boxExtra.channelBeInclude;for(const e of t.values())u.add(e);l[e.id]=Array.from(t)}});const _=Object.values(i).filter(e=>1===e.channelType).map(e=>e.channelId);d=d.concat(Array.from(u)),d=d.concat(_),d=Array.from(new Set(d));const[h,T]=Po(i),f={};Object.values(h).forEach(e=>{e.translateLanguage&&(f[e.translateLanguage]=e.id)});const I={},g=Xe(d),S=new fs(Object.values(i)),C=function(e){const t=Object.values(e).map(e=>e.id),i=Qr(t),n={},r={};return Object.values(i).forEach(t=>{const i=e[t.chatId];i&&!i.isThreadChat()&&i.lastMessagePosition===t.position&&(r[i.id]=t)}),Object.values(n).forEach(t=>{const n=e[t.channelId];if(n&&n.isThreadChat()&&n.lastMessagePosition===t.position){const e=i[t.id];e&&(r[n.id]=e)}}),r}(g),m=Object(U.b)();let N=[];Object.values(i).map(e=>{12===e.type?(N.push(...so(e)||[]),N.push(e.fromId)):e.recallerId?(N.push(e.fromId),N.push(e.recallerId)):N.push(e.fromId)}),Object.values(n).forEach(e=>{N.push(e.fromId)}),N.push(m);const R=Object.values(g).filter(e=>1===e.type).map(e=>e.getP2pChatterId());N=N.concat(R),N=[...new Set(N)];const O=Ct(N),v=Rd(d,g),P={};Object.keys(l).filter(e=>{const t=l[e];return t&&t.length}).map(e=>{const t=l[e];P[e]=Rd(t,g)});const M=function(e,t){const i={};return Object.values(qo).forEach(n=>{n.receiverId===e&&n.status===t&&(i[n.id]=n)}),i}(m,3),L=Object.values(M).reduce((e,t)=>(e[t.messageId]=t,e),{}),b=Zi(Object.keys(L)),D={};Object.values(b).forEach(e=>{const t=L[e.id];t&&Object(Li.e)(D,e.channelId,t)});const w=An(c),k=rn(e.filter(e=>1===e.getChatType()).map(e=>e.lastVisibleMessageId)),G=xr(e.map(e=>e.lastVisibleMessageId)),V={};e.forEach(e=>{const t=Object(p.a)("feed.FeedCardPreview"),r=Object(p.a)("feed.CardPair");r.id=e.id,r.type=e.type,t.pair=r,e.hasBadge()&&(t.unreadCount=e.getBadge()),t.isRemind=e.isRemind,e.avatarKey&&(t.avatarKey=e.avatarKey),e.avatarPath&&(t.avatarPath=e.avatarPath),t.name=e.name,t.updateTime=(Od+=1,Od),t.rankTime=e.rankTime,t.displayTime=e.displayTime;const d=O[m],{BOX:c,CHAT:l,DOC_FEED:u,THREAD:_}=ce.FeedCard.EntityType,h=C[e.id],T=i[e.lastVisibleMessageId];if(e.type===c){let n="",r="",s=0;e.boxExtra&&(n=e.boxExtra.lastUpdateChatId||"",s=e.boxExtra.unreadChatCount||0,r=e.boxExtra.lastestUnreadChatId||"");let a="";try{a=function(e,t,i,n,r,o,s,a,d){function c(e,t){let i=["","0","0"];if(e){let n="";if(1===e.type){const i=t[e.getP2pChatterId()||""];n=i?i.getChatChatterName(e.id):e.getLocalizedName()}else n=e.getLocalizedName();i=[n,e.id,e.getLastVisibleMessageId()]}else i=["","0","0"];return i}let l="";if(1===d){const[e]=c(t[a],n),i={chat_name:e};l=y.c.renderWithValues(zi.b.BoxOneNewMessageHit,i)}else if(d>1){const e={count:d};l=y.c.renderWithValues(zi.b.BoxNewMessageMoreThanOneHit,e)}else{let d="";const[p,u,_]=c(t[s],n);u!==s&&A.c.warn("box disget last_update_chat_id is inconsistend with db_chat: last_update_chat_id={} db_chat_id={}",s,u);const E=i[_];if(E?(d=Ys(E,t,n,r,o),d||A.c.warn("box disget message is empty: box_id={} last_update_chat_id={}",e,a)):A.c.debug("get box disget message message is None"),p){const e={chat_name:p,message:d};l=y.c.renderWithValues(zi.b.BoxNoNewMessageHit,e)}else l=d}return l}(e.id,g,i,O,I,S,n,r,s)}catch(t){o+=` (box: id=${e.id} err=${t})`}t.feedType=1,t.localizedDigestMessage=a}else if(h){let i="";try{i=zs(h,g,d,S)}catch(t){o+=` (chat quasi_message: id=${e.id} err=${t})`}t.localizedDigestMessage=i,1===h.status?t.entityStatus=2:2===h.status&&(t.entityStatus=3)}else if(T){let i="";try{i=Ys(T,g,O,I,S)}catch(t){o+=` (chat message: id=${e.id} err=${t})`}t.localizedDigestMessage=i;const n=Object(he.b)(T.type,ce.Message.Type);if((n||0===n)&&(t.lastMessageType=n,6===n||13===n||19===n)){const e=T.content;e.hasOwnProperty("cardContent")&&e.cardContent&&(t.cardType=e.cardContent.type),e.hasOwnProperty("videochatContent")&&e.videochatContent&&(t.videoChatType=e.videochatContent.type),e.hasOwnProperty("systemType")&&(t.systemMessageType=e.systemType)}if(1===e.getChatType()){let i=!1;const n=k[e.lastVisibleMessageId];if(n){const t=n.find(t=>t.chatterId===e.getChatterId());i=t&&t.isRead}else i=0===T.unreadCount;let r;r=T.fromId!==m||2===e.getChatterType()||e.getChatterId()===m?1:i?4:5,t.entityStatus=r}else t.entityStatus=1;if(e.isCrypto){const i=Qe(e.id);if(i){const e=i.cryptoChatFirstMessagePosition;T.position<=e&&(t.localizedDigestMessage="",t.entityStatus=1)}}else if(T.fromId===m&&!T.isDeleted&&!T.isRecalled&&4!==e.type){const e=G[T.id];if(e){const i=function(e,t){const i={},n=e.filter(e=>e.chatterId!==t);n.sort((e,t)=>Math.max(e.updateTime,e.weight)-Math.max(t.updateTime,t.weight)),n.forEach(e=>{i[e.type]=i[e.type]||[],i[e.type].push(e.chatterId)});const r=Object.keys(i).map(e=>{const t=i[e],n=Object(p.a)("basic.Message.Reaction");return n.type=e,n.chatterIds=t,n});return r.sort((e,t)=>t.chatterIds.length-e.chatterIds.length),r}(e,m);t.reactions=i}}}if(e.type===u){const i=n[e.lastVisibleMessageId];if(i){let n="";try{n=function(e,t){const i=Js[e.type],n=t[e.fromId],r=n?n.getLocalizedName():"";let o=e.content;if(e.richText)try{const t=e.richText;Ss(t,Gn(e.docFeedId,3)),o=xs(t)}catch(t){A.c.error("parse doc message richText failed, docFeedId={}, docMessageId={}, err={}",e.docFeedId,e.id,t)}return y.c.renderWithValues(i,{from_user:r,content:o})}(i,O)}catch(t){o+=` (doc: id=${e.id} err=${t})`}t.localizedDigestMessage=n}const r=w[e.id];r&&(t.docUrl=r.docUrl,t.icon=r.icon),e.docType&&(t.docType=e.docType)}const f=s[e.id];f&&(t.feedType=Object(he.b)(f.feedType,ce.FeedCard.FeedType),t.isDelayed=f.isDelayed,f.parentFeedCardId&&(t.parentCardId=f.parentFeedCardId));const N=e.getChatType();null!=N&&(t.chatType=N);const R=e.getChatterType();null!=R&&(t.chatterType=R);const M=e.getBotTag();null!=M&&(t.withBotTag=M);const L=e.getChatterId();null!=L&&(t.chatterId=L);const b=e.getChatMode();null!=b&&(t.chatMode=b);const U=e.getIsShortcut();null!=U&&(t.isShortcut=U);const H=e.getIsMeeting();null!=H&&(t.isMeeting=H);const B=e.getLastMessagePosition();null!=B&&(t.lastMessagePosition=B);const F=e.getIsDepartment();null!=F&&(t.isDepartment=F);const j=e.getChatDescription();null!=j&&(t.chatDescription=j);const W=e.getChatIsTenant();null!=W&&(t.tenantChat=W);const x=e.crossTenant;null!=x&&(t.crossTenant=x);const K=e.getChatIsCrossTenant();null!=K&&(t.crossTenant=K);const q=e.getChatIsSupportView();null!=q&&(t.isSupportView=q);const Y=e.getChatIsPublicV2();null!=Y&&(t.isPublicV2=Y);const J=e.getChatOncallId();J&&!Object(he.e)(J)&&(t.oncallId=J,t.isOfficialOncall=Jt(J));const z=a[e.id];if(z){const i=bo(z,g[e.id]);if(i){let n="";if(1===e.type?n=e.isCrypto?y.c.render(zi.b.LarkSecretSaveMessage):i.content:4===e.type&&(n=i.content),n){const e=Object(p.a)("feed.FeedCardPreview.DraftPreview");e.content=1===i.type?function(e){const t=[],i=new RegExp(Tn);let n=i.exec(e),r=0,o=0;for(;n;){const s=n[1];o=n.index,r!==o&&t.push(e.substring(r,o));const a=y.c.renderByRawKey(s);t.push("["+a),r=i.lastIndex,n=i.exec(e)}return r!==e.length&&t.push(e.substring(r)),t.join("")}(n):n,t.draftPreview=e}}}const X=v[e.id];if(5===e.type){const i=P[e.id];if(delete P[e.id],i){const e=Object.values(i);t.atInfos=e}}else X&&(delete v[e.id],t.atInfo=X,t.atInfos=[X]);"boolean"==typeof e.isCrypto&&(t.isCrypto=e.isCrypto);const Q=D[e.id];Q&&(t.urgents=Q.map(Ad)),t.avatarPath=`${E.a.fileURL}/api/avatar/v1/${t.avatarKey}/72x72.png`,V[e.id]=t}),o&&A.c.warn("parse preview failed: {}",o);return function(e){Sd(this,void 0,void 0,(function*(){if((e=e.filter(e=>!Object(he.e)(e))).length)try{Qn(yield xi(e));Na(Ct(e)),A.c.debug("fetch and push chatters success: count={} chatter_ids_={}",e.length,e)}catch(e){A.c.error("pull chatters by ids failed: err={}",e)}}))}(gt(N)),V}class Pd{constructor(){this.LOAD_STATUS=0,this.updates=new Map,this.removes=new Map,this.cardCache=void 0,this.lastPushTimeMs=0,this.timer=void 0,this.lastCardCache=void 0}observe(e,t,i,n){n&&(this.lastPushTimeMs=0),this.cardCache=e,this.update(t,i),this.tryPushInboxCards()}observerForceUpdate(e){this.update(e,new Map)}updateLoadStatus(e){this.LOAD_STATUS=e}update(e,t){for(const[t,i]of e.entries())this.removes.delete(t),this.updates.set(t,i);for(const[e,i]of t.entries())this.updates.delete(e),this.removes.set(e,i)}tryPushInboxCards(){if(1!==this.LOAD_STATUS)return void(this.cardCache=void 0);if(!this.cardCache)return;const e=+Date.now();e-this.lastPushTimeMs<700?this.timer||(this.timer=setTimeout(()=>{this.cardCache&&this.pushInboxCards(Date.now())},700)):this.pushInboxCards(e)}pushInboxCards(e){this.pushInboxCardsImpl(),this.lastCardCache=this.cardCache,this.cardCache=void 0,this.updates.clear(),this.removes.clear(),this.lastPushTimeMs=e,clearTimeout(this.timer),this.timer=void 0}pushInboxCardsImpl(){try{this.packResponse()}catch(e){return void A.c.warn("push inbox cards failed, err={}",e)}if(!this.cardCache)return;if(this.lastCardCache&&0===Object.keys(this.cardCache.updatePreviews).length&&0===this.cardCache.removePreviews.length&&this.cardCache.unreadCount===this.lastCardCache.unreadCount&&this.cardCache.muteUnreadCount===this.lastCardCache.muteUnreadCount&&this.cardCache.delayedChannelCount===this.lastCardCache.delayedChannelCount)return;const e=this.cardCache,t=e.updatePreviews,i=Object.values(t).map(e=>e.pair.id),n=e.removePreviews.map(e=>e.id),r={};for(const e of this.updates.values()){const i=t[e.id],[n,o,s,a]=i?[!!i.atInfo||0!==i.atInfos.length,i.unreadCount,i.rankTime,i.displayTime]:[void 0,void 0,void 0,void 0];r[e.id]={lastMsgId:e.lastMessageId,lastVisMsgId:e.lastVisibleMessageId,lastMsgPos:e.getLastMessagePosition(),badge:o,hasAt:n,rankTime:s,displayTime:a}}A.c.debug("PUSH_INBOX_FEED_CARDS: unread={} muteUnread={} updateIds={} removeIds={} id2detailData={}",e.unreadCount,e.muteUnreadCount,i,n,r),f(h.a.PUSH_INBOX_CARDS,e)}packResponse(){if(0===this.updates.size&&0===this.removes.size)return;const e=function(e){const t=[];for(const i of e.values())t.push(i);const[i,n]=md(t);return vd(t,void 0,i,n)}(this.updates),t=[];for(const[e,i]of this.removes.entries()){const n=Object(p.a)("feed.CardPair");n.id=e,n.type=i,t.push(n)}this.cardCache&&(this.cardCache.updatePreviews=e,this.cardCache.removePreviews=t)}}var Md,Ld,bd=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};!function(e){e[e.UPDATE=1]="UPDATE",e[e.REMOVE=2]="REMOVE"}(Ld||(Ld={}));class Dd{constructor(e){for(const t in e)null!=e[t]&&(this[t]=e[t])}static fromBoxCard(e,t,i,n,r,o,s,a){const d=i.size?i:void 0,c=Object(he.e)(s)?void 0:s;r=Object(he.e)(r)?void 0:r;const[l,p]=t||[0,0],u={channelBeInclude:d,lastUpdateChatId:c,unreadChatCount:n,lastestUnreadChatId:r};return new Dd({id:e.id,type:5,lastMessageId:a,newMessageCount:o,isRemind:!1,rankTime:p,displayTime:l,isMember:!0,name:"",avatarKey:void 0,avatarPath:void 0,lastVisibleMessageId:a,docType:void 0,crossTenant:void 0,isCrypto:void 0,boxId:void 0,chatExtra:void 0,boxExtra:u,readDataPosition:0,firstDataPosition:0,lastDataPosition:0})}static fromChat(e,t,i,n){const r=e.getIsMember();let[o,s,a]=n,[d,c,l]=[void 0,void 0,void 0];try{[d,c,l]=function(e){if(1===e.type){const t=St(e.chatterId);if(t)return[t.id,t.type,t.botTag]}throw new Error("not p2p chat")}(e)}catch(e){}const p={};o&&s||function(e){return 1===e.type}(e)&&!Object(he.e)(e.chatterId)&&(p[e.chatterId]=e.id);const u=e.getNewMessageCount();e.isMeeting&&!o&&(o=`(${y.c.render(zi.b.NoTitle)})`);const[_,E]=e.isThreadChat()?[e.lastThreadId,e.getLastVisibleThreadId()]:[e.lastMessageId,e.getLastVisibleMessageId()],h=e.description,T=e.messagePosition,f={chatType:e.type,chatMode:e.chatMode,chatterType:c,messagePosition:T,chatterId:d,isShortcut:e.isShortcut,isMeeting:e.isMeeting,botTag:l,lastMessagePosition:e.lastMessagePosition,lastVisibleMessagePosition:e.getLastVisibleMessagePosition(),isDepartment:e.isDepartment,chatDescription:h,isTenant:e.isTenant,isCrossTenant:e.isCrossTenant,isSupportView:(I=Object(he.b)(e.supportView,Yt),[Yt.P2PGroup,Yt.Meeting,Yt.Thread,Yt.Crypto].includes(I)),oncallId:e.oncallId,firstMessagePosition:e.cryptoChatFirstMessagePosition,isPublicV2:e.isPublic};var I;const[g,S]=t||[e.updateTime,e.updateTime];return[new Dd({id:e.id,type:1,lastMessageId:_,newMessageCount:u,isRemind:e.isRemind,rankTime:S,displayTime:g,isMember:r,name:o,avatarKey:s,avatarPath:a,docType:void 0,lastVisibleMessageId:E,crossTenant:e.isCrossTenant,isCrypto:e.isCrypto,boxId:i,chatExtra:f,boxExtra:void 0,readDataPosition:e.getReadPosition(),lastDataPosition:e.getLastPosition(),firstDataPosition:e.getFirstPosition()}),p]}static fromDocFeed(e,t,i){const n=Math.max(e.updateTime,i||0);return new Dd({id:e.id,type:3,lastMessageId:e.lastMessageId,newMessageCount:e.getNewMessageCount(t)||e.newMessageCount,isRemind:e.isRemind,rankTime:n,displayTime:n,isMember:!0,name:e.title,avatarKey:void 0,avatarPath:void 0,docType:e.type,lastVisibleMessageId:e.lastMessageId,crossTenant:e.isCrossTenant,isCrypto:void 0,boxId:void 0,chatExtra:void 0,boxExtra:void 0,readDataPosition:0,lastDataPosition:0,firstDataPosition:0})}static fromThread(e,t,i){const n=e.getIsMember(),r={};let o,s,a="";try{a=function(e){let t="";if(e.topic)t=e.topic;else if(e.subtitle)t=e.subtitle;else{const i=St(e.ownerId),n=Qt(Gn(e.channelId,e.channelType),e.ownerId),r={localized_name:i?i.getAliasOrNicknameOrLocalizedName(n):""};t=y.c.renderWithValues(zi.b.WhoseTopic,r)}return t}(e)}catch(t){r[e.ownerId]=e.id}const d=t[e.channelId];if(d){const[e,t,i]=function(e){const t={};t[e.id]=e;try{const i=fd(t)[e.id];return i||["","",null]}catch(e){return["","",null]}}(d);s=i,t&&(o=t)}const[c,l]=i||[e.lastFollowUpdateTime,e.lastFollowUpdateTime],p=e.lastMessageId||"";return[new Dd({id:e.id,type:4,lastMessageId:p,newMessageCount:e.getNewMessageCount(),rankTime:l,displayTime:c,isRemind:!0,isMember:n,name:a,avatarKey:o,avatarPath:s,docType:void 0,lastVisibleMessageId:e.getLastVisibleMessageId(),crossTenant:void 0,isCrypto:void 0,boxId:void 0,chatExtra:void 0,boxExtra:void 0,readDataPosition:e.readPosition,lastDataPosition:e.lastMessagePosition,firstDataPosition:e.getFirstPosition()}),r]}hasBadge(){return this.isBox()&&this.boxExtra?(this.boxExtra.unreadChatCount||0)>0:this.getBadge()>0}getBadge(){return Math.max(this.newMessageCount,0)}getChatType(){return this.chatExtra&&this.chatExtra.chatType||void 0}getChatMode(){return this.chatExtra&&this.chatExtra.chatMode||void 0}getChatterType(){return this.chatExtra&&this.chatExtra.chatterType||void 0}getBotTag(){return this.chatExtra&&this.chatExtra.botTag||void 0}getMessagePosition(){return this.chatExtra&&this.chatExtra.messagePosition||void 0}getChatterId(){return this.chatExtra&&this.chatExtra.chatterId||void 0}getIsShortcut(){return this.chatExtra&&this.chatExtra.isShortcut||void 0}getIsMeeting(){return this.chatExtra&&this.chatExtra.isMeeting||void 0}getLastMessagePosition(){return this.chatExtra&&this.chatExtra.lastMessagePosition||void 0}getLastVisibleMessagePosition(){return this.chatExtra&&this.chatExtra.lastVisibleMessagePosition||void 0}getFirstMessagePosition(){return this.chatExtra&&this.chatExtra.firstMessagePosition||void 0}getIsDepartment(){return this.chatExtra&&this.chatExtra.isDepartment||void 0}getChatDescription(){return this.chatExtra&&this.chatExtra.chatDescription||void 0}getChatIsTenant(){return this.chatExtra&&this.chatExtra.isTenant||void 0}getChatIsCrossTenant(){return this.chatExtra&&this.chatExtra.isCrossTenant||void 0}getChatIsSupportView(){return this.chatExtra&&this.chatExtra.isSupportView||void 0}getChatOncallId(){return this.chatExtra&&this.chatExtra.oncallId||void 0}isBox(){return 5===this.type}isEmptyBox(){return!!this.isBox()&&(!this.boxExtra||!this.boxExtra.channelBeInclude||0===this.boxExtra.channelBeInclude.size)}isChatChannel(){return 1===this.type}isThreadChannel(){return this.chatExtra&&3===this.chatExtra.chatMode}getChatIsPublicV2(){return this.chatExtra&&this.chatExtra.isPublicV2}getFirstScreenMessageRange(e,t,i){return Yn(this.getMessagePosition()||1,t,i,e||this.readDataPosition,this.firstDataPosition,this.lastDataPosition)}calculateChannelDataPositionsDirectionData(e,t){let i=()=>[new Hn,null];return 1!==this.type||this.isThreadChannel()||(i=qn),i(this.id,this.firstDataPosition,this.lastDataPosition,e,t)}}class Ud{constructor(e,t){this.id=e,this.rankTime=t}static cmp(e,t){return t.rankTime-e.rankTime}static fromChannel(e){return new Ud(e.id,e.rankTime)}getKey(){return this.id}}class wd extends Map{constructor(e,t){super(e),this.cmp=t}remove(e){return this.delete(e.getKey())}insert(e){return this.set(e.getKey(),e),!0}contains(e){return this.has(e.getKey())}iter(){return this.values()}sortedValues(){const e=[];for(const t of this.iter())e.push(t);return e.sort(this.cmp),e}isEmpty(){return 0===this.size}}let kd=Md=class{constructor(){this.id2channel=new Map,this.allChannelKeys=new wd(void 0,Ud.cmp),this.allUnreadChannelKeys=new wd(void 0,Ud.cmp),this.remindUnreadChannelKeys=new wd(void 0,Ud.cmp),this.isDelayedChannelIds=new Set,this.chatterId2chatId=new Map,this.visitorChannelIds=new Set,this.chatterId2threadId=new Map,this.boxId2chatIds=new Map,this.chatId2boxId=new Map}static replaceChannelKey(e,t,i){e.remove(t),e.insert(i)}remove(e){const t=this.id2channel.get(e);if(this.id2channel.delete(e),t){const i=Ud.fromChannel(t);this.allChannelKeys.remove(i),this.allUnreadChannelKeys.remove(i),this.remindUnreadChannelKeys.remove(i),this.removeBoxIfNeed(e,t)}return this.insertOrRemoveIsDelayedChannelId(e,!1),this.visitorChannelIds.delete(e),t}removeBoxIfNeed(e,t){if(5===t.type)this.boxId2chatIds.delete(e);else if(null!=t.boxId){const i=this.boxId2chatIds.get(t.boxId);i&&i.delete(e),this.chatId2boxId.has(e)&&A.c.debug("remove box chat: boxId={} chatId={}",t.boxId,t.id),this.chatId2boxId.delete(e)}}insert(e){const t=Ud.fromChannel(e);this.allChannelKeys.insert(t),e.hasBadge()&&(this.allUnreadChannelKeys.insert(t),e.isRemind&&this.remindUnreadChannelKeys.insert(t)),this.insertBoxOrAdd2box(e),this.id2channel.set(e.id,e)}insertBoxOrAdd2box(e){let t;if(5===e.type)this.boxId2chatIds.has(e.id)||(this.boxId2chatIds.set(e.id,new Set),t=e.id,A.c.debug("insert box or add2box: box_id={}",e.id));else{let i=!0;if(!Object(he.e)(e.boxId)){const n=e.boxId,r=this.boxId2chatIds.get(n)||new Set;r.add(e.id),this.boxId2chatIds.set(n,r),this.chatId2boxId.set(e.id,n),A.c.debug("insert box or add2box: box_id={} channel_id={}",n,e.id),t=n,i=!1}if(i){const t=this.chatId2boxId.get(e.id);if(this.chatId2boxId.has(e.id)&&A.c.debug("remove box chat: box_id={} chat_id={}",t,e.id),this.chatId2boxId.delete(e.id),!Object(he.e)(t)){const i=this.boxId2chatIds.get(t);i&&i.delete(e.id)}}}if(t)try{sa(t,!1)}catch(e){A.c.error("trigger sync box faile: err={}",e)}}replaceOrInsert(e){const t=this.id2channel.get(e.id);this.id2channel.delete(e.id),t?(this.insertBoxOrAdd2box(e),this.id2channel.set(e.id,e),this.computeHasUpdatePosition(t,e)):this.insert(e)}insertChatterId2chatId(e){if(0!==Object.keys(e).length)for(const[t,i]of Object.entries(e))this.chatterId2chatId.set(t,i)}removeChatterId2chatIdByChatterIds(e){const t=[];if(0===e.length)return t;const i=[];if(0===this.chatterId2chatId.size)return t;for(const[n,r]of this.chatterId2chatId.entries())e.includes(n)&&(t.push(r),i.push(n));if(0===i.length)return t;for(const e of i)this.chatterId2chatId.delete(e);return t}insertVisitorChannelIds(e){e.forEach(e=>this.visitorChannelIds.add(e))}insertChatterId2threadId(e){if(0!==Object.keys(e).length)for(const[t,i]of Object.entries(e))this.chatterId2threadId.set(t,i)}removeChatterId2threadIdByChatterIds(e){const t=[];if(0===e.length)return t;const i=[];if(0===this.chatterId2threadId.size)return t;for(const[n,r]of this.chatterId2threadId.entries())e.includes(n)&&(t.push(r),i.push(n));if(0===i.length)return t;for(const e of i)this.chatterId2threadId.delete(e);return t}insertOrRemoveIsDelayedChannelId(e,t){if(t)return this.isDelayedChannelIds.has(e)||A.c.debug("add delayed channel: id={} delayed_channel_ids={}",e,Array.from(this.isDelayedChannelIds)),void this.isDelayedChannelIds.add(e);this.isDelayedChannelIds.has(e)&&A.c.debug("remove delayed channel: id={} delayed_channel_ids={}",e,Array.from(this.isDelayedChannelIds)),this.isDelayedChannelIds.delete(e)}computeHasUpdatePosition(e,t){const i=Ud.fromChannel(e),n=Ud.fromChannel(t);if(Md.replaceChannelKey(this.allChannelKeys,i,n),!t.hasBadge())return this.allUnreadChannelKeys.remove(i),void this.remindUnreadChannelKeys.remove(i);Md.replaceChannelKey(this.allUnreadChannelKeys,i,n),t.isRemind?Md.replaceChannelKey(this.remindUnreadChannelKeys,i,n):this.remindUnreadChannelKeys.remove(i)}computeBadge(){function e(e,t){let i=0,n=0;for(const r of e.iter()){const e=t.get(r.id);e&&(null==e.boxId&&e.isMember&&e.hasBadge()&&(i+=e.getBadge()),e.isBox()&&e.isMember&&e.hasBadge()&&(n+=e.getBadge()))}return[i,n]}const[t,i]=e(this.allUnreadChannelKeys,this.id2channel),[n,r]=e(this.remindUnreadChannelKeys,this.id2channel),o=t-n;return[n,o,i,0<o]}computeChannelPairs(e,t,i){const n=[],r=[],o=[],s=[],a={},d=new Set;for(const t of e)t.isDelete?(n.push(t),d.add(t.id),A.c.debug("delete channel: delete_id={}",t.id)):(o.push(t.id),r.push(t.id));if(n.length)for(const e of n){i.set(e.id,e.type),o.push(e.id),A.c.debug("delete channel: delete_id= {}",e.id);let t=this.chatId2boxId.get(e.id);if(null==t)for(const[i,n]of this.boxId2chatIds.entries())(n.size&&n.has(e.id)||0===n.size)&&(t=i);const n=this.remove(e.id);n&&(null!=n.boxId&&(t=n.boxId),null!=t&&(a[n.id]=t,s.push(t),r.push(t)))}if(0===r.length)return;const c=Rt(o),l={},p={},u={},_={},E=[],h=[],T=[];function y(e){const t={},i={};for(const[n,r]of Object.entries(e))t[n]=r.rankTime,2===r.feedType&&(i[n]=r.rankTime);return[t,i]}const[f,I]=y(c);function g(e,t){t&&(e[t.id]=t)}for(const t of e){const e=100===t.type?void 0:c[t.id];switch(t.type){case 1:E.push(t.id),g(l,e);break;case 3:h.push(t.id),g(p,e);break;case 4:T.push(t.id),g(u,e);break;case 5:s.push(t.id),g(_,e)}}const S=Xe(E),C=Pn(T),m={},N=new Set,R=[];for(const[e,t]of Object.entries(l)){let i,n=!0;if(Object(he.e)(t.parentFeedCardId))N.delete(e);else{const r=t.parentFeedCardId;d.has(e)||(m[r]=m[r]||new Set,m[r].add(e)),a[e]=r,N.add(e),N.add(r),i=r,n=!1}if(n&&this.chatId2boxId.has(e)){const t=this.chatId2boxId.get(e);Object(he.e)(t)||(d.add(e),i=t)}null!=i&&R.push(i)}s.push(...R),s.forEach(e=>{let t=this.boxId2chatIds.get(e);if(t){const i=[];t.forEach(e=>{d.has(e)||i.push(e)});for(const t of i)N.add(t),a[t]=e;N.add(e),m[e]=m[e]||new Set,i.forEach(t=>m[e].add(t))}});for(const e of o)N.delete(e);const O=Array.from(N),v=Rt(O),P=Object.keys(v).length?Xe(O):{},[M,L]=y(v);for(const[e,t]of Object.entries(M))f[e]=t;for(const[e,t]of Object.entries(L))I[e]=t;for(const[e,t]of Object.entries(v))5===t.entityType&&(_[e]=t);const b=Md.getChannelDisplayAndRankTimes(S,C,f,I,m),D={feedCards:l,chats:S,channelId2times:b,chatId2boxIds:a,boxIds2chatIds:m,updateChannel:t,removeChannel:i};this.computeChats(D),this.computeDocFeeds(p,h,t,i),this.computeThreads(u,T,b,t,i);for(const[e,t]of Object.entries(S))P[e]=t;this.computeBoxs(_,P,m,b,t,i)}static getChannelDisplayAndRankTimes(e,t,i,n,r){const o=Object.values(t).filter(e=>e.getIsMember()).map(e=>e.id),s=Object.values(e).filter(e=>e.getIsMember()).map(e=>e.id);s.push(...o);const a=Object.keys(i),d=s.filter(e=>!a.includes(e));if(d.length)try{Ko(d)}catch(e){A.c.warn("pull feed cards failed: err={}",e)}const c=function(e,t){const i=Object.values(t).filter(e=>e.getIsMember()).map(e=>e.getLastVisibleMessageId());return i.push(...Object.values(e).filter(e=>e.getIsMember()).filter(e=>!e.isCrypto).map(e=>e.isThreadChat()?e.getLastVisibleThreadId():e.getLastVisibleMessageId())),i.filter(e=>!Object(he.e)(e))}(e,t),[l,p]=function(e){const t={},i=[];for(const n of e)Xi.get(n)?t[n]=Xi.get(n).createTime:i.push(n);return[t,i]}(c),u=Md.getChatAndThreadQuasiMessageCreateTimes(e,t);var _,E;E=!0,(_=p).length&&to(_).then(e=>{if(e.isError)throw e.error;const t=ri.decode("messages.PullMessagesByIdsResponse",e.data).messages;fa(t);const i=Object.keys(t),n=Zi(i);if(Sa(n),A.c.debug("fetch and push mesasges: messageIds={}",i),E){const e={};Object.values(n).forEach(t=>e[t.channelId]=t.channelType),me(e,!1,!1,!1)}}).catch(e=>{throw A.c.warn("pull message by ids failed"),e});const h={};function T(e,t,i){let n=0;return null!=l[i]&&(n=l[i]),null!=u[e]&&(n=Math.max(u[e],n)),0===n&&A.c.trace("get channel base time failed: id={}",e),n||t}const y=Md.getLastDraftStatus(e,t);function f(e){return n[e]}function I(e,t){const i=f(e);if(null!=i)return i;const n=y[e];return!n||n.isEmptyDraft?t:Math.max(t,n.updateTime)}function g(e,t){const n=f(e);if(null!=n)return n;const r=i[e]||0;let o=Math.max(t,r);return y[e]&&(o=Math.max(o,y[e].updateTime)),o}function S(e,t){const n=f(e);if(null!=n)return n;let r=i[e]||0;return 0===r&&(r=t),null!=u[e]&&(r=Math.max(r,u[e])),y[e]&&(r=Math.max(r,y[e].updateTime)),r}for(const t of Object.values(e)){if(!t.getIsMember()){h[t.id]=[t.updateTime,t.updateTime];continue}const e=t.isThreadChat()?t.getLastVisibleThreadId():t.getLastVisibleMessageId(),i=T(t.id,t.updateTime,e),n=I(t.id,i),r=t.isThreadChat()?g(t.id,i):S(t.id,i);h[t.id]=[n,r]}for(const[e,t]of Object.entries(r)){let n=0,r=0;for(const e of t.values()){let t,o;h[e]?[t,o]=h[e]:t=o=i[e]||0,r<o&&(n=t,r=o)}0===r&&(r=i[e]||0),0===n&&(n=r),r=Math.max(i[e]||0,r),h[e]=[n,r]}return Object.values(t).forEach(e=>{if(!e.getIsMember())return void(h[e.id]=[e.updateTime,e.updateTime]);const t=T(e.id,e.lastFollowUpdateTime,e.getLastVisibleMessageId()),i=I(e.id,t),n=S(e.id,t);h[e.id]=[i,n]}),h}static getChatAndThreadQuasiMessageCreateTimes(e,t){const i=Object.values(e).filter(e=>e.getIsMember()).map(e=>e.id),n=Qr(i),r={},o={};function s(e,t,i,n){(n?i.threadPosition||0:i.position)===t&&(e[i.channelId]=i.createTime)}for(const t of Object.values(n)){const i=e[t.channelId];i&&!i.isThreadChat()&&s(o,i.lastMessagePosition,t,!1)}for(const t of Object.values(r)){const i=e[t.channelId];i&&i.isThreadChat()&&(a=o,d=i.lastThreadPosition,(c=t).position===d&&(a[c.channelId]=c.createTime))}var a,d,c;const l=function(e){const t={};return e.forEach(e=>{zr.values().forEach(i=>{i.threadId===e&&(t[i.cid]=i)})}),t}(Object.values(t).filter(e=>e.getIsMember()).map(e=>e.id));for(const e of Object.values(l)){const i=t[e.channelId];i&&s(o,i.lastMessagePosition,e,!0)}return o}computeChannelCore(e,t){function i(e,t){e.remove(t)}if(!t.isMember&&!this.visitorChannelIds.has(t.id))return i(this,t.id),Ld.REMOVE;if(t.isEmptyBox())return i(this,t.id),Ld.REMOVE;const n=e[t.id];if(n)if(2===n.feedType)i(this,t.id);else{const e=n.isDelayed;this.insertOrRemoveIsDelayedChannelId(t.id,e),this.replaceOrInsert(t)}else A.c.trace("compute channel core does not found feed_card: card={}",t),this.replaceOrInsert(t);return Ld.UPDATE}static getLastDraftStatus(e,t){const i=Object.keys(e),n=Object.keys(t),r=i.concat(n),o={};Object.values(e).filter(e=>!Object(he.e)(e.lastDraftId)).forEach(e=>{o[e.lastDraftId]=e.id});const s=Ds(r),a=Object.keys(o).map(e=>bs.get(e)).reduce((e,t)=>(t&&t.content&&(e[t.id]=t),e),{});for(const[e,t]of Object.entries(a)){const i=o[e];null!=i&&(s[i]=s[i]||[],s[i].push(t))}const d={};for(const[t,i]of Object.entries(s)){const n=bo(i,e[t]&&e[t].lastDraftId);n&&(d[t]={updateTime:n.updateTime,isEmptyDraft:0===n.content.length})}return d}computeChats(e){const{feedCards:t,chats:i,channelId2times:n,chatId2boxIds:r,boxIds2chatIds:o,updateChannel:s,removeChannel:a}=e,d={};if(0===Object.keys(i).length)return;const c=fd(i);for(const e of Object.values(i)){const i=n[e.id],l=r[e.id],p=c[e.id]||["","",null],[u,_]=Dd.fromChat(e,i,l,p);Object.assign(d,_);const E=this.computeChannelCore(t,u);if(E===Ld.UPDATE)s.set(u.id,u);else if(E===Ld.REMOVE&&(a.set(u.id,u.type),!Object(he.e)(u.boxId)&&o[u.boxId])){o[u.boxId].delete(u.id)}}this.insertChatterId2chatId(d)}computeBoxs(e,t,i,n,r,o){if(0!==Object.keys(e).length)for(const s of Object.values(e)){const a=n[s.id],[d,c,l,p,u,_,E,h]=(()=>{const e=i[s.id];if(e){let i=0,r="",o="",s=0,a="",d=0,c=0;for(const l of e.values()){const e=this.id2channel.get(l);if(e)e.hasBadge()&&(i+=1,s+=e.getBadge(),o=e.id),e.rankTime>c&&(c=e.rankTime,d=e.displayTime,r=e.id,a=e.lastMessageId);else if(n[l]){const[e,i]=n[l];if(i>c){c=i,d=e,r=l;const n=t[l];n&&(a=n.lastMessageId)}}}return[i,s,e,d,c,o,r,a]}{const e=a?a[0]:0,t=a?a[1]:0;return[0,0,new Set,e,t,0,0,0]}})(),T=Dd.fromBoxCard(s,[p,u],l,d,_,c,E,h),y=this.computeChannelCore(e,T);y===Ld.UPDATE?r.set(T.id,T):y===Ld.REMOVE&&o.set(T.id,T.type)}}computeDocFeeds(e,t,i,n){if(0===t.length)return;const r=An(t),o=function(e){const t={};return Object.values(e).forEach(e=>{e.token&&(t[e.id]=e.token)}),t}(Object.values(r)),s=(Object.values(o),{}),a={};for(const e of Object.values(s)){const t=a[e.token]=a[e.token]||new Set;e.isRead||t.add(e.id)}for(const t of Object.values(r)){const r=e[t.id]?e[t.id].rankTime:void 0,o=Dd.fromDocFeed(t,a,r),s=this.computeChannelCore(e,o);s===Ld.UPDATE?i.set(o.id,o):s===Ld.REMOVE&&n.set(o.id,o.type)}}computeThreads(e,t,i,n,r){if(0===t.length)return;const o=Pn(t),s=Xe(Object.values(o).map(e=>e.channelId)),a={};for(const t of Object.values(o)){const o=i[t.id],[d,c]=Dd.fromThread(t,s,o);Object.assign(a,c);const l=this.computeChannelCore(e,d);l===Ld.UPDATE?n.set(d.id,d):l===Ld.REMOVE&&r.set(d.id,d.type)}this.insertChatterId2threadId(a)}};kd=Md=bd([yd.a],kd);let Gd=class{constructor(){var e;this.channelSet=new kd,this.feedObserver=new Pd,this.off=(e=this.handlePayload,Se.addReceiver(e))}forcePush(e){if(!e.length)return;const t=e.filter(e=>1===e.type).filter(e=>!e.isDelete).map(e=>e.id),i=Xe(t),n=fd(i),r=Rt(t),o={},s={},a=new Map;Object.values(r).forEach(e=>o[e.id]=e.rankTime);for(const[e,t]of this.channelSet.boxId2chatIds.entries())s[e]=new Set(t);const d=kd.getChannelDisplayAndRankTimes(i,{},o,{},s);for(const e of Object.values(i)){const t=r[e.id]?r[e.id].parentFeedCardId:null,[i,o]=Dd.fromChat(e,d[e.id],t,n[e.id]);a.set(e.id,i)}this.feedObserver.observerForceUpdate(a)}handlePayload(e){const{pairs:t,removeChatterIds:i,visitorChannelIds:n,chatterId2chatId:r,flushFeedCards:o,chatterId2threadId:s,withoutPush:a}=e,d=new Set;if(t.forEach(e=>d.add(e.id)),0!==d.size&&A.c.debug("compute channel_set: channel_ids={}",Array.from(d)),n||r||i||s){const e=this.channelSet;if(i){const n=e.removeChatterId2chatIdByChatterIds(i),r=e.removeChatterId2threadIdByChatterIds(i);if(n.length||r.length){const e=!1,i=1,o=4,s=t.map(e=>e.id),a=n.filter(e=>!s.includes(e)).map(t=>({id:t,type:i,isDelete:e})),d=r.filter(e=>!s.includes(e)).map(t=>({id:t,type:o,isDelete:e}));t.push(...a),t.push(...d);const c=[];for(const e of a)this.channelSet.id2channel.has(e.id)||c.push(e);this.forcePush(c)}}n&&e.insertVisitorChannelIds(n),r&&e.insertChatterId2chatId(r),s&&e.insertChatterId2threadId(s)}if(a)return this.compute(t,!1,!1);this.compute(t,!0,o)}compute(e,t,i){try{const n=this.getComputeChannelPairs(e);try{this.computeCore(n,t,i)}catch(e){A.c.warn("compute feeds failed: err={}",e)}}catch(e){A.c.warn("get computed channelPairs failed: err={}",e)}}computeCore(e,t,i){let n=new Map,r=new Map;const[o,s,a,c]=(()=>{const i=this.channelSet,o=new Map,s=new Map;i.computeChannelPairs(e,o,s);const[a,d,c,l]=i.computeBadge();return t&&(n=o,r=s),[a,d,c,l]})(),l=S(d.FeedCardFilterV2);let u=o,_=s,E=a,h=c;if(l){const[e,t]=Wd(null,{type:Bd.FEED,value:void 0},!0,l),i=e.computeBadge();u=i[0],_=i[1],E=i[2],h=i[3]}const T=Object(p.a)("feed.PushInboxCardsResponse");T.unreadCount=o,T.muteUnreadCount=Math.max(s-a,0),T.filteredUnreadCount=u,T.filteredMuteUnreadCount=Math.max(_-E,0),T.hasUnreadDot=h,T.delayedChannelCount=this.channelSet.isDelayedChannelIds.size,this.feedObserver.observe(T,n,r,i)}getComputeChannelPairs(e){const t=[],i={},n=[];for(const r of e)r.isDelete?t.push(r):1===r.type?(i[r.id]=r,n.push(r.id)):t.push(r);if(n.length){const e=Xe(n);for(const n of Object.values(e))if(Hd(n)){const e=i[n.id];e&&t.push(e)}}const r=[0,3,4];return t.filter(e=>!r.includes(e.type))}};Gd=bd([yd.a],Gd);const Vd=new Gd;function Hd(e){return!e.isThreadChat()&&(!e.isDissolved&&(1!==e.type||(-1!==e.lastMessagePosition||e.isMeCreate)))}var Bd;function Fd(e,t){if(!t)return!1;switch(e.type){case Bd.BOX:return t.boxId===e.value;case Bd.FEED:return Object(he.e)(t.boxId);case Bd.ALL:return!0;default:return!1}}function jd(e,t,i,n){function r(e){return!(!Fd(t,e)||e.isEmptyBox())&&(!i||function(e,t){if(!t)return!0;if(!t.entityTypes.includes(e.type))return!1;switch(e.type){case 1:return t.isCrypto?Boolean(e.isCrypto):!t.chatCrossTenant||Boolean(e.crossTenant);case 3:case 4:case 5:default:return!0}}(e,n))}const o=new Map;for(const[t,i]of e.id2channel.entries())r(i)&&o.set(t,i);return o}function Wd(e,t,i,n){const r=xd(),o=new Set(r.isDelayedChannelIds),s=new Map,a=jd(r,t,i,n);for(const[e,t]of r.boxId2chatIds.entries())s[e]=new Set(t);const d=new wd(void 0,Ud.cmp);if(e){const[i,n]=e;r.allChannelKeys.sortedValues().filter(e=>Fd(t,a.get(e.id))).slice(i,n).forEach(e=>d.insert(e))}else for(const e of r.allChannelKeys.iter())Fd(t,a.get(e.id))&&d.insert(e);const c=new wd(void 0,Ud.cmp);for(const e of r.allUnreadChannelKeys.iter())Fd(t,a.get(e.id))&&c.insert(e);const l={};for(const e of r.remindUnreadChannelKeys.iter()){const t=a.get(e.id);l[e.id]=t?t.getBadge():void 0}const p=new wd(void 0,Ud.cmp);for(const e of r.remindUnreadChannelKeys.iter())Fd(t,a.get(e.id))&&p.insert(e);const u=[];for(const e of p.keys())u.push(e);const _=new kd;return _.id2channel=a,_.allChannelKeys=d,_.allUnreadChannelKeys=c,_.remindUnreadChannelKeys=p,_.isDelayedChannelIds=o,_.boxId2chatIds=s,[_,l,u]}function xd(){return Vd.channelSet}!function(e){e[e.BOX=1]="BOX",e[e.FEED=2]="FEED",e[e.ALL=3]="ALL"}(Bd||(Bd={}));var Kd=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const qd=Object(A.b)("feed");const Yd=new class{constructor(){this.boxOrder={},this.feedOrder=0}getBoxExecuteOrder(e){return this.boxOrder.hasOwnProperty(e)||(this.boxOrder[e]=0),this.boxOrder[e]}increaseBoxExecuteOrder(e){this.boxOrder.hasOwnProperty(e)||(this.boxOrder[e]=0),this.boxOrder[e]+=1}isMaxBoxExecuteOrder(e,t){return!this.boxOrder.hasOwnProperty(e)||t>=this.boxOrder[e]}getFeedExecuteOrder(){return this.feedOrder}increaseFeedExecuteOrder(){this.feedOrder+=1}isMaxFeedExecuteOrder(e){return e>=this.feedOrder}},Jd={inbox:!1,done:!1,box:{}};function zd(e,t){let i;i=e?0:1,f(h.a.PUSH_LOAD_FEED_CARDS_STATUS,{status:i,feedType:t})}function Xd(e){const t=Array.from(ra);for(const i of t)Qd(i,e)}function Qd(e,t){return Kd(this,void 0,void 0,(function*(){const i=ia(e,1,1),n=ia(e,1,2);let r=0;na(e)?(Yd.increaseBoxExecuteOrder(e),r=Yd.getBoxExecuteOrder(e)):(Yd.increaseFeedExecuteOrder(),r=Yd.getFeedExecuteOrder()),!na(e)&&t&&(zd(!0,1),zd(!0,2)),$d(e,1,i,1,0,0,r),na(e)||$d(e,1,n,2,0,0,r)}))}function $d(e,t,i,n,r,o,s){return Kd(this,void 0,void 0,(function*(){if(function(e,t,i,n,r,o){if(i<=0&&2===t)return Zd(e,n),!1;if(na(e)){if(!Yd.isMaxBoxExecuteOrder(e,o))return Zd(e,n),!1}else if(!Yd.isMaxFeedExecuteOrder(o))return Zd(e,n),!1;const s=ea(e,n),a=100*r>Object(D.c)();if(na(e)){if(Jd.box[e]){if(1===s.length&&2===t)return Zd(e,n),!1}else if(a)return Jd.box[e]=!0,Zd(e,n),!1}else if(1===n){if(Jd.inbox){if(1===s.length&&2===t)return Zd(e,n),!1}else if(a)return Jd.inbox=!0,Zd(e,n),!1}else if(2===n)if(Jd.done){if(1===s.length&&2===t)return Zd(e,n),!1}else if(a)return Jd.done=!0,Zd(e,n),!1;return!(r>=1e3)||(Zd(e,n),!1)}(e,t,i,n,r,s)){qd.debug("sync feedCards start: feedCardId={} feedType={} syncType={} cursor={} count={} recursionCount={}     failCount={} executeOrder={}",e,n,t,i,100,r,o,s);try{const a=yield function(e,t,i,n,r){return ko(this,void 0,void 0,(function*(){const o={count:t,cursor:i,pullType:n,type:r};Object(he.e)(e)?o.parentCardId=0:o.parentCardId=e;const s=wo.encode("feed.PullFeedCardsRequest",o);return yield Object(b.f)({cmd:1e3,payload:s})}))}(e,100,i,t,n);if(a.isError)throw a;{const d=wo.decode("feed.PullFeedCardsResponse",a.data),c=1===t&&!na(e);try{yield function(e){return Go(this,void 0,void 0,(function*(){let t=Object.values(e.messages).map(e=>e.fromId).filter(e=>!Object(he.e)(e));t=Array.from(new Set(t));const i=Object(U.b)(),n=Object.values(e.chats).filter(e=>1===e.type).map(e=>{const t=e.key.split(":");let n;if(2!==t.length)return"";const r=t.filter(e=>e!==i);return r.length>1?"":(n=0===r.length?i:r.pop(),n)}).filter(e=>!!e),r=gt([...t,...n]);if(0!==r.length)return ir(r)}))}(d)}catch(e){qd.warn("getFeedCardsDependency failed:{}",e)}qd.debug("sync feedCards end: feedCardId={} feedType={} syncType={} cursor={} feedCount={} recursionCount={}         failCount={} executeOrder={}",e,n,t,i,d.cards.length,r,o,s);const l=ta(d,i,e,n,t);try{!function(e,t,i){if(function(e){return 0===e.cards.length}(e))return;const n=Object(he.b)(i,_i.FeedType);jo(e,t,n)}(d,e,n)}catch(e){qd.warn("save feedCard failed: e={}",e)}if(na(e)){const e=d.cards.filter(e=>1===e.type).map(e=>e.id);setTimeout(()=>{Ae(e,!1)},300),setTimeout(()=>{Ae(e,!1)},1e3)}l(),c&&zd(!1,n);try{yield Object(he.j)(function(e){return e<=1?500:1e3}(r)),yield function(e,t,i,n,r){return Kd(this,void 0,void 0,(function*(){const o=ia(e,2,t);return $d(e,2,o,t,i,n,r)}))}(e,n,r+1,o,s)}catch(t){Zd(e,n)}}}catch(a){if(qd.error("sync feedCards failed: e=",a),a.code&&a.isError){if(!function(e,t,i){const n=Object(bt.c)(e.code),r=Object(bt.b)();n&&Zd(t,i);return!n&&r}(a,e,n))return;(yield ec(o,e,n))&&$d(e,t,i,n,r,o+1,s)}else{(yield ec(o,e,n))&&$d(e,t,i,n,r,o+1,s)}}}}))}function Zd(e,t){var i;na(e)||(zd(!1,t),1===t&&(i=1,Vd.feedObserver.updateLoadStatus(i)))}function ec(e,t,i){return Kd(this,void 0,void 0,(function*(){return 5<=e?(Zd(t,i),!1):(yield Object(he.j)(200),!0)}))}var tc=i(634);Object(c.f)({multipipe:tc.a});var ic={encode:c.e,decode:c.b,create:c.a,decodeToObject:c.c},nc=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const rc=Object(A.b)("sync-pipe");const oc=Object(A.b)("sync-pipe"),sc=new de.a(1e4),ac=new de.a(1e4),dc=new Map;function cc(e){return sc.get(e)}function lc(e){return ac.get(e)}function pc(e,t){oc.info("saveTypeSid",e,t||"0"),dc.set(e,t||"0")}function uc(e){return dc.get(e)}function _c(e,t=3,i=1e3,n){let r=0,o=function(...i){return e(...i).then(e=>(r=0,e),e=>{if(r++,r>t)throw e;return n&&n(e,r),o.apply(this,i)})};return o.bind(this)}var Ec=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const hc=Object(A.b)("sync-pipe"),Tc=_c((function(e){return nc(this,void 0,void 0,(function*(){rc.debug("api pullChangeLists start",e);const t=ic.encode("multipipe.PullUnsupportPipeTypeInfosRequest",{supportTypes:e}),i=yield Object(b.f)({cmd:70003,payload:t});if(i.error)throw rc.error("api pullSupportPipeTypeInfos error",e,i.error),i.error;const n=ic.decodeToObject("multipipe.PullUnsupportPipeTypeInfosResponse",i.data);return rc.debug("api pullAllUnsupportedPipe success",e,n),n}))}),10,1e3,(e,t)=>{hc.warn("pullAllUnsupportedPipe failed and retry.",t,e)}),yc=_c((function(e){return nc(this,void 0,void 0,(function*(){rc.debug("api pullChangeLists start",e);const t=ic.encode("multipipe.PullChangeListsRequest",{infos:e}),i=yield Object(b.f)({cmd:70007,payload:t});if(i.error)throw rc.error("api pullChangeLists error",e,i.error),i.error;const n=ic.decodeToObject("multipipe.PullChangeListsResponse",i.data);return rc.debug("api pullChangeLists success",e,n.changeLists&&n.changeLists.map(e=>({subChangeListLastCursor:e.subChangeListLastCursor,pipeLastSid:e.pipeLastSid}))),n}))}),10,1e3,(e,t)=>{hc.warn("pullChangeLists failed and retry.",t,e)}),fc=_c((function(e){return nc(this,void 0,void 0,(function*(){rc.debug("api pullSupportPipeTypeInfos start",e);const t=ic.encode("multipipe.PullMultiPipePacketsRequest",{pipeInfos:e}),i=yield Object(b.f)({cmd:70006,payload:t});if(i.error)throw rc.error("api pullSupportPipeTypeInfos error",e,i.error),i.error;const n=ic.decodeToObject("multipipe.PullMultiPipePacketsResponse",i.data);return n.pipePackets?(rc.debug("api pullSupportPipeTypeInfos success",e,n.pipePackets&&n.pipePackets.map(e=>{var t,i;return{type:null===(t=e.pipeEntity)||void 0===t?void 0:t.type,id:null===(i=e.pipeEntity)||void 0===i?void 0:i.id,lastSid:e.lastSid}})),n.pipePackets):[]}))}),10,1e3,(e,t)=>{hc.warn("pullSupportPipeTypeInfos failed and retry.",t,e)});let Ic=!0,gc=Date.now()-1e3+"000000";const Sc=(e,t)=>Ec(void 0,void 0,void 0,(function*(){const i=yield yc(e),n=[];let r=e[0]?e[0].cursor:gc;e.length&&n.push(Promise.all(i.changeLists.map(e=>Ec(void 0,void 0,void 0,(function*(){r=e.lastCursor;const i=[],n=(e.subChangeListLastCursor||[]).map(e=>{if(e.subChangeListIdentity&&!t.includes(e.subChangeListIdentity.changeListType))return{cursor:gc,changeListIdentity:e.subChangeListIdentity}}).filter(e=>e);n.length&&i.push(Sc(n,t).then(e=>e));const o=Object.keys(e.pipeLastSid||{}).map(i=>{if(e.changeListIdentity&&e.changeListIdentity.changeListType){if(t.includes(e.changeListIdentity.changeListType))return;if("MESSAGE"===e.changeListIdentity.changeListType){if(!cc(i))return;return{pipeEntity:{type:e.changeListIdentity.changeListType,id:_.a.fromString(i)},cursorSid:cc(i)}}if("CHAT"===e.changeListIdentity.changeListType)return{pipeEntity:{type:e.changeListIdentity.changeListType,id:_.a.fromString(i)},cursorSid:lc(i)||"0"}}}).filter(e=>e);return o&&o.length&&i.push(Cc(o,t)),Promise.all(i)})))));const o=i.changeLists.filter(e=>e.hasMore).map(e=>({cursor:e.lastCursor,changeListIdentity:e.changeListIdentity}));return o.length&&n.push(Sc(o,t)),Promise.all(n).then(()=>r)})),Cc=(e,t)=>Ec(void 0,void 0,void 0,(function*(){if(!e||!e.length)return[];let i=e.filter(e=>{if("MESSAGE"===e.pipeEntity.type){const t=_.a.fromValue(e.cursorSid);let i=cc(String(e.pipeEntity.id));return void 0!==i&&!t.equals(i)}if("CHAT"===e.pipeEntity.type){const t=_.a.fromValue(e.cursorSid);let i=lc(String(e.pipeEntity.id));return void 0===i||!t.equals(i)}return!0});if(!i.length)return[];const n=yield fc(i),r=[],o=[];n.forEach(e=>{"MESSAGE"===e.pipeEntity.type?r.push({id:e.pipeEntity.id.toString(),sid:e.lastSid}):"CHAT"===e.pipeEntity.type?o.push({id:e.pipeEntity.id.toString(),sid:e.lastSid}):pc(e.pipeEntity.type,e.lastSid),e.packets&&e.packets.forEach(e=>{const t=e.cmd,i=e.sid;hc.debug("handle pipe packet from pipe: cmd={} sid={}",t,i),function(e){K.handlePacket(e,W.PIPE,!1,!0)}(e)})}),function(e){let t=[];e.forEach(e=>{sc.set(e.id,e.messagePipeVersion||e.sid||"0"),t.push({id:e.id,sid:e.messagePipeVersion||e.sid||"0"})}),oc.info("saveMessageSid",t)}(r),function(e){let t=[];e.forEach(e=>{ac.set(e.id,e.sid||"0"),t.push({id:e.id,sid:e.sid}),ac.set(e.id,e.sid||"0")}),oc.info("saveChatSid",e)}(o);const s=n.filter(e=>e.hasMore);return s.length?Cc(s.map(e=>({pipeEntity:e.pipeEntity,cursorSid:e.lastSid})),t):void 0}));var mc=i(635);new(i.n(mc).a)({max:5});const Nc=new Un,Ac=new Set;function Rc(){Ac.clear()}function Oc(){Nc.clear()}const vc=Object(A.b)("sync-pipe");function Pc(){const e=Nc;if(!e.isEmpty()){e.dedup();Ca(wn(e)),vc.debug("push pipe badge updated cards: channel_ids={}",e),Oc()}const t=Array.from(Ac);if(t.length){const e=Zi(t);Sa(e),vc.debug("push pipe messages: ids={}",Object.keys(e)),Rc()}}var Mc=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function Lc(e,t){return Mc(this,void 0,void 0,(function*(){Xd(e),function(e){Qd("",e)}(e)}))}function bc(){v(N.FrontierOnSuccess,()=>Mc(this,void 0,void 0,(function*(){try{Oc(),Rc(),yield function(e=[]){return Ec(this,void 0,void 0,(function*(){if(!Ic){if(Object(D.e)().isSyncing)return void hc.debug("doesn't sync for it is syncing: cur_cursor={}",gc);hc.debug("sync changelist from last_cursor: {}",gc),Object(D.i)(!0);const t=(+new Date/1e3).toFixed();return m(d.SyncPacketTime,t),Promise.all([Sc([{cursor:_.a.fromString(gc),changeListIdentity:{changeListType:"CHAT"}}],e),Cc([...dc.keys()].map(e=>({pipeEntity:{type:e},cursorSid:uc(e)})),e)]).then(([e])=>{Object(D.i)(!1),gc=e?e.toString():gc,hc.info("sync pipe all done.")},e=>{throw Object(D.i)(!1),new Error("sync pipe failed ! \n"+(null==e?void 0:e.stack)||!1)})}{hc.debug("sync packets start first sync");let t=[...new Set(["CHAT","MESSAGE",...e])];hc.debug("init type pipeline start",t);const[i,n]=yield Promise.all([e.includes("CHAT")||e.includes("MESSAGE")?Promise.resolve(null):yc([{cursor:_.a.fromString(gc),changeListIdentity:{changeListType:"CHAT"}}]).catch(e=>{throw hc.error("init chat cursor failed",e),e}),Tc(t)]);i&&i.changeLists.forEach(e=>{gc=e.lastCursor.toString(),hc.debug("init chat cursor success",gc)}),hc.debug("init type pipeline start",t,n),n.infos.forEach(e=>{pc(e.pipeType,e.lastSid)}),Ic=!1}}))}(),Pc()}catch(e){A.c.error("sync packets failed: {}",e)}!function(){P(N.TriggerSyncData);const e=Object(p.a)("basic.ReconnectionResponse");Object(U.c)(h.a.PUSH_RECONNECTION,e),A.c.debug("push reconnection!")}()}))),v(N.TriggerSyncData,()=>{A.c.debug("triggerSyncData start"),Lc(!0)}),oa={callback:e=>{Qd(e,!1)}}}var Dc=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};let Uc=1;function wc(e){if(window.navigator.onLine)if(window.navigator.connection){switch(e?e.target.effectiveType:window.navigator.connection.effectiveType){case"4g":Uc=1;break;case"3g":Uc=2;break;case"2g":case"slow-2g":Uc=3}}else Uc=1;else Uc=6;Object(U.c)(h.a.PUSH_DYNAMIC_NET_STATUS,{netStatus:Uc})}const kc={[h.a.GET_SETTINGS]:function(e){return Dc(this,void 0,void 0,(function*(){const t=yield Ht();let i=[];i=e&&e.fields?e.fields:Object.keys(t);const n=i.reduce((e,i)=>(e[i]=t[i],e),{}),r=Object(p.a)("settings.GetSettingsResponse");return r.fieldGroups=n,r}))}},Gc={},Vc={};function Hc(){H(Gc,Vc),bc(),wc(),navigator.connection?window.navigator.connection.onchange=wc:(window.addEventListener("online",wc),window.addEventListener("offline",wc))}var Bc=i(636),Fc=i(637);Object(c.f)({mutex:Fc.a});c.e,c.b,c.a;var jc=i(638);Object(c.f)({videochat_lobby:jc.a});c.e,c.b,c.a;var Wc=i(639);Object(c.f)({videochat_groot_cell:Wc.a});var xc={encode:c.e,decode:c.b,create:c.a};Object(c.f)({videochat:Bc.a});var Kc={encode:c.e,decode:c.b,create:c.a},qc=i(69);function Yc(){const e=Object(M.b)();return e||(A.c.warn("[BYTEVIEW]: get device_id from lib_net configs is None"),"")}function Jc(){return`${Object(U.b)()}&1&${Yc()}`}function zc(e,t,i){return`${e}&${5===t?4:t}&${i}`}function Xc(e){return zc(e.id,e.type||1,e.deviceId||"")}var Qc=i(36);var $c=i(351),Zc=i(381);function el(e){Object(U.c)(h.a.PUSH_VIDEO_CHAT_COMBINED_INFO,Object(Zc.a)(e))}function tl(e){0!==e.upsertParticipants.length||0!==e.removeParticipants.length?(Object(U.c)(h.a.PUSH_MEETING_PARTICIPANT_CHANGE,Object(Zc.a)(e)),qc.b.info("[BYTEVIEW][NEC]: push participant change to client success, upserted {}, removed {}",e.upsertParticipants.length,e.removeParticipants.length)):qc.b.debug("[BYTEVIEW][NEC]: participant change is empty, do not push")}function il(e,t){const[i,n]=t;qc.b.info("[BYTEVIEW][INMEETING][micMute]: update participant upsert={}, remove={}",sl(i),sl(n)),function(e,t,i){if(t.length||i.length){const n={upsertParticipants:[],removeParticipants:[]};n.meetingId=e,t.length&&(n.upsertParticipants=rl(t)),i.length&&(n.removeParticipants=Object(Qc.e)(i)),qc.b.info("[BYTEVIEW][INMEETING]: meeting_id:{}, upsert len:{}，remove len:{}",n.meetingId,n.upsertParticipants.length,n.removeParticipants.length),tl(n)}}(e,i,n)}class nl{constructor(){this.meetingId="",this.hostId="",this.hostDeviceId="",this.hostType=0,this.interactiveId="",this.participantsOnline=new Map,this.participantsLeft=[]}updateParticipants(e){il(this.meetingId,this.updateParticipantsImpl(e))}updateParticipantsImpl(e){const t=[],i=[];return e.forEach(e=>{const n=this.updateSingleParticipant(e);switch(n.type){case"upsert":t.push(n.value);break;case"remove":i.push(n.value)}}),[t,i]}updateSingleParticipant(e){const t=(e,t)=>{const i=Object(Qc.b)(e.seqId||0),n=Object(Qc.b)(t.seqId||0);return i>0&&i<n&&(qc.b.warn("[BYTEVIEW][SEQ]: ignore to update outdated participant seq_id={},            new_seq_id={}",n,i),!0)};switch(e.status){case 2:{let i=this.participantsOnline.get(Xc(e));return i?t(e,i)?{type:"nothing"}:(i.seqId=e.seqId,Object($c.a)(i,e)?{type:"nothing"}:(this.participantsOnline.set(Xc(e),e),{type:"upsert",value:e})):(i=kl.getByIdentifier(this.participantsLeft,Xc(e)),i?t(e,i)?{type:"nothing"}:(this.removeOldOfflineInfo(e),this.participantsOnline.set(Xc(e),e),{type:"upsert",value:e}):(this.participantsOnline.set(Xc(e),e),this.removeOldOfflineInfo(e),{type:"upsert",value:e}))}case 3:return this.removeOldOfflineInfo(e),this.participantsOnline.set(Xc(e),e),{type:"upsert",value:e};case 4:{const t=this.participantsOnline.delete(Xc(e))||this.checkUserRinging(e)?{type:"remove",value:e}:{type:"nothing"};return this.removeOldOfflineInfo(e),this.participantsLeft.push(e),t}default:return{type:"nothing"}}}removeOldOfflineInfo(e){this.participantsLeft=this.participantsLeft.filter(t=>{const i=t.deviceId;return t.id!==e.id||i&&i!==e.deviceId})}checkUserRinging(e){return this.participantsLeft.some(t=>t.id===e.id&&3===t.status)}findCurrentParticipant(){const e=this.participantsOnline.get(Jc());return e||kl.getCurrentParticipant(this.participantsLeft)}getCurrentParticipant(){return this.findCurrentParticipant()}removeParticipant(e){il(this.meetingId,this.removeParticipantImpl(e))}removeParticipantImpl(e){const t=this.participantsOnline.get(e);return this.participantsOnline.delete(e)&&t?(qc.b.debug("[BYTEVIEW][INMEETING]: participant {} has been removed",e),[[],[t]]):(qc.b.debug("[BYTEVIEW][INMEETING]: try to remove {} which not exist",e),[[],[]])}getOwnMuteStatus(){const e=this.getCurrentParticipant(),t=e&&e.settings;return t?[Boolean(t.isMicrophoneMuted),Boolean(t.isCameraMuted)]:[!1,!1]}getOwnMeetingRole(){const e=this.getCurrentParticipant();return e&&e.participantRoleSettings&&e.participantRoleSettings.meetingRole||0}initParticipants(e){this.meetingId=e.id,this.hostId=e.hostId,this.hostDeviceId=e.hostDeviceId||"",this.hostType=e.hostType||0;const t=Jc();e.participants.forEach(e=>{2===e.status?this.participantsOnline.set(Xc(e),e):this.participantsLeft.push(e),e.isHost&&(this.hostId=e.id,this.hostDeviceId=e.deviceId||"",this.hostType=e.type||1),Xc(e)===t&&(this.interactiveId=e.interactiveId||"")})}muteMicrophone(e,t){}muteMicrophoneImpl(e,t){}muteAllMicrophone(e,t){}muteAllMicrophoneImpl(e,t){}muteCamera(e,t){}muteCameraImpl(e,t){}updateFromCalendar(e){}transferHost(e,t,i){il(this.meetingId,this.transferHostImpl(e,t,i))}transferHostImpl(e,t,i){if(this.hostId===e&&this.hostType===t&&this.hostDeviceId===i)return[[],[]];const n=zc(e,t,i),r=zc(this.hostId,this.hostType,this.hostDeviceId),o=[],s=this.participantsOnline.get(r);if(s){if(s.isHost=!1,void 0!==s.participantRoleSettings){const e=s.participantRoleSettings;1===e.meetingRole&&(e.meetingRole=0)}o.push(s)}const a=this.participantsOnline.get(n);if(a){if(a.isHost=!0,void 0!==a.participantRoleSettings){const e=a.participantRoleSettings;1!==e.meetingRole&&(e.meetingRole=1)}this.hostId=e,this.hostType=t,this.hostDeviceId=i,o.push(a),qc.b.debug("[BYTEVIEW][NEC_PARTICIPANT]: handle host transferred success")}return[o,[]]}applyGlobalSpokenLanguageToAll(e){}applyGlobalSpokenLanguageToAllImpl(e){}selectParticipants(e){const t=[];this.participantsOnline.forEach(i=>{e.has(i.id)&&t.push(i)});const i=this.participantsLeft.filter(t=>e.has(t.id));return t.concat(i)}updateOwnParticipantSettings(e){il(this.meetingId,this.updateOwnParticipantsSettingsImpl(e))}updateOwnParticipantsSettingsImpl(e){const t=[],i=this.findCurrentParticipant();if(i){const n=i.settings;n?function(e,t){void 0!==t.isCameraMuted&&(e.isCameraMuted=t.isCameraMuted),void 0!==t.isMicrophoneMuted&&(e.isMicrophoneMuted=t.isMicrophoneMuted),void 0!==t.cameraStatus&&(e.cameraStatus=t.cameraStatus),void 0!==t.microphoneStatus&&(e.microphoneStatus=t.microphoneStatus),void 0!==t.playEnterExitChimes&&(e.playEnterExitChimes=t.playEnterExitChimes),void 0!==t.followingStatus&&(e.followingStatus=t.followingStatus),e.followTypes=t.followTypes,void 0!==t.isTranslationOn&&(e.isTranslationOn=t.isTranslationOn),void 0!==t.subtitleLanguage&&(e.subtitleLanguage=t.subtitleLanguage),void 0!==t.spokenLanguage&&(e.spokenLanguage=t.spokenLanguage),void 0!==t.nickname&&(e.nickname=t.nickname),void 0!==t.enableSubtitleRecord&&(e.enableSubtitleRecord=t.enableSubtitleRecord),void 0!==t.handsStatus&&(e.handsStatus=t.handsStatus),qc.b.debug("[BYTEVIEW][INMEETING]: update participant settings success, is_camera_muted: {},      is_microphone_muted: {}, camera_status: {}, microphone_status: {},      play_enter_exit_chimes: {}, following_status: {}, is_translation_on: {},      subtitle_language: {}, spoken_language: {}, enable_subtitle_record: {},      hands_status: {}",e.isCameraMuted,e.isMicrophoneMuted,e.cameraStatus,e.microphoneStatus,e.playEnterExitChimes,e.followingStatus,e.isTranslationOn,e.subtitleLanguage,e.spokenLanguage,e.enableSubtitleRecord,e.handsStatus)}(n,e):i.settings=e,t.push(i)}return[t,[]]}setCurrentParticipantFollowStatus(e){}collectIdleRoom(){}packInfoToInMeetingInfo(e){e.hostId=this.hostId,e.hostDeviceId=this.hostDeviceId,e.hostType=Object(Qc.d)(this.hostType)}packParticipants(){const e=Array.from(this.participantsOnline.values()),t=this.participantsLeft.filter(e=>3===e.status);return rl(e.concat(t))}packHostInfoToInMeetingInfo(e){e.hostId=this.hostId,e.hostDeviceId=this.hostDeviceId,e.hostType=Object(Qc.d)(this.hostType)}}function rl(e){const t=Ct(e.filter(e=>1===e.type||4===e.type).map(e=>e.id));return e.map(e=>{const i=Object(Qc.d)(e),n=function(e,t){switch(e.type){case 1:{const i=t[e.id];return i?ol(i):void 0}case 4:if(e.settings&&e.settings.nickname)return e.settings.nickname;{const i=t[e.id];return i?ol(i):void 0}case 4:case 5:case 6:return e.settings?e.settings.nickname:void 0;default:return}}(i,t);return n&&(i.sortName=n),i})}function ol(e){}function sl(e){return`[${JSON.stringify(e,null,"")}]`}class al{static getOwnStatus(e){const t=e.participants.find(e=>e.id===Object(U.b)()&&e.deviceId===Yc());return t?t.status:0}}var dl=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function cl(e){const t=Ul();el(t.packClient())}var ll=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function pl(e){return ll(this,void 0,void 0,(function*(){return(yield Object(b.g)({cmd:2328,payload:{meetingId:e},encodePath:"videochat.GetCalendarInfoRequest",decodePath:"videochat.GetCalendarInfoResponse"})).unwrap()}))}var ul=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function _l(e){return ul(this,void 0,void 0,(function*(){A.c.debug("[BYTEVIEW][INMEETING]: pull in meeting info start, meeting_id={}",e);const t=(yield Object(b.g)({cmd:2312,payload:{id:e,version:""},encodePath:"videochat.PullVideoChatInMeetingInfoRequest",decodePath:"videochat.VideoChatInMeetingInfo"})).unwrap(),i=Ul();""===i.meetingId?A.c.debug("[BYTEVIEW][INMEETING]: pull in meeting info abort, current meeting_id is        empty"):(i.setInMeetingInfo(t),A.c.debug("[BYTEVIEW][INMEETING]: pull in meeting info success"))}))}function El(){return ul(this,void 0,void 0,(function*(){A.c.debug("[BYTEVIEW][INMEETING]: update_all_and_push combined info");const e=Ul(),t=e.meetingId,i=e.meetingInfo.meetingSource;if(""===t||0===i)return void A.c.warn("[BYTEVIEW][INMEETING]: meetign_id is empty or unknown MeetingSource");const n=[_l(t)];2===i&&n.push(function(e){return ul(this,void 0,void 0,(function*(){A.c.debug("[BYTEVIEW][CALENDAR]: start pull calendar info, meeting_id={}",e);try{const t=(yield pl(e)).calendarInfo;Ul().setCanlendarInfo(t),A.c.debug("[BYTEVIEW][CALENDAR]: pull calendar info success")}catch(t){A.c.warn("[BYTEVIEW][CALENDAR]: update_calendar_info failed, meeting_id={}, err={}",e,t)}}))}(t)),yield Promise.all(n),cl(!1)}))}function hl(e){!function(e){const t=Ul();t.setVcInfo(e),el(t.packClient())}(e),El()}function Tl(e){return function(e){const t=Ul(),i=e.inMeetingData;if(i.length){const e=t.getCurrentMeetingId(),n=i[0].meetingId;if(n!==e)return qc.b.warn("[BYTEVIEW][NEC_INMEETING]: receive inconsistent extra_info, meeting_id={},          drop it. Expected meeting_id={}",n,e),Pl.Nothing}t.meetingInfo.getIsMeet();const n=t.dispatchInMeetingData(e);switch(n){case Pl.ExtraOnly:t.pushExtraToClient();break;case Pl.Combined:t.packAndPushToClient()}return n}(e)===Pl.Combined}var yl=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function fl(e){return yl(this,void 0,void 0,(function*(){A.c.debug("[BYTEVIEW][LIVE]: meeting {} will request live user count after {}s",e,1e4);const t=(yield Object(b.g)({cmd:2381,payload:{meetingId:e},encodePath:"videochat.VideoChatLiveExtraInfoRequest",decodePath:"videochat.VideoChatLiveExtraInfoResponse"})).unwrap().onlineUsersCount;void 0===t?A.c.warn("[BYTEVIEW][LIVE]: meeting {} receive empty count, skip push",e):function(e,t){if(Ul().meetingInfo.isThisMeetingLiving(e)){const e={type:0,inMeetingData:[]};e.type=4,e.liveExtraInfo={onlineUsersCount:t},i=e,Object(U.c)(h.a.NOTIFY_VIDEO_CHAT_EXTRA,i)}var i}(e,t),setTimeout(()=>{Ul().meetingInfo.isThisMeetingLiving(e)&&fl(e)},1e4)}))}var Il,gl=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};!function(e){e[e.CONNECTING=0]="CONNECTING",e[e.CONNECTED=1]="CONNECTED",e[e.UNAVAILABLE=2]="UNAVAILABLE",e[e.WILL_BE_CLOSED=3]="WILL_BE_CLOSED",e[e.CLOSED=4]="CLOSED"}(Il||(Il={}));class Sl{constructor(e,t){this.meta=e,this.session=t,this.timer=0,this.status=Il.CONNECTING,this.heartbeat=this.heartbeat.bind(this)}getStatus(){return this.status}ping(){return A.c.debug("[BYTEVIEW][MS]: ping groot channel"),Object(b.g)({cmd:89053,payload:{channelMeta:this.meta,channelSession:this.session},encodePath:"videochat_groot_cell.GrootChannelPingRequest",decodePath:"videochat_groot_cell.GrootChannelPingResponse"})}heartbeat(){this.timer=window.setTimeout(()=>{this.status!==Il.CLOSED&&this.ping().then(this.heartbeat)},6e4)}startHeartbeat(){this.heartbeat()}close(){this.timer&&clearTimeout(this.timer),this.timer=0,this.status=Il.CLOSED}receiveHandshakeResult(e){this.status!==Il.CLOSED&&(this.status=Il.CONNECTED,this.startHeartbeat())}}const Cl=Object.create(null);function ml(e){return`${e.channel}_${e.channelId}`}function Nl(e){return gl(this,void 0,void 0,(function*(){A.c.debug("[BYTEVIEW][MS]: open groot channel");const t=ml(e);if(void 0===Cl[t]){const i=Date.now().toString(),n=new Sl(e,i);Cl[t]=n;const r=(yield Object(b.g)({cmd:89052,payload:{channelMeta:e,channelSession:i},encodePath:"videochat_groot_cell.GrootChannelHandshakeRequest",decodePath:"videochat_groot_cell.GrootChannelHandshakeResponse"})).unwrap();n.receiveHandshakeResult(r)}return{status:Cl[t].getStatus()}}))}function Al(e){return gl(this,void 0,void 0,(function*(){const t=ml(e),i=Cl[t];i&&(i.close(),delete Cl[t])}))}class Rl{constructor(){this.meetingId="",this.meetingSource=0,this.vcType=0,this.isRecording=!1,this.hasRecorded=!1,this.interactiveId="",this.meetingUrl="",this.status=0,this.whiteboardData={},this.shouldPushI18nTopic=!1,this.recordingHover={}}setInSubtileOn(e){this.isSubtitleOn=e}setInMeetingInfo(e){this.meetingSettings=e.meetingSettings||void 0,this.meetingUrl=e.meetingUrl||"",this.updateWhiteboardData(e.whiteboardData),this.hasRecorded=e.hasRecorded||!1,e.recordingHover&&(this.recordingHover=e.recordingHover),e.vcType&&(this.vcType=e.vcType),this.isRecording=e.isRecording||!1,this.isSubtitleOn=e.isSubtitleOn,e.liveInfo&&this.setLiveInfo(e.liveInfo),e.interviewCodingData&&(this.interviewCodingData=e.interviewCodingData),A.c.debug("[BYTEVIEW][INMEETING]: update combined_info in_meeting_info success, meeting_id={}",e.id)}updateShareScreenSettings(e){const t=this.screenSharedData;t&&(t.height=e.height,t.width=e.width,t.accessibility=e.accessibility,t.version=e.version,t.brush=e.brush,t.isSmoothMode=e.isSmoothMode,A.c.info("[BYTEVIEW][INMEETING]: update share screen settings success"))}updateShareScreenRcData(e){}cleanShareScreenData(){}startSketch(){}getCurrentMeetingId(){return this.meetingId}getCurrentStatus(){return this.status}getIsMeet(){return 2===this.vcType}setVcType(e){this.vcType=e}initMeetingInfo(e){this.meetingId=e.id,this.meetingSettings=e.settings||void 0,this.vcType=e.type,this.meetingSource=e.meetingSource||0,this.status=al.getOwnStatus(e)}setFollowInfo(e){const{shareId:t}=this.followInfo||{},i=!!this.followInfo&&(!!this.followInfo.url&&!!this.followInfo.shareId),n=!!e.url&&!!e.shareId;if(this.followInfo=e,i||n)if(!i||n)i||!n?i&&n&&t!==e.shareId&&(Al({channel:5,channelId:t,associateId:this.meetingId,idType:1}),Nl({channel:5,channelId:e.shareId,associateId:this.meetingId,idType:1})):Nl({channel:5,channelId:e.shareId,associateId:this.meetingId,idType:1});else{if(e.shareId&&e.shareId!==t)return;Al({channel:5,channelId:this.followInfo.shareId,associateId:this.meetingId,idType:1})}}isInShare(){return!!this.followInfo&&!!this.followInfo.shareId}setMeetingSettings(e){const t=this.meetingSettings;t&&(void 0!==e.topic&&(t.topic=e.topic),void 0!==e.isCameraMuted&&(t.isCameraMuted=e.isCameraMuted),void 0!==e.isMicrophoneMuted&&(t.isMicrophoneMuted=e.isMicrophoneMuted),void 0!==e.subType&&(t.subType=e.subType),void 0!==e.maxParticipantNum&&(t.maxParticipantNum=e.maxParticipantNum),void 0!==e.isLocked&&(t.isLocked=e.isLocked),void 0!==e.isMuteOnEntry&&(t.isMuteOnEntry=e.isMuteOnEntry),void 0!==e.securitySetting&&(t.securitySetting=e.securitySetting),void 0!==e.maxVideochatDuration&&(t.maxVideochatDuration=e.maxVideochatDuration),void 0!==e.planType&&(t.planType=e.planType),void 0!==e.planTimeLimit&&(t.planTimeLimit=e.planTimeLimit),void 0!==e.i18nDefaultTopic&&(t.i18nDefaultTopic=e.i18nDefaultTopic),A.c.debug("[BYTEVIEW][NEC]: meeting settings updated, is_camera_muted: {},          is_microphone_muted: {}, sub_type: {}, max_participant_num: {},          max_videochat_duration: {}, plan_type: {}, is_locked: {},          is_mute_on_entry={}， plan_time_limit={},          security_level={},has_i18n_default_topic={}",t.isCameraMuted,t.isMicrophoneMuted,t.subType,t.maxParticipantNum,t.maxVideochatDuration,t.planType,t.isLocked,t.isMuteOnEntry,t.planTimeLimit,t.securitySetting&&t.securitySetting.securityLevel,t.i18nDefaultTopic))}setFeatureConfig(e){const t=this.meetingSettings;if(t){t.featureConfig=e;const i=e.pstn,n=e.shareMeeting;A.c.debug("[BYTEVIEW][NEC]: feature config updated, live_enable: {}, default_layout:          {}, record_enable: {}, host_control_enable: {} out_going_call_enable:          {}, incoming_call_enable: {}, invite_enable: {}copy_link_enable: {},          share_card_enable: {}",e.liveEnable,e.defaultLayout,e.recordEnable,e.hostControlEnable,i&&i.outGoingCallEnable,i&&i.incomingCallEnable,n&&n.inviteEnable,n&&n.copyMeetingLinkEnable,n&&n.shareCardEnable)}}setMeetingRecording(e){const t=e.isRecording;this.isRecording=t,this.isRecording&&(this.hasRecorded=!0),A.c.info("[BYTEVIEW][NEC_MEETING]: is_recording = {}, has_recorded = {}",this.isRecording,this.hasRecorded)}isLiving(){return!!this.liveInfo&&this.liveInfo.isLiving}setLiveInfo(e){!this.isLiving()&&e.isLiving&&fl(this.getCurrentMeetingId()),this.liveInfo=e}updateLiveInfo(e){var t;if(A.c.debug("[BYTEVIEW][NEC_LIVE]: receive live data, type={}, request from user_device_id={}",e.type,null===(t=e.requester)||void 0===t?void 0:t.deviceId),void 0===e.liveInfo)return void A.c.warn("[BYTEVIEW][NEC_LIVE]: no live info");const i=e.liveInfo;A.c.debug("[BYTEVIEW][NEC_LIVE]: update live info into combined_info, is_living={}",i.isLiving),this.setLiveInfo(i),A.c.debug("[BYTEVIEW][NEC_LIVE]: update live info success")}isThisMeetingLiving(e){return this.isLiving()&&this.meetingId===e}updateWhiteboardData(e){}getVecWhiteboardData(){return[]}packInfoToInMeetingInfo(e){if(e.meetingUrl=this.meetingUrl,e.vcType=this.vcType,e.whiteboardData=[],this.meetingSettings){const t=Object(Qc.d)(this.meetingSettings);if(this.shouldPushI18nTopic&&t.i18nDefaultTopic){t.i18nDefaultTopic}e.meetingSettings=t}e.followInfo=Object(Qc.d)(this.followInfo),e.isRecording=this.isRecording,e.hasRecorded=this.hasRecorded,e.recordingHover=Object(Qc.d)(this.recordingHover),this.isSubtitleOn&&(e.isSubtitleOn=this.isSubtitleOn),this.screenSharedData&&(e.shareScreenInMeetingInfo=Object(Qc.d)(this.screenSharedData)),this.liveInfo&&(e.liveInfo=Object(Qc.d)(this.liveInfo)),e.interviewCodingData=this.interviewCodingData}}class Ol{constructor(){this.changes=[]}}class vl{}var Pl;!function(e){e[e.ExtraOnly=0]="ExtraOnly",e[e.Combined=1]="Combined",e[e.Nothing=2]="Nothing"}(Pl||(Pl={}));class Ml{constructor(){this.meetingId="",this.version="",this.seqId=0,this.participants=new nl,this.meetingInfo=new Rl,this.extra=new Ol,this.frequentLimit=new vl,this.meetingInfo.shouldPushI18nTopic=!0}clean(){Object.assign(this,new Ml),A.c.info("[BYTEVIEW][INMEETING] clean combined info success")}setInMeetingInfo(e){this.isExpiredInMeetingInfo(e)?A.c.warn("[BYTEVIEW][SEQ]: in_meeting_seq_fg is opened and this seq is already expired"):(this.meetingId=e.id,this.meetingInfo.setInMeetingInfo(e),e.followInfo?this.updateFollowInfo(e.followInfo):this.meetingInfo.followInfo=void 0,this.participants.updateParticipants(e.participants),e.shareScreenInMeetingInfo?this.updateScreenSharedData(e.shareScreenInMeetingInfo):this.meetingInfo.screenSharedData=void 0,this.seqId=e.seqId||0,A.c.debug("[BYTEVIEW][INMEETING]: update combined_info in_meeting_info success, meeting_id={}",this.meetingId),this.version=e.version||"")}getCurrentMeetingId(){return this.meetingId}updateVersion(e){const t=e.version;t&&(this.version=t)}setVcInfo(e){this.meetingId=e.id,this.meetingInfo.initMeetingInfo(e),this.participants.initParticipants(e);const t=2===e.type;A.c.debug("[BYTEVIEW][NEC]: init combine from vc_info success, meeting_id={}, status={},        is_meet={}",this.meetingId,this.meetingInfo.status,t)}isNewFollow(e){}isValidFollow(e){}updateFollowInfo(e){this.meetingInfo.setFollowInfo(e)}isExpiredSeqId(e){return"number"==typeof e&&(e=new _.a(e)),e.lessThan(this.seqId)}isExpiredInMeetingInfo(e){const t=e.seqId||0;return!!this.isExpiredSeqId(t)&&(A.c.warn("[BYTEVIEW][SEQ]: expired in_meeting_info seq_id={}, new_seq_id={}",this.seqId,t),!0)}isExpiredInMeetingData(e){const t=e.seqId||0;switch(e.type){case 3:case 1:return this.isExpiredSeqId(t)?(A.c.warn("[BYTEVIEW][SEQ]: expired in_meeting_data seq_id={}, new_seq_id={}",this.seqId,t),!0):(this.seqId=t,!1);default:return!1}}updateParticipantsFromCalendar(){}setCanlendarInfo(e){this.calendarInfo=e,A.c.debug("[BYTEVIEW][INMEETING]: update combined_info calendar_info success")}updateScreenSharedData(e){if(!this.meetingInfo.screenSharedData)return this.meetingInfo.screenSharedData=e,void A.c.info("[BYTEVIEW][INMEETING]: start share screen");const t=this.meetingInfo.screenSharedData,i=t.shareScreenId||0,n=e.shareScreenId||0;if(n<i)A.c.warn("[BYTEVIEW][SEQ]: expired share_screen_data, share_screen_id={},          new_share_screen_id={}",i,n);else{if(n===i){if(!t.isSharing)return void A.c.warn("[BYTEVIEW][INMEETING]: share_screen={} already stoped",i);if(!e.isSharing)return(r=e).participantId="",r.participantDeviceId="",this.meetingInfo.screenSharedData=e,void A.c.info("[BYTEVIEW][INMEETING]: stop share screen");Number(t.version)<=Number(e.version)&&this.meetingInfo.updateShareScreenSettings(e),A.c.debug("[BYTEVIEW][INMEETING]: update same screen_shared_data success")}var r;this.meetingInfo.screenSharedData=e,A.c.debug("[BYTEVIEW][INMEETING]: update screen_shared_data as {}",n)}}packAndPushToClient(){el(this.packClient()),this.pushExtraToClient()}packClient(){const e={},t={};return this.meetingInfo.packInfoToInMeetingInfo(t),this.participants.packInfoToInMeetingInfo(t),t.id=this.meetingId,e.inMeetingInfo=t,this.calendarInfo&&(e.calendarInfo=Object(Qc.d)(this.calendarInfo)),e}pushExtraToClient(){if(0===this.extra.changes.length)return void A.c.debug("[BYTEVIEW][INMEETING]: in meeting change info empty, do not push");const{changes:e}=this.extra;var t;this.extra.changes=[],t={changes:e},Object(U.c)(h.a.PUSH_MEETING_CHANGED_INFO,Object(Zc.a)(t)),qc.b.info("[BYTEVIEW][INMEETING]: push in meeting change info to client success, changes len={}",t.changes.length)}packFullMeetingInfo(){const e={participants:[]},t={id:"",hostId:"",participants:[],inMeetingParticipants:[],othersParticipants:[],followActions:[],whiteboardData:[]};return this.meetingInfo.packInfoToInMeetingInfo(t),t.id=this.meetingId,this.participants.packHostInfoToInMeetingInfo(t),e.meetingId=this.meetingId,e.participants=this.participants.packParticipants(),e.inMeetingInfo=t,e}dispatchInMeetingData(e){const t=e.inMeetingData;A.c.debug("[BYTEVIEW][INMEETING]: in_meeting_data length={}",t.length);let i=!1;return t.forEach(e=>{const t=e.type;if(A.c.debug("[BYTEVIEW][INMEETING]: in_meeting_data_type={}, meeting_id={}",t,e.meetingId),!this.isExpiredInMeetingData(e)&&e.meetingId===this.meetingId)switch(i=!0,t){case 4:this.handleInMeetingMuteAll(e);break;case 3:this.handleInMeetingTransferHost(e);break;case 2:this.handleInMeetingParticipantsChanges(e);break;case 5:this.handleScreenShared(e);break;case 1:this.handleSettingsChanged(e);break;case 6:this.handleUnmuteCameraConfirmed(e);break;case 10:this.handleUnmuteMicrophoneConfirmed(e);break;case 8:this.handleFollowChange(e);break;case 7:this.handleUpgradeMeeting(e);break;case 11:this.handleRecordMeeting(e);break;case 12:this.handleFollowChange(e);break;case 15:this.handleApplyRemoteControl(e);break;case 20:this.handleSubtitleStatusChange(e);break;case 16:this.handleLiveMeeting(e);break;case 18:this.handleWhiteboard(e);break;case 22:this.handleUiFeatureConfig(e);break;case 24:this.handleInterviewCoding(e);break;default:this.extra.changes.push(Object(Qc.d)(e))}}),i?t.every(Ll)?Pl.ExtraOnly:(this.updateVersion(e),Pl.Combined):Pl.Nothing}handleInterviewCoding(e){A.c.info("[BYTEVIEW][INMEETING]: handle interview coding data: {}",JSON.stringify(e.interviewCodingData)),e.interviewCodingData&&(this.meetingInfo.interviewCodingData=e.interviewCodingData)}handleHostTransferred(e,t,i){A.c.debug("[BYTEVIEW][INMEETING]: host transferes host to {}, device_id={}",e,i),this.participants.transferHost(e,t,i)}handleInMeetingMuteAll(e){A.c.info("[BYTEVIEW][INMEETING]: receive all microphone muted push"),this.updateInMeetingInfoAndPush();const t=e.muteAllData&&e.muteAllData.isMuted,[i]=this.participants.getOwnMuteStatus();this.handleAllMicrophoneMute(i,e.muteAllData&&e.muteAllData.operationUser||void 0),i!==t&&this.extra.changes.push(Object(Qc.d)(e))}handleInMeetingTransferHost(e){A.c.info("[BYTEVIEW][INMEETING]: receive host transferred push");const t=e.hostTransferData;t&&this.handleHostTransferred(t.hostId,t.hostType||1,t.hostDeviceId||""),this.extra.changes.push(Object(Qc.d)(e))}handleInMeetingParticipantsChanges(e){var t;this.participants.getOwnMeetingRole();const[i,n]=this.participants.getOwnMuteStatus();this.handleParticipantsChanged(e);const[r,o]=this.participants.getOwnMuteStatus(),s=null===(t=e.participantsChangedData)||void 0===t?void 0:t.operationSource;!i&&r&&(A.c.debug("[BYTEVIEW][INMEETING]: microphone muted source={}",s),3===s&&this.extra.changes.push(bl(e.meetingId,101))),!n&&o&&(A.c.debug("[BYTEVIEW][INMEETING]: camera muted source={}",s),4===s&&this.extra.changes.push(bl(e.meetingId,102)))}handleParticipantsChanged(e){A.c.debug("[BYTEVIEW][INMEETING]: handle participants change");const t=e.participantsChangedData&&e.participantsChangedData.participants||[];this.participants.updateParticipants(t)}handleScreenShared(e){A.c.info("[BYTEVIEW][INMEETING]: handle screen share data"),e.screenSharedData&&this.updateScreenSharedData(e.screenSharedData),this.extra.changes.push(Object(Qc.d)(e))}handleSettingsChanged(e){var t,i;A.c.info("[BYTEVIEW][NEC_INMEETING]: receive settings changed");const n=e.settingsChangedData,r=n&&n.meetingSettings;if(!r)return;const o=(null===(t=this.meetingInfo.meetingSettings)||void 0===t?void 0:t.securitySetting)&&(null===(i=this.meetingInfo.meetingSettings)||void 0===i?void 0:i.securitySetting.securityLevel),s=r.securitySetting&&r.securitySetting.securityLevel;this.meetingInfo.meetingSettings=r,1!==o&&1===s?this.extra.changes.push(bl(this.meetingId,104)):4!==o&&4===s&&this.extra.changes.push(bl(this.meetingId,103)),this.extra.changes.push(Object(Qc.d)(e))}handleUiFeatureConfig(e){e.featureConfig&&this.meetingInfo.setFeatureConfig(e.featureConfig)}handleUnmuteCameraConfirmed(e){A.c.info("[BYTEVIEW][INMEETING]: receive unmute camera confirmed");const[t,i]=this.participants.getOwnMuteStatus();i&&this.extra.changes.push(Object(Qc.d)(e))}handleUnmuteMicrophoneConfirmed(e){A.c.info("[BYTEVIEW][INMEETING]: receive unmute microphone confirmed");const[t,i]=this.participants.getOwnMuteStatus();t&&this.extra.changes.push(Object(Qc.d)(e))}handleUpgradeMeeting(e){}handleRecordMeeting(e){if(this.extra.changes.push(Object(Qc.d)(e)),void 0===e.recordingData)return void A.c.error("[BYTEVIEW][INMEETING]: no recording data");const t=e.recordingData,i=t.type;A.c.debug("[BYTEVIEW][INMEETING]: recevice recording data type={}",i),1===i&&this.meetingInfo.setMeetingRecording(t),void 0!==t.recordingHover&&(this.meetingInfo.recordingHover=t.recordingHover,A.c.debug("[BYTEVIEW][INMEETING]: update recording hover"))}handleSubtitleStatusChange(e){}handleAllMicrophoneMute(e,t){e?(A.c.info("[BYTEVIEW][NEC]: host mutes all microphone"),this.participants.muteAllMicrophone(e,t)):A.c.info("[BYTEVIEW][NEC]: host unmutes all microphone")}handleFollowChange(e){var t,i;this.extra.changes.push(Object(Qc.d)(e)),(null===(t=e.followData)||void 0===t?void 0:t.followInfo)&&this.meetingInfo.setFollowInfo(null===(i=e.followData)||void 0===i?void 0:i.followInfo)}handleApplyRemoteControl(e){}handleWhiteboard(e){}handleLiveMeeting(e){void 0!==e.liveData&&this.meetingInfo.updateLiveInfo(e.liveData),this.extra.changes.push(Object(Qc.d)(e))}updateInMeetingInfoAndPush(){}}function Ll(e){const t=9===e.type,i=2===e.type,n=16===e.type&&e.liveData&&1===e.liveData.type;return t||n||i}function bl(e,t){const i={};return i.type=t,i.meetingId=e,i}const Dl=new Ml;function Ul(){return Dl}let wl=void 0;class kl{static getCurrentParticipant(e){return this.getByIdentifier(e,Jc())}static getByDeviceId(e,t){return e.find(e=>e.deviceId===t)}static getByIdentifier(e,t){return e.find(e=>Xc(e)===t)}}function Gl(){return 2===Ul().meetingInfo.getCurrentStatus()}function Vl(){return Ul().meetingInfo.getCurrentMeetingId()}var Hl=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function Bl(e){return Kc.decode("videochat.VideoChatInfo",e)}function Fl(e){!function(e){const t=Kc.decode("videochat.VideoChatNotice",e);A.c.debug("[BYTEVIEW][NOTICE]: receive notice, cmd={}, type={},      toast_duration_ms={}",t.cmd,t.type,t.toastDurationMs);const i=Object.assign(Object.assign({},t),{status:Object(Qc.d)(t.status),type:Object(Qc.d)(t.type),popupType:Object(Qc.d)(t.popupType),msgI18nKey:Object(Qc.d)(t.msgI18nKey),titleI18nKey:Object(Qc.d)(t.titleI18nKey),toastPosition:Object(Qc.d)(t.toastPosition),meetingEndTime:Object(Qc.d)(t.meetingEndTime)});Object(U.c)(h.a.PUSH_VIDEO_CHAT_NOTICE,i)}(e)}function jl(e){!function(e){const t=Kc.decode("videochat.VCManageResult",e);Object(U.c)(h.a.PUSH_VC_MANAGE_RESULT,t)}(e)}const Wl={receiveNotifyVideoChat:Bl,receiveNotifyVideoChatExtra:function(e){const t=Kc.decode("videochat.VideoChatExtraInfo",e);if(2!==t.type)return t.type,t;{const e=function(e){if(!wl)return e;qc.b.debug("[BYTEVIEW][EXTRA] update extra info, len = {}",e.inMeetingData.length),wl.version=e.version;const t=wl.inMeetingData;wl.inMeetingData=t.concat(e.inMeetingData)}(t);e&&Tl(e)}},receivePushVideoChatNotice:Fl,receivePushVcManageResult:jl,receiveGrootCellsFollow:function(e){const t=xc.decode("videochat_groot_cell.PushGrootCells",e),{channelMeta:{channel:i}}=t;if(5!==i)return;return{cells:t.cells.map(e=>Kc.decode("videochat.FollowGrootCellPayload",e.payload)),channelId:t.channelMeta.channelId,timestamp:+new Date}}},xl={receiveNotifyVideoChat:Bl,receivePushVideoChatNotice:Fl,receivePushVcManageResult:jl};var Kl=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};class ql{constructor(){this.failCount=0,this.successCount=0,this.beating=!1,this.token="",this.serviceType=0,this.cycleTime=6,this.expiredTime=70}resetState(){Object.assign(this,new ql)}hasBeating(){return this.beating}isMeetingBeating(e,t){return this.beating&&this.getToken()===e&&this.serviceType===t}getToken(){return this.token}getServiceType(){return this.serviceType}startBeating(e,t,i,n){this.resetState(),this.beating=!0,this.token=e,this.serviceType=t,this.cycleTime=i,this.expiredTime=n}stopBeating(){this.resetState()}getLastSuccessTime(){return this.lastSuccessTime}updateCycleTimeAndExpiredTime(e,t){this.cycleTime=e,this.expiredTime=t,A.c.debug("[BYTEVIEW][MUTEX]: update byteview heartbeat config success, cycle={},        expired_time={}",this.cycleTime,this.expiredTime)}getBaseConfig(){return[this.serviceType,this.cycleTime,this.expiredTime]}validateTimeout(){const e=this.lastSuccessTime;if(e){const t=Jl(e);if(t>=this.expiredTime)return A.c.debug("[BYTEVIEW][MUTEX]: validate_heartbeat_timeout timeout for {}s",t),[!0,1]}return[!1,null]}updateFailStatus(e){this.failCount+=1,this.failReson=e}updateSuccessStatus(){this.successCount+=1,this.lastSuccessTime=new Date,this.failReson=void 0}}const Yl=new ql;function Jl(e){return(Date.now()-e.getTime())/1e3}function zl(e,t){const i=function(e,t){if(!Yl.isMeetingBeating(e,t))return null;const[i,n,r]=Yl.getBaseConfig(),[o,s]=Yl.validateTimeout();return o?(Xl(s),null):[t,n,r]}(e,t);if(!i)return void A.c.info("[BYTEVIEW][MUTEX]: heartbeat already stop, no need to set ping task");const[n,r,o]=i;(function(e,t,i){return Kl(this,void 0,void 0,(function*(){let n;return 3===t?(A.c.debug("[BYTEVIEW][HEARTBEAT]: send lobby heartbeat, params is {}",JSON.stringify({token:e,expiredTime:i})),n=yield Object(b.g)({cmd:89323,payload:{token:e,timeoutDuration:i},encodePath:"videochat_lobby.VCLobbyHeartBeatRequest",decodePath:"videochat_lobby.VCLobbyHeartBeatResponse"}),A.c.debug("[BYTEVIEW][HEARTBEAT]: send lobby heartbeat result {}",n.data)):(A.c.debug("[BYTEVIEW][HEARTBEAT]: send heartbeat, params is {}",JSON.stringify({token:e,serviceType:t,expiredTime:i})),n=yield Object(b.g)({cmd:2300,payload:{token:e,serviceType:Object(Qc.a)(t),timeoutDuration:i},encodePath:"mutex.ByteviewHeartbeatRequest",decodePath:"mutex.ByteviewHeartbeatResponse"}),A.c.debug("[BYTEVIEW][HEARTBEAT]: send heartbeat result {}",JSON.stringify(n.data))),n}))})(e,t,o).then(i=>function(e,t,i){var n;if(!Yl.isMeetingBeating(e,t))return void A.c.info("[BYTEVIEW][MUTEX]: heartbeat already stopped");if(i.isError){A.c.warn("[BYTEVIEW][MUTEX]: put byteview heartbeat request failed"),Yl.updateFailStatus((null===(n=i.error)||void 0===n?void 0:n.message)||"");const e=Yl.getLastSuccessTime();return void(e&&A.c.debug("[BYTEVIEW][MUTEX]:heartbeat ping fail for {}s",Jl(e)))}Yl.updateSuccessStatus(),function(e,t){if(3===e){const e=t.unwrap();switch(e.status){case 1:A.c.info("[BYTEVIEW][MUTEX]: put lobby heartbeat callback success");break;case 2:A.c.info("[BYTEVIEW][MUTEX]: put lobby heartbeat callback denied"),Xl(2)}return}const i=t.unwrap();switch(i.status){case 1:A.c.info("[BYTEVIEW][MUTEX]: put byteview heartbeat callback success");break;case 2:A.c.info("[BYTEVIEW][MUTEX]: put byteview heartbeat callback denied"),Xl(2)}}(t,i)}(e,t,i)).catch(e=>A.c.error("[BYTEVIEW][MUTEX]: send heartbeat error: "+e)),function(e,t,i){setTimeout(()=>{zl(e,t)},1e3*i),A.c.info("[BYTEVIEW][MUTEX]: init delay ping task for {}s",i)}(e,t,r)}function Xl(e){if(!Yl.hasBeating())return void A.c.info("[BYTEVIEW][MUTEX]: already stopped, don't push heartbeat stop");const t={token:Yl.getToken(),serviceType:Yl.getServiceType(),reason:e};Object(U.c)(h.a.PUSH_BYTEVIEW_HEARTBEAT_STOP,t),Ql(),A.c.info("[BYTEVIEW][MUTEX]: push heartbeat stop, reason={}",e)}function Ql(){Yl.getServiceType(),Yl.stopBeating()}class $l{constructor(e){Object.assign(this,e)}}const Zl=new de.a;function ep(e){const t=e.filter(e=>Zl.has(e)).reduce((e,t)=>(Zl.get(t).updateTime+72e5>Object(Li.b)()&&(e[t]=function(e){var t;const i=Object(Zc.a)(e);return i.avatarKey=null===(t=e.newImage)||void 0===t?void 0:t.key,i}(Zl.get(t))),e),{}),i=e.filter(e=>!t[e]);return[t,i]}var tp=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function ip(e){return tp(this,void 0,void 0,(function*(){A.c.debug("[BYTEVIEW][ROOM]: start pull room_ids from server, {}",e);const t=yield function(e){return tp(this,void 0,void 0,(function*(){return(yield Object(b.g)({cmd:81e3,payload:e,encodePath:"videochat.PullRoomInfoRequest",decodePath:"videochat.PullRoomInfoResponse"})).unwrap()}))}({roomIds:e});A.c.info("[BYTEVIEW][ROOM]: pull rooms from server success"),function(e){if(!e.rooms)return void A.c.warn("[BYTEVIEW][ROOM]: no rooms need to be updated");!function(e){const t=[],i=[];Object.values(e).forEach(e=>{var n;t.push((n=e,new $l(Object.assign(Object.assign({},n),{id:n.roomId,updateTime:Object(Li.b)()})))),i.push(e.roomId)}),function(e){e.forEach(e=>{Zl.set(e.id,e)})}(t),A.c.debug("[BYTEVIEW][ROOM]: save rooms to db suceess, room_ids={}",i)}(e.rooms)}(t)}))}function np(e){!function(e){const t=al.getOwnStatus(e);switch(qc.b.debug("[BYTEVIEW][INMEETING]: current status={}",t),t){case 2:qc.b.debug("[BYTEVIEW][ENTRY]: start handle combined info, id={}",e.id),hl(e),function(e){const t=e.filter(e=>2===e.type).map(e=>e.id);t.length>0&&ip(t)}(e.participants)}}(e)}function rp(e){e.videoChatInfo&&(qc.b.info("[BYTEVIEW][ENTRY]: handle join calendar group meeting success resp"),np(e.videoChatInfo))}var op=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};var sp=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))},ap=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i};var dp=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};var cp=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};var lp=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function pp(e){return function(t){return lp(this,void 0,void 0,(function*(){return(yield Object(b.g)({cmd:e.cmd,payload:t,encodePath:e.encodePath,decodePath:e.decodePath})).unwrap()}))}}var up=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};var _p=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};var Ep=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};var hp=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function Tp(e){return(e.enableSystemTimezone?Intl.DateTimeFormat().resolvedOptions().timeZone:e.timezone)||"Etc/GMT"}var yp=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};var fp=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};var Ip=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};var gp=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};var Sp=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};var Cp=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};var mp=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};var Np=i(640);Object(c.f)({videochat_im:Np.a});c.e,c.b,c.a;var Ap=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};var Rp=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};var Op=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const vp={[h.a.START_BYTEVIEW_HEARTBEAT]:function(e){return Kl(this,void 0,void 0,(function*(){const{token:t,serviceType:i}=e;if(!t)return A.c.warn("[BYTEVIEW][MUTEX]: token is empty, skip heartbeart"),{};if(Yl.isMeetingBeating(t,i))return A.c.info("[BYTEVIEW][MUTEX]: start heartbeat already beating, token={}",t),{};const[n,r]=function(e){return 3===e?[10,70]:(Ul().meetingInfo.getIsMeet(),[6,70])}(i);return Yl.startBeating(t,i,n,r),zl(t,i),A.c.info("[BYTEVIEW][MUTEX]: start byteview heartbeat success"),{}}))},[h.a.STOP_BYTEVIEW_HEARTBEAT]:function(e){return Kl(this,void 0,void 0,(function*(){Yl.hasBeating()||A.c.info("[BYTEVIEW][MUTEX]: already no beating, no need to stop");const{token:t,serviceType:i}=e;return t&&i?Yl.isMeetingBeating(t,i)?(Ql(),A.c.debug("[BYTEVIEW][MUTEX]: stop byteview heartbeat success, token: {}, service_type: {}",t,i),{}):(A.c.info("[BYTEVIEW][MUTEX]: mismatch token={}, service_type={}",t,i),{}):(A.c.warn('[BYTEVIEW][MUTEX]: miss "token" or "serviceType" arg'),{})}))},[h.a.JOIN_MEETING]:function(e){return up(this,void 0,void 0,(function*(){A.c.debug("[BYTEVIEW][PREMEETING]: handle join meeting request");const t=(yield Object(b.g)({cmd:2333,payload:Object(Qc.a)(e),encodePath:"videochat.JoinMeetingRequest",decodePath:"videochat.JoinMeetingResponse"})).unwrap();return rp(t),Object(Qc.d)(Object(Zc.a)(t))}))},[h.a.UPDATE_VIDEO_CHAT]:function(e){return op(this,void 0,void 0,(function*(){const t=Kc.encode("videochat.UpdateVideoChatRequest",e),i=yield Object(b.h)({cmd:2207,payload:t}),n=Kc.decode("videochat.UpdateVideoChatResponse",i);return Object(Zc.a)(n)}))},[h.a.PARTICIPANT_CHANGE_SETTINGS]:function(e){return sp(this,void 0,void 0,(function*(){const{earlyPush:t}=e,i=ap(e,["earlyPush"]),n=e.meetingId;if(A.c.debug("[BYTEVIEW][INMEETING]: current meeting id: {}, req meeting id:{}, is current device      in meeting:{}",Vl(),n,Gl()),Vl()===n&&Gl()){A.c.debug("[BYTEVIEW][INMEETING]: handle change settings request"),e.earlyPush&&(o=Object(Qc.a)(e.participantSettings),Ul().participants.updateOwnParticipantSettings(o),cl(!1));const t=(yield Object(b.g)({cmd:2310,payload:Object(Qc.a)(i),encodePath:"videochat.ParticipantChangeSettingsRequest",decodePath:"videochat.ParticipantChangeSettingsResponse"})).unwrap();return t.participant&&(r=[t.participant],Ul().participants.updateParticipants(r)),{}}var r,o;return A.c.debug("[BYTEVIEW][PREMEETING]: handle change settings request"),yield Object(b.g)({cmd:2310,payload:Object(Qc.a)(i),encodePath:"videochat.ParticipantChangeSettingsRequest",decodePath:"videochat.ParticipantChangeSettingsResponse"}),{}}))},[h.a.TRIG_PUSH_FULL_MEETING_INFO]:function(){const e=Ul().packFullMeetingInfo();var t;return t=e,Object(U.c)(h.a.PUSH_MEETING_INFO,Object(Zc.a)(t)),qc.b.info("[BYTEVIEW][INMEETING]: push meeting info to client success, in_meeting_participants      len={}",t.participants.length),{}},[h.a.PULL_VIDEO_CHAT_CONFIG]:function(e){return cp(this,void 0,void 0,(function*(){return Object(Zc.a)(function(){return dp(this,void 0,void 0,(function*(){return(yield Object(b.g)({cmd:2213,payload:{},encodePath:"videochat.PullVideoChatConfigRequest",decodePath:"videochat.VideoChatConfig"})).unwrap()}))}())}))},[h.a.GET_MEETING_URL_INFO]:pp({cmd:89301,encodePath:"videochat.GetMeetingURLInfoRequest",decodePath:"videochat.GetMeetingURLInfoResponse"}),[h.a.SHARE_SCREEN]:function(e){return up(this,void 0,void 0,(function*(){A.c.debug("[BYTEVIEW][INMEETING]: handle share screen request");const t=(yield Object(b.g)({cmd:2311,payload:Object(Qc.d)(e),encodePath:"videochat.ShareScreenRequest",decodePath:"videochat.ShareScreenResponse"})).unwrap();var i;return(i=t).shareScreenInfo&&Ul().updateScreenSharedData(i.shareScreenInfo),Object(Zc.a)(Object(Qc.d)(t))}))},[h.a.REGISTER_CLIENT_INFO]:function(e){return _p(this,void 0,void 0,(function*(){const t=(yield Object(b.g)({cmd:2204,payload:Object(Qc.a)(e),encodePath:"videochat.RegisterClientInfoRequest",decodePath:"videochat.RegisterClientInfoResponse"})).unwrap();return t.infos.forEach(e=>{A.c.info("[BYTEVIEW][ENTRY]: client call register_client_info success resp"),np(e)}),Object(Zc.a)(Object(Qc.d)(t))}))},[h.a.GET_NTP_TIME]:function(e){return Ep(this,void 0,void 0,(function*(){return Promise.resolve({ntpTime:Date.now()})}))},[h.a.GET_LOCAL_CALENDAR_SETTINGS]:function(e){return hp(this,void 0,void 0,(function*(){const t=(yield Object(b.g)({cmd:1000020,encodePath:"calendars.PullCalendarSettingPbRequest",decodePath:"calendars.PullCalendarSettingPbResponse",payload:e})).unwrap();return Promise.resolve({settings:{timezone:Tp(t.calendarSetting),otherTimezones:[]}})}))},[h.a.ADJUEST_MEETING_DURATION]:function(e){return yp(this,void 0,void 0,(function*(){const t=(yield Object(b.g)({cmd:2373,payload:e,encodePath:"videochat.AdjustMeetingDurationRequest",decodePath:"videochat.AdjustMeetingDurationResponse"})).unwrap();return Object(Zc.a)(Object(Qc.c)(t,["meetingDuration","meetingStartTime","requestBeginTime","requestEndTime"]))}))},[h.a.GET_ADMIN_SETTINGS]:pp({cmd:88013,encodePath:"videochat.GetAdminSettingsRequest",decodePath:"videochat.GetAdminSettingsResponse"}),[h.a.MGET_ROOMS]:function(e){return fp(this,void 0,void 0,(function*(){const t=e.roomIds;A.c.debug("[BYTEVIEW][ROOM]: async request room_ids={}",t);let[i,n]=ep(t);return A.c.debug("[BYTEVIEW][ROOM]: mget rooms from db success, room_ids={}, missed_room_ids={}",Object.keys(i),n),0===n.length||(yield ip(n),[i,n]=ep(t),0!==n.length&&A.c.warn("[BYTEVIEW][ROOM]: missed some room ids, room_ids={}, missed_room_ids={}",Object.keys(i),n)),{rooms:i}}))},[h.a.PULL_PARTICIPANT_INFO]:function(e){return yp(this,void 0,void 0,(function*(){const t=(yield Object(b.g)({cmd:89403,payload:Object(Qc.a)(e),encodePath:"videochat.PullParticipantInfoRequest",decodePath:"videochat.PullParticipantInfoResponse"})).unwrap();return Object(Zc.a)(Object(Qc.d)(t))}))},[h.a.REPLY_VIDEO_CHAT_NOTICE]:function(e){return Hl(this,void 0,void 0,(function*(){return{}}))},[h.a.GET_FEEDBACK_REASONS]:function(e){return Ip(this,void 0,void 0,(function*(){let t={items:[],multiItems:{shareScreenItems:[],videoItems:[]}};return(2===e.feedbackType||3===e.feedbackType)&&(t.multiItems={shareScreenItems:[{message:"无法共享内容",subkey:"View_M_UnableToShareScreen_BE"},{message:"看不到共享内容",subkey:"View_M_CouldNotSeeSharedContent"},{message:"共享内容延迟",subkey:"View_M_ScreenSharingDelays_BE"},{message:"共享意外停止",subkey:"View_M_SharingEndedUnexpectedly_BE"}],videoItems:[{message:"声音卡顿",subkey:"View_G_SoundStuttering_BE"},{message:"视频卡顿",subkey:"View_VM_FrozenVideo_BE"},{message:"没有声音",subkey:"View_G_NoSound_BE"},{message:"没有画面",subkey:"View_VM_NoVideo_BE"},{message:"回声噪音",subkey:"View_G_NoiseOrEcho_BE"},{message:"意外结束",subkey:"View_G_EndedUnexpectedly_BE"}]}),Promise.resolve(t)}))},[h.a.PUT_VIDEO_CHAT_FEEDBACKS]:pp({cmd:2317,encodePath:"videochat.VideoChatMeetingFeedbackRequest",decodePath:"videochat.VideoChatMeetingFeedbackResponse"}),[h.a.GET_ASSOCIATED_VC]:pp({cmd:2335,encodePath:"videochat.GetAssociatedVideoChatRequest",decodePath:"videochat.GetAssociatedVideoChatResponse"}),[h.a.GET_CALENDAR_INFO]:function(e){return gp(this,void 0,void 0,(function*(){const t=yield pl(e.meetingId);return function(e){const t=Ul();t.setCanlendarInfo(e),t.packAndPushToClient()}(t.calendarInfo),Object(Zc.a)(Object(Qc.d)(t))}))},[h.a.CHECK_GUEST_JOIN_VC]:function(e){return Sp(this,void 0,void 0,(function*(){return{response:JSON.stringify({CanJoinAsGuest:!1})}}))},[h.a.GET_VIEW_I18N_TEMPLATE]:function(e){return Cp(this,void 0,void 0,(function*(){const t=e.keys,i=y.a.getLanguageIdentifier();A.c.debug("[BYTEVIEW][I18N]: get view i18n template request subkeys={}, locale={}",t,i);return(yield Object(b.g)({cmd:5500,payload:{i18nKeys:t,locale:i},encodePath:"i18n.PullMessageI18NTemplatesRequest",decodePath:"i18n.PullMessageI18NTemplatesResponse"})).unwrap()}))},[h.a.JOIN_MEETING_PRE_CHECK]:pp({cmd:2351,encodePath:"videochat.JoinMeetingPreCheckRequest",decodePath:"videochat.JoinMeetingPreCheckResponse"}),[h.a.TRIG_PUSH_SELF_INFO]:function(){return dl(this,void 0,void 0,(function*(){const e=Ul(),t={upsertParticipants:[],removeParticipants:[]},i=e.participants.getCurrentParticipant();return i?(t.meetingId=e.meetingId,t.upsertParticipants=rl([i]),tl(t),{}):(qc.b.warn("current participant not found, skip trigPushSelfInfo"),{})}))},[h.a.REJOIN_VIDEO_CHAT]:function(e){return up(this,void 0,void 0,(function*(){A.c.debug("[BYTEVIEW][PREMEETING]: handle rejoin video chat request");const t=(yield Object(b.g)({cmd:2321,payload:e,encodePath:"videochat.RejoinVideoChatRequest",decodePath:"videochat.RejoinVideoChatResponse"})).unwrap();return function(e){1===e.status&&void 0!==e.videoChatInfo&&(qc.b.info("[BYTEVIEW][ENTRY]: rejoin success resp"),np(e.videoChatInfo))}(t),Object(Zc.a)(Object(Qc.d)(t))}))},[h.a.LIVE_MEETING_ACTION]:pp({cmd:2380,encodePath:"videochat.VideoChatLiveActionRequest",decodePath:"videochat.VideoChatLiveActionResponse"}),[h.a.LIVE_MEETING_JOIN_PRE_CHECK]:pp({cmd:2382,encodePath:"videochat.VideoChatLivePreCheckRequest",decodePath:"videochat.VideoChatLivePreCheckResponse"}),[h.a.LIVE_MEETING_FETCH_LIVE_POLICY]:pp({cmd:2385,encodePath:"videochat.VideoChatFetchLivePolicyRequest",decodePath:"videochat.VideoChatFetchLivePolicyResponse"}),[h.a.SET_USER_NAME]:function(e){return mp(this,void 0,void 0,(function*(){const t=(yield Object(b.g)({cmd:5300,encodePath:"users.PutUserNameRequest",decodePath:"users.PutUserNameResponse",payload:e})).unwrap(),{chatter:i}=t;return i?(function(e){const t={};t[e.id]=e,_a(t)}(i),{name:i.name}):(A.c.warn('[BYTEVIEW][CHATTER]: update user name to "{}" failed',e.name),{})}))},[h.a.SEND_VIDEO_CHAT_INTERACTION_MESSAGE]:function(e){return Ap(this,void 0,void 0,(function*(){const t=(yield Object(b.g)({cmd:2352,payload:Object(Qc.a)(Object(Zc.a)(e),e=>(e.textContent&&e.textContent.content&&(e.textContent.content=function(e){const t=c.d.create("entities.RichText");t.elementIds=e.elementIds,t.innerText=e.innerText,t.imageIds=e.imageIds,t.atIds=e.atIds,t.anchorIds=e.anchorIds;const i={};for(const[t,n]of Object.entries(e.elements))try{const e=Sn(n);i[t]=e}catch(e){A.c.error("cli2ser element failed: id={} err={}",t,e)}const n=c.d.create("entities.RichTextElements");return n.dictionary=i,t.elements=n,t}(e.textContent.content)),e)),encodePath:"videochat_im.SendVideoChatInteractionMessageRequest",decodePath:"videochat_im.SendVideoChatInteractionMessageResponse"})).unwrap();A.c.debug("sendVideoChatInteractionMessage",t);return Object(Qc.d)(Object(Zc.a)(t),e=>(e.message&&e.message.textContent&&e.message.textContent.content&&(e.message.textContent.content=In(e.message.textContent.content)[0]),e))}))},[h.a.PULL_VIDEO_CHAT_INTERACTION_MESSAGES]:function(e){return Ap(this,void 0,void 0,(function*(){const t=(yield Object(b.g)({cmd:2353,payload:Object(Qc.a)(e),encodePath:"videochat_im.PullVideoChatInteractionMessageRequest",decodePath:"videochat_im.PullVideoChatInteractionMessageResponse"})).unwrap();A.c.debug("pullVideoChatInteractionMessage",t);return Object(Qc.d)(Object(Zc.a)(t),e=>(e.messages=e.messages.map(e=>(e.textContent&&e.textContent.content&&(e.textContent.content=In(e.textContent.content)[0]),e)),e))}))},[h.a.OCCUPY_INTERVIEW_CODING]:function(e){return Rp(this,void 0,void 0,(function*(){const t=(yield Object(b.g)({cmd:89012,payload:Object(Qc.a)(Object(Zc.a)(e)),encodePath:"videochat.OccupyCodingRequest",decodePath:"videochat.OccupyCodingResponse"})).unwrap();return Object(Qc.d)(Object(Zc.a)(t))}))},[h.a.SEND_INTERVIEW_CODING_ACTION]:function(e){return Rp(this,void 0,void 0,(function*(){const t=(yield Object(b.g)({cmd:89013,payload:Object(Qc.a)(Object(Zc.a)(e)),encodePath:"videochat.SendInterviewActionRequest",decodePath:"videochat.SendInterviewActionResponse"})).unwrap();return Object(Qc.d)(Object(Zc.a)(t))}))},[h.a.KEEP_MEETING]:function(e){return Op(this,void 0,void 0,(function*(){A.c.debug("[BYTEVIEW][MEETING]: KEEP_MEETING");const t=(yield Object(b.g)({cmd:89310,payload:Object(Qc.a)(e),encodePath:"videochat.KeepMeetingRequest",decodePath:"videochat.KeepMeetingResponse"})).unwrap();return A.c.debug("keepMeeting",t),Object(Qc.d)(Object(Zc.a)(t))}))}},Pp={2210:[h.a.NOTIFY_VIDEO_CHAT,Wl.receiveNotifyVideoChat],2306:[h.a.NOTIFY_VIDEO_CHAT_EXTRA,Wl.receiveNotifyVideoChatExtra],2215:[h.a.PUSH_VIDEO_CHAT_NOTICE,Wl.receivePushVideoChatNotice],89344:[h.a.PUSH_VC_MANAGE_RESULT,Wl.receivePushVcManageResult],2354:[h.a.PUSH_VIDEO_CHAT_INTERACTION_MESSAGES,function(e){const t=c.d.decode("videochat_im.PushVideoChatInteractionMessages",e);return A.c.debug("receivePushVideoChatInteractionMessages",t),Object(Qc.d)(Object(Zc.a)(t),e=>(e.messages=e.messages.map(e=>(e.textContent&&e.textContent.content&&(e.textContent.content=In(e.textContent.content)[0]),e)),e))}],89002:[h.a.PUSH_GROOT_CELLS_FOLLOW,Wl.receiveGrootCellsFollow]},Mp={2306:[h.a.NOTIFY_VIDEO_CHAT_EXTRA,xl.receiveNotifyVideoChat],2215:[h.a.PUSH_VIDEO_CHAT_NOTICE,xl.receivePushVideoChatNotice],89344:[h.a.PUSH_VC_MANAGE_RESULT,xl.receivePushVcManageResult]};new R.a;function Lp(){ie(nd),ie(Ed),ie(kc),ie(vp),H(rd,od),Xa(),id(),H(hd,Td),ad(),Hc(),H(Pp,Mp)}var bp=i(252),Dp=i(339),Up=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const wp=Object(A.b)("CALL API");bp.util.Long=u,bp.configure();const kp=(e,t)=>Up(void 0,void 0,void 0,(function*(){const i=h.a[e];try{wp.debug("call api start: cmd={} arg={}",e,!1),function e(t){if("[object Object]"===Object.prototype.toString.call(t))for(const i in t)if(void 0===t[i])delete t[i];else if(Array.isArray(t[i]))for(const n of t[i])e(n);else e(t[i])}(t);const n=yield function(e,...t){return ee(this,void 0,void 0,(function*(){return te[e]?te[e](...t):Promise.reject(new Error("Can't find command:"+e))}))}(i,t);return wp.debug("call api end: cmd={} res={}",e),n}catch(t){if(wp.error("call api error: cmd={} e={}",e,t),t instanceof Ti.c)throw t;const i=t.displayMessage||"ohh, some error",n=t.code||0;throw new Ti.c(n,i,i)}})),Gp=kp,Vp=T.a.on.bind(T.a),Hp=T.a.off.bind(T.a),Bp=Vp,Fp=Hp;A.a;function jp(e){A.c.debug("init sdk start");const{domainAlias:t={},i18nConfig:i,appMeta:n}=e,{appVersion:r,appId:o,appChannel:s,appKey:a}=n;self.__appMeta={appVersion:r,appId:o},Object(E.b)(t,s,a),yi.init(),e.initFeedCount&&Object(D.h)(e.initFeedCount),e.sidecar&&Object(Dp.b)(e.sidecar),Lp(),Object(y.h)(i),A.c.debug("init sdk finish")}function Wp(){!function(){w(this,void 0,void 0,(function*(){Object(M.d)(J)}))}()}},function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return a})),i.d(t,"d",(function(){return u}));var n,r,o=i(121),s=i.n(o);!function(e){e.rw="rw",e.en="en-US",e.id="id-ID",e.de="de-DE",e.es="es-ES",e.fr="fr-FR",e.it="it-IT",e.pt="pt-BR",e.vi="vi-VN",e.ru="ru-RU",e.hi="hi-IN",e.th="th-TH",e.ko="ko-KR",e["zh-CN"]="zh-CN",e["ja-JP"]="ja-JP"}(r||(r={}));var a=((n={})[r.en]={text:"English"},n[r.id]={text:"Bahasa Indonesia"},n[r.de]={text:"Deutsch"},n[r.es]={text:"Español"},n[r.fr]={text:"Français"},n[r.it]={text:"Italiano"},n[r.pt]={text:"Português (Brasil)"},n[r.vi]={text:"Tiếng Việt"},n[r.ru]={text:"Русский"},n[r.hi]={text:"हिन्दी"},n[r.th]={text:"ภาษาไทย"},n[r.ko]={text:"한국어"},n[r["zh-CN"]]={text:"简体中文"},n[r["ja-JP"]]={text:"日本語"},n[r.rw]={text:"PseudoLanguage"},n),d=function(){return(d=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},c=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))},l=function(e,t){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},p=new(function(){function e(){var e=this;this.resource={},this.options={},this.observers={},this.count=0,this.defaultLangCode=r.en,this.t=function(t,i){try{var n=e.getI18nText(t);return n?i?e.format(n,i):n:t}catch(e){return console.error("i18n error",e),t}},this.getI18nText=function(t){var i=e.getTextFromKaConfig(t),n=e.getTextFromResource(t);return i||n},this.getTextFromKaConfig=function(t){var i=(window.globalKaConfig&&window.globalKaConfig.i18n||{})[t];if(i)return i[e.options.langCode||"$base"]||i.$base},this.getTextFromResource=function(t){return e.resource[t]},this.translate=function(t,i){if(!0===t.isTranslated)throw new Error("you are translating component more than once. stop it.");if(!("function"!=typeof t||t.prototype&&t.prototype.render))return e.functionCmpSubscriber(t,{});var n=t.prototype,r=e,o=n.componentDidMount;n.componentDidMount=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this.translateId=r.subscribe((function(){return e.forceUpdate()})),o.apply(this,t)};var s=n.componentWillUnmount;return n.componentWillUnmount=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];s.apply(this,e),r.unsubscribe(this.translateId)},t}}return e.prototype.init=function(e){return void 0===e&&(e={}),c(this,void 0,void 0,(function(){var t,i,n,o;return l(this,(function(s){switch(s.label){case 0:return e.hasPseudoLang||(delete r.rw,delete a.rw),t=Object.keys(r).find((function(t){return r[t]===e.langCode})),i=Object.keys(r).find((function(t){return r[t]===e.langCode})),n=e.supportLanguage||Object.keys(a),o=r[t]||n.find((function(e){return window.navigator.language.startsWith(e.split("-")[0])}))||r[i]||this.defaultLangCode,this.options=d(d({resourcesMapKey:"byteviewLangResources",resourcesLoadFunctionName:"byteviewLoadLangResource"},e),{langCode:o}),[4,this.switchLang(this.options.langCode)];case 1:return s.sent(),[2]}}))}))},Object.defineProperty(e.prototype,"langCode",{get:function(){return this.options.langCode||this.defaultLangCode},enumerable:!1,configurable:!0}),e.prototype.switchLang=function(e){return c(this,void 0,void 0,(function(){return l(this,(function(t){switch(t.label){case 0:return e?[4,this.loadResource(e)]:[2];case 1:return t.sent(),this.options.langCode=e,this.triggerSubscriber(),[2]}}))}))},e.prototype.format=function(e,t){var i=this,n=e;Object.keys(t).forEach((function(e){n=(n=n.replace(new RegExp("{{s*"+e+"s*}}","g"),t[e])).replace(new RegExp("{s*"+e+"s*}","g"),t[e])}));var r=n.split("@@");return r.length<2?n:r.map((function(e,n){if(n%2==1){var r=Math.floor(n/2),o=t.richTexts||t.richTextLinks,a=o&&o[r];if("function"==typeof a)return a(e,n);var d=o&&(o[r][i.lang]||o[r].default);return s.a.createElement("a",{key:n,href:d||"",rel:"noopener noreferrer"},e)}return s.a.createElement(s.a.Fragment,{key:n},e)}))},e.prototype.functionCmpSubscriber=function(e,t){var i,n=this,r=e.displayName||e.name,a=d({forwardRef:!1},t),c=function(t,i){var r=Object(o.useRef)(),s=Object(o.useState)(!1),a=(s[0],s[1]);return Object(o.useEffect)((function(){return r.current=n.subscribe((function(){return a((function(e){return!e}))})),n.unsubscribe(r.current)}),[]),e(t,i)};return c.displayName=r,(i=a.forwardRef?s.a.forwardRef(c):c).displayName=r,i},e.prototype.subscribe=function(e){var t=this.count++;return this.observers[t]=e,t},e.prototype.unsubscribe=function(e){delete this.observers[e]},e.prototype.loadResource=function(e){return c(this,void 0,void 0,(function(){var t;return l(this,(function(i){switch(i.label){case 0:return t=this,[4,window[this.options.resourcesLoadFunctionName](e)];case 1:return t.resource=i.sent(),[2]}}))}))},e.prototype.triggerSubscriber=function(){var e=this;Object.keys(this.observers).forEach((function(t){e.observers[t]&&e.observers[t]()}))},e}());t.c=p;window.__i18n__=p.t.bind(p);var u=p.t.bind(p);p.translate;window.i18n=p},,,,,function(e,t,i){"use strict";var n,r,o;i.d(t,"a",(function(){return n})),i.d(t,"c",(function(){return r})),i.d(t,"b",(function(){return o})),function(e){e.CLICK_CANCEL="feedback closed by cancel btn click",e.SUBMIT="feedback closed by submit btn click"}(n||(n={})),function(e){e.AUDIO_VIDEO="AUDIO_VIDEO",e.SHARE_SCREEN="SHARE_SCREEN"}(r||(r={})),function(e){e[e.NONE=0]="NONE",e[e.LOBBY_LEAVE=1]="LOBBY_LEAVE",e[e.MEETING_OVER=2]="MEETING_OVER",e[e.ALREADY_IN_MEETING=3]="ALREADY_IN_MEETING",e[e.MEETING_EXPIRED=4]="MEETING_EXPIRED",e[e.MEETING_LEAVE=5]="MEETING_LEAVE",e[e.END_MEETING=6]="END_MEETING",e[e.KICK_OUT_MEETING=7]="KICK_OUT_MEETING",e[e.LOG_OUT=8]="LOG_OUT",e[e.KICK_OUT_LOBBY=9]="KICK_OUT_LOBBY",e[e.SOME_ERROR=10]="SOME_ERROR"}(o||(o={}))},function(e,t,i){"use strict";i.d(t,"c",(function(){return n})),i.d(t,"e",(function(){return h})),i.d(t,"d",(function(){return g})),i.d(t,"b",(function(){return m})),i.d(t,"a",(function(){return A}));var n=new Proxy({download_feishu_button:!0,footer_links:!0,continuation_page:!0},{get:function(e,t){var i,n;const r=null===(n=null===(i=window.globalKaConfig)||void 0===i?void 0:i.fs)||void 0===n?void 0:n[t];return"boolean"==typeof r?r:e[t]}}),r=i(599),o=i.n(r),s=i(600),a=i.n(s),d=i(601),c=i.n(d),l=i(602),p=i.n(l),u=i(603),_=i.n(u);const E={app_logo_40:"",logo:o.a,feishu_en_US_logo:a.a,feishu_zh_CN_logo:c.a,lark_logo:p.a,continuation_logo:_.a};var h=new Proxy(E,{get:function(e,t){var i,n,r;return(null===(r=null===(n=null===(i=window.globalKaConfig)||void 0===i?void 0:i.resources)||void 0===n?void 0:n[t])||void 0===r?void 0:r[0])||e[t]}}),T=i(347),y=i(50),f=i(82);const I={app_name:y.b?{[T.a["zh-CN"]]:"飞书",[T.a.en]:"Feishu",$base:"飞书"}:{[T.a["zh-CN"]]:"Lark",[T.a.en]:"Lark",$base:"Lark"}};var g=new Proxy({},{get:function(e,t){var i,n;const r=null===(n=null===(i=window.globalKaConfig)||void 0===i?void 0:i.i18n)||void 0===n?void 0:n[t],o=f.b.langCode;return(null==r?void 0:r[o])||I[t][o]||I[t].$base}}),S=i(604);const C=function(){const e=location.hostname,t=["feishu-boe","feishu-pre","feishu","larksuite-pre","larksuite"].find(t=>e.includes(t))||"feishu";return S[t]}();var m=new Proxy(C,{get:function(e,t){var i,n;return(null===(n=null===(i=window.globalKaConfig)||void 0===i?void 0:i.domain)||void 0===n?void 0:n[t])||e[t]}});const N={open_app_link:"lark://client/videochat/meetingno/join",rtc_sdk_app_id:"5b978bab09b27c0034d252c0",rtc_sdk_req_addrs:["https://lvc.bytedance.com/decision/v1/multi","https://lvc.bytevcloud.com/decision/v1/multi"],rtc_sdk_log_server:y.c?"https://device-bd.larksuite.com/video/v1/vc_webrtc_log/":"https://device-bd.feishu.cn/video/v1/vc_webrtc_log/",logo_height:"",logo_width:"",passport_template_id:y.c?"6881915603888635909":"6877854360479481860",lark_app_channel:"sass",lark_app_key:"5f45da0e6c7a17dcba80494ef0ab9b21",login_path:"/suite/passport/page/login/"};var A=new Proxy(N,{get:function(e,t){var i,n;return(null===(n=null===(i=window.globalKaConfig)||void 0===i?void 0:i.common)||void 0===n?void 0:n[t])||e[t]}})},,,,,function(e,t,i){"use strict";function n(){return String(1e3*Date.now())}function r(){return Date.now()}function o(){return String(Date.now()).slice(-10)}function s(e,t,i){e[t]||(e[t]=[]),Array.isArray(i)?e[t]=e[t].concat(i):e[t].push(i)}function a(e){const t=[],i=new Set(e).values();let{value:n,done:r}=i.next();do{t.push(n);const e=i.next();n=e.value,r=e.done}while(!r);return t}i.d(t,"c",(function(){return n})),i.d(t,"b",(function(){return r})),i.d(t,"d",(function(){return o})),i.d(t,"e",(function(){return s})),i.d(t,"a",(function(){return a}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return a}));var n=i(1049),r=i(70);const o=Object(n.a)().toUpperCase(),s=/feishu.*\.cn/.test(location.hostname),a="true"===Object(r.a)("isoversea")||window.__ENV__.isOversea},,,function(e,t,i){"use strict";var n=i(1),r=i(139),o=i(654),s=i.n(o),a=i(22),d=i.n(a),c=i(56),l=i(655),p=i.n(l);const u=d.a.bind(p.a),_={maxWidth:5e3,className:""},E={hidden:!0,currentWidth:5e3};class h extends c.c{constructor(e=_){super(e),E.currentWidth=e.maxWidth,this.state=E,this.spanRef=n.createRef()}componentDidMount(){const e=this.spanRef.current.getBoundingClientRect().width;this.setState(t=>({currentWidth:Math.ceil(e),hidden:!1}),()=>{this.props.flexCb&&this.props.flexCb()})}render(){const{hidden:e,currentWidth:t}=this.state,{maxWidth:i,className:r="",minWidth:o,fitContent:s}=this.props,a=u({"flexible-wrapper-hidden":e,"flexible-wrapper":!0});return n.createElement("div",{className:`${a} ${r}`,style:{maxWidth:i+"px",width:s?"100%":t+"px",minWidth:o||0}},n.createElement("span",{ref:this.spanRef},this.props.children))}}var T=i(7),y=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i};const f=d.a.bind(s.a),I={maxWidth:285,paddingLeft:12,paddingRight:12};t.a=e=>{const{className:t="",style:i,content:o,langWidth:s,popClassName:a="",contentMinWidth:d,fitContent:c,theme:l,hasTriangle:p=!1}=e,u=y(e,["className","style","content","langWidth","popClassName","contentMinWidth","fitContent","theme","hasTriangle"]);if(!o)return n.createElement(n.Fragment,null,e.children);let _;if(s){const{body:e}=document;for(const[t,i]of Object.entries(s))if(e.classList.contains("lang-"+t)){_={maxWidth:i};break}}const E=Object.assign(Object.assign(Object.assign({},I),_),i),g=n.createElement("div",{className:f("tooltip",{dark:l===T.p.DARK},t),style:E},e.contentNoFlexible?o:n.createElement(h,{maxWidth:E.maxWidth-E.paddingLeft-E.paddingRight,minWidth:d,fitContent:c},o),p&&n.createElement("span",{className:f("triangle")}));return n.createElement(r.a,Object.assign({isTooltip:!0,placement:"top",popClassName:f("tooltip-container",a),content:g,autoToggle:"hover",enableClickHide:!0,hideDelay:0,hoverDelay:0},u))}},,,function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return a}));var n=i(1),r=i(31),o=i(38);class s extends n.PureComponent{componentDidMount(...e){return this.didMount(...e)}render(...e){return this.rendering(...e)}componentDidUpdate(e,t){return this.didUpdate.apply(this,[e,t])}componentWillUnmount(...e){return this.willUnmount(...e)}componentDidCatch(e,t){return this.didCatch.apply(this,[e,t])}didMount(...e){}rendering(...e){return null}didUpdate(e,t){}willUnmount(...e){}intl(e,t){return Object(o.d)(e,t)}track(e,t){Object(r.d)(e,t)}didCatch(e,t){}}class a extends n.Component{componentDidMount(...e){return this.didMount(...e)}render(...e){return this.rendering(...e)}componentDidUpdate(e,t){return this.didUpdate.apply(this,[e,t])}componentWillUnmount(...e){return this.willUnmount(...e)}componentDidCatch(e,t){return this.didCatch.apply(this,[e,t])}didMount(...e){}rendering(...e){return null}didUpdate(...e){}willUnmount(...e){}intl(e,t){return Object(o.d)(e,t)}track(e,t){Object(r.d)(e,t)}didCatch(...e){}}t.c=a},,,,,function(e,t,i){"use strict";var n,r;i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return r})),function(e){e.VC_INTERVIEW="vc_interview",e.VC_MEETING_PASSPORT="vc_meeting_passport",e.VC_WEB_RTC_SDK="vc_web_rtc_sdk",e.VC_MEETING_POPUP="vc_meeting_popup",e.VC_MEETING_PAGE_SEARCH_LIST="vc_meeting_page_search_list",e.VC_MEETING_PAGE_SUGGEST_LIST="vc_meeting_page_suggest_list",e.VC_CALL_PAGE_ONTHECALL="vc_call_page_onthecall",e.VC_MEETING_PAGE_ONTHECALL="vc_meeting_page_onthecall",e.VC_MEETING_PAGE_SETTING="vc_meeting_page_setting",e.VC_MEETING_FINISH="vc_meeting_finish",e.VC_MEETING_FINISH_PAGE="vc_meeting_finish_page",e.VC_MEETING_LARK_HINT="vc_meeting_lark_hint",e.VC_BEGIN_LIVE_POPUP="vc_begin_live_popup",e.VC_END_LIVE_POPUP="vc_end_live_popup",e.VC_MEETING_PAGE_PREVIEW="vc_meeting_page_preview",e.VC_MEETING_ATTEND="vc_meeting_attend",e.VC_PRIVACY_POLICY_POPUP="vc_privacy_policy_popup",e.VC_MEETING_PAGE_FEEDBACK="vc_meeting_page_feedback",e.VC_CALL_PAGE_FEEDBACK="vc_call_page_feedback",e.VC_MEETING_LARK_ENTRY="vc_meeting_lark_entry",e.VC_MEETING_ATTEND_FAIL="vc_meeting_attend_fail",e.VC_LIVE_SETTING_PAGE="vc_live_setting_page",e.VC_UP_STREAMING_POPUP="vc_up_streaming_popup",e.VC_UP_STREAMING_MORE_APP_POPUP="vc_up_streaming_more_app_popup",e.VC_MEETING_MAGIC_SHARE_ACTION_CONSUME_STAT="vc_meeting_magic_share_action_consume_stat",e.VC_MEETING_MAGIC_SHARE_INIT_TRACK="vc_meeting_magic_share_init_track",e.VC_MEETING_MAGIC_SHARE_STAT="vc_meeting_magic_share_stat"}(n||(n={})),function(e){e.vc_lark_linux="vc_lark_linux",e.vc_lark_web="vc_lark_web"}(r||(r={}))},,function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"c",(function(){return r})),i.d(t,"d",(function(){return o})),i.d(t,"e",(function(){return s})),i.d(t,"b",(function(){return a}));const n="zh_CN",r="en_US",o="ja_JP";var s,a;!function(e){e[e.Chinese=1]="Chinese",e[e.English=2]="English",e[e.Japanese=3]="Japanese"}(s||(s={})),function(e){e.fromValue=function(t){switch(t){case e.Chinese:return e.Chinese;case e.English:return e.English;case e.Japanese:return e.Japanese;default:return}},e.getLanguageIdentifier=function(t){switch(t){case e.Chinese:return n;case e.English:return r;case e.Japanese:return o}},e.getLanguageIdentifierKey=function(t){return e.getLanguageIdentifier(t).toLocaleLowerCase()}}(s||(s={})),a||(a={})},function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return d}));var n=i(608);const r=e.env.CUSTOM_UNIT;let o="production";const s="local"===e.env.LOCAL;/^pre/.test(o)&&(o="pre-release");const a={};function d(e,t,i){if(t||(t="sass"),a.channel=t,i&&(a.appKey=i),s||0===Object.keys(e).length){const e=function(e){const t=e.match(/\-\w/g);return t&&t.forEach(t=>{e=e.replace(t,t[1].toUpperCase())}),e}(`${t}${"production"===o?"":"-"+o}${"sass"===t||"cn"===r?"":"sg"===r?"-sg":"-oversea"}`);c(n[e])}else c(e)}function c(e){const{api:t,long:i,passport:n,file:r,suite_tklog:o,suite_main_domain:s,open:d,internal_api:c}=e,l={apiHost:"https://"+t,fetchURL:`https://${t}/im/gateway/`,socketHost:i,ticketURL:`https://${n}/suite/passport/frontier_ticket/`,fileURL:"https://"+r,suite_tklog:"https://"+o,passportURL:"https://"+n,webClientURL:`https://www.${s}/messenger`,internalApi:"https://"+c,suiteMainDomain:s,actionCardApis:{v2:`https://${d}/open-apis/api/v2/message/action`,v3:`https://${t}/open-apis/message/v3/action`,vote:`https://${t}/lark-vote/Vote`}};for(const e in l)a[e]=l[e]}}).call(this,i(200))},,,,,function(e,t,i){"use strict";i.d(t,"c",(function(){return Q})),i.d(t,"b",(function(){return se}));class n{constructor(e){this.level=e.level,this.format=e.format}log(e,t){throw new Error("Concrete Transport must implments log method")}}const r={transform:e=>e},o=()=>{},s={silly:1,debug:2,info:3,warn:4,error:5};class a{constructor(e){this.transports=e.transports}log(e,t,...i){this.transports.forEach(n=>{if(s[e]<s[n.level])return;const a=n.format||r,d={level:e,message:t};i.forEach(e=>{for(const t in e)e.hasOwnProperty(t)&&(d[t]=e[t])});const c=a.transform(d);n.log(c,o)})}}class d extends n{log(e,t){const i=e.level;console[i](...e.outputs),t()}}function c(e){const t=e.getFullYear(),i=e.getMonth()+1,n=e.getDate(),[r,o,s]=[t,i,n].map(e=>e<10?"0"+e:String(e));return`${r}-${o}-${s}`}var l;!function(e){e.SDK="SDK",e.WEB="WEB"}(l||(l={}));var p=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const u=(Math.random().toString(36)+"0000000000").substring(2,2+"0000000000".length);function _(e){return e+"-log"}function E(e){const t=_(l.SDK);e.objectStoreNames.contains(t)||e.createObjectStore(t,{autoIncrement:!0});const i=_(l.WEB);e.objectStoreNames.contains(i)||e.createObjectStore(i,{autoIncrement:!0})}const h={};function T(e){const{db:t,storeName:i,buffers:n}=e,r=t.transaction(i,"readwrite").objectStore(i),o=[...n];n.length=0,o.forEach(e=>{r.add({date:c(new Date),tabId:u,log:e}).onerror=e=>{console.error("Add row into db error",i,e)}})}const y={};let f=!1;class I extends n{log(e,t){!function(e,t){if(h[e]){if(h[e].buffers.push(t),C)return;return T(h[e])}if(y[e]||(y[e]=[]),y[e].push(t),y[e].length>200&&(y[e].length=0),f)return;const i=indexedDB.open("lark-log",3);f=!0,i.onerror=function(e){f=!1,console.error("Open db error","lark-log")},i.onsuccess=function(t){f=!1;const i=t.target.result;h[e]={db:i,storeName:e,buffers:y[e]||[],isCleaning:!1},delete y[e],T(h[e]),O(e)},i.onupgradeneeded=function(t){const i=t.target.result;console.error("onupgradeneeded write",i.objectStoreNames,e),E(i)}}(_(e.logPrefix),e.outputs),t()}}function g(e,t,i){return new Promise((n,r)=>{const o=[],s=indexedDB.open("lark-log",3);s.onsuccess=function(s){const a=s.target.result.transaction(e,"readonly").objectStore(e).openCursor();a.onsuccess=function(e){const r=e.target.result;if(!r)return n(o);const s=r.value;r?(s.tabId===t&&s.date===i&&o.push(s.log),r.continue()):n(o)},a.onerror=function(e){r(),console.error("Read row error")}},s.onupgradeneeded=function(e){E(e.target.result)}})}let S=0,C=!1;let m=null;const N=[],A=()=>null;console.warn("[LOG CLEAN] env:","production");const R={[_(l.SDK)]:{threshold:2e5,bigBatch:8e3,smallBatch:6e3},[_(l.WEB)]:{threshold:4e4,bigBatch:8e3,smallBatch:6e3}};function O(e,t=3e4){A("[LOG CLEAN] scheduleStoreCheck -- storeName:",e,"timeout:",t),self.setTimeout(()=>v(e),t)}function v(e){return p(this,void 0,void 0,(function*(){const t=h[e];if(!t)return;let i;A("[LOG CLEAN] checkAndScheduleLogClean -- storeName:",e,"storeInfo:",t),h[e].isCleaning=!0;try{i=yield function(e,t){return new Promise((i,n)=>{const r=e.transaction(t,"readonly").objectStore(t).count();r.onsuccess=()=>i(r.result),r.onerror=e=>n(e)})}(t.db,e)}catch(t){A("[LOG CLEAN] checkAndScheduleLogClean -- storeName:",e,"getStoreEntriesCount Error:",t)}if("number"!=typeof i)return void(h[e].isCleaning=!1);const n=R[e];A("[LOG CLEAN] checkAndScheduleLogClean -- store entries count:",i,"strategy:",n);const r=M(e,i-n.threshold>0);A("[LOG CLEAN] checkAndScheduleLogClean -- task scheduled",r),null===m&&(m=self.setInterval(P,1e5),A("[LOG CLEAN] checkAndScheduleLogClean -- setInterval for running task:",m))}))}function P(){return p(this,void 0,void 0,(function*(){if(0===N.length)return A("[LOG CLEAN] runCleanTask -- emptyQueue",h),void(Object.values(h).some(e=>e.isCleaning)||(self.clearInterval(m),m=null,A("[LOG CLEAN] runCleanTask -- clearInterval, stop task running")));if(C)return void A("[LOG CLEAN] runCleanTask -- A task is still running, skip");C=!0;const e=N.shift();A("[LOG CLEAN] runCleanTask -- id:",e.id,"currentTask:",e);const{storeName:t,inBigBatch:i}=e,n=R[t],r=h[t],{db:o}=r;let s;try{i?yield function(e,t,i){return new Promise((n,r)=>{A("[LOG CLEAN] deleteStoreEntriesWithoutDateCheck -- deleteCount:",i,"storeName:",t);let o=0;const s=e.transaction(t,"readwrite"),a=s.objectStore(t).openCursor(),d=Date.now();a.onsuccess=e=>{const t=e.target.result;t&&(t.delete(),o+=1,o>=i||t.continue())},a.onerror=e=>r(e),s.oncomplete=()=>{const e=Date.now()-d;A("[LOG CLEAN] deleteStoreEntriesWithoutDateCheck accomplished -- deleteCount:",o,"storeName:",t,"duration:",e),n()},s.onerror=e=>r(e),s.onabort=e=>r(e)})}(o,t,n.bigBatch):s=yield function(e,t,i){return new Promise((n,r)=>{A("[LOG CLEAN] deleteStoreEntriesBeforeToday");let o=0,s=!1;const a=c(new Date),d=e.transaction(t,"readwrite"),l=d.objectStore(t).openCursor(),p=Date.now();l.onsuccess=e=>{const t=e.target.result;t&&t.value&&(t.value.date>=a?s=!0:(o+=1,o>=i||(t.delete(),t.continue())))},l.onerror=e=>r(e),d.oncomplete=()=>{0===o&&(s=!0);const e=Date.now()-p;A("[LOG CLEAN] deleteStoreEntriesBeforeToday accomplished:",s,"count:",o,"duration:",e),n(s)},d.onerror=e=>r(e),d.onabort=e=>r(e)})}(o,t,n.smallBatch)}catch(e){A("[LOG CLEAN] runCleanTask -- log deletion task error:",e,"storeName:",t,"inBigBatch:",i,"strategy:",n)}return A("[LOG CLEAN] runCleanTask -- id:",e.id,"task accomplished"),T(r),C=!1,i?(A("[LOG CLEAN] runCleanTask -- id:",e.id,"goto checkAndScheduleLogClean"),void v(t)):s?(A("[LOG CLEAN] runCleanTask -- id:",e.id,"storeName:",t,"log clean accomplished"),h[t].isCleaning=!1,void O(t,864e5)):(M(t,!1),void A("[LOG CLEAN] runCleanTask -- id:",e.id,"continue clean with date check"))}))}function M(e,t){S+=1;const i={id:S,storeName:e,inBigBatch:t};return N.push(i),i}const L=self.requestFileSystem||self.webkitRequestFileSystem;function b(e,t){const i=e.message;console.error("Open file error: "+i),t&&t(e)}let D={},U=!1;const w={};function k(e,t,i){e.forEach(e=>{e[t](i)})}var G;!function(e){e[e.IDEL=0]="IDEL",e[e.BUSY=1]="BUSY"}(G||(G={}));let V=G.IDEL,H=[];function B(e,t){var i;H.push(t),(i=e,U?Promise.reject():D[i]?Promise.resolve(D[i]):new Promise((e,t)=>{Array.isArray(w[i])?w[i].push({resolve:t=>e(t),reject:()=>t()}):(w[i]=[],self.webkitStorageInfo.requestQuota(self.PERSISTENT,26214400,n=>{if(0===n)return U=!0,k(w[i],"reject"),Promise.reject();L(self.PERSISTENT,26214400,n=>{n.root.getFile(i,{create:!0},t=>{D={[i]:t},Array.isArray(w[i])&&k(w[i],"resolve",t),e(t)},e=>{b(e,t)})},e=>{b(e,t)})},e=>b(e,t)))})).then(e=>{V!==G.BUSY?(V=G.BUSY,e.createWriter(e=>{e.onwriteend=()=>{V=G.IDEL},e.onerror=e=>{V=G.IDEL,console.error("Write failed: "+e.toString())};const t=H.map(e=>e+"\n");H=[];const i=new Blob(t,{type:"text/plain"});e.seek(e.length),e.write(i)},e=>{console.error("Create Writer failed: "+e.toString()),V=G.IDEL,b(e,null)})):H.length>200&&(console.warn("Drop log"),H=[])})}class F extends n{log(e,t){B(function(e){const t=new Date;return`${e}-log-${t.getFullYear()}-${t.getMonth()}-${t.getDate()}`}(e.logPrefix),e.outputs),t()}}var j=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};var W,x,K=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};let q;!function(e){e[e.Console=0]="Console",e[e.DB=1]="DB",e[e.FS=2]="FS"}(W||(W={})),function(e){e[e.TRACE=1]="TRACE",e[e.DEBUG=2]="DEBUG",e[e.INFO=3]="INFO",e[e.WARN=4]="WARN",e[e.ERROR=5]="ERROR",e[e.SILENT=6]="SILENT"}(x||(x={}));let Y;q={transports:[{name:W.Console,level:x.ERROR},{name:W.DB,level:x.DEBUG}]};const J={[x.TRACE]:"silly",[x.DEBUG]:"debug",[x.INFO]:"info",[x.WARN]:"warn",[x.ERROR]:"error",[x.SILENT]:"silent"},z={silly:"trace",debug:"debug",info:"info",warn:"warn",error:"error",slient:"log"};let X;function Q(e){X=e}function $(){const e=new Date,t=e.getMonth()+1,i=e.getDate(),n=e.getHours(),r=e.getMinutes(),o=e.getSeconds(),s=e.getMilliseconds(),[a,d,c,l,p,u]=[t,i,n,r,o,s].map(e=>e<10?"0"+e:e);return`${a}-${d} ${c}:${l}:${p}.${u}`}function Z(e){const{source:t,outputs:i}=e,n=$(),r=[`%c ${l[t.applicationType]} %c ${n} %c ${x[t.level]} %c [${t.namespace}] `,ne.applicationType(),ne.time(),ne.level(t.level),ne.namespace(),...i];return{level:z[e.level],message:e.message,outputs:r}}function ee(e){const{source:t,outputs:i}=e,n=$(),r=i.map(e=>""===e?e:function(e){return e&&e.toString&&"function"==typeof e.toString&&e.toString!==Object.prototype.toString}(e)?e.toString():JSON.stringify(e)),o=`${n} - ${x[t.level]} - [${t.namespace}] ${r.join("")}`;return{level:z[e.level],message:e.message,logPrefix:t.applicationType,outputs:o}}function te(){if(Y)return Y;const e=[];return q&&Array.isArray(q.transports)&&q.transports.forEach(t=>{const i=t.level||x.TRACE;switch(t.name){case W.Console:e.push(new d({level:J[i],format:{transform:Z}}));break;case W.DB:e.push(new I({level:J[i],format:{transform:ee}}));break;case W.FS:e.push(new F({level:J[i],format:{transform:ee}}))}}),Y=new a({transports:e}),Y}const ie={[x.TRACE]:"#212121",[x.DEBUG]:"#3CABDB",[x.INFO]:"#167FFC",[x.WARN]:"#595BD4",[x.ERROR]:"#FD3259"},ne={applicationType:()=>"color: #FFF; background: #2694ab",level:e=>`color: #FFF; background:${ie[e]};`,namespace:()=>"color: #FFF; background: #F68657",time:()=>"color: #FFF; background: #ea7070"};class re{constructor(e,t){this.namespace=e,this.logLevel=x.DEBUG,this.applicationType=t}print(e,t,i){this.logLevel!==x.SILENT&&(this.logLevel&&e<this.logLevel||function(e){const t=te(),i=function(e,t){const i=e.split("{}"),n=[];function r(e,t){null!=t&&e.push(t)}for(let e=0,o=i.length;e<o;e++){n.push(i[e]);const o=t.shift();r(n,o)}for(let e=0,i=t.length;e<i;e++){const i=t[e];r(n,i)}return n}(e.template,e.args);if(X){const t=["[JSSDK]"].concat(i).join("");X[J[e.level]](t)}else try{t.log(J[e.level],"",{source:e,outputs:i})}catch(e){}}({template:t,args:i,level:e,namespace:this.namespace,applicationType:this.applicationType}))}setLevel(e){this.logLevel=e}enableAll(){this.setLevel(x.TRACE)}disableAll(){this.setLevel(x.SILENT)}trace(e,...t){this.print(x.TRACE,e,t)}debug(e,...t){this.print(x.DEBUG,e,t)}info(e,...t){this.print(x.INFO,e,t)}warn(e,...t){this.print(x.WARN,e,t)}error(e,...t){this.print(x.ERROR,e,t)}}const oe={},se=new re("default",l.SDK);function ae(e){return oe[e]=oe[e]||new re(e,l.SDK),oe[e]}const de=new re("default",l.WEB);t.a=e=>{const{target:t,params:i,method:n,namespace:r}=e;if("upload"===t)return function(e){return K(this,void 0,void 0,(function*(){try{const{deviceId:t,fileUrl:i}=e,n=yield function(){return p(this,void 0,void 0,(function*(){const[e,t]=yield Promise.all([g(_(l.SDK),u,c(new Date)),g(_(l.WEB),u,c(new Date))]);return{sdk:e,web:t}}))}(),r=yield function(e){return j(this,void 0,void 0,(function*(){return fetch(e.fileUrl+"/api/log/web/",{body:JSON.stringify({device_id:e.deviceId,zip_file:e.zipFile,data:e.data}),headers:{"content-type":"application/json"},method:"POST"})}))}({deviceId:t,fileUrl:i,data:{"sdk.log":n.sdk.join("\n"),"ui.log":n.web.join("\n")},zipFile:"web-log.zip"});r.isError&&ce.error("Upload log error: {}",r.error.message)}catch(e){ce.error("Upload log error: {}",e.message)}}))}(i);(function(e,t){return"feLogger"===e?de:ae(t)})(t,r)[n](...i)};const ce=ae("log")},function(e,t,i){"use strict";function n(e){const t=location.search;return(t?(/^[?#]/.test(t)?t.slice(1):t).split("&").reduce((e,t)=>{let[i,n]=t.split("=");return e[i]=n?decodeURIComponent(n.replace(/[+\/]/g,"")):"",e},{}):{})[e]}i.d(t,"a",(function(){return n}))},,,,function(e,t,i){"use strict";i.d(t,"f",(function(){return o})),i.d(t,"g",(function(){return s})),i.d(t,"i",(function(){return a})),i.d(t,"e",(function(){return d})),i.d(t,"c",(function(){return c})),i.d(t,"h",(function(){return l})),i.d(t,"d",(function(){return p})),i.d(t,"a",(function(){return u})),i.d(t,"b",(function(){return _}));var n;i(49),i(15),i(251),i(3);!function(e){e[e.All=1]="All",e[e.Signal=2]="Signal",e[e.ECDH=3]="ECDH"}(n||(n={}));const r=new class{constructor(){this.isVersionUpdate=!1,this.userSecurityConfigEnable=!1,this.isSwitchingUser=!1,this.showNoticeDetail=!0,this.enableThreadSubscription=!1,this.systemMessageTemplates={},this.syncPipeCondition={isSyncing:!1,shouldContinueOnFinish:!1},this.cryptoChatMode=n.All,this.initFeedCount=200}};function o(e){return r.systemMessageTemplates[e]}function s(){return Boolean(r.enableThreadSubscription)}function a(e){r.syncPipeCondition.isSyncing=e}function d(){return r.syncPipeCondition}function c(){return r.initFeedCount}function l(e){r.initFeedCount=e}function p(){return r.showNoticeDetail}const u="3.34.0",_={77:"3.20.0",7600:"3.15.0",7601:"3.15.0",5080:"3.15.0",5018:"3.15.0",2333:"5.2.0",70006:"3.46.0",70007:"3.46.0",70003:"3.46.0"}},,,,function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"c",(function(){return r})),i.d(t,"b",(function(){return o}));class n{}class r extends Error{constructor(e,t,i){super(t),this.code=e,this.displayMessage=i||t,this.message=t}}var o;!function(e){e[e.Uint8Array=0]="Uint8Array",e[e.string=1]="string",e[e.JSON=2]="JSON",e[e.Blob=3]="Blob",e[e.FormData=4]="FormData"}(o||(o={}))},function(e,t,i){"use strict";i.d(t,"b",(function(){return h})),i.d(t,"a",(function(){return n})),i.d(t,"c",(function(){return y})),i.d(t,"d",(function(){return g}));var n,r=i(1),o=i(261),s=i(16),a=i.n(s),d=(i(740),i(19)),c=i(1076),l=i(1077),p=i(1078),u=i(1079),_=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i};!function(e){e.ERROR="icon-error-solid",e.WARNING="icon-vc-warning",e.INFO="icon-info-solid",e.SUCCESS="icon-yes-solid",e.NULL=""}(n||(n={}));const E={[n.ERROR]:c.a,[n.WARNING]:l.a,[n.INFO]:p.a,[n.SUCCESS]:u.a};var h;!function(e){e.DEFAULT="DEFAULT",e.LARK="LARK",e.IN_MEETING="IN_MEETING"}(h||(h={}));class T extends r.Component{constructor(e){super(e),this.end=()=>{this.setState({in:!1})},this.hold=()=>{clearTimeout(this.timer)},this.restore=()=>{this.timer=setTimeout(()=>this.end(),this.props.interval)},this.state={in:!1}}componentDidMount(){setTimeout(()=>this.setState({in:!0})),this.timer=setTimeout(()=>this.end(),this.props.interval)}renderPrefix(e=h.DEFAULT,t){if(e===h.DEFAULT||t===n.NULL)return null;if(e===h.LARK){const e=t||n.ERROR,i=E[e];return r.createElement(i,{className:`toast-${e} toast-lark`})}{const e=E[t];return t?r.createElement(e,null):null}}render(){const e=this.props,{timeout:t,classNames:i,theme:n,iconType:s,onExited:c=d.g,onEnter:l=d.g,onEntered:p=d.g,onEntering:u=d.g,onExit:E=d.g,onExiting:T=d.g}=e,y=_(e,["timeout","classNames","theme","iconType","onExited","onEnter","onEntered","onEntering","onExit","onExiting"]),f=a()({"bv-toast":h.DEFAULT===n,"bv-lark-toast":h.LARK===n,"bv-in-meeting-toast":h.IN_MEETING===n});return r.createElement(o.CSSTransition,{in:this.state.in,timeout:this.props.timeout,classNames:i,onExited:c,onEnter:l,onEntered:p,onEntering:u,onExit:E,onExiting:T,unmountOnExit:!0},r.createElement("div",Object.assign({className:f},y),this.renderPrefix(n,s),r.createElement("span",{className:"bv-toast-content"},this.props.children)))}}T.defaultProps={timeout:400,interval:3e3,classNames:"bv-fade",theme:h.DEFAULT};var y,f=i(75),I=i.n(f);!function(e){e.REPLACE="REPLACE",e.OVERLAY="OVERLAY"}(y||(y={}));class g{constructor(e=y.REPLACE,t){this.options={maxCounts:10,reverseDirection:!1,insertMode:!0,rootElement:document.body},this.toastType=e,this.toastQuenue=[],this.holdToastQuenue=[],this.options=Object.assign(Object.assign(Object.assign({},this.options),t),{rootElement:(t||{}).rootElement||document.body})}createToastController(e,t,i){const n={container:e,getInstance:i,isRendered:!1,isDestroyed:!1};switch(this.toastType){case y.REPLACE:{const i=Object.assign(Object.assign({},n),{render:()=>{document.body.appendChild(e),I.a.render(t(),e);const n=this.holdToastQuenue.length;n>0&&setTimeout(()=>{e.style.top=`-${n*(e.firstElementChild.offsetHeight+10)}px`}),i.isRendered=!0},forceDestroy(){this.getInstance().end(),this.destroy()},destroy:()=>{i.isDestroyed||(i.isDestroyed=!0,this.options.rootElement&&this.options.rootElement.removeChild(e),this.toastQuenue=this.toastQuenue.filter(e=>e!==i),this.holdToastQuenue=this.holdToastQuenue.filter(e=>e!==i),this.toastQuenue[0]&&this.toastQuenue[0].render())},exec:()=>{if(this.toastQuenue.push(i),1===this.toastQuenue.length)i.render();else{const e=this.toastQuenue[this.toastQuenue.length-2];e.isRendered?e.forceDestroy():e.render=function(){e.render(),e.forceDestroy()}}},execHold:()=>{i.render(),this.holdToastQuenue.push(i),i.getInstance().hold()}});return i}case y.OVERLAY:{const i=Object.assign(Object.assign({},n),{render:()=>{this.options.rootElement&&this.options.rootElement.appendChild(e),I.a.render(t(),e);const i=this.toastQuenue.length-1+this.holdToastQuenue.length;this.options.insertMode?setTimeout(()=>{e.style.top="0px",this.toastQuenue.forEach((e,t)=>{if(!e||!e.container||!e.container.firstElementChild||t===this.toastQuenue.length-1)return;const i=this.toastQuenue[t+1],n=parseInt(i.container.style.top.replace(/[^\-\.\d]*/gi,""),10)||0,r=e.container,o=n-r.firstElementChild.offsetHeight-10;r.style.top=o+"px"})}):setTimeout(()=>{e.style.top=`-${i*(e.firstElementChild.offsetHeight+10)}px`})},forceDestroy(){this.getInstance().end()},destroy:()=>{this.options.rootElement&&this.options.rootElement.removeChild(e),this.holdToastQuenue=this.holdToastQuenue.filter(e=>e!==i),this.toastQuenue=this.toastQuenue.map(e=>e!==i?e:null)},exec:()=>{(this.toastQuenue.length>this.options.maxCounts||this.toastQuenue.every(e=>null===e))&&(this.toastQuenue.forEach(e=>{e&&e.getInstance().end()}),this.toastQuenue=[]),this.toastQuenue.push(i),i.render()},execHold:()=>{i.render(),this.holdToastQuenue.push(i),i.getInstance().hold()}});return i}default:throw new TypeError}}addToast(e,t,i=!1){const n=document.createElement("div");let o;n.style.position="relative",n.style.zIndex="99";const s=this.createToastController(n,()=>a,()=>o),a=r.createElement(T,Object.assign({timeout:400,ref:function(e){o=e},onExited:s.destroy},t,{classNames:"bv-fade "+(t?t.classNames:"")}),e);return i?s.execHold():s.exec(),s}notice(e,t){return this.addToast(e,t)}hold(e,t){const i=this.addToast(e,t,!0);return function(){i.getInstance().end()}}}},,,function(e,t,i){"use strict";i.d(t,"c",(function(){return a})),i.d(t,"e",(function(){return d}));var n=i(44),r=i(38),o=i(70);i.d(t,"a",(function(){return r.b})),i.d(t,"d",(function(){return r.d}));var s=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function a(){return s(this,void 0,void 0,(function*(){yield r.c.init({langCode:Object(o.a)("lang")||"",hasPseudoLang:"true"===Object(o.a)("pseudo"),supportLanguage:[r.b.en,r.b["zh-CN"]]})}))}const d=()=>{document.title=document.title.replace(/(Lark|飞书|Feishu)/g,n.d.app_name)};t.b=r.c},,,,,function(e,t,i){"use strict";function n(e,t){let i,n;return"object"==typeof e?(i=e.userId,n=e.deviceId):(i=e,n=t),i?`${i}-${n||""}`:""}i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return n}));class r{constructor(){this.idToParticipantIds={}}get(e){return this.idToParticipantIds[e]}has(e,t){if(!this.idToParticipantIds[e])return!1;const i=n(e,t);return!!this.idToParticipantIds[e].includes(i)}add(e,t){const i=n(e,t);Array.isArray(this.idToParticipantIds[e])?this.has(e,t)||this.idToParticipantIds[e].push(i):this.idToParticipantIds[e]=[i]}update(e,t){this.has(e,t)||this.add(e,t)}}},,function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i(31),r=i(19);class o{constructor(e){this.rootStore=e}get byteviewApi(){return r.a}update(e){Reflect.ownKeys(e).forEach(t=>{const i=e[t];void 0!==i&&this[t]!==i&&(this[t]=i)})}track(e,t){Object(n.d)(e,t)}track2(e,t,i){this.rootStore.conferenceStore.isCall?Object(n.d)(e,i):Object(n.d)(t,i)}}},,function(e,t,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},s=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),r=0;for(t=0;t<i;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)n[r]=o[s];return n};Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;var a=i(99),d=!0;try{var c=new URLSearchParams(location.search)||{},l=localStorage.getItem("debug")||c.get("debug");l&&(d=!!l)}catch(e){}var p=0,u=new(function(){function e(){var e=this;this.dataBuffer=[],this.isSenderOpen=!1,this.reportInterval=5e3,this.reportLimit=1500,this.commonHeaders={rtc_session_id:"",app_id:"",report_time:0,app_version:"",sdk_version:"",user_id:"",room_id:"",env_type:"debug",os:"",os_version:"",browser:"",browser_version:"",product_line:"rtc",project_key:"byteview",is_oversea:"0",service_type:"web_vc",report_version:2},this.timer=0,this.failSendLog=[],this.logPostUrl="",this.discardHighEventCount=0,this.discardNotHighEventCount=0,this.sendEventToServer=function(t){return void 0===t&&(t=!1),r(e,void 0,void 0,(function(){var e,i,r;return o(this,(function(o){switch(o.label){case 0:if(!this.isSenderOpen)return[2];if(this.dataBuffer.length<=0)return[2];if(!this.commonHeaders.app_id)return[2];if(i=!1,this.failSendLog.length?(e=this.failSendLog.shift(),i=!0):(r=this.dataBuffer.splice(0,2*this.reportLimit),e={data:r,header:n(n({},this.commonHeaders),{report_time:Date.now(),report_log_count:r.length}),from:"web",version:"1",canaan_format_type:40}),t)return navigator.sendBeacon(this.logPostUrl,JSON.stringify(e)),[2];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(this.logPostUrl,{body:JSON.stringify(e),method:"post"})];case 2:return o.sent(),[3,4];case 3:return o.sent(),i?this.failSendLog.unshift(e):this.failSendLog.push(e),[3,4];case 4:return[2]}}))}))},this.init()}return e.prototype.init=function(){var e=this;window.addEventListener("unload",(function(){try{e.isSenderOpen&&e.sendEventToServer(!0)}catch(e){}}))},e.prototype.setCommonHeaders=function(e){Object.assign(this.commonHeaders,e)},e.prototype.setConfig=function(e){this.logPostUrl=e},e.prototype.start=function(){this.stop(),this.isSenderOpen=!0,this.timer=window.setInterval(this.sendEventToServer,this.reportInterval)},e.prototype.stop=function(){clearInterval(this.timer),this.isSenderOpen=!1},e.prototype.addEventToBuffer=function(e,t){this.isSenderOpen&&(this.dataBuffer.length<2*this.reportLimit-1?(t.event_key=e,t.seq=p++,t.occur_time=Date.now(),this.dataBuffer.push(t)):this.dataBuffer.length===2*this.reportLimit-1?this.dataBuffer.push({seq:p++,event_key:"rtc_log_warning",message:"reach log dataBuffer limit: "+this.dataBuffer.length}):a.highEventName.includes(e)?this.discardHighEventCount++:this.discardNotHighEventCount++)},e.prototype.getDiscardHighEventCount=function(){return this.discardHighEventCount},e.prototype.getDiscardNotHighEventCount=function(){return this.discardNotHighEventCount},e}()),_=null,E=function(){function e(e){this.prefix="RTC-SDK",this.enableLog=d,this.prefix=this.prefix+"["+e+"]"}return e.getLogger=function(t,i){void 0===i&&(i=!0);var n=new e(t);return n.enableLog=i,n},e.setInterceptor=function(e){_=e},e.setCommonHeaders=function(e){u.setCommonHeaders(e)},e.setConfig=function(e,t){void 0===t&&(t=!0),u.setConfig(e)},e.start=function(){u.start()},e.stop=function(){u.stop()},e.getDiscardHighEventCount=function(){return u.getDiscardHighEventCount()},e.getDiscardNotHighEventCount=function(){return u.getDiscardNotHighEventCount()},e.prototype.enableConsole=function(e){this.enableLog=e},e.prototype.track=function(e,t){u.addEventToBuffer(e,t)},e.prototype.logError=function(e,t){this.error(e,t);var i={error_code:t.code,message:t.message,occur_time:Date.now(),origin_error:{},module:this.prefix};t.origin&&(i.origin_error={code:t.origin.code,message:t.origin.message}),u.addEventToBuffer(e,i)},e.prototype.wrapArgs=function(e){return e[0]=this.prefix+" "+e[0],e},e.prototype.logExecutor=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var n=this.wrapArgs(t);this.enableLog&&(_?_[e].apply(_,n):console[e].apply(console,n))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logExecutor.apply(this,s(["info"],e))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logExecutor.apply(this,s(["debug"],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logExecutor.apply(this,s(["error"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logExecutor.apply(this,s(["warn"],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logExecutor.apply(this,s(["log"],e))},e.prototype.trace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logExecutor.apply(this,s(["trace"],e))},e}();t.Logger=E},,,,,,,,function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),r=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(i(775),t),r(i(776),t),r(i(777),t),r(i(778),t),r(i(468),t),r(i(779),t),r(i(780),t),r(i(781),t),r(i(782),t),r(i(783),t),r(i(784),t),r(i(785),t)},,function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"c",(function(){return r})),i.d(t,"b",(function(){return o}));var n,r,o,s=i(6),a=i(25),d=i(154),c=i(31),l=i(61);!function(e){e.RECEIVED="received",e.DISPATCHED="dispatched",e.IGNORED="ignored",e.APPLIED="applied",e.FAILED="failed"}(n||(n={})),function(e){e[e.initial=0]="initial",e[e.refresh=1]="refresh",e[e.reshare=2]="reshare",e[e.change_presenter=3]="change_presenter"}(r||(r={})),function(e){e[e.success=0]="success",e[e.fresh_abort=1]="fresh_abort",e[e.webview_load_fail=2]="webview_load_fail",e[e.jssdk_inject_fail=3]="jssdk_inject_fail",e[e.stg_inject_fail=4]="stg_inject_fail",e[e.webview_crash=5]="webview_crash",e[e.start_failed=6]="start_failed",e[e.stg_pull_fail=7]="stg_pull_fail",e[e.webview_timeout=8]="webview_timeout",e[e.stop_before_initialized=9]="stop_before_initialized",e[e.unfollow=10]="unfollow"}(o||(o={}));class p{constructor(){this.costs=[]}add(e){this.costs.push(e)}consume(){this.costs=this.costs.sort((e,t)=>e-t);const{length:e}=this.costs,t=Math.floor(e/2),i=Math.floor(.8*e),n=Math.floor(.9*e),r=Math.floor(.95*e),o=e-1,s=this.costs.reduce((e,t)=>e+t,0)/e,a=this.costs.reduce((e,t)=>e+(t-s)*(t-s),0)/e;return{total:e,ave_cost:s,var_cost:a,min_cost:this.costs[0],max_cost:this.costs[o],mid_cost:this.costs[t],pct80_cost:this.costs[i],pct90_cost:this.costs[n],pct95_cost:this.costs[r]}}reset(){this.costs=[]}}function u(e,t){return Object.keys(e).reduce((i,n)=>(i[`${t}_${n}`]=e[n],i),{})}const _="";class E{constructor(e){this.dispatchAnalyzer=new p,this.applyAnalyzer=new p,this.ignoredCounts={},this.pendingUUID=new Set,this.failed=0,this.total=0,this.tryAddApplyCost=this.tryDo(e=>{this.applyAnalyzer.add(e)}),this.tryIgnore=this.tryDo((e="")=>{"number"!=typeof this.ignoredCounts[e]&&(this.ignoredCounts[e]=0),this.ignoredCounts[e]+=1}),this.tryHandleFailed=this.tryDo(e=>{s.c.warn(`Magic Share Action Failed (${this.name}): ${JSON.stringify(e)}`),this.failed+=1}),this.name=e}addDispatchCost(e,t){this.dispatchAnalyzer.add(t),this.pendingUUID.add(e),this.total+=1}tryDo(e){return(t,i)=>!!this.pendingUUID.has(t)&&(e(i),this.pendingUUID.delete(t),!0)}consume(){return this.pendingUUID.size>0&&"NotImplemented"!==this.name&&s.c.warn(`Magic Share Action Missed (${this.name}): ${[...this.pendingUUID.values()].join(",")}`),{name:this.name,total:this.total,ignoredCounts:this.ignoredCounts,applyStat:this.applyAnalyzer.consume(),dispatchStat:this.dispatchAnalyzer.consume(),failed:this.failed,missed:"NotImplemented"===this.name?0:this.pendingUUID.size}}}class h{constructor(){this.sendAnalyzer=new p,this.modules=[_],this.actionLifecycleAnalyzers={},this.nonImplementedActionLifecycleAnalyzer=new E("NotImplemented"),this.ignoredCounts={},this.timestamp=new Map,this.pending=new Set,this.received=0,this.failed=0}addSendCost(e){this.sendAnalyzer.add(e)}getActionLifecycleAnalyzer(e){return void 0===this.actionLifecycleAnalyzers[e]&&(this.actionLifecycleAnalyzers[e]=new E(e)),this.actionLifecycleAnalyzers[e]}getAllActionLifecycleAnalyzers(){return Object.keys(this.actionLifecycleAnalyzers).map(e=>this.actionLifecycleAnalyzers[e]).concat(this.nonImplementedActionLifecycleAnalyzer)}handleActionLifecycleMeta(e){const{modules:t}=e;void 0!==t&&(this.modules=t)}handleActionLifecycle(e){switch(e.status){case n.RECEIVED:this.timestamp.set(e.uuid,e.timestamp),this.pending.add(e.uuid),this.received+=1;break;case n.DISPATCHED:{const{moduleName:t=_,uuid:i}=e;if(!this.timestamp.has(i)){s.c.warn("Unable to find following dispatched action: "+i);break}const n=this.timestamp.get(i);if(this.modules.indexOf(t)<0)this.nonImplementedActionLifecycleAnalyzer.addDispatchCost(i,e.timestamp-n),this.pending.delete(i),this.timestamp.delete(i);else{this.getActionLifecycleAnalyzer(t).addDispatchCost(i,e.timestamp-n)}break}case n.APPLIED:{if(!this.timestamp.has(e.uuid))break;const t=this.timestamp.get(e.uuid);this.getAllActionLifecycleAnalyzers().some(i=>i.tryAddApplyCost(e.uuid,e.timestamp-t)),this.pending.delete(e.uuid),this.timestamp.delete(e.uuid);break}case n.IGNORED:{const{reason:t="(unknown)",uuid:i}=e;this.pending.delete(i),this.timestamp.delete(i);this.getAllActionLifecycleAnalyzers().some(e=>e.tryIgnore(i,t))||("number"!=typeof this.ignoredCounts[t]&&(this.ignoredCounts[t]=0),this.ignoredCounts[t]+=1);break}case n.FAILED:this.pending.delete(e.uuid),this.timestamp.delete(e.uuid);this.getAllActionLifecycleAnalyzers().some(t=>t.tryHandleFailed(e.uuid,e))||(this.failed+=1);break}}consume(e){return this.getAllActionLifecycleAnalyzers().reduce((e,t)=>(e.modules.push(t.consume()),e),{stgName:e,sendStat:this.sendAnalyzer.consume(),received:this.received,modules:[],ignoredCounts:this.ignoredCounts,failed:this.failed})}}class T{constructor(){this.analyzers={}}getAnalyzer(e){return void 0===this.analyzers[e]&&(this.analyzers[e]=new h),this.analyzers[e]}addSendCost(e,t){this.getAnalyzer(e).addSendCost(t)}handleActionLifecycleMeta(e){this.getAnalyzer(e.strategyId).handleActionLifecycleMeta(e)}handleActionLifecycle(e){this.getAnalyzer(e.strategyId).handleActionLifecycle(e)}consume(){return Object.keys(this.analyzers).map(e=>this.analyzers[e].consume(e))}reset(){this.analyzers={}}}class y{constructor(){this.isLag=!1,this.startTime=0,this.duration=0,this.count=0,this.max=0,this.magicShareStartTime=0}handleStatusChange(e){if(e.isLag!==this.isLag)if(this.isLag=e.isLag,this.isLag)this.startTime=e.time;else{const t=e.time-this.startTime;this.duration+=t,this.max<t&&(this.max=t),this.count+=1}}start(){this.duration=0,this.count=0,this.startTime=0,this.max=0,this.magicShareStartTime=Date.now(),this.isLag=!1}stop(){const e={type:"lag",count:this.count,duration:this.duration,total:Date.now()-this.magicShareStartTime,max_cost:this.max};s.c.info("Magic Share Action Lag Stat: "+JSON.stringify(e)),Object(c.d)(l.a.VC_MEETING_MAGIC_SHARE_STAT,e)}}t.d=new class{constructor(){this.followInitTime=null,this.initialTrackObject=null,this.prevTrackObject=null,this.isCurrentAborted=!1,this.analyzer=new T,this.lagAnalyzer=new y}consumeInitialTrack(){null!==this.initialTrackObject&&this.followInitTime&&(this.initialTrackObject.duration=Date.now()-this.followInitTime,Object(c.d)(l.a.VC_MEETING_MAGIC_SHARE_INIT_TRACK,this.initialTrackObject),s.c.info("VC_MEETING_MAGIC_SHARE_INIT_TRACK: "+JSON.stringify(this.initialTrackObject)),this.endInitialProcess())}setInitialTrackData(e,t){null!==this.initialTrackObject&&(this.initialTrackObject[e]=t)}start(e,t,i){this.followInitTime=Date.now(),this.initialTrackObject={doc_create:0,jssdk_ready:0,inject_strategies:0,initial_action:0,is_presenter:0,duration:0,is_aborted:o.success,share_id:"none",from_source:r.initial},this.initialTrackObject.from_source=e,this.initialTrackObject.share_id=i,this.initialTrackObject.is_presenter=t?1:0,Object(c.a)({share_id:i})}stop(e,t){if(Object(c.a)({share_id:"none"}),this.initialTrackObject)return void this.abortFollowInit(o.stop_before_initialized);this.isCurrentAborted=!1;const i=e?"send":"receive",n=this.analyzer.consume();this.analyzer.reset(),n.forEach(e=>{if(Object(c.d)(l.a.VC_MEETING_MAGIC_SHARE_STAT,Object.assign(Object.assign({},e.sendStat),{type:i,share_id:t,strategy:e.stgName})),"send"===i)return;const n=Object.keys(e.ignoredCounts).reduce((t,i)=>t+e.ignoredCounts[i],0);n>0&&s.c.info("[MagicShare][Action] ignore actions stat (before-dispatch): "+JSON.stringify(e.ignoredCounts)),Object(c.d)(l.a.VC_MEETING_MAGIC_SHARE_ACTION_CONSUME_STAT,{received:e.received,failed:e.failed,ignored:n,strategy:e.stgName,name:"(before-dispatch)"}),e.modules.forEach(t=>{const i=Object.keys(t.ignoredCounts).reduce((e,i)=>e+t.ignoredCounts[i],0),n=t.name||"(default)";i>0&&s.c.info(`[MagicShare][Action] ignore actions stat (name=${n}): ${JSON.stringify(t.ignoredCounts)}`),Object(c.d)(l.a.VC_MEETING_MAGIC_SHARE_ACTION_CONSUME_STAT,Object.assign(Object.assign({received:t.total,missed:t.missed,failed:t.failed,ignored:i,name:n,strategy:e.stgName},"NotImplemented"===t.name?{}:u(t.applyStat,"apply")),u(t.dispatchStat,"dispatch")))})}),s.c.info("Magic Share Stats: "+JSON.stringify(n))}getCurrentStatus(){return null!==this.initialTrackObject?{status:"pending",initial_track:this.initialTrackObject,duration:Date.now()-this.followInitTime}:this.isCurrentAborted?{status:"aborted",initial_track:this.prevTrackObject}:{status:"success",initial_track:this.prevTrackObject,action_stat:this.analyzer.consume()}}endInitialProcess(){this.followInitTime=null,this.prevTrackObject=this.initialTrackObject,this.initialTrackObject=null}setStrategyReady(){this.trySetInitialTrackTime("inject_strategies"),a.a.shareScreenStore.localFollowingStatus===d.a.LocalUnFollowing&&(this.abortFollowInit(o.unfollow),s.c.info("Magic Share Init Process Abort because Unfollow (stg injected but found unfollow)"))}trySetInitialTrackTime(e){if(null===this.followInitTime)return;const t=Date.now()-this.followInitTime;this.setInitialTrackData(e,t)}sendAction(e,t){this.trySetInitialTrackTime("initial_action"),this.consumeInitialTrack(),this.analyzer.addSendCost(e.strategyId,t)}handleActionLifecycleChange(e){this.analyzer.handleActionLifecycle(e)}handleActionLifecycleMeta(e){this.analyzer.handleActionLifecycleMeta(e)}handleCCMVersionLag(e){this.lagAnalyzer&&this.lagAnalyzer.handleStatusChange(e)}receiveAction(e){this.trySetInitialTrackTime("initial_action"),this.consumeInitialTrack(),this.analyzer.addSendCost("ccm",e)}abortFollowInit(e){this.setInitialTrackData("is_aborted",e),this.isCurrentAborted=e!==o.success,this.consumeInitialTrack()}}},,,,,function(e,t,i){"use strict";i.d(t,"f",(function(){return c})),i.d(t,"e",(function(){return l})),i.d(t,"g",(function(){return p})),i.d(t,"a",(function(){return o})),i.d(t,"c",(function(){return s})),i.d(t,"b",(function(){return a})),i.d(t,"d",(function(){return d}));var n=i(325),r=i.n(n);const o=parseFloat(r.a["control-bar-bottom_"]),s=parseFloat(r.a["control-bar-mini-width_"]),a=parseFloat(r.a["control-bar-height_"]),d=parseFloat(r.a["control-bar-pop-offset-top_"]);parseFloat(r.a["control-bar-btn-height_"]);var c;!function(e){e.participant="g-controlbar-btn-participant",e.hostControl="g-controlbar-btn-host-control",e.subtitle="g-controlbar-btn-subtitle"}(c||(c={}));const l=[{selector:c.subtitle},{selector:c.hostControl},{selector:c.participant}],p=80},function(e,t,i){"use strict";i.d(t,"a",(function(){return d})),i.d(t,"c",(function(){return E})),i.d(t,"e",(function(){return h})),i.d(t,"d",(function(){return T})),i.d(t,"b",(function(){return y}));var n=i(593),r=i.n(n);function o(e){var t=location.search;return(t?(/^[?#]/.test(t)?t.slice(1):t).split("&").reduce((function(e,t){var i=t.split("="),n=i[0],r=i[1];return e[n]=r?decodeURIComponent(r.replace(/[+\/]/g,"")):"",e}),{}):{})[e]}var s,a,d=(s=navigator.userAgent,"Safari"===(a=new r.a(s).getResult()).browser.name&&"Mac OS"===a.os.name&&(navigator.maxTouchPoints||0)>0&&(a.os.name="Ipad OS"),void 0===a.device.model&&void 0===a.device.type&&(a.device.model="PC",a.device.type="PC"),a);function c(e){return Number(d.browser.major)>=e}function l(){return"Chrome"===d.browser.name}function p(){return"Edge"===d.browser.name}function u(){return"Windows"===d.os.name}function _(){return"Mac OS"===d.os.name}function E(){return"Ipad OS"===d.os.name}function h(){return"Ubuntu"===d.os.name||Boolean(localStorage.getItem("is_ubuntu"))}function T(){return"Linux"===d.os.name}function y(){return[Boolean("bwstest"===o("bwstest")),_()&&f(),u()&&f(),h()&&l()].some((function(e){return e}))}function f(){return[l()&&c(74),p()&&c(79)].some((function(e){return e}))}T()&&o("is_ubuntu")&&localStorage.setItem("is_ubuntu","1")},function(e,t,i){"use strict";var n;i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return o})),function(e){e[e.TOP_MIDDLE=0]="TOP_MIDDLE",e[e.BOTTOM_MIDDLE=1]="BOTTOM_MIDDLE",e[e.TOP_LEFT=2]="TOP_LEFT",e[e.TOP_RIGHT=3]="TOP_RIGHT",e[e.BOTTOM_LEFT=4]="BOTTOM_LEFT",e[e.BOTTOM_RIGHT=5]="BOTTOM_RIGHT",e[e.CENTER=6]="CENTER"}(n||(n={}));const r={duration:2500,top:80,bottom:105,placement:n.TOP_MIDDLE,getContainer:()=>document.body,maxCount:5,animation:"fade",prefixCls:"bv-notification"};function o(e){let t;switch(e){case n.TOP_LEFT:t={left:0,top:r.top,bottom:"auto"};break;case n.TOP_RIGHT:t={right:0,top:r.top,bottom:"auto"};break;case n.BOTTOM_MIDDLE:t={transform:"translateX(calc(50vw - 50%))",top:"auto",bottom:r.bottom};break;case n.BOTTOM_LEFT:t={left:0,top:"auto",bottom:r.bottom};break;case n.BOTTOM_RIGHT:t={right:0,top:"auto",bottom:r.bottom};break;case n.CENTER:t={top:"50%",transform:"translate(calc(50vw - 50%), -50%)"};break;default:t={transform:"translateX(calc(50vw - 50%))",top:r.top,bottom:"auto"}}return t}},,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return d}));var n=i(407);let r=null,o=[];window.Slardar&&window.Slardar("Sentry",e=>{o.length&&(o.forEach(t=>{const[i,n]=t;e[i](...n)}),o=[]),r=e,window._sentry=r});const s={};function a(e,t=""){if(t){const i=new Error(`${t}: ${e.message}`);i.name=e.name,i.stack=e.stack,s.captureException(i)}else s.captureException(e)}function d(e){s.captureMessage(e)}["captureException","captureEvent","captureMessage"].forEach(e=>{Object.defineProperty(s,e,{get:()=>window.Slardar?r?r[e].bind(r):(...t)=>{o.push([e,t])}:n.b})})},,,,,,,function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(79);const r=new n.d(n.c.OVERLAY,{maxCounts:3})},,,,,function(e,t,i){"use strict";i.d(t,"a",(function(){return S}));var n=i(1),r=i(75),o=i.n(r),s=i(22),a=i.n(s),d=i(1048),c=i(342),l=i(1047),p=i(56),u=i(651),_=i.n(u),E=i(6),h=i(299);const T=a.a.bind(_.a);function y(e){return e.includes("top")?"bottom center":e.includes("bottom")?"top center":e.includes("left")?"right center":e.includes("right")?"left center":"bottom center"}const f=!1,I=[0,8],g=150;class S extends p.c{constructor(){super(...arguments),this.popInnerDom=null,this.refInnerDom=null,this.lastWidth=0,this.lastHeight=0,this.uuid=Math.ceil(1e5*Math.random()),this.scheduleUpdate=null,this.state={popVisible:!1},this.resetPosition=()=>{requestAnimationFrame(()=>{this.scheduleUpdate&&this.scheduleUpdate()})},this.getModifiers=()=>{const{placement:e,preventOverflow:t=!0,flip:i,offset:n=I}=this.props,r=!e||"auto"===e,o=Object(h.a)(t)?{}:t,s=Object(h.a)(i)?{}:i;return[{name:"preventOverflow",enabled:!!t,options:Object.assign({padding:10,boundary:"clippingParents"},o)},{name:"flip",enabled:r||!!i,options:Object.assign({padding:10,boundary:"clippingParents"},s)},{name:"offset",enabled:!0,options:{offset:n}},{name:"hide",enabled:!1}]},this.removeKeyFrames=()=>{const e=N()||{},{cssRules:t={}}=e;let i=[];for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){t[e].name==="show_pop_"+this.uuid&&i.push(Number(e))}i=i.sort((e,t)=>e>t?-1:1),i.forEach(t=>{e.deleteRule(t)})},this.handleDomClick=e=>{const{enableClickToggle:t=!1,onClose:i}=this.props;if(!t)return;const n=this.popInnerDom;let r=e.target;do{if(r===n)return;r=r.parentNode}while(r);if(!t){const t=this.refInnerDom;r=e.target;do{if(r===t)return;r=r.parentNode}while(r)}this.togglePop(!1),i&&i(e)},this.handleClickRef=()=>{const{enableClickHide:e,autoToggle:t=f}=this.props;"hover"===t&&e?this.togglePop(!1):"click"===t&&this.togglePop(!0)},this.togglePop=(e=!0)=>{const{hideDelay:t=0}=this.props;if(this.state.popVisible!==e){const{onShow:t,onHide:i}=this.props;e&&t&&t(),!e&&i&&i()}const i=this.getClickEventName();e?document.addEventListener(i,this.handleDomClick):(document.removeEventListener(i,this.handleDomClick),this.removeKeyFrames()),setTimeout(()=>{this.setState({popVisible:e})},t)},this.handleMouseEnter=()=>{const{autoToggle:e=f,hoverDelay:t}=this.props;"hover"===e&&(clearTimeout(this.hideTimer),t?this.showTimer=setTimeout(()=>{this.setState({popVisible:!0})},t):this.setState({popVisible:!0}))},this.handleMouseLeave=()=>{const{autoToggle:e=f,hideDelay:t=g}=this.props;"hover"===e&&(this.showTimer&&clearTimeout(this.showTimer),this.hideTimer=setTimeout(()=>this.setState({popVisible:!1},()=>{this.removeKeyFrames()}),t))},this.renderPopper=()=>{const{popVisible:e}=this.state,{popClassName:t="",popStyle:i,arrowClassName:r="",arrowColor:o,arrowStyle:s,content:a,placement:c="auto",renderArrow:l=!1,visibility:p="auto",onDoubleClick:u}=this.props,_=this.getModifiers();let E=e;"hidden"===p?E=!1:"visible"===p&&(E=!0);let h,f=a;return"function"==typeof a&&(f=a({onClose:()=>this.togglePop(!1)})),l&&"function"==typeof l?h=l:!0===l&&(h=(e,t)=>{const i=Object.assign(Object.assign({},e.style),s);return n.createElement("div",{ref:e.ref,className:T("arrow-container","arrow-"+t),style:i,"data-placement":t,onDoubleClick:u},n.createElement("div",{style:{backgroundColor:o},className:T("arrow-item",r)}))}),E&&n.createElement(d.a,{innerRef:e=>{this.popInnerDom=e},placement:c,modifiers:_},({ref:e,style:r,arrowProps:o,update:s,placement:a})=>{this.scheduleUpdate=s;const d=N();let c={};return r.transform&&d&&d.insertRule&&(this.props.isTooltip?c={visibility:"visible"}:(d.insertRule(`@keyframes show_pop_${this.uuid} {from{transform: ${r.transform} scale(0);}to{visibility: visible; transform: ${r.transform} scale(1);}}`,d.cssRules.length),c={transformOrigin:y(a),animationName:"show_pop_"+this.uuid,animationDuration:".4s",animationTimingFunction:"cubic-bezier(0.03, 1.02, 0.03, 1.02)",animationDelay:"0s",animationIterationCount:1,animationDirection:"normal",animationFillMode:"forwards"})),n.createElement("div",{className:T("pop-container",t),style:Object.assign(Object.assign(Object.assign({},r),i),c),"data-placement":a,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onDoubleClick:u,ref:e},f,l&&h(o,a))})}}didMount(){"visible"===this.props.visibility&&this.togglePop(!0)}willUnmount(){const e=this.getClickEventName();document.removeEventListener(e,this.handleDomClick),clearTimeout(this.hideTimer)}didUpdate(e,t){this.lastHeight===window.innerHeight&&this.lastWidth===window.innerWidth||(this.lastHeight=window.innerHeight,this.lastWidth=window.innerWidth)}getClickEventName(){return this.props.enableMouseDownReplaceClick?"mousedown":"click"}rendering(){const{popVisible:e}=this.state,{enableMouseDownReplaceClick:t,enableTrigger:i,children:r,targetClassName:s="",portal:a=!0,popContainer:d=document.body,visibility:p="auto"}=this.props;if(!1===i)return n.createElement(n.Fragment,null,r);let u=e;"hidden"===p?u=!1:"visible"===p&&(u=!0);let _=r;"function"==typeof r&&(_=r({onToggle:this.togglePop,isOpen:u}));const E="string"==typeof d?document.querySelector(d):d||null,h=u&&(a&&E?o.a.createPortal(this.renderPopper(),E):this.renderPopper());return n.createElement(c.a,null,n.createElement(l.a,{innerRef:e=>{this.refInnerDom=e}},({ref:e})=>n.createElement("div",{className:T("ref-container",s,{"pop-opening":u,"pop-closed":!u}),onClick:t?void 0:this.handleClickRef,onMouseDown:t?this.handleClickRef:void 0,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,ref:e},_)),h)}}const C=document.createElement("style");document.head.prepend(C);const m=document.styleSheets[0];function N(){return m||E.c.info("get cssStyleSheet fail from pop trigger"),m}},,function(e,t,i){"use strict";i.d(t,"c",(function(){return c})),i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return p}));var n=i(0),r=i(11),o=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))},s=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};class a{constructor(e,t){this.events={},this.logInstance=null,this.beforeOpen=(e,t)=>{},this.afterShow=e=>{},this.getWindowByName=e=>this.getContainerPageManager().getWindowByName?this.getContainerPageManager().getWindowByName(e):(this.getLogInstance().warn("[getWindowByName] containerPageManager does not impl this method"),null),this.config=e,this.containerPageManager=t}startup(){return o(this,void 0,void 0,(function*(){yield this.containerPageManager.startup()}))}shutdown(){return o(this,void 0,void 0,(function*(){yield this.containerPageManager.shutdown()}))}setUserId(e){this.containerPageManager.setUserId&&this.containerPageManager.setUserId(e)}setDeviceId(e){this.containerPageManager.setDeviceId&&this.containerPageManager.setDeviceId(e)}getContainerPageManager(){return this.containerPageManager}getLogInstance(){return console}setQueueWindowPosition(e){return o(this,void 0,void 0,(function*(){const t=this.getContainerPageManager();t&&t.setQueueWindowPosition&&(yield t.setQueueWindowPosition(e))}))}setTopMiddlePositionByName(e,t){return o(this,void 0,void 0,(function*(){const i=this.getContainerPageManager();i&&i.setTopMiddlePositionByName&&(yield i.setTopMiddlePositionByName(e,t))}))}setPositionWithOnePageByName(e,t,i){return o(this,void 0,void 0,(function*(){const n=this.getContainerPageManager();n&&n.setPositionWithOnePageByName&&(yield n.setPositionWithOnePageByName(e,t,i))}))}openByName(e,t,i,r){return o(this,void 0,void 0,(function*(){const o=this.getContainerPageManager();if(!o)return;if(this.isExist(e))return void this.focusByName(e);this.getLogInstance().info(`PM:openByName(${e})`);const s={};this.beforeOpen&&this.beforeOpen(e,s),yield o.openByName(e,t,Object.assign(Object.assign({},i),s),r),this.getLogInstance().info(`PM:openByName(${e}) success`),o.emit(e,n.PageEvent.OPENED),o.send(e,{event:n.PageSendEvent.PAGE_DATA,data:{name:e,payload:t}})}))}closeByName(e,t){return o(this,void 0,void 0,(function*(){const i=this.getContainerPageManager(),r=this.isExist(e);i&&r&&(i.send(e,{event:n.PageSendEvent.PAGE_WILL_CLOSE,data:{name:e}}),yield i.closeByName(e,t))}))}forceCloseByName(e,t){return o(this,void 0,void 0,(function*(){const i=this.getContainerPageManager();i&&(yield i.forceCloseByName(e,t))}))}hideByName(e){return o(this,void 0,void 0,(function*(){const t=this.getContainerPageManager(),i=this.isExist(e);t&&i&&(this.getLogInstance().info(`PM:hideByName(${e})`),yield t.hideByName(e))}))}restoreByName(e){return o(this,void 0,void 0,(function*(){const t=this.getContainerPageManager();t&&(this.getLogInstance().info(`PM:restoreByName(${e})`),yield t.restoreByName(e))}))}getWindowInfo(e){const t=this.getContainerPageManager();if(!t||void 0===t.getWindowInfo)return null;const i=t.getWindowInfo(e);return this.getLogInstance().info(`PM:getWindowInfo(${e}) ${i}`),i}showByName(e,t){return o(this,void 0,void 0,(function*(){const i=this.getContainerPageManager(),n=this.isExist(e);i&&n&&(this.getLogInstance().info(`PM:showByName(${e})`),yield i.showByName(e,t),this.afterShow&&this.afterShow(e))}))}focusByName(e){return o(this,void 0,void 0,(function*(){const t=this.getContainerPageManager();t&&(this.getLogInstance().info(`PM:focusByName(${e})`),yield t.focusByName(e))}))}moveTopByName(e){return o(this,void 0,void 0,(function*(){const t=this.getContainerPageManager();t&&(this.getLogInstance().info(`PM:moveTopByName(${e})`),yield t.moveTopByName(e))}))}closeExceptByNames(e,t,i){return o(this,void 0,void 0,(function*(){const n=this.getContainerPageManager();yield n.closeExceptByNames(e,t,i)}))}on(e,t,i){const n=this.getContainerPageManager();n&&(this.events[e]=this.events[e]||{},this.events[e][t]=this.events[e][t]||[],this.events[e][t].includes(i)||(this.events[e][t].push(i),n.on(e,t,i)))}off(e,t,i){if(!this.events[e])return;const n=this.events[e][t];if(!n||!n.length)return;const r=this.getContainerPageManager();if(!r)return;if(!i)return n.forEach(i=>r.off(e,t,i)),void(n.length=0);const o=n.indexOf(i);-1!==o&&(r.off(e,t,i),n.splice(o,1))}emit(e,t){this.getContainerPageManager().emit(e,t)}broadcast(e){const t=this.getContainerPageManager();t&&t.broadcast(e)}send(e,t){const i=this.getContainerPageManager();i&&i.send(e,t)}isExist(e){const t=this.getContainerPageManager();return!!t&&t.isExist(e)}isShow(e){const t=this.getContainerPageManager();return!(!t||!t.isShow)&&t.isShow(e)}}s([r.a.wrapOnMethod("page-manager")],a.prototype,"setQueueWindowPosition",null),s([r.a.wrapOnMethod("page-manager")],a.prototype,"setTopMiddlePositionByName",null),s([r.a.wrapOnMethod("page-manager")],a.prototype,"setPositionWithOnePageByName",null),s([r.a.wrapOnMethod("page-manager")],a.prototype,"openByName",null),s([r.a.wrapOnMethod("page-manager")],a.prototype,"closeByName",null),s([r.a.wrapOnMethod("page-manager")],a.prototype,"forceCloseByName",null),s([r.a.wrapOnMethod("page-manager")],a.prototype,"hideByName",null),s([r.a.wrapOnMethod("page-manager")],a.prototype,"restoreByName",null),s([r.a.wrapOnMethod("page-manager")],a.prototype,"getWindowInfo",null),s([r.a.wrapOnMethod("page-manager")],a.prototype,"showByName",null),s([r.a.wrapOnMethod("page-manager")],a.prototype,"focusByName",null),s([r.a.wrapOnMethod("page-manager")],a.prototype,"moveTopByName",null),s([r.a.wrapOnMethod("page-manager")],a.prototype,"closeExceptByNames",null);const d=Object.create(null);function c(e,t,i){d[i]=new a(e,t)}function l(e){return d[e]}function p(e){void 0!==d[e]&&delete d[e]}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return d}));var n,r=i(2),o=i(6),s=i(89),a=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};!function(e){e.VIDEO="VIDEO",e.INTERVIEW_SPACE="INTERVIEW_SPACE",e.SHARING="SHARING",e.WHITEBOARD="WHITEBOARD"}(n||(n={}));class d extends s.a{constructor(){super(...arguments),this.viewStack=[],this.interviewSpaceVisible=!1}get shouldRenderVideo(){return this.shouldRender(n.VIDEO)}get shouldShowVideo(){return this.shouldShow(n.VIDEO)}get shouldRenderInterviewSpace(){return this.shouldRender(n.INTERVIEW_SPACE)}get shouldShowInterviewSpace(){return this.shouldShow(n.INTERVIEW_SPACE)}get shouldRenderSharing(){return this.shouldRender(n.SHARING)}get shouldShowSharing(){return this.shouldShow(n.SHARING)}get shouldRenderWhiteBoard(){return this.shouldRender(n.WHITEBOARD)}get shouldShowWhiteBoard(){return this.shouldShow(n.WHITEBOARD)}removeView(e){o.c.info("MainView.removeView type="+e),this.viewStack.includes(e)&&this.viewStack.splice(this.viewStack.indexOf(e),1)}toTop(e){o.c.info("MainView.toTop type="+e),this.hideInterviewSpace(),this.viewAfterUnpin===n.VIDEO&&(this.viewAfterUnpin=e),this.viewStack[this.viewStack.length-1]!==e&&(this.viewStack.includes(e)&&this.removeView(e),this.viewStack.push(e))}toBottom(e){o.c.info("MainView.toBottom type="+e),this.viewAfterUnpin===e&&(this.viewAfterUnpin=this.viewStack[this.viewStack.length-1]),this.viewStack.includes(e)?(this.removeView(e),this.viewStack.unshift(e)):o.c.warn(`MeetingMainViews, view not exist in viewStacks when call toBottom(${e})`)}handlePin(){const e=this.viewStack[this.viewStack.length-1];this.toTop(n.VIDEO),this.viewAfterUnpin||(this.viewAfterUnpin=e)}handleUnpin(){this.viewAfterUnpin&&this.viewStack.includes(this.viewAfterUnpin)&&this.toTop(this.viewAfterUnpin),this.viewAfterUnpin=void 0}shouldRender(e){if(e===n.VIDEO)return this.shouldShow(e);if(e===n.INTERVIEW_SPACE)return this.rootStore.conferenceStore.interviewStore.isInterviewSpaceEnabled;const t=this.viewStack.indexOf(e);return-1!==t&&t>=this.viewStack.length-3}shouldShow(e){return e===n.INTERVIEW_SPACE?this.interviewSpaceVisible:this.viewStack.indexOf(e)===this.viewStack.length-1}showInterviewSpace(){this.interviewSpaceVisible=!0}hideInterviewSpace(){this.interviewSpaceVisible=!1}}a([r.p],d.prototype,"viewStack",void 0),a([r.p],d.prototype,"interviewSpaceVisible",void 0),a([r.p],d.prototype,"viewAfterUnpin",void 0),a([r.h],d.prototype,"shouldRenderVideo",null),a([r.h],d.prototype,"shouldShowVideo",null),a([r.h],d.prototype,"shouldRenderInterviewSpace",null),a([r.h],d.prototype,"shouldShowInterviewSpace",null),a([r.h],d.prototype,"shouldRenderSharing",null),a([r.h],d.prototype,"shouldShowSharing",null),a([r.h],d.prototype,"shouldRenderWhiteBoard",null),a([r.h],d.prototype,"shouldShowWhiteBoard",null),a([r.f],d.prototype,"removeView",null),a([r.f],d.prototype,"toTop",null),a([r.f],d.prototype,"toBottom",null),a([r.f],d.prototype,"handlePin",null),a([r.f],d.prototype,"handleUnpin",null),a([r.f],d.prototype,"showInterviewSpace",null),a([r.f],d.prototype,"hideInterviewSpace",null)},,,,,,function(e,t,i){"use strict";i.d(t,"g",(function(){return T})),i.d(t,"f",(function(){return y})),i.d(t,"d",(function(){return f})),i.d(t,"a",(function(){return I})),i.d(t,"e",(function(){return g})),i.d(t,"c",(function(){return S})),i.d(t,"b",(function(){return C}));var n=i(0),r=i(6),o=i(25),s=i(18),a=i(36),d=i(74),c=i(13),l=i(15),p=i(3),u=i(10);function _(e){try{let t=d.a;d.b[e.cmd]&&(t=d.b[e.cmd]);const i=Object(c.e)(e),{appId:n}=self.__appMeta;if(!function(e,t){const i=new URLSearchParams(e).toString();return navigator.sendBeacon("/im/gateway/?"+i,t)}({"content-type":"application/x-protobuf","x-Source":"web","x-request-id":e.cid,"x-command":e.cmd,"x-web-version":Object(c.c)(),"x-command-version":t,"X-AppID":n,locale:l.a.getLanguageIdentifier()},i))throw new Error("invoke navigator.sendBeacon failed");p.c.debug("send packet to gateway end: cmd={} requestId={}",e.cmd,e.cid)}catch(t){p.c.error("send packet to gateway failed: cmd={} e={}",e.cmd,t)}}function E(e){!function(e){const{encodePath:t}=e,i=u.d.encode(t,e.payload);_(Object.assign(Object.assign({},e),{payload:i}))}({cmd:2207,payload:Object(a.a)(e),encodePath:"videochat.UpdateVideoChatRequest"})}const h=432e5,T=()=>{const{meetingNumber:e=""}=o.a.previewStore;m("MEETING_STATUS","meetingNumber",e,h),m("MEETING_STATUS","inMeeting",!0,h)},y=e=>{m("MEETING_STATUS","inMeeting",!1,h),m("MEETING_STATUS","lastExitTimestampInMeetingOrLobby",Date.now(),h),e&&m("MEETING_DATA","meetingData",e,h)},f=()=>{const e=N("MEETING_DATA");return e&&e.meetingData},I=()=>{r.c.info("Meeting beforeunload: "+o.a.pageStore.isInMeeting);const{isInMeeting:e,needHangupBeforeunload:t}=o.a.pageStore,{isCameraMuted:i,isMicrophoneMuted:a,nickname:d}=o.a.userStore.currentUser.participantSettings,{currentDevice:c}=o.a.rtcStore;if(e&&(r.c.info("In MeetingPage and emit before unload, needHangupBeforeunload: "+t),y({isMicMuted:a,isCameraMuted:i,nickname:d,micDeviceId:c[s.DeviceType.kRecord],camDeviceId:c[s.DeviceType.kCamera],speakerDeviceId:c[s.DeviceType.kPlayback]}),t)){E({action:n.Action.LEAVE,id:o.a.conferenceStore.id})}},g=()=>{const e=N("MEETING_STATUS");return!!e&&(!!e.lastExitTimestampInMeetingOrLobby&&Date.now()-e.lastExitTimestampInMeetingOrLobby<=5e4)},S=()=>{localStorage.removeItem("MEETING_STATUS")},C=()=>{localStorage.removeItem("MEETING_DATA")},m=(e,t,i,n)=>{const r=JSON.parse(localStorage.getItem(e)||"{}");r[t]=i,r.expiry=Date.now()+n,localStorage.setItem(e,JSON.stringify(r))},N=e=>{const t=localStorage.getItem(e);if(!t)return null;try{const e=JSON.parse(t);if(e.expiry&&e.expiry>=Date.now())return e}catch(e){}return null}},function(e,t,i){"use strict";var n,r,o,s,a;i.d(t,"d",(function(){return n})),i.d(t,"c",(function(){return r})),i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return a})),function(e){e[e.CONTINUE=100]="CONTINUE",e[e.SWITCHING_PROTOCOLS=101]="SWITCHING_PROTOCOLS",e[e.PROCESSING=102]="PROCESSING",e[e.OK=200]="OK",e[e.CREATED=201]="CREATED",e[e.ACCEPTED=202]="ACCEPTED",e[e.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",e[e.NO_CONTENT=204]="NO_CONTENT",e[e.RESET_CONTENT=205]="RESET_CONTENT",e[e.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",e[e.MULTI_STATUS=207]="MULTI_STATUS",e[e.ALREADY_REPORTED=208]="ALREADY_REPORTED",e[e.IM_USED=226]="IM_USED",e[e.MULTIPLE_CHOICES=300]="MULTIPLE_CHOICES",e[e.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",e[e.FOUND=302]="FOUND",e[e.SEE_OTHER=303]="SEE_OTHER",e[e.NOT_MODIFIED=304]="NOT_MODIFIED",e[e.USE_PROXY=305]="USE_PROXY",e[e.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",e[e.PERMANENT_REDIRECT=308]="PERMANENT_REDIRECT",e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",e[e.FORBIDDEN=403]="FORBIDDEN",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",e[e.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",e[e.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",e[e.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",e[e.CONFLICT=409]="CONFLICT",e[e.GONE=410]="GONE",e[e.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",e[e.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",e[e.PAYLOAD_TOO_LARGE=413]="PAYLOAD_TOO_LARGE",e[e.URI_TOO_LONG=414]="URI_TOO_LONG",e[e.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",e[e.RANGE_NOT_SATISFIABLE=416]="RANGE_NOT_SATISFIABLE",e[e.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",e[e.IM_A_TEAPOT=418]="IM_A_TEAPOT",e[e.MISDIRECTED_REQUEST=421]="MISDIRECTED_REQUEST",e[e.UNPROCESSABLE_ENTITY=422]="UNPROCESSABLE_ENTITY",e[e.LOCKED=423]="LOCKED",e[e.FAILED_DEPENDENCY=424]="FAILED_DEPENDENCY",e[e.UPGRADE_REQUIRED=426]="UPGRADE_REQUIRED",e[e.PRECONDITION_REQUIRED=428]="PRECONDITION_REQUIRED",e[e.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",e[e.REQUEST_HEADER_FIELDS_TOO_LARGE=431]="REQUEST_HEADER_FIELDS_TOO_LARGE",e[e.UNAVAILABLE_FOR_LEGAL_REASONS=451]="UNAVAILABLE_FOR_LEGAL_REASONS",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",e[e.BAD_GATEWAY=502]="BAD_GATEWAY",e[e.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",e[e.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",e[e.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED",e[e.VARIANT_ALSO_NEGOTIATES=506]="VARIANT_ALSO_NEGOTIATES",e[e.INSUFFICIENT_STORAGE=507]="INSUFFICIENT_STORAGE",e[e.LOOP_DETECTED=508]="LOOP_DETECTED",e[e.NOT_EXTENDED=510]="NOT_EXTENDED",e[e.NETWORK_AUTHENTICATION_REQUIRED=511]="NETWORK_AUTHENTICATION_REQUIRED",e[e.BUSINESS_ERROR=900]="BUSINESS_ERROR"}(n||(n={})),function(e){e[e.Offline=1]="Offline",e[e.Online2G=2]="Online2G",e[e.Online3G=3]="Online3G",e[e.Online4G=4]="Online4G",e[e.OnlineWifi=5]="OnlineWifi",e[e.OnlineWired=6]="OnlineWired"}(r||(r={})),function(e){e[e.Opening=1]="Opening",e[e.Success=2]="Success",e[e.Closed=3]="Closed"}(o||(o={})),function(e){e[e.Lark=1]="Lark",e[e.InitLastSid=9e3]="InitLastSid"}(s||(s={})),function(e){e[e.Default=1]="Default",e[e.InitLastSid=3]="InitLastSid"}(a||(a={}))},,,,function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return d}));var n,r,o=i(2),s=i(6),a=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};!function(e){e[e.none=0]="none",e[e.participant=1]="participant",e[e.subtitle=2]="subtitle"}(n||(n={})),function(e){e[e.gallery=0]="gallery",e[e.activeSpeaker=1]="activeSpeaker",e[e.float=2]="float"}(r||(r={}));class d{constructor(e){this.rootStore=null,this.sidebar=n.none,this.viewTypeOriginal=void 0,this.viewTypeBeforeShare=void 0,this.viewTypeBeforeFullscreen=void 0,this.isFullScreen=!1,this.forceUpdateIntoSpeakerView=!1,this.previousTimestamp=performance.now(),this.viewTypeDuration={[r.gallery]:0,[r.activeSpeaker]:0,[r.float]:0},this.rootStore=e}get viewType(){return r.float}get hasSidebar(){return this.sidebar!==n.none}get hasASList(){return this.viewType===r.activeSpeaker}get isGalleryView(){return this.viewType===r.gallery}get isSubtitleSidebar(){return this.sidebar===n.subtitle}get isParticipantSidebar(){return this.sidebar===n.participant}onShowSidebar(e){s.c.info("[MeetingLayout] onShowSidebar: "+e),this.sidebar=e}onShowParticipantSidebar(){this.onShowSidebar(n.participant)}onShowSubtitle(){this.onShowSidebar(n.subtitle)}onCloseSubtitleSidebar(){this.sidebar===n.subtitle&&(this.sidebar=n.none)}onCloseSidebar(){this.sidebar=n.none}onSidebarToggle(e){e!==this.sidebar?this.sidebar=e:this.sidebar=n.none}onToggleParticipantSidebar(){this.onSidebarToggle(n.participant)}onToggleSubtitleSidebar(){this.onSidebarToggle(n.subtitle)}setViewType(e){const t=performance.now(),i=t-this.previousTimestamp;this.previousTimestamp=t,this.viewType&&(this.viewTypeDuration[this.viewType]+=i),this.viewTypeOriginal=e,this.viewTypeBeforeFullscreen=void 0,s.c.info("[MeetingLayout] setViewType: "+e)}handlePin(){this.setViewType(r.activeSpeaker)}handleUnpin(){}handleEnterFullScreen(){this.isFullScreen=!0;const e=this.viewTypeOriginal;this.viewType!==r.activeSpeaker||this.forceUpdateIntoSpeakerView||this.setViewType(r.float),this.viewTypeBeforeFullscreen=e,s.c.info("[MeetingLayout] handleEnterFullScreen: viewTypeBeforeFullscreen "+this.viewTypeBeforeFullscreen)}handleLeaveFullScreen(){this.isFullScreen=!1,s.c.info("[MeetingLayout] handleLeaveFullScreen: viewTypeBeforeFullscreen "+this.viewTypeBeforeFullscreen),void 0!==this.viewTypeBeforeFullscreen&&this.viewTypeOriginal!==r.gallery&&this.setViewType(this.viewTypeBeforeFullscreen)}updateLayoutIntoSpeakerView(e){s.c.info(`[MeetingLayout] updateLayoutIntoSpeakerView: viewTypeBeforeShare ${this.viewTypeBeforeShare}, isFullScreen ${this.isFullScreen}`),this.viewTypeBeforeShare=this.viewType,this.forceUpdateIntoSpeakerView=!!e,e?this.setViewType(r.activeSpeaker):this.isFullScreen?this.setViewType(r.float):this.viewType===r.gallery&&this.setViewType(r.activeSpeaker)}restoreLayoutFromSpeakerView(){s.c.info("[MeetingLayout] restoreLayoutFromSpeakerView: viewTypeBeforeShare "+this.viewTypeBeforeShare),this.forceUpdateIntoSpeakerView=!1,void 0!==this.viewTypeBeforeShare&&this.setViewType(this.viewTypeBeforeShare)}getViewTypeDuration(){return this.viewTypeDuration}}a([o.p],d.prototype,"sidebar",void 0),a([o.p],d.prototype,"viewTypeOriginal",void 0),a([o.p],d.prototype,"viewTypeBeforeShare",void 0),a([o.p],d.prototype,"viewTypeBeforeFullscreen",void 0),a([o.p],d.prototype,"isFullScreen",void 0),a([o.p],d.prototype,"forceUpdateIntoSpeakerView",void 0),a([o.h],d.prototype,"viewType",null),a([o.h],d.prototype,"hasSidebar",null),a([o.h],d.prototype,"hasASList",null),a([o.h],d.prototype,"isGalleryView",null),a([o.h],d.prototype,"isSubtitleSidebar",null),a([o.h],d.prototype,"isParticipantSidebar",null),a([o.f],d.prototype,"handleEnterFullScreen",null),a([o.f],d.prototype,"handleLeaveFullScreen",null),a([o.f],d.prototype,"updateLayoutIntoSpeakerView",null),a([o.f],d.prototype,"restoreLayoutFromSpeakerView",null)},function(e,t,i){"use strict";i.d(t,"a",(function(){return g})),i.d(t,"b",(function(){return S}));var n=i(2),r=i(0),o=i(89),s=i(6),a=i(18),d=i(27),c=i(142),l=i(34),p=i(20),u=i(19),_=i(87),E=i(101),h=i(8),T=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},y=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};var f,I,g;!function(e){e[e.BASIC=0]="BASIC",e[e.IMPORT=1]="IMPORT"}(f||(f={})),function(e){e[e.none=0]="none",e[e.loggingIn=1]="loggingIn",e[e.successed=2]="successed"}(I||(I={})),function(e){e[e.None=0]="None",e[e.LocalSharing=1]="LocalSharing",e[e.LocalUnFollowing=2]="LocalUnFollowing",e[e.LocalFollowing=3]="LocalFollowing"}(g||(g={}));class S extends o.a{constructor(e,t){super(e),this.shareScreenInfoVersion=1,this.activeTab=f.BASIC,this.isShowTable=!1,this.isMagicUploadDragIn=!1,this.sharingDeviceId="",this.sharingUserId="",this.chosenApp=null,this.sharedList=[],this.sharedWindows=[],this.sharedDesktop=[],this.whiteboardItems=[],this.magicUploadRawFiles=new Map,this.magicShareDocsList=[],this.magicUploadedFiles=[],this.magicUploadedSuccessButNotRead=new Set,this.magicNewFiles=[],this.magicUploadSupportFileInfo=new Map,this.magicUploadingFiles=new Map,this.sharingItem=null,this.shareType=r.ShareScreenType.NORMAL,this.inSharing=!1,this.isSharingAudioEnabled=!1,this.isSharingAudio=!1,this.isChangingFollow=!1,this.isShowFollowTable=!1,this.sharingDoc="",this.sharingFollowUserId="",this.sharingFollowDeviceId="",this.desktopNum=1,this.isRefreshReady=!0,this.isOpenForCCMSettings=!1,this.followLifeTime=r.FollowLifeTime.EPHEMERAL,this.followOptions={},this.followShareId="",this.followInfo={},this.isShareScreenPause=!1,this.characteristics=[],this.sharingDocThumbnailInfo=null,this.sharingDocThumbnailUrl=null,this.hasTryToBrowseDocsFreely=!1,this.followVisitPagesStack=[],this.localFollowingStatus=g.None,this.shareScreenId=null,this.receivedStreams=new Set,this.inSketching=!1,this.sketchInfo=null,this.isSketchBarShow=!1,this.isSketchInvoker=!1,this.isSketchCrash=!1,this.isSketchLoading=!1,this.noAccessibilityGuestTipShow=!1,this.cannotsketchFgToast=!1,this.brushType=r.BrushType.BRUSH_NONE,this.myBrushType=r.BrushType.BRUSH_NONE,this.followCombineStateStack=[],this.currentConsumeFollowCombineState=null,this.shareGoogleSelectorShow=!1,this.shareGoogleSelectorState={},this.googleLoginStatus=I.none,this.googleSelectedFile=null,this.iframeKey=0,this.isUserCardWindowLoading=!1,this.isSmoothMode=!1,this.isInviteToggle=!1,this.isShowShareAccessModal=!1,this.checkIsUserSharing=e=>{if(!this.someoneIsShaing)return!1;const{id:t,deviceId:i,participantId:n}=e,{followInfo:r}=this;return r.deviceId===i&&r.userId===t||this.sharingParticipantId===n},this.setShareScreenId=e=>{this.shareScreenId=e},this.setSharingItem=e=>{this.sharingItem=e,s.c.info("this.setSharingItem: "+JSON.stringify(e))},this.startScreenSharingItem=()=>y(this,void 0,void 0,(function*(){const{userStore:e,conferenceStore:t,meetingStore:i}=this.rootStore;try{const n=yield u.a.request(r.Command.SHARE_SCREEN,{meetingId:t.id,action:r.ShareScreenAction.START});s.c.info("share screen response: ",n),d.a.startShareScreen().then(()=>{this.setShareScreenUserIds(e.currentUserId,e.currentDeviceId),n&&n.shareScreenId&&(s.c.info("shareScreenId: ",n.shareScreenId),this.setShareScreenId(n.shareScreenId));const t=d.a.getIsSharingAudioEnabled(),r=d.a.getIsSharingAudio();h.b.emit(h.a.VC_WEB_MAGICSHARE_CHOOSE_CLICK,{click:"confirm_share",target:"vc_meeting_onthecall_view",if_voice:t}),this.setIsSharingAudioEnabled(t),this.setIsSharingAudio(r),i.isSharingMode||i.setIsSharingMode(!0)}).catch(e=>y(this,void 0,void 0,(function*(){yield u.a.request(r.Command.SHARE_SCREEN,{meetingId:t.id,action:r.ShareScreenAction.STOP})})))}catch(e){s.c.error("share screen error: "+e),d.a.stopShareScreen()}})),this.stopScreenSharingItem=()=>{const{conferenceStore:e,meetingStore:t}=this.rootStore;t.setIsSharingMode(!1),this.sharingItem=null,this.removeShareScreenUserDeviceId(),d.a.stopShareScreen(),u.a.request(r.Command.SHARE_SCREEN,{meetingId:e.id,action:r.ShareScreenAction.STOP})},this.refreshWebview=()=>{this.iframeKey+=1,s.c.info("[Follow][ShareScreenStore] refreshWebview, key="+this.iframeKey)},this.followNoticeTimer=null,this.setLocalUnFollowing=()=>{s.c.info("[Follow][ShareScreenStore] setLocalUnFollowing"),this.setFollowInfoToPagesStack(!0),this.localFollowingStatus=g.LocalUnFollowing,this.followNoticeTimer&&(window.clearTimeout(this.followNoticeTimer),this.followNoticeTimer=null),l.b.emit(l.a.IN_MEETING_NOTICE,{id:+new Date,msg:Object(p.b)("View_VM_CanViewBySelf")})},this.setLocalFollowing=()=>{s.c.info("[Follow][ShareScreenStore] setLocalFollowing"),this.setFollowInfoToPagesStack(!0),this.localFollowingStatus=g.LocalFollowing;const e=this.rootStore.userStore.participantList.find(e=>e.deviceId===this.followInfo.deviceId);if(!e)return;const t=e.name;this.followNoticeTimer=window.setTimeout(()=>{l.b.emit(l.a.IN_MEETING_NOTICE,{id:+new Date,msg:Object(p.b)("View_VM_PositionSyncedNameBraces",{name:t})}),this.followNoticeTimer=null},3e3)},this.setFollowInfoToPagesStack=(e,t)=>y(this,void 0,void 0,(function*(){s.c.info("[Follow][ShareScreenStore] setFollowInfoToPagesStack ifClear="+e,t);const i=t||this.followInfo,o=this.currentVisitPartialFollowInfo.shareId===i.shareId?this.currentVisitPartialFollowInfo.docTitle:i.docTitle,a=i.docToken||"";Object(n.r)(()=>{e&&(this.followVisitPagesStack=[]),this.followVisitPagesStack.push({url:i.url,docTitle:o,docToken:a,shareId:i.shareId,shareType:i.shareType,shareSubtype:i.shareSubtype,rawUrl:i.rawUrl,requestOptions:{url:i.url}}),e||this.track(r.Homeric.VC_MEETING_PAGE_ONTHECALL,{action_name:r.MeetingPageAction.forward,extend_value:{file_token:a||"",follow_type:i.shareType,sub_type:i.shareSubtype,share_id:i.shareId,is_presenter:1}})})})),this.setSketchBarShow=e=>{this.isSketchBarShow=e},this.setnoAccessibilityGuestTipShow=e=>{this.noAccessibilityGuestTipShow=e},this.setSketchLoading=e=>{this.isSketchLoading=e},this.layout=t,Object(n.g)(()=>{this.someoneIsShaing?this.layout.updateLayoutIntoSpeakerView(this.isSmoothMode):this.layout.restoreLayoutFromSpeakerView()})}get sharingInfoForUserList(){const{shareScreenStore:e,meetingStore:t,userStore:i}=this.rootStore,{sharingParticipantId:n,inSketching:r,sharingDoc:o}=e;if(t.isPinedInSharing&&t.pinedId&&n){const{participantList:e}=i,o=e.find(e=>e.participantId===n);if(o)return{stream:o.streams.screen,inSketching:r,simulcastMode:t.mainMode}}}get isSharing(){const{userStore:e}=this.rootStore;return e.currentParticipantId===this.sharingParticipantId}get someoneIsShaing(){return!!this.sharingDeviceId||!!this.sharingFollowDeviceId}get isMeSharing(){return this.checkIsUserSharing(this.rootStore.userStore.currentUser)}get sharingParticipantId(){return Object(_.b)(this.sharingUserId,this.sharingDeviceId)}get sharingRtcId(){return this.rootStore.userStore.participantsMap[this.sharingParticipantId].rtcId}get sharingFollowParticipantId(){return Object(_.b)(this.sharingFollowUserId,this.sharingFollowDeviceId)}get screenSharingUser(){return this.rootStore.userStore.participantsMap[this.sharingParticipantId]}get sharingAnythingParticipantId(){return this.sharingParticipantId||this.sharingFollowParticipantId}get sharingAnythingUser(){return this.screenSharingUser||this.magicSharingUser}get magicSharingUser(){return this.rootStore.userStore.participantsMap[this.sharingFollowParticipantId]}get isSharingDoc(){const{userId:e="",deviceId:t}=this.followInfo;return Object(_.b)(e,t)===this.rootStore.userStore.currentParticipantId}get isInFollow(){return!!this.followInfo.deviceId&&Object(_.b)(this.followInfo.userId||"",this.followInfo.deviceId)!==this.rootStore.userStore.currentParticipantId}get currentDocsUrl(){return this.followVisitPagesStack.length?this.followVisitPagesStack[this.followVisitPagesStack.length-1].url:this.sharingDoc}get currentDocsTitle(){return this.followVisitPagesStack.length?this.followVisitPagesStack[this.followVisitPagesStack.length-1].docTitle:this.followInfo.docTitle}get lastDocsTitle(){return this.followVisitPagesStack.length>1?this.followVisitPagesStack[this.followVisitPagesStack.length-2].docTitle:null}get currentVisitPartialFollowInfo(){return this.followVisitPagesStack.length?this.followVisitPagesStack[this.followVisitPagesStack.length-1]:this.followInfo}get lastVisitPartialFollowInfo(){return this.followVisitPagesStack.length>1?this.followVisitPagesStack[this.followVisitPagesStack.length-2]:null}get ifStreamReceived(){return!!this.sharingRtcId&&this.receivedStreams.has(this.sharingRtcId)}chooseShareScreenWindow(){h.b.emit(h.a.VC_WEB_MAGICSHARE_CHOOSE_VIEW),d.a.chooseShareScreenWindow().then(()=>{this.startScreenSharingItem()},e=>{e.code===a.SDKErrorCode.SHARE_SCREEN_NO_PERMISSION?this.isShowShareAccessModal=!0:e.code===a.SDKErrorCode.SHARE_SCREEN_CANCELED&&h.b.emit(h.a.VC_WEB_MAGICSHARE_CHOOSE_CLICK,{click:"cancel",target:"vc_meeting_onthecall_view"})})}setShareScreenInfoVersion(e){this.shareScreenInfoVersion=e}reset(){}getSharedList(e){}setShareScreenUserIds(e,t,i=""){s.c.info(`setShareScreenUserDeviceId,sharingDeviceId: ${t}, shareScreenId: ${i}`);const{meetingStore:n}=this.rootStore;this.sharingUserId===e&&this.sharingDeviceId===t&&this.shareScreenId===i||n.mainViews.toTop(c.a.VIDEO),this.sharingUserId=e,this.sharingDeviceId=t,i&&(this.shareScreenId=i),this.inSharing=!0}removeShareScreenUserDeviceId(){const{meetingStore:e}=this.rootStore;this.sharingUserId="",this.sharingDeviceId="",this.shareScreenId="",this.inSharing=!1,e.setIsSharingMode(!1)}setIsSharingAudioEnabled(e){this.isSharingAudioEnabled=e}setIsSharingAudio(e){this.isSharingAudio=e}startSharingAudio(){return y(this,void 0,void 0,(function*(){yield d.a.enableSharingAudio(!0),this.setIsSharingAudio(!0)}))}stopSharingAudio(){return y(this,void 0,void 0,(function*(){yield d.a.enableSharingAudio(!1),this.setIsSharingAudio(!1)}))}tryStopScreenSharingItem(){const{meetingStore:e}=this.rootStore;e.isSharingMode&&(e.setIsSharingMode(!1),this.stopScreenSharingItem())}setSharingFollowUserId(e){this.sharingFollowUserId=e}setSharingFollowDeviceId(e){this.sharingFollowDeviceId=e}setSharingDoc(e){this.sharingDoc=e}setSharingDocThumbnailInfo(e){s.c.info("[Follow][ShareScreenStore] setSharingDocThumbnailInfo, not null ? "+!!e),e&&(e&&this.sharingDocThumbnailInfo&&e.thumbnailUrl===this.sharingDocThumbnailInfo.thumbnailUrl||(this.sharingDocThumbnailInfo=e))}setShareFollowInfo(e){if(s.c.info("[Follow][ShareScreenStore] setShareFollowInfo",e),!e)return;const{url:t,userId:i,deviceId:n,shareId:r="",options:o,thumbnail:a=null,characteristics:d=[]}=e,{shareId:c,url:l,deviceId:p,userId:u}=this.followInfo||{},_=!!l&&!!c,h=!!t&&!!r;if(this.setSharingFollowUserId(i),this.setSharingFollowDeviceId(n),this.setSharingDoc(t),this.setSharingDocThumbnailInfo(a),this.followShareId=r,this.characteristics=d,this.followOptions=Object.assign(Object.assign({},this.followOptions),o),this.followInfo=e||{},!_&&!h)return;if(_&&!h&&r&&r!==c)return;!_&&h&&(this.setLocalFollowing(),E.d.start(E.c.initial,!1,r)),_&&!h&&E.d.stop(!1,c),_&&h&&p&&n&&r===c&&(u!==i||p!==n)&&(E.d.stop(!1,c),E.d.start(E.c.change_presenter,!1,r),this.localFollowingStatus===g.LocalUnFollowing&&E.d.abortFollowInit(E.b.unfollow)),_&&h&&r!==c&&(this.setLocalFollowing(),E.d.stop(!1,c),E.d.start(E.c.reshare,!1,r))}updateCCMSettings(e){s.c.info("[Follow][ShareScreenStore] updateCCMSettings"),this.isOpenForCCMSettings=e}setDocsLifeTime(e){}addReceivedStream(e){s.c.info("[shareScreenStore] receiveReceivedStream: "+e),this.receivedStreams.add(e)}removeReceivedStream(e){s.c.info("[shareScreenStore] removeReceivedStream: "+e),this.receivedStreams.has(e)&&this.receivedStreams.delete(e)}setSketchCrash(){this.isSketchCrash=!0}tryToBrowseDocsFreely(){this.hasTryToBrowseDocsFreely=!0}}T([n.p],S.prototype,"shareScreenInfoVersion",void 0),T([n.p],S.prototype,"activeTab",void 0),T([n.p],S.prototype,"isShowTable",void 0),T([n.p],S.prototype,"isMagicUploadDragIn",void 0),T([n.p],S.prototype,"sharingDeviceId",void 0),T([n.p],S.prototype,"sharingUserId",void 0),T([n.p],S.prototype,"chosenApp",void 0),T([n.p],S.prototype,"sharedList",void 0),T([n.p],S.prototype,"magicShareDocsList",void 0),T([n.p],S.prototype,"magicUploadedFiles",void 0),T([n.p],S.prototype,"magicUploadedSuccessButNotRead",void 0),T([n.p],S.prototype,"magicUploadingFiles",void 0),T([n.p],S.prototype,"sharingItem",void 0),T([n.p],S.prototype,"shareType",void 0),T([n.p],S.prototype,"inSharing",void 0),T([n.p],S.prototype,"isSharingAudioEnabled",void 0),T([n.p],S.prototype,"isSharingAudio",void 0),T([n.p],S.prototype,"isChangingFollow",void 0),T([n.p],S.prototype,"isShowFollowTable",void 0),T([n.p],S.prototype,"sharingDoc",void 0),T([n.p],S.prototype,"sharingFollowUserId",void 0),T([n.p],S.prototype,"sharingFollowDeviceId",void 0),T([n.p],S.prototype,"desktopNum",void 0),T([n.p],S.prototype,"isRefreshReady",void 0),T([n.p],S.prototype,"isOpenForCCMSettings",void 0),T([n.p],S.prototype,"followLifeTime",void 0),T([n.p],S.prototype,"followOptions",void 0),T([n.p],S.prototype,"followShareId",void 0),T([n.p],S.prototype,"followInfo",void 0),T([n.p],S.prototype,"isShareScreenPause",void 0),T([n.p],S.prototype,"characteristics",void 0),T([n.p],S.prototype,"sharingDocThumbnailUrl",void 0),T([n.p],S.prototype,"hasTryToBrowseDocsFreely",void 0),T([n.p],S.prototype,"followVisitPagesStack",void 0),T([n.p],S.prototype,"localFollowingStatus",void 0),T([n.p],S.prototype,"shareScreenId",void 0),T([n.p],S.prototype,"receivedStreams",void 0),T([n.p],S.prototype,"inSketching",void 0),T([n.p],S.prototype,"sketchInfo",void 0),T([n.p],S.prototype,"isSketchBarShow",void 0),T([n.p],S.prototype,"isSketchInvoker",void 0),T([n.p],S.prototype,"isSketchCrash",void 0),T([n.p],S.prototype,"isSketchLoading",void 0),T([n.p],S.prototype,"noAccessibilityGuestTipShow",void 0),T([n.p],S.prototype,"cannotsketchFgToast",void 0),T([n.p],S.prototype,"brushType",void 0),T([n.p],S.prototype,"myBrushType",void 0),T([n.p],S.prototype,"followCombineStateStack",void 0),T([n.p],S.prototype,"currentConsumeFollowCombineState",void 0),T([n.p],S.prototype,"shareGoogleSelectorShow",void 0),T([n.p],S.prototype,"shareGoogleSelectorState",void 0),T([n.p],S.prototype,"googleLoginStatus",void 0),T([n.p],S.prototype,"googleSelectedFile",void 0),T([n.p],S.prototype,"iframeKey",void 0),T([n.p],S.prototype,"isUserCardWindowLoading",void 0),T([n.p],S.prototype,"isSmoothMode",void 0),T([n.p],S.prototype,"isInviteToggle",void 0),T([n.p],S.prototype,"isShowShareAccessModal",void 0),T([n.h],S.prototype,"sharingInfoForUserList",null),T([n.h],S.prototype,"isSharing",null),T([n.h],S.prototype,"someoneIsShaing",null),T([n.h],S.prototype,"isMeSharing",null),T([n.h],S.prototype,"sharingParticipantId",null),T([n.h],S.prototype,"sharingRtcId",null),T([n.h],S.prototype,"sharingFollowParticipantId",null),T([n.h],S.prototype,"screenSharingUser",null),T([n.h],S.prototype,"sharingAnythingParticipantId",null),T([n.h],S.prototype,"sharingAnythingUser",null),T([n.h],S.prototype,"magicSharingUser",null),T([n.h],S.prototype,"isSharingDoc",null),T([n.h],S.prototype,"isInFollow",null),T([n.h],S.prototype,"currentDocsUrl",null),T([n.h],S.prototype,"currentDocsTitle",null),T([n.h],S.prototype,"lastDocsTitle",null),T([n.h],S.prototype,"currentVisitPartialFollowInfo",null),T([n.h],S.prototype,"lastVisitPartialFollowInfo",null),T([n.h],S.prototype,"ifStreamReceived",null),T([n.f],S.prototype,"chooseShareScreenWindow",null),T([n.f],S.prototype,"setShareScreenInfoVersion",null),T([n.f],S.prototype,"reset",null),T([n.f],S.prototype,"getSharedList",null),T([n.f],S.prototype,"setSharingItem",void 0),T([n.f],S.prototype,"startScreenSharingItem",void 0),T([n.f],S.prototype,"stopScreenSharingItem",void 0),T([n.f],S.prototype,"setIsSharingAudioEnabled",null),T([n.f],S.prototype,"setIsSharingAudio",null),T([n.f],S.prototype,"startSharingAudio",null),T([n.f],S.prototype,"stopSharingAudio",null),T([n.f],S.prototype,"tryStopScreenSharingItem",null),T([n.f],S.prototype,"setSharingFollowUserId",null),T([n.f],S.prototype,"setSharingFollowDeviceId",null),T([n.f],S.prototype,"setSharingDoc",null),T([n.f],S.prototype,"setSharingDocThumbnailInfo",null),T([n.f],S.prototype,"setShareFollowInfo",null),T([n.f],S.prototype,"refreshWebview",void 0),T([n.f],S.prototype,"updateCCMSettings",null),T([n.f],S.prototype,"setDocsLifeTime",null),T([n.f],S.prototype,"setLocalUnFollowing",void 0),T([n.f],S.prototype,"setLocalFollowing",void 0),T([n.f],S.prototype,"setFollowInfoToPagesStack",void 0),T([n.f],S.prototype,"setSketchBarShow",void 0),T([n.f],S.prototype,"setnoAccessibilityGuestTipShow",void 0),T([n.f],S.prototype,"setSketchLoading",void 0),T([n.f],S.prototype,"setSketchCrash",null),T([n.f],S.prototype,"tryToBrowseDocsFreely",null)},,,,,function(e,t,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__rest||function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i};Object.defineProperty(t,"__esModule",{value:!0}),t.Data=void 0;var o=i(99),s=i(91).Logger.getLogger("data"),a={roomId:"",userId:"",deviceId:"",appId:"",mediaServerAddr:"",signalServer:"",channel:o.Channel.CN,customChannelApi:""},d={domains:[],videoBandwidth:{maxVideoBW:2048,minVideoBW:100}};function c(){var e;return(e={})[o.DeviceType.kCamera]=[],e[o.DeviceType.kPlayback]=[],e[o.DeviceType.kRecord]=[],e}var l=function(){function e(){var e;this.clientOptions=a,this.token=void 0,this.devices=c(),this.currentDeviceIdMap=((e={})[o.DeviceType.kCamera]="",e[o.DeviceType.kPlayback]="",e[o.DeviceType.kRecord]="",e),this.authorStateMap=function(){var e;return(e={})[o.AuthType.Camera]=o.AuthStatus.NotDetermined,e[o.AuthType.Microphone]=o.AuthStatus.NotDetermined,e}()}return e.prototype.getClientOptions=function(){return this.clientOptions},e.prototype.getAuthStatus=function(e){return this.authorStateMap[e]},e.prototype.isDeviceAvailable=function(e){var t=this.authorStateMap[e];return t===o.AuthStatus.Granted||t===o.AuthStatus.NotDetermined},e.prototype.updateAuthStatusMap=function(e){Object.assign(this.authorStateMap,e)},e.prototype.getCurrentDeviceIdMap=function(){return this.currentDeviceIdMap},e.prototype.getAllDevices=function(){return this.devices},e.prototype.compareDevices=function(e,t){var i=[],n=[],r=this.devices[e],o=t.map((function(e){return e.deviceId})),s=r.map((function(e){return e.deviceId}));return o.forEach((function(e,n){s.includes(e)||i.push(t[n])})),s.forEach((function(e,t){o.includes(e)||n.push(r[t])})),[i,n]},e.prototype.getDevices=function(e){return this.devices[e]},e.prototype.includeDeviceLabel=function(e,t){return this.getDevices(t).filter((function(t){return t.deviceName===e})).length>0},e.prototype.updateAllDevices=function(e){var t=this;void 0===e&&(e=c()),this.devices=e,Object.keys(this.currentDeviceIdMap).forEach((function(e,i){t.updateCurrentDeviceId(e,t.currentDeviceIdMap[e])}))},e.prototype.getCurrentDeviceId=function(e){return this.currentDeviceIdMap[e]},e.prototype.resetCurrentDeviceId=function(e){var t,i=this.devices[e];this.updateCurrentDeviceId(e,null===(t=i[0])||void 0===t?void 0:t.deviceId)},e.prototype.updateCurrentDeviceId=function(e,t){var i=Date.now();if(s.info(["[selectCurDevice]","updateCurrentDeviceId","operateTime: "+i,"type: "+e,"deviceId: "+t].join("\n")),t)this.currentDeviceIdMap[e]=t;else{var n=this.currentDeviceIdMap[e],r=this.devices[e],o=r.map((function(e){return e.deviceId}));if(!n||!o.includes(n)){for(var a=0;a<r.length;a++){var d=r[a];if("default"===d.deviceId)return void(this.currentDeviceIdMap[e]=d.deviceId)}this.currentDeviceIdMap[e]=o[0]||"",s.warn(["[selectCurDevice]","updateCurrentDeviceId","operateTime: "+i,"not found default deviceId: "+JSON.stringify(o)].join(" "))}}},e.prototype.setClientOptions=function(e){this.clientOptions=e},e.prototype.isSelf=function(e){return this.clientOptions.userId===e},e.prototype.getUserId=function(){return this.clientOptions.userId},e.prototype.updateToken=function(e){this.token=e},e.prototype.getToken=function(){return this.token},e.prototype.updateClientOptions=function(e){s.log("updateClientOptions.",e),Object.assign(this.clientOptions,e);var t=this.clientOptions,i=t.deviceId,n=t.userId;this.clientOptions.deviceId=i||n},e.prototype.updateServerConfig=function(e){var t=e.multiDomain,i=r(e,["multiDomain"]);this.serverConfig=this.serverConfig||d;var o=this.serverConfig.domains;t&&(o=Array.isArray(t)?t:t.domains),Object.assign(this.serverConfig,n({domains:o},i))},e.prototype.getServerConfig=function(){return this.serverConfig},e.prototype.clear=function(){},e}();t.Data=l,t.default=new l},,function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i(1),r=i.n(n),o=i(6),s=(i(846),function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i});class a extends n.PureComponent{constructor(){super(...arguments),this.retryCount=0,this.handleClick=e=>{const{onAvatarClick:t,url:i,onClick:n}=this.props;t&&t(e),n&&n(e),this.avatarDom&&(this.avatarDom.style.backgroundImage=i?`url("${i}")`:"")},this.onImageError=()=>{o.c.error("avatar load failed with url "+this.props.url),this.retryCount<3&&(this.reloadImage(),this.retryCount++)},this.reloadImage=()=>{const e=new Image;e.onerror=this.onImageError,e.onload=this.onLoad,e.src=this.props.url||""},this.onLoad=()=>{this.retryCount=0}}render(){const e=this.props,{className:t}=e,i=s(e,["className"]);return r.a.createElement("div",Object.assign({ref:e=>{e&&(this.avatarDom=e)},className:"bv-avatar "+t},i,{onClick:this.handleClick}),r.a.createElement("img",{className:"bv-avatar-img",src:this.props.url,onLoad:this.onLoad,onError:this.onImageError,alt:"avatar"}))}}},,,,,,function(e,t,i){"use strict";i.d(t,"d",(function(){return o})),i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return d}));var n=i(149),r=i(64);function o(e,t){if(!t)return e;const i=Object.entries(t).map(([e,t])=>`${e}=${encodeURIComponent(t)}`);return i.length?`${e}?${i.join("&")}`:e}function s(e){const{url:t=r.a.fetchURL,headers:i,data:n,method:o,body:s}=e,a={method:o,body:s,headers:i,mode:"cors",credentials:"include"};return n&&(a.body=n),fetch(t,a)}function a(){return navigator.onLine}function d(e){return e===n.d.UNAUTHORIZED}},,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseOperation=void 0;var n=function(e){this.roomService=e};t.BaseOperation=n},,,,,function(e,t,i){"use strict";i.d(t,"d",(function(){return u})),i.d(t,"a",(function(){return _})),i.d(t,"c",(function(){return E})),i.d(t,"b",(function(){return h}));var n=i(64),r=i(254),o=i(10),s=i(612);Object(o.f)({frame:s.a});var a={encode:o.e,decode:o.b,create:o.a},d=i(149);var c;function l(e){const t=o.d.create("improto.Packet");t.cmd=1,t.payloadType=1,e&&(t.sid=e);const i=o.d.encode("improto.Packet",t);return function(e,t,i,n={}){const r=a.create("frame.Frame"),o=Date.now();return r.seqid=o,r.logid=o,r.service=e,r.method=t,r.headers=r.headers||[],t!==d.a.InitLastSid&&(r.payloadType="pb",r.payload=i,n["x-request-time"]=""+1e3*Date.now()),Object.entries(n).forEach(([e,t])=>{const i=a.create("frame.Frame.ExtendedEntry");i.key=e,i.value=t,r.headers.push(i)}),a.encode("frame.Frame",r)}(d.b.Lark,d.a.Default,i)}!function(e){e[e.Low=0]="Low",e[e.Middle=1]="Middle",e[e.High=2]="High"}(c||(c={}));class p{constructor(e){this.onMessage=e=>{const t=function(e){const t=a.decode("frame.Frame",e);return o.d.decode("improto.Packet",t.payload)}(new Uint8Array(e.data)),i=l(t.sid);this.socket.send(i),this.socketHandler.onMessage&&this.socketHandler.onMessage(t)},this.socketHandler=e;const t=Object.assign({},this.socketHandler,{onMessage:this.onMessage});this.socket=new r.b({host:n.a.socketHost,handler:t})}static getInstance(e){if(!this.instance){if(!e)throw new Error("LarkSocket:: create an lark socket instance must give handler");this.instance=new p(e)}return this.instance}startup(){this.socket.connect()}shutdown(){this.socket.close()}}function u(e){p.getInstance(e).startup()}function _(){p.getInstance().shutdown()}function E(){p.getInstance().startup()}function h(){return Object(r.c)()}},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i(255),r=i(108);const o=n.a.config({placement:r.a.TOP_MIDDLE});n.a.config({placement:r.a.CENTER}),n.a.config({placement:r.a.CENTER,className:"modal-cover"}),n.a.config({placement:r.a.TOP_MIDDLE,maxCount:1})},function(e,t,i){"use strict";function n(){return(Math.random().toString(36)+"0000000000").substring(2,2+"0000000000".length)}i.d(t,"a",(function(){return n}))},,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAutomation=t.AutomationCallback=void 0,function(e){e.OnJoinChannelSuccess="onJoinChannelSuccess",e.OnStreamAdd="onStreamAdd",e.OnStreamRemove="onStreamRemove",e.OnFirstLocalVideoFrame="onFirstLocalVideoFrame",e.OnFirstLocalAudioFrame="onFirstLocalAudioFrame",e.OnUserEnableVideo="onUserEnableVideo",e.OnUserEnableAudio="onUserEnableAudio",e.OnStreamSubscribed="onStreamSubscribed",e.OnFirstRemoteVideoFrame="onFirstRemoteVideoFrame",e.OnFirstRemoteAudioFrame="onFirstRemoteAudioFrame",e.OnUserMuteVideo="onUserMuteVideo",e.OnUserMuteAudio="onUserMuteAudio",e.OnUserJoined="onUserJoined",e.OnUserOffline="onUserOffline",e.OnFirstLocalScreenFrame="onFirstLocalScreenFrame",e.OnFirstRemoteScreenFrame="onFirstRemoteScreenFrame",e.OnAudioFrame="onAudioFrame",e.OnVideoFrame="onVideoFrame",e.OnScreenFrame="onScreenFrame",e.OnAddTrack="onAddTrack",e.OnActiveLayer="onActiveLayer",e.OnUpdateUserChannel="OnUpdateUserChannel"}(t.AutomationCallback||(t.AutomationCallback={})),t.isAutomation=!1},,,,,function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const n={};function r(){const e=Symbol();return n[e]={}}},,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return o})),i.d(t,"d",(function(){return a})),i.d(t,"c",(function(){return d}));var n=i(50);const r=!1,o=location.href.indexOf("feishu.cn")>-1,{hostname:s}=location,a=s.includes("-staging"),d=s.includes("-pre"),c=!a&&!d;function l(){return c?n.c?"lark":"feishu":d?n.c?"lark-pre":"feishu-pre":n.c?"lark-staging":"feishu-staging"}window._env=l()},,,function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i(6),r=i(127),o=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function s(){return o(this,void 0,void 0,(function*(){if(window.initialServerData.userInfo)return window.initialServerData.userInfo;try{const e=yield fetch("/client/videochat/open/join/selfinfo",{mode:"cors",credentials:"include"});return yield e.json()}catch(e){return n.c.error("getCurrentUserInfo error",e),Object(r.a)(e,"getCurrentUserInfoError"),null}}))}},,function(e,t,i){"use strict";var n=i(226),r=i(21),o=i(3);class s extends n.a{send(e,t){t&&this.emit(e,t)}}const a=new s;t.a={send(e,t){a.send(e,t)},on(e,t){if(e)return o.c.info("bind sdk push command: cmd={}",e),a.on(r.a[e],t);o.c.error("push command not found")},off(e,t){e?(o.c.info("unbind sdk push command: cmd={}",e),a.off(r.a[e],t)):o.c.error("push command not found")}}},,,,,,,,,,,,,,,,function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(3);class r{constructor(){this.listeners=new Map}on(e,t){const i=this.listeners.get(e)||[];return i.includes(t)?(n.c.info("dupplicate callback of {}",e),()=>{}):(i.push(t),this.listeners.set(e,i),()=>{const e=i.indexOf(t);-1!==e&&i.splice(e,1)})}off(e,t){const i=this.listeners.get(e)||[],n=i.indexOf(t);-1!==n&&i.splice(n,1)}emit(e,...t){(this.listeners.get(e)||[]).forEach(e=>{e(...t)})}}},,,,,,,,,,,,,function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return d})),i.d(t,"a",(function(){return c}));var n=i(10),r=i(13),o=i(64),s=(i(3),function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))});function a(e){return s(this,void 0,void 0,(function*(){const t=n.d.encode("improto.ProcessMultiPacketsRequest",{packets:e});return yield Object(r.f)({cmd:77,payload:t})}))}function d(e){const t=n.d.encode("improto.PullPacketsBySidsRequest",{sids:e});return Object(r.f)({cmd:12001,payload:t})}function c(){return s(this,void 0,void 0,(function*(){const e=encodeURIComponent(o.a.webClientURL);return yield Object(r.a)({url:`${o.a.passportURL}/suite/passport/logout/web?redirect_uri=${e}`,method:"POST"})}))}},,,,,,,function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return o}));var n=i(0);function r(e,t){if(t.forEach((t,i)=>{e[i]=t}),e.length>t.length){const i=e.length,n=t.length;e.splice(n,i-n)}return e}function o(e){return e>=n.ParticipantType.NEO_GUEST_USER}},,,,,function(e,t,i){"use strict";i.d(t,"c",(function(){return o})),i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return a}));var n=i(187);const r=Object(n.a)();function o(e){return r[e]}function s(e){const t=e.toString();return r[t]}function a(e,t){r[e]=t}},,function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n,r,o=i(2),s=i(0),a=i(20),d=i(520),c=i.n(d),l=i(521),p=i.n(l),u=i(522),_=i.n(u),E=i(491),h=i.n(E),T=i(641),y=i.n(T),f=i(642),I=i.n(f),g=i(643),S=i.n(g),C=i(87),m=i(246),N=i(18),A=i(31),R=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};!function(e){e[e.EXCELLENT=4]="EXCELLENT",e[e.GOOD=3]="GOOD",e[e.POOR=2]="POOR",e[e.BAD=1]="BAD",e[e.VBAD=0]="VBAD",e[e.DOWN=-1]="DOWN",e[e.UNKNOWN=-2]="UNKNOWN"}(n||(n={})),function(e){e[e.BAD=0]="BAD",e[e.NORMAL=1]="NORMAL",e[e.GOOD=2]="GOOD"}(r||(r={}));class O{constructor(e,t,i,n){this.participantId="",this.$larkInfo=null,this.$roomInfo=null,this.$bindLarkInfo=null,this.$newTypeUser=null,this.participantInfo={id:"",isHost:!1,isLarkGuest:!1,status:s.ParticipantStatus.UNKNOWN,ringingReceived:!1},this.lobbyInfo={isInLobby:!1,isJoiningFromLobby:!1,joinLobbyTime:0},this.inviterUserId="",this.isInited=!1,this.multiDevice=!1,this.isCameraMuted=!1,this.isMicrophoneMuted=!1,this.microphoneStatus=s.EquipmentStatus.NORMAL,this.isSpeaking=!1,this.weight=0,this.rootStore=e,this.id=t,this.deviceId=i||"",this.rtcJoinId=n||"",this.participantId=Object(C.b)(this.id,this.deviceId)}get rtcId(){return this.rtcJoinId||this.deviceId}get rtcStore(){return this.rootStore.rtcStore}get userStore(){return this.rootStore.userStore}get isInLobby(){return this.lobbyInfo.isInLobby}get isJoiningFromLobby(){return this.lobbyInfo.isJoiningFromLobby}get joinLobbyTime(){return this.lobbyInfo.joinLobbyTime}get larkInfo(){return this.$larkInfo}get bindLarkInfo(){return this.$bindLarkInfo}get roomInfo(){return this.$roomInfo}get newTypeUser(){return this.$newTypeUser}get isCurrentUser(){const{currentUser:e}=this.userStore;return e===this}get chatterInfo(){var e;const{currentUser:t}=this.userStore;if(t.isInterviewee&&t.participantId!==this.participantId&&!this.isInterviewee)return{id:this.larkInfo?this.larkInfo.id:"",tenantId:this.larkInfo?this.larkInfo.tenantId:"",name:Object(a.b)("View_M_Interviewer"),avatarUrl:h.a,avatarKey:"",avatar:{72:h.a,144:y.a,200:I.a,origin:S.a}};const{type:i}=this,n={id:"",name:"",avatar:{},avatarKey:"",avatarUrl:"",tenantId:""};if(i===s.ParticipantType.LARK_USER||i===s.ParticipantType.NEO_USER){const{larkInfo:e,participantSettings:t}=this;return e?{id:e.id,name:t.nickname||e.name,avatar:e.avatar,avatarKey:e.avatarKey,avatarUrl:e.avatarUrl,tenantId:e.tenantId}:n}if(i===s.ParticipantType.DOC_USER)return n;if(this.isRoom){const{roomInfo:e}=this;return e?{id:e.roomId,name:e.displayFullName||e.name,avatar:e.avatar,avatarKey:e.avatarKey||"",avatarUrl:e.avatarUrl||"",tenantId:""}:n}const r=i===s.ParticipantType.PSTN_USER&&(null===(e=this.participantInfo.pstnInfo)||void 0===e?void 0:e.bindId);if(r){const{bindLarkInfo:e,participantSettings:t}=this;return e?{id:this.id,name:t.nickname||e.name,avatar:e.avatar,avatarKey:e.avatarKey,avatarUrl:e.avatarUrl,tenantId:e.tenantId}:n}if(Object(m.a)(i)&&!r){const{newTypeUser:e}=this,t=Object.assign({},n);if(e&&(t.id=e.id,t.name=this.participantSettings.nickname||e.name||Object(a.b)("View_N_Guest"),t.avatar=e.avatar,t.avatarUrl=e.avatarUrl),!t.avatarUrl)switch(i){case s.ParticipantType.PSTN_USER:t.avatarUrl=_.a;break;case s.ParticipantType.SIP_USER:t.avatarUrl=p.a;break;default:t.avatarUrl=c.a}return t}return Object.assign(Object.assign({},n),{name:this.participantSettings.nickname||""})}initLarkInfo(e){this.$larkInfo=e,this.isInited=!0,Object(A.b)({tenant_id:e.tenantId})}initBindLarkInfo(e){this.$bindLarkInfo=e,this.isInited=!0}initNewTypeInfo(e){this.$newTypeUser=e,this.isInited=!0}initRoomInfo(e){this.$roomInfo=e;const t=[e.name||this.name||""];e&&e.location&&e.location.floorName&&t.unshift(e.location.floorName),this.$roomInfo.displayName=t.join("-"),e&&e.location&&e.location.buildingName&&t.unshift(e.location.buildingName),this.$roomInfo.displayFullName=t.join("-"),this.isInited=!0}resetParticipantInfo(){this.participantInfo.status=s.ParticipantStatus.UNKNOWN;const e=this.userStore.participantList.filter(e=>e.id===this.id);1===e.length&&e[0].setMultiDevice(!1)}resetLobbyParticipantInfo(){this.setInLobbyFlag(!1),this.setIsJoiningFromLobby(!1)}updateParticipantInfo(e){Object.assign(this.participantInfo,e);const{settings:t}=this.participantInfo,{isCameraMuted:i=!1,isMicrophoneMuted:n=!1,microphoneStatus:r=s.EquipmentStatus.NORMAL}=t||{};this.setIsCameraMuted(i),this.setIsMicrophoneMuted(n),this.setMicrophoneStatus(r),e.rtcJoinId&&e.rtcJoinId!==this.rtcJoinId&&(this.rtcJoinId=e.rtcJoinId,this.userStore.rtcIdMap[e.rtcJoinId]=this),this.inviterUserId=this.participantInfo.inviterId||this.inviterUserId}get isMobile(){const{deviceId:e,deviceType:t}=this.participantInfo;return!!e&&t===s.UserDeviceType.MOBILE}get isWeb(){const{deviceId:e,deviceType:t}=this.participantInfo;return!!e&&t===s.UserDeviceType.WEB}get originalParticipantInfo(){return this.participantInfo}get isRoom(){return this.type===s.ParticipantType.ROOM}get isSipUser(){return this.type===s.ParticipantType.SIP_USER}get isPstnUser(){return this.type===s.ParticipantType.PSTN_USER}get hasPstnIcon(){var e;return Boolean(this.isPstnUser&&(null===(e=this.participantInfo.pstnInfo)||void 0===e?void 0:e.bindId))}get sortName(){return this.participantInfo.sortName||""}get joinTime(){return this.participantInfo.joinTime||0}get handsUpTime(){return this.participantInfo.handsUpTime||0}get deviceType(){return this.participantInfo.deviceType}get type(){return this.participantInfo.type||s.ParticipantType.UNKNOWN}get interactiveId(){return this.participantInfo.interactiveId||""}get inviterDeviceId(){return this.participantInfo.inviterDeviceId||""}get status(){return this.participantInfo.status}get isHost(){const{participantRoleSettings:e}=this.participantInfo;return!!e&&e.meetingRole===s.ParticipantMeetingRole.HOST}get isCoHost(){const{participantRoleSettings:e}=this.participantInfo;return!!e&&e.meetingRole===s.ParticipantMeetingRole.CO_HOST}get isNormalParticipant(){const{participantRoleSettings:e}=this.participantInfo;return!e||e.meetingRole===s.ParticipantMeetingRole.PARTICIPANT}get isMeetingOwner(){const{participantRoleSettings:e}=this.participantInfo;return!!e&&!!e.isMeetingOwner}get isLarkGuest(){return this.participantInfo.isLarkGuest}get streams(){const{streams:e}=this.rtcStore,t={};return Object.values(e).forEach(e=>{e.uid!==this.rtcId&&e.uid!==this.id||(e.type===N.StreamType.CAMERA?t.frame=e:t.screen=e)}),t}get offlineReason(){return this.participantInfo.offlineReason||s.OfflineReason.UNKNOWN}get role(){return this.participantInfo.role||s.ParticipantRole.UNKNOWN}get isInterviewer(){return this.role===s.ParticipantRole.INTERVIEWER}get isInterviewee(){return this.role===s.ParticipantRole.INTERVIEWEE}get capabilities(){return this.participantInfo.capabilities||{upgradeMeeting:!1}}get participantSettings(){return this.participantInfo.settings||{}}get cameraStatus(){const e=this.participantSettings;return void 0!==e.cameraStatus?e.cameraStatus:s.EquipmentStatus.NORMAL}get followingStatus(){return this.participantSettings.followingStatus||!1}get isTranslationOn(){return this.participantSettings.isTranslationOn||!1}get subtitleLanguage(){return this.participantSettings.subtitleLanguage||"default"}get spokenLanguage(){return this.participantSettings.spokenLanguage||"default"}get handsStatus(){return this.participantSettings.handsStatus||s.HandsStatus.UNKNOWN}get isHandsUp(){return this.handsStatus===s.HandsStatus.PUT_UP}get name(){return this.chatterInfo.name}get avatarUrl(){return this.chatterInfo.avatarUrl}get avatar(){return this.chatterInfo.avatar}get avatarKey(){return this.chatterInfo.avatarKey}get tenantId(){return this.chatterInfo.tenantId||this.participantInfo.userTenantId}get tenantTag(){return this.participantInfo.tenantTag||this.participantInfo.tanantTag}get isExternal(){const{currentUser:e}=this.userStore;return!e.tenantTag&&(!![s.ParticipantType.LARK_USER,s.ParticipantType.ROOM,s.ParticipantType.NEO_GUEST_USER,s.ParticipantType.NEO_USER].includes(this.type)&&(!this.isLarkGuest&&e.tenantId!==this.tenantId))}get isShowProfileType(){return this.type===s.ParticipantType.LARK_USER}get isNetworkBad(){return!!this.netWorkQualityInfo&&(this.signalLevel===r.BAD||this.signalLevel===r.NORMAL)}get signalLevel(){return r.GOOD}get rtt(){if(!this.netWorkQualityInfo||!this.netWorkQualityInfo.rtt)return"0 ms";const{rtt:e}=this.netWorkQualityInfo;return e>=1e3?(e/1e3).toFixed(2)+" s":e+" ms"}get email(){return this.larkInfo?this.larkInfo.email:""}setNetWorkQualityInfo(e){this.netWorkQualityInfo=e}setMultiDevice(e){this.multiDevice=e}setIsCameraMuted(e){this.isCameraMuted=e}setIsMicrophoneMuted(e){this.isMicrophoneMuted=e}setMicrophoneStatus(e){this.microphoneStatus=e,this.setIsSpeaking(this.isSpeaking)}setIsSpeaking(e){this.isMicrophoneMuted||this.microphoneStatus!==s.EquipmentStatus.NORMAL&&this.microphoneStatus!==s.EquipmentStatus.UNKNOWN||this.status!==s.ParticipantStatus.ON_THE_CALL?this.isSpeaking=!1:this.isSpeaking!==e&&(this.isSpeaking=e)}setWeight(e){this.weight=e}setIsJoiningFromLobby(e){this.lobbyInfo.isJoiningFromLobby=e}setInLobbyFlag(e){this.lobbyInfo.isInLobby=e}setJoinLobbyTime(e=0){this.lobbyInfo.joinLobbyTime=e}}R([o.h],O.prototype,"rtcStore",null),R([o.h],O.prototype,"userStore",null),R([o.p],O.prototype,"$larkInfo",void 0),R([o.p],O.prototype,"$roomInfo",void 0),R([o.p],O.prototype,"$bindLarkInfo",void 0),R([o.p],O.prototype,"$newTypeUser",void 0),R([o.p],O.prototype,"participantInfo",void 0),R([o.p],O.prototype,"lobbyInfo",void 0),R([o.h],O.prototype,"isInLobby",null),R([o.h],O.prototype,"isJoiningFromLobby",null),R([o.h],O.prototype,"joinLobbyTime",null),R([o.h],O.prototype,"larkInfo",null),R([o.h],O.prototype,"bindLarkInfo",null),R([o.h],O.prototype,"roomInfo",null),R([o.h],O.prototype,"newTypeUser",null),R([o.h],O.prototype,"isCurrentUser",null),R([o.h],O.prototype,"chatterInfo",null),R([o.f],O.prototype,"initLarkInfo",null),R([o.f],O.prototype,"initBindLarkInfo",null),R([o.f],O.prototype,"initNewTypeInfo",null),R([o.f],O.prototype,"initRoomInfo",null),R([o.f],O.prototype,"resetParticipantInfo",null),R([o.f],O.prototype,"resetLobbyParticipantInfo",null),R([o.f],O.prototype,"updateParticipantInfo",null),R([o.h],O.prototype,"isMobile",null),R([o.h],O.prototype,"isWeb",null),R([o.h],O.prototype,"originalParticipantInfo",null),R([o.h],O.prototype,"isRoom",null),R([o.h],O.prototype,"isSipUser",null),R([o.h],O.prototype,"isPstnUser",null),R([o.h],O.prototype,"hasPstnIcon",null),R([o.h],O.prototype,"sortName",null),R([o.h],O.prototype,"joinTime",null),R([o.h],O.prototype,"handsUpTime",null),R([o.h],O.prototype,"deviceType",null),R([o.h],O.prototype,"type",null),R([o.h],O.prototype,"interactiveId",null),R([o.h],O.prototype,"inviterDeviceId",null),R([o.h],O.prototype,"status",null),R([o.h],O.prototype,"isHost",null),R([o.h],O.prototype,"isCoHost",null),R([o.h],O.prototype,"isNormalParticipant",null),R([o.h],O.prototype,"isMeetingOwner",null),R([o.h],O.prototype,"isLarkGuest",null),R([o.h],O.prototype,"streams",null),R([o.h],O.prototype,"offlineReason",null),R([o.h],O.prototype,"role",null),R([o.h],O.prototype,"isInterviewer",null),R([o.h],O.prototype,"isInterviewee",null),R([o.h],O.prototype,"capabilities",null),R([o.h],O.prototype,"participantSettings",null),R([o.h],O.prototype,"cameraStatus",null),R([o.h],O.prototype,"followingStatus",null),R([o.h],O.prototype,"isTranslationOn",null),R([o.h],O.prototype,"subtitleLanguage",null),R([o.h],O.prototype,"spokenLanguage",null),R([o.h],O.prototype,"handsStatus",null),R([o.h],O.prototype,"isHandsUp",null),R([o.h],O.prototype,"name",null),R([o.h],O.prototype,"avatarUrl",null),R([o.h],O.prototype,"avatar",null),R([o.h],O.prototype,"avatarKey",null),R([o.h],O.prototype,"tenantId",null),R([o.h],O.prototype,"tenantTag",null),R([o.h],O.prototype,"isExternal",null),R([o.h],O.prototype,"isShowProfileType",null),R([o.h],O.prototype,"isNetworkBad",null),R([o.h],O.prototype,"signalLevel",null),R([o.h],O.prototype,"rtt",null),R([o.h],O.prototype,"email",null),R([o.p],O.prototype,"multiDevice",void 0),R([o.p],O.prototype,"isCameraMuted",void 0),R([o.p],O.prototype,"isMicrophoneMuted",void 0),R([o.p],O.prototype,"microphoneStatus",void 0),R([o.p],O.prototype,"isSpeaking",void 0),R([o.p],O.prototype,"weight",void 0),R([o.p],O.prototype,"netWorkQualityInfo",void 0),R([o.f],O.prototype,"setNetWorkQualityInfo",null),R([o.f],O.prototype,"setMultiDevice",null),R([o.f],O.prototype,"setIsCameraMuted",null),R([o.f],O.prototype,"setIsMicrophoneMuted",null),R([o.f],O.prototype,"setMicrophoneStatus",null),R([o.f],O.prototype,"setIsSpeaking",null),R([o.f],O.prototype,"setWeight",null),R([o.f],O.prototype,"setIsJoiningFromLobby",null),R([o.f],O.prototype,"setInLobbyFlag",null),R([o.f],O.prototype,"setJoinLobbyTime",null),t.b=O},function(e,t,i){"use strict";i.d(t,"a",(function(){return M})),i.d(t,"b",(function(){return V})),i.d(t,"c",(function(){return H}));var n=i(64),r=i(13);let o=null;const s={LARK_META:"LARK_META"};function a(){return new Promise((e,t)=>{const i=self.indexedDB.open("lark-sdk",1);i.onerror=function(e){t(e)},i.onsuccess=function(t){const i=t.target.result;o=i,e(o)},i.onupgradeneeded=function(e){!function(e){const t=Object.values(s),i=e.objectStoreNames;t.filter(e=>!i.contains(e)).forEach(t=>{e.createObjectStore(t,{keyPath:"name"})})}(e.target.result)}})}function d(e,t,i){e.transaction(t,"readwrite").objectStore(t).add(i)}function c(e,t,i){return new Promise((e,n)=>{const r=o.transaction(t,"readonly").objectStore(t).get(i);r.onsuccess=function(t){t.target.result?e(t.target.result.value):e()},r.onerror=function(t){e()}})}var l=i(177),p=i(167),u=i(3);const _={sass:"5f45da0e6c7a17dcba80494ef0ab9b21",ka31:"29cd5e7f9de36d4620dee45299e6d088",kastaging:"0036e93a4fc4e5af8acafd200e538391",kami:"0036e93a4fc4e5af8acafd200e538391",kap:"0036e93a4fc4e5af8acafd200e538391",kacrc:"82e450f4f5cdcbae7647dbb82a7fdfef"};function E(e,t){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function h(e,t,i,n,r,o){return E((s=E(E(t,e),E(n,o)))<<(a=r)|s>>>32-a,i);var s,a}function T(e,t,i,n,r,o,s){return h(t&i|~t&n,e,t,r,o,s)}function y(e,t,i,n,r,o,s){return h(t&n|i&~n,e,t,r,o,s)}function f(e,t,i,n,r,o,s){return h(t^i^n,e,t,r,o,s)}function I(e,t,i,n,r,o,s){return h(i^(t|~n),e,t,r,o,s)}function g(e,t){var i,n,r,o,s;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var a=1732584193,d=-271733879,c=-1732584194,l=271733878;for(i=0;i<e.length;i+=16)n=a,r=d,o=c,s=l,a=T(a,d,c,l,e[i],7,-680876936),l=T(l,a,d,c,e[i+1],12,-389564586),c=T(c,l,a,d,e[i+2],17,606105819),d=T(d,c,l,a,e[i+3],22,-1044525330),a=T(a,d,c,l,e[i+4],7,-176418897),l=T(l,a,d,c,e[i+5],12,1200080426),c=T(c,l,a,d,e[i+6],17,-1473231341),d=T(d,c,l,a,e[i+7],22,-45705983),a=T(a,d,c,l,e[i+8],7,1770035416),l=T(l,a,d,c,e[i+9],12,-1958414417),c=T(c,l,a,d,e[i+10],17,-42063),d=T(d,c,l,a,e[i+11],22,-1990404162),a=T(a,d,c,l,e[i+12],7,1804603682),l=T(l,a,d,c,e[i+13],12,-40341101),c=T(c,l,a,d,e[i+14],17,-1502002290),a=y(a,d=T(d,c,l,a,e[i+15],22,1236535329),c,l,e[i+1],5,-165796510),l=y(l,a,d,c,e[i+6],9,-1069501632),c=y(c,l,a,d,e[i+11],14,643717713),d=y(d,c,l,a,e[i],20,-373897302),a=y(a,d,c,l,e[i+5],5,-701558691),l=y(l,a,d,c,e[i+10],9,38016083),c=y(c,l,a,d,e[i+15],14,-660478335),d=y(d,c,l,a,e[i+4],20,-405537848),a=y(a,d,c,l,e[i+9],5,568446438),l=y(l,a,d,c,e[i+14],9,-1019803690),c=y(c,l,a,d,e[i+3],14,-187363961),d=y(d,c,l,a,e[i+8],20,1163531501),a=y(a,d,c,l,e[i+13],5,-1444681467),l=y(l,a,d,c,e[i+2],9,-51403784),c=y(c,l,a,d,e[i+7],14,1735328473),a=f(a,d=y(d,c,l,a,e[i+12],20,-1926607734),c,l,e[i+5],4,-378558),l=f(l,a,d,c,e[i+8],11,-2022574463),c=f(c,l,a,d,e[i+11],16,1839030562),d=f(d,c,l,a,e[i+14],23,-35309556),a=f(a,d,c,l,e[i+1],4,-1530992060),l=f(l,a,d,c,e[i+4],11,1272893353),c=f(c,l,a,d,e[i+7],16,-155497632),d=f(d,c,l,a,e[i+10],23,-1094730640),a=f(a,d,c,l,e[i+13],4,681279174),l=f(l,a,d,c,e[i],11,-358537222),c=f(c,l,a,d,e[i+3],16,-722521979),d=f(d,c,l,a,e[i+6],23,76029189),a=f(a,d,c,l,e[i+9],4,-640364487),l=f(l,a,d,c,e[i+12],11,-421815835),c=f(c,l,a,d,e[i+15],16,530742520),a=I(a,d=f(d,c,l,a,e[i+2],23,-995338651),c,l,e[i],6,-198630844),l=I(l,a,d,c,e[i+7],10,1126891415),c=I(c,l,a,d,e[i+14],15,-1416354905),d=I(d,c,l,a,e[i+5],21,-57434055),a=I(a,d,c,l,e[i+12],6,1700485571),l=I(l,a,d,c,e[i+3],10,-1894986606),c=I(c,l,a,d,e[i+10],15,-1051523),d=I(d,c,l,a,e[i+1],21,-2054922799),a=I(a,d,c,l,e[i+8],6,1873313359),l=I(l,a,d,c,e[i+15],10,-30611744),c=I(c,l,a,d,e[i+6],15,-1560198380),d=I(d,c,l,a,e[i+13],21,1309151649),a=I(a,d,c,l,e[i+4],6,-145523070),l=I(l,a,d,c,e[i+11],10,-1120210379),c=I(c,l,a,d,e[i+2],15,718787259),d=I(d,c,l,a,e[i+9],21,-343485551),a=E(a,n),d=E(d,r),c=E(c,o),l=E(l,s);return[a,d,c,l]}function S(e){var t,i="",n=32*e.length;for(t=0;t<n;t+=8)i+=String.fromCharCode(e[t>>5]>>>t%32&255);return i}function C(e){var t,i=[];for(i[(e.length>>2)-1]=void 0,t=0;t<i.length;t+=1)i[t]=0;var n=8*e.length;for(t=0;t<n;t+=8)i[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return i}function m(e){var t,i,n="";for(i=0;i<e.length;i+=1)t=e.charCodeAt(i),n+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t);return n}function N(e){return unescape(encodeURIComponent(e))}function A(e){return function(e){return S(g(C(e),8*e.length))}(N(e))}function R(e,t){return function(e,t){var i,n,r=C(e),o=[],s=[];for(o[15]=s[15]=void 0,r.length>16&&(r=g(r,8*e.length)),i=0;i<16;i+=1)o[i]=909522486^r[i],s[i]=1549556828^r[i];return n=g(o.concat(C(t)),512+8*t.length),S(g(s.concat(n),640))}(N(e),N(t))}function O(e,t,i){return t?i?R(t,e):m(R(t,e)):i?A(e):m(A(e))}var v=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};let P;const M={DEFAULT:"DEFAULT",SESSION_INVALID:"SESSION_INVALID",TICKET_INVALID:"TICKET_INVALID"},L=4301,b=4302,D=4302,U=4304,w=4305,k={protocol:"wss:",path:"/ws/v2",autoRetry:!0,retryLimit:3,retryInterval:1e4};var G;!function(e){e[e.Online=0]="Online",e[e.Offline=1]="Offline"}(G||(G={}));class V{constructor(e){if(this.netStatus=G.Online,this.sendMessageCache=[],this.retryCount=0,this.retryTimer=null,this.protocol="wss:",this.path="/ws/v2",this.onSocketOpen=e=>{u.c.info("Socket: socket open"),this.resetRetryState(),this.sendMessageCache.forEach(e=>{this.socket.send(e)}),this.sendMessageCache=[],this.handler.onOpen(e)},this.onSocketClose=e=>{switch(u.c.info("Socket: socket close, code={}, reason={}",e.code,e.reason),e.code){case L:case b:case D:this.handler.onClose(M.SESSION_INVALID);break;case U:this.buildSocketURL(),this.retry()||this.handler.onClose(M.TICKET_INVALID);break;case w:default:this.retry()||this.handler.onClose(M.DEFAULT)}},this.onSocketError=()=>{u.c.info("Socket:: socket error")},!e.host||!e.handler)throw new Error("Create Socket Error, must pass host and handler");const t=Object.assign({},k,e);this.protocol=t.protocol,this.path=t.path,this.host=t.host,this.handler=t.handler,this.autoRetry=t.autoRetry,this.retryLimit=t.retryLimit,this.retryInterval=t.retryInterval}onNetStatusChange(e){e!==this.netStatus&&(u.c.info("Socket:: net status changed, from {} to {}",this.netStatus,e),this.netStatus=e,e===G.Online&&(u.c.info("Socket:: check current socket connect status = {}",this.socket.readyState),this.createNewSocket()))}startNetDetector(){self.addEventListener("online",()=>{this.onNetStatusChange(G.Online)}),self.addEventListener("offline",()=>{this.onNetStatusChange(G.Offline),u.c.debug("[sync pipe] offline")})}buildAccessKey(e){const t=n.a.channel;return O(`2${n.a.appKey||_[t]||_.sass}${e}f8a69f1719916z`,null,null)}buildSocketURL(){return v(this,void 0,void 0,(function*(){const e=new URL(n.a.ticketURL);var t,i;this.deviceId||(this.deviceId=yield(t=s.LARK_META,i="did",o?c(0,t,i):a().then(e=>c(0,t,i)))),this.deviceId&&e.searchParams.append("local_device_id",this.deviceId);const u=yield Object(r.d)({method:"GET",url:e.href}),_=yield u.json(),{device_id:E,ticket:h}=_;E&&(P=E,this.deviceId=E,function(e,t){o?d(o,e,t):a().then(i=>{d(i,e,t)})}(s.LARK_META,{name:"did",value:E}));const T={access_key:this.buildAccessKey(E),aid:1,ticket:h,device_id:E,fpid:2,accept_encoding:"gzip",request_id:Object(l.a)()},y=`${this.protocol}//${this.host}${this.path}`;this.socketUrl=Object(p.d)(y,T)}))}resetRetryState(){this.retryCount=0,clearTimeout(this.retryTimer),this.retryTimer=null}retry(){if(!this.autoRetry)return!1;if(this.netStatus===G.Offline)return this.resetRetryState(),!1;if(this.retryTimer)return u.c.info("Socket:: auto retry drop, there is a retry request in queue"),!0;if(this.retryCount+=1,this.retryCount>this.retryLimit)return u.c.info("Socket:: auto retry exceed limit, stop retry, count={}, limit={}",this.retryCount,this.retryLimit),this.resetRetryState(),!1;const e=this.retryCount;return this.retryTimer=setTimeout(()=>{u.c.info("Socket:: auto retry start, count={}",e),this.createNewSocket(),this.retryTimer=null}),!0}attachHandler(){this.socket&&(this.socket.onopen=this.onSocketOpen,this.socket.onclose=this.onSocketClose,this.socket.onerror=this.onSocketError,this.socket.onmessage=this.handler.onMessage)}createNewSocket(){return v(this,void 0,void 0,(function*(){this.socket=new WebSocket(this.socketUrl),this.socket.binaryType="arraybuffer",this.attachHandler()}))}close(){this.socket&&this.socket.readyState!==WebSocket.CLOSING&&this.socket.close()}connect(){return v(this,void 0,void 0,(function*(){if(u.c.info("Socket:: connect to socket start"),!this.socket)return u.c.info("Socket:: firsct connect"),yield this.buildSocketURL(),this.createNewSocket(),void this.startNetDetector();const e=this.socket.readyState;if(e!==WebSocket.OPEN&&e!==WebSocket.CONNECTING)return e===WebSocket.CLOSED?(u.c.error("Socket:: socket closed, create new socket"),void this.createNewSocket()):void this.close();u.c.info("Socket:: socket already connect")}))}send(e){if(!this.socket)return u.c.info("Socket:: socket not created"),void this.sendMessageCache.push(e);switch(this.socket.readyState){case WebSocket.OPEN:this.socket.send(e);break;case WebSocket.CONNECTING:this.sendMessageCache.push(e);break;case WebSocket.CLOSING:case WebSocket.CLOSED:u.c.info("Socket:: socket has been closed, drop the message")}}}function H(){return P}},function(e,t,i){"use strict";var n,r=i(1),o=i.n(r),s=i(16),a=i.n(s),d=i(75),c=i.n(d),l=i(261),p=i(1079),u=i(1078),_=i(1076),E=i(1077),h=i(1080),T=i(1072),y=i(1073),f=i(1075),I=i(1081),g=i(1082),S=i(1083),C=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i};!function(e){e.SUCCESS="icon-yes-solid",e.INFO="icon-info-solid",e.ERROR="icon-error-solid",e.WARNING="icon-vc-warning"}(n||(n={}));const m={[n.SUCCESS]:p.a,[n.INFO]:u.a,[n.ERROR]:_.a,[n.WARNING]:E.a,info:u.a,success:p.a,warn:E.a,error:_.a,"icon-speaker-solid":h.a,"icon-mic-solid":T.a,"icon-mic-off-solid":y.a,"icon-video-off-solid":f.a,"icon-lock-solid":I.a,"icon-lock-open-solid":g.a};const N=function(){};class A extends r.Component{constructor(){super(...arguments),this.closeTimer=null,this.close=e=>{this.props.onVisibleChange(!1),e&&e.stopPropagation(),this.clearCloseTimer()},this.startCloseTimer=()=>{this.props.duration<=0||this.props.duration&&(this.closeTimer=setTimeout(()=>{this.close()},this.props.duration))},this.clearCloseTimer=()=>{this.closeTimer&&(clearTimeout(this.closeTimer),this.closeTimer=null)}}componentDidMount(){this.props.onVisibleChange(!0),this.startCloseTimer()}componentDidUpdate(e){(this.props.duration!==e.duration||this.props.update)&&this.restartCloseTimer()}componentWillUnmount(){this.clearCloseTimer()}restartCloseTimer(){this.clearCloseTimer(),this.startCloseTimer()}getIconNode(){const{icon:e,prefixCls:t,iconUrl:i,iconName:n}=this.props;if(e)return o.a.createElement("span",{className:t+"-icon"},e);if(i)return o.a.createElement("img",{className:t+"-icon",src:i,alt:""});if(n){const e=function(e){return m[e]||u.a}(n);return o.a.createElement(e,{className:`${t}-icon ${t}-icon-${n}`})}return null}renderCloseBtn(){const{closeIcon:e,closable:t,prefixCls:i}=this.props,n=o.a.createElement("div",{className:i+"-close-gap-line"});return e?o.a.createElement("div",{className:i+"-close-btn-area",onClick:this.close},n,e):t?o.a.createElement(o.a.Fragment,null,n,o.a.createElement(S.a,{onClick:this.close,className:i+"-close-icon"})):null}render(){const e=this.props,{onEnter:t=N,onEntered:i=N,onEntering:n=N,onExit:r=N,onExited:s=(()=>{this.props.onClose()}),onExiting:d=N,animation:c="",maxWidth:p=0,prefixCls:u}=e,_=C(e,["onEnter","onEntered","onEntering","onExit","onExited","onExiting","animation","maxWidth","prefixCls"]),E={[""+u]:1,[u+"-closable"]:_.closable,[_.className]:!!_.className},h={[u+"-content-wrap"]:1},T=this.getIconNode(),y=a()({[u+"-with-icon"]:!!T,[u+"-content"]:1});let f=_.style;return p>0&&(f=Object.assign(Object.assign({},f),{maxWidth:p+"px"})),o.a.createElement(l.CSSTransition,{in:this.props.visible,timeout:this.props.animationTime,classNames:c,onExited:s,onEnter:t,onEntered:i,onEntering:n,onExit:r,onExiting:d,unmountOnExit:!1},o.a.createElement("div",{className:a()(E),style:f,onClick:_.onClick},o.a.createElement("div",{className:a()(h)},o.a.createElement("div",{className:y},T,_.children,this.renderCloseBtn()))))}}A.defaultProps={onClose(){},onClick(){},animation:"",duration:2e3,animationTime:300,closable:!1,update:!1,className:"",tabIndex:0,onEnter:N,onEntered:N,onEntering:N,onExit:N,onExiting:N};var R=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i};let O=0;const v=Date.now();class P extends r.Component{constructor(){super(...arguments),this.state={notices:[]},this.add=e=>{e.key=e.key||`bvNotification_${v}_${O++}`;const{key:t}=e,{maxCount:i}=this.props;return this.setState(n=>{const{notices:r}=n,o=r.map(e=>e.key).indexOf(t),s=r.concat();return-1!==o?s.splice(o,1,e):(i&&r.length>=i&&s.shift(),s.push(e)),{notices:s}}),t},this.remove=e=>{this.changeNoticeVisible(e,!1)},this.removeNode=e=>{this.setState(t=>({notices:t.notices.filter(t=>t.key!==e)}))},this.changeNoticeVisible=(e,t)=>{this.setState(({notices:i})=>(i.forEach(i=>{i.key===e&&(i.visible=t)}),{notices:i}))}}static newInstance(e={}){const{getContainer:t}=e,i=R(e,["getContainer"]),n=document.createElement("div");if(t){t().appendChild(n)}else document.body.appendChild(n);return new Promise((t,r)=>{let s=!1;c.a.render(o.a.createElement(P,Object.assign({},i,{ref:function(i){s||(s=!0,t({notice:t=>i.add(Object.assign({closeIcon:e.closeIcon,visible:!1},t)),removeNotice(e){i.remove(e)},component:i,destroy(){c.a.unmountComponentAtNode(n),n.parentNode.removeChild(n)}}))}})),n)})}getNoticeNodes(){const{notices:e}=this.state;return e.map((e,t)=>o.a.createElement(A,Object.assign({update:!1,onClick:e.onClick,closeIcon:e.closeIcon},e,{onVisibleChange:t=>this.changeNoticeVisible(e.key,t),onClose:()=>{this.removeNode(e.key),e.onClose&&e.onClose()}}),e.content))}render(){const{props:e}=this,t={[e.prefixCls]:1,[e.className]:!!e.className};return o.a.createElement("div",{className:a()(t),style:e.style},this.getNoticeNodes())}}P.defaultProps={prefixCls:"bv-notification",style:{top:65,left:"50%"},className:""};var M=P,L=i(108),b=(i(754),function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))});const D={};function U(e){return b(this,void 0,void 0,(function*(){const t=e.prefixCls||L.b.prefixCls,i=e.placement||L.b.placement,n=e.maxCount||L.b.maxCount,r=`${t}-${i}-${n}`,o=e.getContainer||L.b.getContainer;let s=yield function(e){return new Promise((t,i)=>{setTimeout(()=>{t(D[e])},0)})}(r);return s||(s=yield M.newInstance({prefixCls:t,maxCount:n,className:a()(`${t}-${i}`,e.className),style:Object(L.c)(i),getContainer:o,closeIcon:e.closeIcon,maxWidth:e.maxWidth}),D[r]=s,s)}))}class w{constructor(e){this.c={},this.c=e}notice(e){return b(this,void 0,void 0,(function*(){return function(e,t=L.b){return b(this,void 0,void 0,(function*(){const i=e.prefixCls||t.prefixCls||L.b.prefixCls,n=i+"-notice",o=void 0===e.duration?L.b.duration:e.duration;return(yield U(Object.assign(Object.assign({},t),{prefixCls:i,placement:e.placement||t.placement}))).notice(Object.assign(Object.assign({content:r.createElement(r.Fragment,null,r.createElement("div",null,e.title&&r.createElement("div",{className:n+"-title"}," ",e.title," "),r.createElement("div",{className:n+"-message"},e.message),e.btn?r.createElement("span",{className:n+"-btn"},e.btn):null))},e),{iconName:e.type||e.iconName,duration:o,prefixCls:n,key:e.key||"",animation:e.animation||t.animation||L.b.animation}))}))}(e,this.c)}))}close(e){Object.keys(D).forEach(t=>D[t].removeNotice(e))}destroy(){Object.keys(D).forEach(e=>{D[e].destroy(),delete D[e]})}}t.a=function e(t){const i=new w(t);return i.config=function(t){return e(t)},["success","info","warn","error"].forEach(e=>{i[e]=t=>i.notice(Object.assign(Object.assign({},t),{type:e}))}),i}(L.b)},,,,,,,,function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"d",(function(){return d})),i.d(t,"a",(function(){return c})),i.d(t,"c",(function(){return l})),i.d(t,"g",(function(){return p})),i.d(t,"e",(function(){return u})),i.d(t,"f",(function(){return _}));var n=i(25),r=i(7),o=i(0),s=i(32);const a=()=>n.a.userStore.currentUser,d=()=>n.a.conferenceStore.id,c=()=>n.a.appStore.appName,l=e=>n.a.userStore.participantsMap[e],p=()=>n.a.meetingStore.isSharingMode,u=()=>n.a.meetingStore.displayMode!==r.b.VIDEO,_=()=>Object(s.c)()===o.PageName.PREVIEW},,,,,,,,,,,,,,,,,function(e){e.exports=JSON.parse('{"name":"vc-web","version":"5.3.0","description":"This project was bootstrapped with bali.","private":true,"workspaces":["packages/**"],"dependencies":{"@adit/core":"2.95.64","@adit/plugins":"2.95.64","@adit/react":"2.95.64","@byted/lark-js-service":"3.27.18","@byted/lark-js-util":"3.27.18","@byteview/components":"0.0.11","@byteview/i18n":"^1.0.18","@byteview/imc":"3.33.14-alpha.2796a91","@byteview/meeting":"3.33.14-alpha.2796a91","@byteview/pc-sdk":"^3.35.9","@byteview/rtc-sdk":"*","@byteview/schema":"3.33.14-alpha.2796a91","@byteview/service":"3.33.14-alpha.2796a91","@lark/Homeric":"^0.0.552","@lark/client":"3.27.18","@lark/components":"3.46.0-native-dev-alpha.8","@lark/engine":"3.27.18","@lark/icons":"5.1.12-alpha.0","@lark/mobile-codes":"^1.0.5","@lark/moment-timezone":"^0.0.26","@lark/passport-tenant-widget":"5.1.7","@lark/service":"3.27.18","@larkengine/web":"3.27.18","@popperjs/core":"^2.4.4","@types/react-transition-group":"^2.0.16","@types/ua-parser-js":"^0.7.35","@universe-design/biz-react":"5.1.20","@universe-design/icons-react":"2.41.0","@universe-design/biz-react-lark-web":"5.1.20","@universe-design/styles":"^6.0.0-beta.21","base64-js":"^1.3.1","byted-tea-sdk":"^4.1.0","classnames":"^2.2.6","concurrently":"^5.0.2","fuckadblock":"^3.2.1","history":"^4.7.2","javascript-state-machine":"^3.1.0","js-md5":"^0.7.3","js-sha1":"^0.6.0","lodash-es":"^4.17.15","long":"^4.0.0","md5":"^2.3.0","mobx":"^5.15.1","mobx-react":"^6.1.4","react":"^16.12.0","react-dom":"^16.12.0","react-popper":"^2.2.3","react-router-dom":"^5.2.0","react-transition-group":"^2.5.3","ua-parser-js":"^0.7.23"},"devDependencies":{"@byteview/bali":"*","@lark/widgets":"0.0.0-dev-latest.11726","@sentry/types":"^5.17.0","@slardar/sdk":"^3.4.33","@types/base64-js":"^1.3.0","@types/byted-tea-sdk":"^1.0.0","@types/md5":"^2.2.0","@types/node":"^13.1.2","@types/react":"^16.8.8","@types/react-dom":"^16.8.2","@types/react-router-dom":"^5.1.5","byted-lark-editor":"^0.0.107","cross-env":"^6.0.3","string-replace-loader":"2.3.0","typescript":"4.1.3"},"scripts":{"postinstall":"bali postinstall && npm run build-packages","build-packages":"sh ./scripts/build-packages.sh","dev":"cross-env NODE_ENV=development LARK_ENV=web bali dev","dev-oversea":"cross-env NODE_ENV=development LARK_ENV=web bali dev --env.isOversea=true","build":"cross-env NODE_ENV=production LARK_ENV=web SSR=true bali build","build-oversea":"cross-env NODE_ENV=production LARK_ENV=web SSR=true bali build --env.isOversea=true","deploy":"bali deploy","clean":"lerna clean -y && rm -rf node_modules && rm -rf dist","deploy-oversea":"bali deploy --env.isOversea=true","debug-scm":"bali debug-scm","download:i18n":"bali i18n -d","analyze-bundle-size":"npm run build -- --env.analyser=true"},"license":"ISC"}')},,,,,,,,,,function(e){e.exports=JSON.parse('{"a":{"options":{"optimize_for":"LITE_RUNTIME","go_package":"git.byted.org/ee/lark/im-protobuf/improto/chats","java_package":"com.ss.android.lark.pb"},"nested":{"ChatGreeter":{"methods":{"getRecent":{"requestType":"PullRecentChatsRequest","responseType":"PullRecentChatsResponse"},"getUsers":{"requestType":"PullChatChattersRequest","responseType":"PullChatChattersResponse"},"create":{"requestType":"PutChatRequest","responseType":"PutChatResponse"},"createP2PChats":{"requestType":"PutP2PChatsRequest","responseType":"PutP2PChatsResponse"},"addUsers":{"requestType":"PutChatChatterRequest","responseType":"PutChatChatterResponse"},"deleteUsers":{"requestType":"DeleteChatChatterRequest","responseType":"DeleteChatChatterResponse"},"modifyChatName":{"requestType":"PutChatNameRequest","responseType":"PutChatNameResponse"},"setChatSetting":{"requestType":"PatchChatSettingRequest","responseType":"PatchChatSettingResponse"},"getChatSettings":{"requestType":"PullChatSettingsRequest","responseType":"PullChatSettingsResponse"},"getAllChatSettings":{"requestType":"PullAllChatSettingsRequest","responseType":"PullAllChatSettingsResponse"},"getChatsByIds":{"requestType":"PullChatsByIdsRequest","responseType":"PullChatsByIdsResponse"}}},"PullChatPostUserByChatIDRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}}}},"PullChatPostUserByChatIDResponse":{"fields":{"userIds":{"rule":"repeated","type":"string","id":1}}},"PullAllowPostChatRequest":{"fields":{"chatIds":{"rule":"repeated","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}}}},"PullAllowPostChatResponse":{"fields":{"allowPostChatIds":{"keyType":"string","type":"bool","id":1}}},"PatchChatPostUserRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"postType":{"rule":"required","type":"entities.ChatPostType","id":2},"toAddUserIds":{"rule":"repeated","type":"string","id":3},"toDelUserIds":{"rule":"repeated","type":"string","id":4}}},"PatchChatPostUserResponse":{"fields":{}},"PullRecentChatsRequest":{"fields":{"newUpdateTime":{"type":"int64","id":1,"options":{"default":0}},"moreUpdateTime":{"type":"int64","id":2,"options":{"default":0}},"count":{"type":"int32","id":3,"options":{"default":20}}}},"PullRecentChatsResponse":{"fields":{"chats":{"keyType":"string","type":"entities.Chat","id":1},"messages":{"keyType":"string","type":"entities.Message","id":2},"messagePositions":{"keyType":"string","type":"int32","id":3},"orderedChatIds":{"rule":"repeated","type":"string","id":4},"hasMore":{"type":"bool","id":5,"options":{"default":false}}}},"PullChatsByIdsRequest":{"fields":{"chatIds":{"rule":"repeated","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"lastVisibleMessageIds":{"keyType":"int64","type":"int64","id":101},"isLicenseAuth":{"type":"bool","id":102},"authTranslateGlobalSwitch":{"type":"bool","id":103},"authTranslateGlobalSwitchVersion":{"type":"int64","id":104},"baseLastVisibleMessageIds":{"keyType":"int64","type":"int64","id":105}}},"PullChatsByIdsResponse":{"fields":{"chats":{"keyType":"string","type":"entities.Chat","id":1},"unauthorizedChatIds":{"rule":"repeated","type":"string","id":2},"inThreadChatIds":{"rule":"repeated","type":"string","id":3}}},"PickType":{"values":{"UNKNOWN":0,"USER":1,"CHAT":2,"DEPT":3}},"PickEntities":{"fields":{"pickType":{"rule":"required","type":"PickType","id":1},"pickIds":{"rule":"repeated","type":"string","id":2}}},"IDsList":{"fields":{"ids":{"rule":"repeated","type":"string","id":1}}},"OperateChatterList":{"fields":{"chatterMap":{"keyType":"int32","type":"IDsList","id":1},"targetChatId":{"rule":"required","type":"int64","id":2},"ctxParam":{"keyType":"string","type":"string","id":3},"reversePickEntities":{"keyType":"int32","type":"IDsList","id":4},"isCrossWithKa":{"type":"bool","id":5},"operatorId":{"type":"int64","id":6}}},"PutChatRequest":{"fields":{"type":{"rule":"required","type":"entities.Chat.Type","id":1},"userIds":{"rule":"repeated","type":"string","id":2},"groupName":{"type":"string","id":3,"options":{"default":""}},"groupDesc":{"type":"string","id":4,"options":{"default":""}},"isPublic":{"type":"bool","id":5,"options":{"default":false}},"chatterIds":{"rule":"repeated","type":"string","id":6},"organizationId":{"type":"string","id":7},"fromChatId":{"type":"string","id":8},"initMessageIds":{"rule":"repeated","type":"string","id":9},"iconKey":{"type":"string","id":10},"docPerms":{"keyType":"string","type":"DocPermType","id":11},"isCrossTenant":{"type":"bool","id":12,"options":{"default":false}},"isPublicV2":{"type":"bool","id":13},"chatMode":{"type":"entities.Chat.ChatMode","id":14},"docPerms2":{"keyType":"string","type":"DocPair","id":15},"cid":{"type":"string","id":16},"avatarMeta":{"type":"entities.AvatarMeta","id":17},"createP2pChatSource":{"type":"CreateP2PChatSource","id":18},"pickEntities":{"rule":"repeated","type":"PickEntities","id":19},"reversePickEntities":{"rule":"repeated","type":"PickEntities","id":20},"chatTemplateId":{"type":"string","id":21}},"nested":{"DocPermType":{"values":{"UNKNOWN":0,"READ":1,"EDIT":2}},"DocPair":{"fields":{"perms":{"keyType":"string","type":"DocPermType","id":1}}}}},"CreateP2PChatSource":{"fields":{"senderId":{"type":"int64","id":1},"sourceType":{"type":"entities.ContactSource","id":2},"sourceId":{"type":"string","id":3},"sourceName":{"type":"string","id":4},"senderIdV2":{"type":"string","id":5},"subSourceType":{"type":"string","id":6}}},"PutChatResponse":{"fields":{"chat":{"rule":"required","type":"entities.Chat","id":1},"feedCard":{"type":"entities.FeedCard","id":2}}},"PutDepartmentChatRequest":{"fields":{"departmentId":{"rule":"required","type":"string","id":1},"chatterIds":{"rule":"repeated","type":"string","id":2},"groupDesc":{"type":"string","id":3,"options":{"default":""}},"iconKey":{"type":"string","id":4},"avatarMeta":{"type":"entities.AvatarMeta","id":5}}},"PutDepartmentChatResponse":{"fields":{"chat":{"type":"entities.Chat","id":1},"feedCard":{"type":"entities.FeedCard","id":2}}},"PutP2PChatsRequest":{"fields":{"chatterIds":{"rule":"repeated","type":"string","id":1}}},"PutP2PChatsResponse":{"fields":{"chats":{"keyType":"string","type":"entities.Chat","id":1},"feedCards":{"keyType":"string","type":"entities.FeedCard","id":2}}},"PatchChatRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1},"isPublic":{"type":"int32","id":2,"options":{"default":-1}}}},"PatchChatResponse":{"fields":{"chat":{"rule":"required","type":"entities.Chat","id":1}}},"PullChatUsersRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1}}},"PullChatUsersResponse":{"fields":{"users":{"keyType":"string","type":"entities.User","id":1},"bots":{"keyType":"string","type":"entities.Bot","id":2},"orderedWeight":{"keyType":"string","type":"int64","id":3}}},"GroupChatterMeta":{"fields":{"chatId":{"rule":"required","type":"int64","id":1},"chatterId":{"rule":"required","type":"int64","id":2},"role":{"type":"Role","id":3},"groupNickname":{"type":"string","id":4},"groupNicknamePinyin":{"type":"string","id":5},"oncallGroupChatter":{"type":"bytes","id":6},"tagInfo":{"type":"ChatChatterTagInfo","id":7}},"nested":{"Role":{"values":{"UNKNOWN":0,"OWNER":1,"ONCALL_USER":3,"ONCALL":4,"ONCALL_HELPER":5,"ONCALL_USER_HELPER":6}}}},"PullChatChattersRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"needChatters":{"type":"bool","id":2,"options":{"default":true}},"cursor":{"type":"int64","id":3},"offset":{"type":"string","id":4},"limit":{"type":"int32","id":5},"orderCursor":{"type":"int64","id":6}}},"PullChatChattersResponse":{"fields":{"chatters":{"keyType":"string","type":"entities.Chatter","id":1},"orderedWeight":{"keyType":"string","type":"int64","id":2},"updateChatters":{"keyType":"string","type":"entities.Chatter","id":3},"deleteChatters":{"keyType":"string","type":"entities.Chatter","id":4},"nextCursor":{"type":"int64","id":5},"maxAge":{"type":"int64","id":6},"groupNicknames":{"keyType":"int64","type":"string","id":7},"metas":{"keyType":"int64","type":"GroupChatterMeta","id":8},"nextOffset":{"type":"string","id":9},"tagInfo":{"keyType":"string","type":"ChatChatterTagInfo","id":10},"nextOrderCursor":{"type":"int64","id":11},"joinTimesSec":{"keyType":"int64","type":"int64","id":12}}},"PushChatChatterTagInfo":{"fields":{"tagInfo":{"rule":"repeated","type":"ChatChatterTagInfo","id":1}}},"ChatChatterTagInfo":{"fields":{"chatId":{"rule":"required","type":"string","id":1},"chatterId":{"rule":"required","type":"string","id":2},"tags":{"rule":"repeated","type":"TagInfo","id":3},"weight":{"type":"int32","id":4,"options":{"deprecated":true}},"chatChatterOrderedWeight":{"type":"int64","id":5}},"nested":{"TagInfo":{"fields":{"i18nName":{"keyType":"string","type":"string","id":1},"tagType":{"type":"int32","id":2}},"nested":{"TagType":{"values":{"UNKNOWN":0,"CLASS_TEACHER":1,"DISCIPLINE_TEACHER":2,"ADMIN_USER":3}}}},"Weight":{"values":{"UNKNOWN":0,"DISCIPLINE_TEACHER":-1,"CLASS_TEACHER":-100,"ADMIN_USER":-200000}}}},"PullChatChattersByIDsRequest":{"fields":{"chatId":{"rule":"required","type":"int64","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"needChatters":{"type":"bool","id":2,"options":{"default":true}},"chatterIds":{"rule":"repeated","type":"int64","id":3,"options":{"packed":false}},"needBotInfo":{"type":"bool","id":4},"notSubscribeChatters":{"type":"bool","id":5}}},"PullChatChattersByIDsResponse":{"fields":{"chatters":{"keyType":"int64","type":"entities.Chatter","id":1},"orderedWeight":{"keyType":"int64","type":"int64","id":2},"metas":{"keyType":"int64","type":"GroupChatterMeta","id":3},"maxAge":{"type":"int64","id":4},"botInfo":{"keyType":"int64","type":"entities.BotInfo","id":5},"joinTimesSec":{"keyType":"int64","type":"int64","id":6}}},"PutChatUserRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1},"userIds":{"rule":"repeated","type":"string","id":2}}},"PutChatUserResponse":{"fields":{"chat":{"type":"entities.Chat","id":1}}},"PreProcessInfo":{"fields":{"authChatterInfo":{"type":"AuthChattersInfo","id":1},"validFields":{"rule":"repeated","type":"PreProcessInfoField","id":2,"options":{"packed":false}},"getFriendshipInfo":{"type":"GetFriendshipInfo","id":3}},"nested":{"AuthChattersInfo":{"fields":{"chatterIds":{"rule":"repeated","type":"int64","id":1,"options":{"packed":false}},"deniedReason":{"keyType":"int64","type":"misc.DeniedReason","id":2}}},"GetFriendshipInfo":{"fields":{"friendUserIds":{"rule":"repeated","type":"int64","id":1,"options":{"packed":false}}}},"PreProcessInfoField":{"values":{"AuthChattersInfoField":1,"GetFriendshipInfoField":2}}}},"PutChatChatterRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"chatterIds":{"rule":"repeated","type":"string","id":2},"isInviteAtChatters":{"type":"bool","id":3},"pickEntities":{"rule":"repeated","type":"PickEntities","id":4},"reversePickEntities":{"rule":"repeated","type":"PickEntities","id":5},"source":{"type":"PutChatChatterSource","id":6},"lastVisibleMessageId":{"type":"int64","id":101},"thriftChatters":{"keyType":"int64","type":"bytes","id":102},"baseLastVisibleMessageId":{"type":"int64","id":103},"prePrecessInfo":{"type":"PreProcessInfo","id":104},"thriftInsensitiveChatters":{"keyType":"int64","type":"bytes","id":105}},"nested":{"PutChatChatterSource":{"values":{"SourceUnknown":0,"SourceChatTemplate":10}}}},"PutChatChatterResponse":{"fields":{"chat":{"type":"entities.Chat","id":1},"realToAnonymousUserIds":{"keyType":"int64","type":"int64","id":2}}},"PutChatterViaShareRequest":{"fields":{"joinToken":{"type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=chat_token"}},"messageId":{"type":"string","id":2}}},"PutChatterViaShareResponse":{"fields":{"chat":{"type":"entities.Chat","id":1},"joinGroupApplicationId":{"type":"int64","id":2},"feedCard":{"type":"entities.FeedCard","id":3}}},"PutTopicGroupMemberViaRecommendationRequest":{"fields":{"topicGroupId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"userIds":{"rule":"repeated","type":"string","id":2}}},"PutTopicGroupMemberViaRecommendationResponse":{"fields":{}},"DeleteChatUserRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1},"userIds":{"rule":"repeated","type":"string","id":2}}},"DeleteChatUserResponse":{"fields":{}},"DeleteChatChatterOption":{"fields":{"withdraw":{"type":"bool","id":1}}},"DeleteChatChatterRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"chatterIds":{"rule":"repeated","type":"string","id":2},"newOwnerId":{"type":"string","id":3},"option":{"type":"DeleteChatChatterOption","id":4},"pickEntities":{"rule":"repeated","type":"PickEntities","id":5}}},"DeleteChatChatterResponse":{"fields":{"chat":{"type":"entities.Chat","id":1}}},"PutChatNameRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1},"name":{"rule":"required","type":"string","id":2}}},"PutChatNameResponse":{"fields":{"chat":{"rule":"required","type":"entities.Chat","id":1}}},"PatchChatDescriptionRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1},"description":{"rule":"required","type":"string","id":2}}},"PatchChatDescriptionResponse":{"fields":{"chat":{"rule":"required","type":"entities.Chat","id":1}}},"PatchChatIconRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1},"iconData":{"rule":"required","type":"string","id":2}}},"PatchChatIconResponse":{"fields":{"chat":{"rule":"required","type":"entities.Chat","id":1}}},"PatchGroupChatRequest":{"fields":{"chatId":{"type":"int64","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"name":{"type":"string","id":2},"iconData":{"type":"string","id":3},"description":{"type":"string","id":4},"announcement":{"type":"string","id":5},"ownerId":{"type":"int64","id":6},"memberCount":{"type":"int32","id":7},"isArchive":{"type":"bool","id":8,"options":{"default":false}},"isPublic":{"type":"bool","id":9,"options":{"default":false}},"isInner":{"type":"bool","id":10,"options":{"default":false}},"organizationId":{"type":"int64","id":11,"options":{"default":0}},"isGroupCompanies":{"type":"bool","id":12,"options":{"default":false}},"groupCompaniesId":{"type":"int64","id":13,"options":{"default":0}},"offEditInfo":{"type":"bool","id":14,"options":{"default":false}},"iconKey":{"type":"string","id":15},"entitySetting":{"type":"entities.ChatEntitySetting","id":16},"updateEntitySettingFields":{"rule":"repeated","type":"entities.ChatEntitySetting.Field","id":17,"options":{"packed":false}},"isDissolved":{"type":"bool","id":18,"options":{"default":false}},"isPublicV2":{"type":"bool","id":19,"options":{"default":false}},"avatarMeta":{"type":"entities.AvatarMeta","id":20},"updateFields":{"rule":"repeated","type":"UpdateFields","id":999,"options":{"packed":false}}},"nested":{"UpdateFields":{"values":{"NAME":1,"ICON_KEY":2,"DESCRIPTION":3,"ANNOUNCEMENT":4,"OWNER_ID":5,"MEMBER_COUNT":6,"IS_ARCHIVE":7,"IS_PUBLIC":8,"IS_INNER":9,"ORGANIZATION_ID":10,"IS_GROUP_COMPANIES":11,"GROUP_COMPANIES_ID":12,"OFF_EDIT_INFO":14,"ENTITY_SETTING":15,"IS_DISSOLVED":16,"IS_PUBLIC_V2":23}}}},"PatchGroupChatResponse":{"fields":{"chat":{"rule":"required","type":"entities.Chat","id":1}}},"PushChatsRequest":{"fields":{"chats":{"keyType":"string","type":"entities.Chat","id":1},"inValidChatIds":{"rule":"repeated","type":"string","id":2},"feedCards":{"keyType":"string","type":"entities.FeedCard","id":3},"operatorIds":{"keyType":"string","type":"string","id":4}}},"PushChatsResponse":{"fields":{}},"PushChatChattersRequest":{"fields":{"type":{"rule":"required","type":"Type","id":1},"chat":{"rule":"required","type":"entities.Chat","id":2},"chatters":{"keyType":"string","type":"entities.Chatter","id":3},"messages":{"keyType":"string","type":"entities.Message","id":4},"orderedWeight":{"keyType":"string","type":"int64","id":5},"operatorId":{"type":"string","id":6},"maxAge":{"type":"int64","id":7},"chatMutableInfo":{"type":"entities.ChatMutableInfo","id":8},"metas":{"keyType":"int64","type":"GroupChatterMeta","id":9},"isSilentQuit":{"type":"bool","id":10},"nextCursor":{"type":"int64","id":11},"prevCursor":{"type":"int64","id":12},"joinTimesSec":{"keyType":"int64","type":"int64","id":13}},"nested":{"Type":{"values":{"ADD_CHATTER":1,"DELETE_CHATTER":2}}}},"PushChatChattersResponse":{"fields":{}},"PushChatMutableInfo":{"fields":{"operatorId":{"type":"string","id":1},"chatMutableInfo":{"type":"entities.ChatMutableInfo","id":2}}},"PushMultiChatMutableInfo":{"fields":{"chatMutableInfos":{"rule":"repeated","type":"PushChatMutableInfo","id":1}}},"PushChatMessageReadStateNotice":{"fields":{"chatId":{"type":"string","id":1},"newMessageCount":{"type":"int32","id":2},"lastMessagePosition":{"type":"int32","id":3},"messageIds":{"rule":"repeated","type":"string","id":4},"noBadgedNewMessageCount":{"type":"int32","id":5},"lastMessageId":{"type":"string","id":9}}},"ChatChatterKickInfo":{"fields":{"chatId":{"type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"reason":{"keyType":"string","type":"string","id":2}}},"PullChatChatterKickRequest":{"fields":{"chatId":{"type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}}}},"PullChatChatterKickResponse":{"fields":{"chatChatterKickInfo":{"type":"ChatChatterKickInfo","id":1}}},"PatchChatSettingRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"chatSetting":{"type":"entities.ChatSetting","id":2},"updateChatSettingField":{"rule":"repeated","type":"entities.ChatSetting.Field","id":3,"options":{"packed":false}},"isLicenseAuth":{"type":"bool","id":101},"authTranslateGlobalSwitchVersion":{"type":"int64","id":102},"authTranslateGlobalSwitch":{"type":"bool","id":103}}},"PatchChatSettingResponse":{"fields":{"chatId":{"type":"string","id":1},"chatSetting":{"type":"entities.ChatSetting","id":2}}},"PushChatSettingResponse":{"fields":{"chatId":{"type":"string","id":1},"chatSetting":{"type":"entities.ChatSetting","id":2}}},"PushChatSettingNotice":{"fields":{"chatId":{"type":"string","id":1},"chatSetting":{"type":"entities.ChatSetting","id":2}}},"PullChatSettingsRequest":{"fields":{"chatIds":{"rule":"repeated","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"isLicenseAuth":{"type":"bool","id":101},"authTranslateGlobalSwitch":{"type":"bool","id":103},"authTranslateGlobalSwitchVersion":{"type":"int64","id":104}}},"PullChatSettingsResponse":{"fields":{"chatSettings":{"keyType":"string","type":"entities.ChatSetting","id":1}}},"PullAllChatSettingsRequest":{"fields":{"updateTime":{"type":"int64","id":1,"options":{"default":0}}}},"PullAllChatSettingsResponse":{"fields":{"chatSettings":{"keyType":"string","type":"entities.ChatSetting","id":1}}},"PullGroupChatsRequest":{"fields":{"type":{"rule":"required","type":"Type","id":1},"updateTime":{"type":"int64","id":2,"options":{"default":0}},"count":{"type":"int32","id":3,"options":{"default":20}}},"nested":{"Type":{"values":{"MANAGE":1,"JOIN":2,"ADMINISTRATE":3}}}},"PullGroupChatsResponse":{"fields":{"chatIds":{"rule":"repeated","type":"string","id":1},"hasMore":{"type":"bool","id":2},"chatJoinTimes":{"keyType":"string","type":"int64","id":3},"chatCreateTimes":{"keyType":"string","type":"int64","id":4},"totalCount":{"type":"int32","id":5},"nextUpdateTime":{"type":"int64","id":6},"chatAdministrateTimes":{"keyType":"string","type":"int64","id":7}}},"PullChatShareTokenRequest":{"fields":{"chatId":{"type":"string","id":1},"expireTime":{"type":"int64","id":2}}},"PullChatShareTokenResponse":{"fields":{"joinChatUrl":{"type":"string","id":1},"expireAt":{"type":"int64","id":2}}},"PutChatChatterByTokenRequest":{"fields":{}},"PutChatChatterByTokenResponse":{"fields":{"chat":{"type":"entities.Chat","id":1}}},"PutCryptoP2PChatRequest":{"fields":{"chatterId":{"rule":"required","type":"string","id":1}}},"PutCryptoP2PChatResponse":{"fields":{"chat":{"rule":"required","type":"entities.Chat","id":1},"feedCard":{"type":"entities.FeedCard","id":2}}},"PutCryptoGroupChatRequest":{"fields":{"type":{"rule":"required","type":"entities.Chat.Type","id":1},"groupName":{"type":"string","id":2,"options":{"default":""}},"chatterIds":{"rule":"repeated","type":"string","id":3},"iconKey":{"type":"string","id":4},"avatarMeta":{"type":"entities.AvatarMeta","id":5},"fromChatId":{"type":"string","id":6}}},"PutCryptoGroupChatResponse":{"fields":{"chat":{"rule":"required","type":"entities.Chat","id":1},"feedCard":{"type":"entities.FeedCard","id":2}}},"DisbandCryptoChatRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}}}},"DisbandCryptoChatResponse":{"fields":{"chatId":{"rule":"required","type":"string","id":1}}},"PushNewDeviceOnlineRequest":{"fields":{"userId":{"rule":"required","type":"string","id":1},"deviceId":{"rule":"required","type":"string","id":2}}},"PullChatsRoleRequest":{"fields":{"chatIds":{"rule":"repeated","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}}}},"PullChatsRoleResponse":{"fields":{"roles":{"keyType":"string","type":"entities.Chat.Role","id":1}}},"PullChatApplicationsRequest":{"fields":{"cursor":{"type":"int64","id":1},"count":{"type":"int32","id":2,"options":{"default":20}},"type":{"type":"entities.ChatApplication.ChatApplicationType","id":3},"isDescOrder":{"type":"bool","id":4,"options":{"default":false}},"chatId":{"type":"string","id":5},"originalVersion":{"type":"int64","id":6}}},"PullChatApplicationsResponse":{"fields":{"applications":{"rule":"repeated","type":"entities.ChatApplication","id":1},"hasMore":{"type":"bool","id":2},"originalVersion":{"type":"int64","id":3},"currentVersion":{"type":"int64","id":4}}},"PushChatApplications":{"fields":{"applications":{"rule":"repeated","type":"entities.ChatApplication","id":1},"originalVersion":{"type":"int64","id":2},"currentVersion":{"type":"int64","id":3}}},"ProcessChatApplicationRequest":{"fields":{"id":{"type":"int64","id":1},"status":{"type":"entities.ChatApplication.ApplicationStatus","id":2},"userId":{"type":"string","id":3},"authSync":{"type":"bool","id":4}}},"ProcessChatApplicationResponse":{"fields":{}},"ResetContactTokenRequest":{"fields":{}},"ResetContactTokenResponse":{"fields":{"token":{"type":"string","id":1}}},"PushContactToken":{"fields":{"token":{"type":"string","id":1}}},"PullContactTokenRequest":{"fields":{}},"PullContactTokenResponse":{"fields":{"token":{"type":"string","id":1},"inviteUrl":{"type":"string","id":2},"inviteMsg":{"type":"string","id":3},"countryCode":{"type":"string","id":4},"canSearchWithToken":{"type":"bool","id":5}}},"PullContactTokensForSharingRequest":{"fields":{}},"ContactToken":{"fields":{"token":{"type":"string","id":1},"inviteUrl":{"type":"string","id":2},"inviteMsg":{"type":"string","id":3},"countryCode":{"type":"string","id":4},"canSearchWithToken":{"type":"bool","id":5},"uniqueId":{"type":"string","id":6}}},"PullContactTokensForSharingResponse":{"fields":{"linkContactToken":{"type":"ContactToken","id":1},"qrContactToken":{"type":"ContactToken","id":2}}},"PutContactApplicationRequest":{"fields":{"token":{"type":"string","id":1},"extraMessage":{"type":"string","id":2},"chatId":{"type":"string","id":3},"sender":{"type":"string","id":4},"source":{"type":"entities.ContactSource","id":5},"sourceName":{"type":"string","id":6},"senderId":{"type":"string","id":7},"sourceId":{"type":"string","id":8},"subSourceType":{"type":"string","id":9},"userId":{"type":"string","id":10},"userAlias":{"type":"string","id":11}}},"PutContactApplicationResponse":{"fields":{}},"ReadChatApplicationsRequest":{"fields":{"applicationIds":{"rule":"repeated","type":"int64","id":1,"options":{"packed":false}},"readAllApplications":{"type":"bool","id":2,"options":{"default":false}}}},"ReadChatApplicationsResponse":{"fields":{}},"PullContactsRequest":{"fields":{"count":{"type":"int32","id":1,"options":{"default":10}},"cursor":{"type":"int64","id":2},"inChatId":{"type":"string","id":3}}},"PullContactsResponse":{"fields":{"contacts":{"rule":"repeated","type":"entities.Contact","id":1},"hasMore":{"type":"bool","id":2},"chattersInChatId":{"rule":"repeated","type":"string","id":3}}},"PushContact":{"fields":{"contact":{"type":"entities.Contact","id":1},"contactInfo":{"type":"entities.ContactInfo","id":2}}},"PullChatApplicationUnreadBadgeRequest":{"fields":{"type":{"type":"entities.ChatApplication.ChatApplicationType","id":1}}},"PullChatApplicationUnreadBadgeResponse":{"fields":{"badge":{"type":"int32","id":1}}},"DeleteContactRequest":{"fields":{"userId":{"type":"string","id":1}}},"DeleteContactResponse":{"fields":{}},"PutContactSettingRequest":{"fields":{"allowContactApplication":{"type":"bool","id":1}}},"PutContactSettingResponse":{"fields":{}},"PushContactSetting":{"fields":{"allowContactApplication":{"type":"bool","id":1}}},"PullContactSettingRequest":{"fields":{}},"PullContactSettingResponse":{"fields":{"allowContactApplication":{"type":"bool","id":1}}},"PullChatQRCodeTokenRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"expiredDay":{"type":"int32","id":2,"options":{"default":7}},"isUnlimited":{"type":"bool","id":3,"options":{"default":false}}}},"PullChatQRCodeTokenResponse":{"fields":{"token":{"type":"string","id":1},"expireTime":{"type":"int64","id":2},"sharedUrl":{"type":"string","id":3},"isUnlimited":{"type":"bool","id":4,"options":{"default":false}}}},"PullChatQRCodeInfoRequest":{"fields":{"token":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=chat_token"}},"platformType":{"type":"entities.PlatformType","id":2}}},"PullChatQRCodeInfoResponse":{"fields":{"alreadyInChat":{"type":"bool","id":1},"chat":{"type":"entities.Chat","id":2},"inviterId":{"type":"string","id":3},"isInviterCanAddMember":{"type":"bool","id":4},"showMsg":{"type":"string","id":5},"inviterUrl":{"type":"string","id":6}}},"PullChatShareTokenInfoRequest":{"fields":{"token":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=chat_token"}}}},"PullChatShareTokenInfoResponse":{"fields":{"alreadyInChat":{"type":"bool","id":1},"chatId":{"type":"string","id":2},"inviterId":{"type":"string","id":3}}},"PutChatterViaQRCodeRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"inviterId":{"rule":"required","type":"string","id":2},"joinToken":{"type":"string","id":3}}},"PutChatterViaQRCodeResponse":{"fields":{"chat":{"type":"entities.Chat","id":1},"feedCard":{"type":"entities.FeedCard","id":2}}},"FaceToFaceApplicant":{"fields":{"userId":{"rule":"required","type":"int64","id":1},"internationalName":{"keyType":"string","type":"string","id":2},"avatarImage":{"type":"entities.Image","id":3},"rank":{"type":"int64","id":4}}},"CreateFaceToFaceApplicationRequest":{"fields":{"location":{"rule":"required","type":"entities.LocationContent","id":1},"matchCode":{"rule":"required","type":"int32","id":2}}},"CreateFaceToFaceApplicationResponse":{"fields":{"applicationId":{"rule":"required","type":"string","id":1},"token":{"rule":"required","type":"string","id":2},"applicants":{"rule":"repeated","type":"FaceToFaceApplicant","id":3}}},"PushFaceToFaceApplicantsRequest":{"fields":{"applicationId":{"rule":"required","type":"string","id":1},"applicants":{"rule":"repeated","type":"FaceToFaceApplicant","id":2}}},"PushFaceToFaceApplicantsResponse":{"fields":{}},"JoinFaceToFaceChatRequest":{"fields":{"token":{"rule":"required","type":"string","id":1}}},"JoinFaceToFaceChatResponse":{"fields":{"chat":{"type":"entities.Chat","id":1},"feedCard":{"type":"entities.FeedCard","id":2},"isCreateChat":{"type":"bool","id":3}}},"PullChatSecurityConfigRequest":{"fields":{"chatIds":{"rule":"repeated","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}}}},"PullChatSecurityConfigResponse":{"fields":{"configs":{"keyType":"string","type":"entities.ChatSecurityConfig","id":1}}},"PullChatLinkTokenRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"expiredDay":{"type":"int32","id":2,"options":{"default":7}},"appName":{"type":"string","id":3},"isUnlimited":{"type":"bool","id":4,"options":{"default":false}}}},"PullChatLinkTokenResponse":{"fields":{"token":{"type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=chat_token"}},"expireTime":{"type":"int64","id":2},"sharedUrl":{"type":"string","id":3},"kouLing":{"type":"string","id":4},"isUnlimited":{"type":"bool","id":5,"options":{"default":false}}}},"PutChatterViaLinkRequest":{"fields":{"token":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=chat_token"}}}},"PutChatterViaLinkResponse":{"fields":{"chat":{"type":"entities.Chat","id":1}}},"PullChatLinkInfoRequest":{"fields":{"token":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=chat_token"}}}},"PullChatLinkInfoResponse":{"fields":{"alreadyInChat":{"type":"bool","id":1},"chat":{"type":"entities.Chat","id":2},"ownerChatter":{"type":"entities.Chatter","id":3},"isInviterCanAddMember":{"type":"bool","id":4},"inviterChatter":{"type":"entities.Chatter","id":5},"expireTime":{"type":"string","id":6},"isUnlimited":{"type":"bool","id":7,"options":{"default":false}}}},"CheckPublicChatNameExistRequest":{"fields":{"chatName":{"rule":"required","type":"string","id":1}}},"CheckPublicChatNameExistResponse":{"fields":{"exist":{"rule":"required","type":"bool","id":1}}},"CheckP2PChatsExistByUserRequest":{"fields":{"chatterIds":{"rule":"repeated","type":"string","id":1}}},"CheckP2PChatsExistByUserResponse":{"fields":{"exists":{"keyType":"string","type":"bool","id":1},"chatterChatMap":{"keyType":"string","type":"string","id":2}}},"PutCryptoBurnedTimeRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"burnedTime":{"type":"int64","id":2}}},"PutCryptoBurnedTimeResponse":{"fields":{"chat":{"type":"entities.Chat","id":1}}},"ApplyStatus":{"values":{"APPLY_STATUS_UNKNOWN":0,"APPROVED":1,"REFUSED":2,"PROCESSING":3}},"ApplyWays":{"values":{"APPLY_WAYS_UNKNOWN":0,"VIA_SHARE":1,"VIA_INVITATION":2,"VIA_QR_CODE":3,"VIA_SEARCH":4,"VIA_DEPARTMENT_STRUCTURE":5,"VIA_LINK":6}},"AddChatChatterApply":{"fields":{"reason":{"type":"string","id":1},"status":{"rule":"required","type":"ApplyStatus","id":2},"time":{"rule":"required","type":"int64","id":3},"applyWays":{"rule":"required","type":"ApplyWays","id":4},"inviterId":{"type":"string","id":5},"inviteeId":{"rule":"required","type":"string","id":6},"joinToken":{"type":"string","id":7}}},"PullAddChatChatterApplyRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"cursor":{"rule":"required","type":"int64","id":2}}},"PullAddChatChatterApplyResponse":{"fields":{"applies":{"rule":"repeated","type":"AddChatChatterApply","id":1},"nextCursor":{"rule":"required","type":"int64","id":2}}},"PatchAddChatChatterApplyRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"showBanner":{"type":"bool","id":2},"inviteeId":{"type":"string","id":3},"status":{"type":"ApplyStatus","id":4},"prePrecessInfo":{"type":"PreProcessInfo","id":101}}},"PatchAddChatChatterApplyResponse":{"fields":{}},"PutAddChatChatterApplyRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"ways":{"rule":"required","type":"ApplyWays","id":2},"reason":{"type":"string","id":3},"chatterIds":{"rule":"repeated","type":"string","id":4},"inviterId":{"type":"string","id":5},"joinToken":{"type":"string","id":6}}},"PutAddChatChatterApplyResponse":{"fields":{}},"DisableChatSharedRequest":{"fields":{"messageId":{"type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=msg"}}}},"DisableShareCardResponse":{"fields":{}},"CheckChattersInChatRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"chatterIds":{"rule":"repeated","type":"string","id":2}}},"CheckChattersInChatResponse":{"fields":{"chatters":{"keyType":"string","type":"bool","id":1}}},"PutChatAnnReadTimeRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}}}},"PutChatAnnReadTimeResponse":{"fields":{}},"PullChatsAnnReadTimeRequest":{"fields":{"chatIds":{"rule":"repeated","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}}}},"PullChatsAnnReadTimeResponse":{"fields":{"chatsReadTime":{"keyType":"string","type":"int64","id":1}}},"PushChatAnnReadTime":{"fields":{"chatId":{"rule":"required","type":"string","id":1},"readTime":{"rule":"required","type":"int64","id":2}}},"PullChatShareHistoryRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"cursor":{"type":"string","id":2,"options":{"default":"0"}},"count":{"type":"int32","id":3,"options":{"default":20}}}},"PullChatShareHistoryResponse":{"fields":{"shareHistory":{"rule":"repeated","type":"entities.ChatShareInfo","id":1},"hasMore":{"type":"bool","id":2},"nextCursor":{"type":"string","id":3}}},"PutChatShareHistoryRequest":{"fields":{"token":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=chat_token"}},"type":{"rule":"required","type":"entities.ChatShareInfo.ShareType","id":2}}},"PutChatShareHistoryResponse":{"fields":{}},"PatchChatShareStatusRequest":{"fields":{"token":{"rule":"repeated","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=chat_token"}},"status":{"rule":"required","type":"entities.ChatShareInfo.ShareStatus","id":2}}},"PatchChatShareStatusResponse":{"fields":{}},"PullChatNonDepartmentalChattersRequest":{"fields":{"chatId":{"rule":"required","type":"int64","id":1},"cursor":{"type":"int64","id":2,"options":{"default":0}},"count":{"type":"int32","id":3,"options":{"default":20}},"nameFilter":{"type":"string","id":4,"options":{"default":""}}}},"PullChatNonDepartmentalChattersResponse":{"fields":{"chatters":{"keyType":"int64","type":"entities.Chatter","id":1},"hasMore":{"type":"bool","id":2},"nextCursor":{"type":"int64","id":3},"groupNicknames":{"keyType":"int64","type":"string","id":4},"metas":{"keyType":"int64","type":"GroupChatterMeta","id":5},"memberCount":{"type":"int32","id":6},"chatterIds":{"rule":"repeated","type":"int64","id":7,"options":{"packed":false}},"chatterDepartmentName":{"keyType":"int64","type":"string","id":8}}},"PullChatSideBarButtonsRequest":{"fields":{"chatId":{"rule":"required","type":"int64","id":1},"sidebarId":{"rule":"required","type":"string","id":2,"options":{"default":""}}}},"PullChatSideBarButtonsResponse":{"fields":{"sidebarButtons":{"rule":"repeated","type":"SideBarButton","id":1}}},"SideBarButton":{"fields":{"i18nName":{"keyType":"string","type":"string","id":1},"icon":{"rule":"required","type":"entities.Image","id":2},"url":{"rule":"required","type":"string","id":3}}},"PullChatJoinLeaveHistoryRequest":{"fields":{"chatId":{"rule":"required","type":"int64","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"cursor":{"type":"int64","id":2,"options":{"default":0}},"count":{"type":"int32","id":3,"options":{"default":20}}}},"PullChatJoinLeaveHistoryResponse":{"fields":{"chatterHistory":{"rule":"repeated","type":"entities.ChatJoinLeaveHistory","id":1},"hasMore":{"type":"bool","id":2},"nextCursor":{"type":"string","id":3}}},"PullChatsMailSettingRequest":{"fields":{"chatIds":{"rule":"repeated","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}}}},"PullChatsMailSettingResponse":{"fields":{"chatid_2MaliSetting":{"keyType":"string","type":"entities.MailGroupSetting","id":1}}},"PatchChatMailSettingRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"mailSetting":{"rule":"required","type":"entities.MailGroupSetting","id":2}}},"PatchChatMailSettingResponse":{"fields":{"chatId":{"type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"mailSetting":{"type":"entities.MailGroupSetting","id":2}}},"PushChatMailSettingRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"mailSetting":{"rule":"required","type":"entities.MailGroupSetting","id":2}}},"DeleteChatMailSettingRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}}}},"DeleteChatMailSettingResponse":{"fields":{}},"PullChatAvatarMetaRequest":{"fields":{"chatId":{"type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}}}},"PullChatAvatarMetaResponse":{"fields":{"avatarMeta":{"type":"entities.AvatarMeta","id":1}}},"PullExternalChattersInSameChatAuthRequest":{"fields":{"chatterIds":{"rule":"repeated","type":"string","id":1},"chatId":{"type":"string","id":2},"actionType":{"type":"misc.ActionType","id":3}}},"PullExternalChattersInSameChatAuthResponse":{"fields":{"authResp":{"keyType":"string","type":"ExternalChatterAuthInfo","id":1}}},"ExternalChatterAuthInfo":{"fields":{"deniedReason":{"type":"misc.DeniedReason","id":1},"isAlreadyInChat":{"type":"bool","id":2}}},"PullAlreadyInChatRequest":{"fields":{"chatterIds":{"rule":"repeated","type":"string","id":1},"chatId":{"type":"string","id":2,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}}}},"PullAlreadyInChatResponse":{"fields":{"res":{"keyType":"string","type":"bool","id":1}}},"CheckWithdrawPickEntitiesInChatRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"pickEntities":{"rule":"repeated","type":"PickEntities","id":2}}},"CheckWithdrawPickEntitiesInChatResponse":{"fields":{"allowWithdraw":{"keyType":"string","type":"bool","id":1}}},"PatchChatAdminUsersRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"toAddUserIds":{"rule":"repeated","type":"string","id":2},"toDelUserIds":{"rule":"repeated","type":"string","id":3}}},"PatchChatAdminUsersResponse":{"fields":{"users":{"rule":"repeated","type":"AdminUser","id":1},"updatedTagInfos":{"keyType":"string","type":"ChatChatterTagInfo","id":2},"updateVersion":{"type":"int64","id":3}}},"PushChatAdminUsersRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1},"adminUsers":{"rule":"repeated","type":"AdminUser","id":2},"updateVersion":{"type":"int64","id":3}}},"AdminUser":{"fields":{"userId":{"rule":"required","type":"int64","id":1},"orderWeight":{"type":"int64","id":2}}},"PushChatAdminUsersResponse":{"fields":{}},"PullChatAdminUsersRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}}}},"PullChatAdminUsersResponse":{"fields":{"adminUsers":{"rule":"repeated","type":"AdminUser","id":1},"updateVersion":{"type":"int64","id":2}}},"PullChatTabsRequest":{"fields":{"chatId":{"rule":"required","type":"int64","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"version":{"type":"int64","id":2}}},"DocTabPayload":{"fields":{"key":{"type":"string","id":1},"url":{"type":"string","id":2},"name":{"type":"string","id":3}}},"ChatTab":{"fields":{"id":{"type":"int64","id":1},"name":{"type":"string","id":2},"tabType":{"type":"Type","id":3},"payload":{"type":"bytes","id":4},"chatId":{"type":"int64","id":5},"sequence":{"type":"int32","id":6},"payloadJson":{"type":"string","id":7}},"nested":{"Type":{"values":{"UNKNOWN":0,"MESSAGE":1,"DOC_LIST":2,"DOC":3}}}},"PullChatTabsResponse":{"fields":{"chatTabs":{"rule":"repeated","type":"ChatTab","id":1},"version":{"type":"int64","id":2}}},"CreateChatTabRequest":{"fields":{"chatTab":{"rule":"required","type":"ChatTab","id":1},"chatId":{"type":"int64","id":101,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}}}},"CreateChatTabResponse":{"fields":{"chatId":{"rule":"required","type":"int64","id":1},"addTabId":{"rule":"required","type":"int64","id":2},"chatTabs":{"rule":"repeated","type":"ChatTab","id":3},"version":{"type":"int64","id":4}}},"DeleteChatTabRequest":{"fields":{"chatTabId":{"rule":"required","type":"int64","id":1},"chatId":{"rule":"required","type":"int64","id":2,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}}}},"DeleteChatTabResponse":{"fields":{"chatId":{"rule":"required","type":"int64","id":1},"chatTabs":{"rule":"repeated","type":"ChatTab","id":2},"version":{"type":"int64","id":3}}},"ReorderChatTabsRequest":{"fields":{"chatId":{"rule":"required","type":"int64","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"tabIds":{"rule":"repeated","type":"int64","id":2,"options":{"packed":false}}}},"ReorderChatTabsResponse":{"fields":{"chatId":{"rule":"required","type":"int64","id":1},"chatTabs":{"rule":"repeated","type":"ChatTab","id":2},"version":{"type":"int64","id":3}}},"UpdateChatTabRequest":{"fields":{"chatId":{"type":"int64","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"deleteTabIds":{"rule":"repeated","type":"int64","id":2,"options":{"packed":false}},"reorderTabIds":{"rule":"repeated","type":"int64","id":3,"options":{"packed":false}}}},"UpdateChatTabResponse":{"fields":{"chatId":{"type":"int64","id":1},"tabs":{"rule":"repeated","type":"ChatTab","id":2},"version":{"type":"int64","id":3}}},"PutChatOnlineStatusRequest":{"fields":{"onlineStatus":{"rule":"repeated","type":"ChatOnlineState","id":1},"chatIds":{"rule":"repeated","type":"int64","id":101,"options":{"(fieldinfo.FieldInfo)":"split,type=channel","packed":false}}},"nested":{"OnlineState":{"values":{"UNKNOWN":0,"ONLINE":1,"OFFLINE":2}},"ChatOnlineState":{"fields":{"chatId":{"type":"int64","id":1},"onlineStatus":{"type":"OnlineState","id":2}}}}},"PutChatOnlineStatusResponse":{"fields":{}},"PullChatMemberSettingRequest":{"fields":{"tenantId":{"rule":"required","type":"int64","id":1},"chatId":{"type":"int64","id":2}}},"PullChatMemberSettingResponse":{"fields":{"allowApply":{"rule":"required","type":"bool","id":1},"memberUpperLimit":{"rule":"required","type":"int32","id":2},"memberUpperLimitOptions":{"rule":"repeated","type":"int32","id":3,"options":{"packed":false}},"chatMemberUpperLimit":{"type":"int32","id":4}}}}}}')},,,,,,,,,,,,function(e,t,i){e.exports={"g-confirm-modal-content":"_1dbUtVqR","lark-modal-content":"_28jV__c8",title:"_1vua7bVw",desc:"_2nFfVE2z","btn-wrap":"_1Kv1OJzv","float-right":"_32A7jScL","cancel-btn":"_1CweLUhY","g-host-notification-modal":"_1zC4_ZgI","notify-content":"_1SxVdN-E","content-name":"_3-IVTQym","user-profile":"_2Ri1tizm","close-icon-container":"_3ABqly7d","close-icon":"_1p38f3o_",disabled:"_1RVKTzdg","notify-footer":"_32PRzw3-","operation-button":"_3aL7ygpi","icon-base":"_1mbUTzrK","share-screen-layout":"_327HNiWG","bv-user-video":"_2N8dkYAr",ignoreVideo:"Y1hlVS8f","icon-video-off":"_2foeof6k","icon-call-container":"_22TYbr7f","icon-call":"_2ysPBKcu","user-video-avatar":"Hkq2a0pG",mask:"_3WHOwwyl","is-main":"_3SRMz7Q9","user-info":"_3W8RuCME",icons:"_2_G0Ts9o",icon:"_2-SpeXXc","is-detach":"AW4h8_yp","is-sidebar":"_3O3etDea","share-screen-loading":"_1RTu9s6e","icon-share-screen-loading":"_12ybMZg_","loading-text":"_3G1PStvb","user-name":"_2guxuJpP","hands-up-zone":"_2I0HC-Xi","op-list":"_39GNH5do","op-item":"_28ZEaCva","op-icon":"_3NxLoubI"}},,,,function(e,t,i){e.exports={"icon-base":"mFWylZ-L",disabled:"_2Hjv15Zh","bv-mini-window__video":"_2uqiVTvP","bv-mini-window__video-border-overlay":"_3WSBUog_","show-border":"_2zD6TGlL","bv-mini-window__two-videos-container":"zyznenQH",multiple:"uoeiDG6Z",child0:"_2Mm2xuJQ",child1:"_2NRrEuDU","bv-mini-window":"_2y-y0GTh",bv_mini_window_with_other:"_3o-ds2PA","bv-mini-window__two-videos_item_wrapper":"_18-Wy1DB",single:"dIEVkriE","tab-wrapper":"RayaHmWL","tab-item":"_2XSBmKuK",active:"_2bzTXaLM","icon-close":"_3NhFC4rK","speaking-text":"_1f78Do5f",speaking:"_144OOi5Q",name:"_3pLUHggs","is-win":"u_0kqnRE","toggle-btn":"it1DqUC2"}},,,,,,,,,,,,,,,function(e,t,i){"use strict";i.d(t,"b",(function(){return _})),i.d(t,"a",(function(){return T})),i.d(t,"c",(function(){return y}));var n=i(492),r=i(18),o=i(6),s=i(31),a=i(61),d=i(27),c=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const l=o.a.getLogger("utils-media");var p;!function(e){e.Linux="Linux",e.Mac="Darwin",e.Windows="Windows_NT"}(p||(p={}));const u=n.type(),_=(p.Windows,u===p.Mac);var E;function h(e){return c(this,void 0,void 0,(function*(){let t=r.AuthStatus.NotDetermined;return e===E.CAMERA&&d.a&&(t=yield function(){return c(this,void 0,void 0,(function*(){try{return d.a.getCameraAuthorizationStatus()}catch(e){o.c.error(["[rtc-sdk]","getCameraAuthorizationStatus error","message: "+e.message,"name: "+e.name,"stack: "+e.stack].join("\n")),Object(s.d)(a.a.VC_WEB_RTC_SDK,{action_name:"rtc_sdk_get_camera_authorization_status",name:e.name,message:e.message},!1)}return r.AuthStatus.NotDetermined}))}()),e===E.MIC&&d.a&&(t=yield function(){return c(this,void 0,void 0,(function*(){try{return d.a.getMicrophoneAuthorizationStatus()}catch(e){o.c.error(["[rtc-sdk]","getMicrophoneAuthorizationStatus error","message: "+e.message,"name: "+e.name,"stack: "+e.stack].join("\n")),Object(s.d)(a.a.VC_WEB_RTC_SDK,{action_name:"rtc_sdk_get_microphone_authorization_status",name:e.name,message:e.message},!1)}return r.AuthStatus.NotDetermined}))}()),l.info(["[deviceAuthorState]","getMediaAccessStatus",`final get device: ${e} author state is: ${t}`].join("\n")),t}))}!function(e){e.CAMERA="camera",e.MIC="microphone"}(E||(E={}));const T=()=>c(void 0,void 0,void 0,(function*(){return h(E.CAMERA)})),y=()=>c(void 0,void 0,void 0,(function*(){return h(E.MIC)}))},,function(e,t,i){e.exports=i.p+"static/images/default-avatar-62822c9e7ba6674e7f589f53348281c3.png"},,function(e,t,i){e.exports={"control-bar-bottom_":"12px","control-bar-mini-width_":"48px","control-bar-height_":"48px","control-bar-pop-offset-top_":"8px","control-bar-btn-height_":"40px"}},,,,function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Support=void 0;var o=function(){function e(){this.hasChecked=!1,this.supportList={browserApi:!0,cameraDevices:!1,cameraPermissions:!0,cameraCanStart:!0,cameraSystemPermissions:!0,microphoneDevices:!1,microphonePermissions:!0,microphoneCanStart:!0,microphoneSystemPermissions:!0,playbackDevices:!1,network:!0,peerConnect:!1,getUserMediaSupported:!0,noiseSuppression:!1}}return e.prototype.getSupportList=function(){return this.supportList},Object.defineProperty(e.prototype,"canStartAudio",{get:function(){return this.supportList.microphoneCanStart&&this.supportList.microphoneSystemPermissions&&this.supportList.microphonePermissions&&this.supportList.microphoneDevices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canStartVideo",{get:function(){return this.supportList.cameraCanStart&&this.supportList.cameraSystemPermissions&&this.supportList.cameraPermissions&&this.supportList.cameraDevices},enumerable:!1,configurable:!0}),e.prototype.check=function(e){return void 0===e&&(e=!1),n(this,void 0,void 0,(function(){var t,i,n,o,s=this;return r(this,(function(r){switch(r.label){case 0:if(this.hasChecked&&!e)return[2,this.supportList];navigator&&navigator.mediaDevices||(this.supportList.browserApi=!1),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,navigator.mediaDevices.enumerateDevices()];case 2:return r.sent().forEach((function(e){switch(e.kind){case"audioinput":s.supportList.microphoneDevices=!0;break;case"audiooutput":s.supportList.playbackDevices=!0;break;case"videoinput":s.supportList.cameraDevices=!0}})),[3,4];case 3:return r.sent(),[3,4];case 4:t=function(e,t){console.error(t);var i=t.message;(i.includes("Permission denied")||i.includes("denied permission"))&&("audio"===e?s.supportList.microphonePermissions=!1:"video"===e&&(s.supportList.cameraPermissions=!1)),i.includes("device not found")&&("audio"===e?s.supportList.microphoneDevices=!1:"video"===e&&(s.supportList.cameraDevices=!1)),i.includes("video source")&&(s.supportList.cameraCanStart=!1),i.includes("audio source")&&(s.supportList.microphoneCanStart=!1),(i.includes("denied by system")||i.includes("dismissed"))&&("audio"===e&&(s.supportList.microphoneSystemPermissions=!1),"video"===e&&(s.supportList.cameraSystemPermissions=!1)),i.includes("supported")&&(s.supportList.getUserMediaSupported=!1)},r.label=5;case 5:return r.trys.push([5,7,,8]),n={audio:!0,video:!1},[4,navigator.mediaDevices.getUserMedia(n)];case 6:return r.sent(),this.supportList.noiseSuppression=Boolean(navigator.mediaDevices.getSupportedConstraints().noiseSuppression),[3,8];case 7:return i=r.sent(),t("audio",i),[3,8];case 8:return r.trys.push([8,10,,11]),n={audio:!1,video:!0},[4,navigator.mediaDevices.getUserMedia(n)];case 9:return r.sent(),[3,11];case 10:return o=r.sent(),t("video",o),[3,11];case 11:return navigator.onLine||(this.supportList.network=!1),this.supportList.peerConnect=Boolean(window.RTCPeerConnection),this.hasChecked=!0,[2,this.supportList]}}))}))},e}();t.Support=o,t.default=new o},function(e,t,i){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),r=0;for(t=0;t<i;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)n[r]=o[s];return n};function r(e,t){return function(i){i&&200===i.code?e(i):(console.error("[signal callback error]",i),t(i))}}Object.defineProperty(t,"__esModule",{value:!0}),t.formatDeviceLabel=t.isElement=t.wrapSocketResponseCallback=t.socketCallbackToPromise=t.noop=void 0,t.noop=function(){},t.socketCallbackToPromise=function(e){return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new Promise((function(i,o){e.apply(void 0,n(t,[r(i,o)]))}))}},t.wrapSocketResponseCallback=r,t.isElement=function(e){return"object"==typeof e&&!!e.tagName},t.formatDeviceLabel=function(e){return void 0===e&&(e=""),e.replace(/\([a-z0-9:]*\)$/,"").trim()}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1045).v4();t.default=n},,,,,,function(e,t,i){"use strict";function n(){}function r(e,t){return new Promise(i=>{setTimeout(()=>i(t),e)})}i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return r}))},,function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return s}));let n=null;function r(e){n=e}function o(){return null!==n}function s(){return n}},,function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i(0),r=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const o=(e,t)=>r(void 0,void 0,void 0,(function*(){let r;switch(t){case n.I18nLocale.ZH_CN:r=(yield i.e(7).then(i.t.bind(null,1050,3))).default;break;case n.I18nLocale.JA_JP:r=(yield i.e(6).then(i.t.bind(null,1051,3))).default;break;case n.I18nLocale.EN_US:default:r=(yield i.e(5).then(i.t.bind(null,1052,3))).default}console.log("=== config ===",r);return r.data[e]||{name:"",code:"",pattern:""}}))},,,,function(e,t,i){"use strict";i.d(t,"c",(function(){return h})),i.d(t,"a",(function(){return T})),i.d(t,"b",(function(){return S}));var n=function(){function e(e){this.name="",this.entryType="",this.startTime=0,this.duration=0,this.perfName=e}return e.prototype.setName=function(e){this.name=e},e.prototype.setEntryType=function(e){this.entryType=e},e.prototype.setStartTime=function(e){this.startTime=e},e.prototype.setDuration=function(e){this.duration=e},e}(),r=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var i=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return i.observe({type:e,buffered:!0}),i}}catch(e){}},o={};function s(e,t){var i=new n(e);return i.setName(t.name),i.setEntryType(t.entryType),i.setStartTime(t.startTime),i.setDuration(t.duration),i}var a,d;function c(e,t){return function(){try{if(!t)return!1;if(!(t.name||t.startTime||t.entryType||t.duration))return!1;var i=o[t.entryType];if(i&&i.length>0){for(var n=!1,r=0,s=i.length;r<s;r++){var a=i[r];if("string"==typeof a&&t.name===a){n=!0;break}if(a instanceof RegExp&&a.test(t.name)){n=!0;break}}if(n)return!0}return e(t),!0}catch(e){return console.error("onReport error: "+e.message),!1}}}function l(){}function p(){if(window.performance&&"function"==typeof window.performance.getEntriesByType){var e=window.performance.getEntriesByType("navigation");if(0!==e.length){var t=e[0];return t||void 0}}}function u(){void 0!==performance&&("function"==typeof performance.setResourceTimingBufferSize&&performance.setResourceTimingBufferSize(150))}function _(){void 0!==performance&&("function"==typeof performance.getEntriesByType&&performance.getEntriesByType("resource").length>=150&&(void 0!==performance&&"function"==typeof performance.clearResourceTimings&&performance.clearResourceTimings(),u()))}function E(e){var t,i=["script","link","xmlhttprequest","fetch"];u();var n=r("resource",(function(n){var r=n.initiatorType;if(i.includes(r)){var o=""+r[0].toUpperCase()+r.slice(1);t=s(o,n),c(e,t)()||console.error(o+" report失败 [metric]: "+JSON.stringify(t))}_()}));window.addEventListener("beforeunload",(function(){n&&(n.disconnect(),n=void 0)}),!1)}function h(e,t){if(f()){var i=e+"_perf_point";d.mark("["+i+"] "+t+":start")}}function T(e,t){if(f()){var i=e+"_perf_point",n="["+i+"] "+t+":start",r="["+i+"] "+t+":end";d.mark(r);try{d.measure("<Business Perf Point> ["+i+"] "+t,n,r)}catch(e){console.error("Not found `["+i+"] "+t+"` invoke startMeasure method.")}d.clearMarks(n),d.clearMarks(r)}}var y=/<.*> \[(.*?)\]/;function f(){return void 0!==a||("undefined"!=typeof window&&window.performance?(a=!0,d=window.performance):a=!1),a}function I(e){var t,i=r("measure",(function(i){var n,r,o=i.name,a=(n=o,(r=y.exec(n))&&r[1]||"");a&&(t=s(a,i),c(e,t)()||console.error(a+" report失败 [metric]: "+JSON.stringify(t)),function(e){void 0!==performance&&"function"==typeof performance.clearMeasures&&performance.clearMeasures(e)}(o))}));window.addEventListener("beforeunload",(function(){i&&(i.disconnect(),i=void 0)}),!1)}function g(e){!function(e){var t,i,n=function(){o&&(o.disconnect(),o=void 0)},o=r("paint",(function(r){"first-contentful-paint"===r.name&&(o&&(i&&window.clearTimeout(i),n()),t=s("FCP",r),c(e,t)()||console.error("FCP report失败 [metric]: "+JSON.stringify(t)))}));o&&(i=window.setTimeout((function(){n(),console.error("FCP 上报超时")}),1e4))}(e),function(e){var t,i,n,o=["keydown","click","scroll"],a=function(){if(d){if(i&&window.clearTimeout(i),d.disconnect(),d=void 0,o.forEach((function(e){window.removeEventListener(e,a)})),!n)return;t=s("LCP",n),c(e,t)()||console.error("LCP report失败 [metric]: "+JSON.stringify(t))}},d=r("largest-contentful-paint",(function(e){n=e}));d&&(o.forEach((function(e){window.addEventListener(e,a,{once:!0,capture:!0})})),i=window.setTimeout((function(){a(),console.error("LCP 上报超时")}),1e4))}(e),function(e){var t=p();if(t){var i=t.domainLookupStart,n=t.fetchStart,r=s("AppCache",{duration:i-n,entryType:"navigation",name:"app cache time",startTime:n,toJSON:l});c(e,r)()||console.error("AppCache report失败 [metric]: "+JSON.stringify(r))}}(e),function(e){var t=p();if(t){var i=t.domainLookupStart,n=s("DNS",{duration:t.domainLookupEnd-i,entryType:"navigation",name:"dns search time",startTime:i,toJSON:l});c(e,n)()||console.error("DNS report失败 [metric]: "+JSON.stringify(n))}}(e),function(e){var t=p();if(t){var i=t.connectStart,n=s("TCP",{duration:t.connectEnd-i,entryType:"navigation",name:"tcp connect time",startTime:i,toJSON:l});c(e,n)()||console.error("TCP report失败 [metric]: "+JSON.stringify(n))}}(e),function(e){var t=p();if(t){var i=t.responseStart,n=t.requestStart,r=s("TTFB",{duration:i-n,entryType:"navigation",name:"Time to First Byte time",startTime:n,toJSON:l});c(e,r)()||console.error("TTFB report失败 [metric]: "+JSON.stringify(r))}}(e),function(e){var t=p();if(t){var i=t.responseEnd,n=t.fetchStart,r=s("FetchTime",{duration:i-n,entryType:"navigation",name:"fetch time",startTime:n,toJSON:l});c(e,r)()||console.error("FetchTime report失败 [metric]: "+JSON.stringify(r))}}(e),function(e){var t=p();if(t){var i=t.domContentLoadedEventEnd,n=t.responseEnd,r=s("DCL",{duration:i-n,entryType:"navigation",name:"DOMContentLoaded time",startTime:n,toJSON:l});c(e,r)()||console.error("DCL report失败 [metric]: "+JSON.stringify(r))}}(e),function(e){var t=p();if(t){var i=t.domContentLoadedEventEnd,n=t.fetchStart,r=s("DomReady",{duration:i-n,entryType:"navigation",name:"DomReady time",startTime:n,toJSON:l});c(e,r)()||console.error("DomReady report失败 [metric]: "+JSON.stringify(r))}}(e),E(e),I(e)}function S(e,t){!function(e){o=e||{}}(t),window.addEventListener("load",g.bind(null,e),{once:!0})}},function(e,t,i){"use strict";i.d(t,"b",(function(){return L})),i.d(t,"c",(function(){return b})),i.d(t,"a",(function(){return U}));var n=i(157),r=i(8),o=i(19),s=i(263),a=i(32),d=i(0),c=i(25),l=i(50),p=i(406),u=i(31);function _(e,t){let i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function E(e,t,i,n,r,o){return _((s=_(_(t,e),_(n,o)))<<(a=r)|s>>>32-a,i);var s,a}function h(e,t,i,n,r,o,s){return E(t&i|~t&n,e,t,r,o,s)}function T(e,t,i,n,r,o,s){return E(t&n|i&~n,e,t,r,o,s)}function y(e,t,i,n,r,o,s){return E(t^i^n,e,t,r,o,s)}function f(e,t,i,n,r,o,s){return E(i^(t|~n),e,t,r,o,s)}function I(e,t){let i,n,r,o,s;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;let a=1732584193,d=-271733879,c=-1732584194,l=271733878;for(i=0;i<e.length;i+=16)n=a,r=d,o=c,s=l,a=h(a,d,c,l,e[i],7,-680876936),l=h(l,a,d,c,e[i+1],12,-389564586),c=h(c,l,a,d,e[i+2],17,606105819),d=h(d,c,l,a,e[i+3],22,-1044525330),a=h(a,d,c,l,e[i+4],7,-176418897),l=h(l,a,d,c,e[i+5],12,1200080426),c=h(c,l,a,d,e[i+6],17,-1473231341),d=h(d,c,l,a,e[i+7],22,-45705983),a=h(a,d,c,l,e[i+8],7,1770035416),l=h(l,a,d,c,e[i+9],12,-1958414417),c=h(c,l,a,d,e[i+10],17,-42063),d=h(d,c,l,a,e[i+11],22,-1990404162),a=h(a,d,c,l,e[i+12],7,1804603682),l=h(l,a,d,c,e[i+13],12,-40341101),c=h(c,l,a,d,e[i+14],17,-1502002290),d=h(d,c,l,a,e[i+15],22,1236535329),a=T(a,d,c,l,e[i+1],5,-165796510),l=T(l,a,d,c,e[i+6],9,-1069501632),c=T(c,l,a,d,e[i+11],14,643717713),d=T(d,c,l,a,e[i],20,-373897302),a=T(a,d,c,l,e[i+5],5,-701558691),l=T(l,a,d,c,e[i+10],9,38016083),c=T(c,l,a,d,e[i+15],14,-660478335),d=T(d,c,l,a,e[i+4],20,-405537848),a=T(a,d,c,l,e[i+9],5,568446438),l=T(l,a,d,c,e[i+14],9,-1019803690),c=T(c,l,a,d,e[i+3],14,-187363961),d=T(d,c,l,a,e[i+8],20,1163531501),a=T(a,d,c,l,e[i+13],5,-1444681467),l=T(l,a,d,c,e[i+2],9,-51403784),c=T(c,l,a,d,e[i+7],14,1735328473),d=T(d,c,l,a,e[i+12],20,-1926607734),a=y(a,d,c,l,e[i+5],4,-378558),l=y(l,a,d,c,e[i+8],11,-2022574463),c=y(c,l,a,d,e[i+11],16,1839030562),d=y(d,c,l,a,e[i+14],23,-35309556),a=y(a,d,c,l,e[i+1],4,-1530992060),l=y(l,a,d,c,e[i+4],11,1272893353),c=y(c,l,a,d,e[i+7],16,-155497632),d=y(d,c,l,a,e[i+10],23,-1094730640),a=y(a,d,c,l,e[i+13],4,681279174),l=y(l,a,d,c,e[i],11,-358537222),c=y(c,l,a,d,e[i+3],16,-722521979),d=y(d,c,l,a,e[i+6],23,76029189),a=y(a,d,c,l,e[i+9],4,-640364487),l=y(l,a,d,c,e[i+12],11,-421815835),c=y(c,l,a,d,e[i+15],16,530742520),d=y(d,c,l,a,e[i+2],23,-995338651),a=f(a,d,c,l,e[i],6,-198630844),l=f(l,a,d,c,e[i+7],10,1126891415),c=f(c,l,a,d,e[i+14],15,-1416354905),d=f(d,c,l,a,e[i+5],21,-57434055),a=f(a,d,c,l,e[i+12],6,1700485571),l=f(l,a,d,c,e[i+3],10,-1894986606),c=f(c,l,a,d,e[i+10],15,-1051523),d=f(d,c,l,a,e[i+1],21,-2054922799),a=f(a,d,c,l,e[i+8],6,1873313359),l=f(l,a,d,c,e[i+15],10,-30611744),c=f(c,l,a,d,e[i+6],15,-1560198380),d=f(d,c,l,a,e[i+13],21,1309151649),a=f(a,d,c,l,e[i+4],6,-145523070),l=f(l,a,d,c,e[i+11],10,-1120210379),c=f(c,l,a,d,e[i+2],15,718787259),d=f(d,c,l,a,e[i+9],21,-343485551),a=_(a,n),d=_(d,r),c=_(c,o),l=_(l,s);return[a,d,c,l]}function g(e){let t,i="",n=32*e.length;for(t=0;t<n;t+=8)i+=String.fromCharCode(e[t>>5]>>>t%32&255);return i}function S(e){let t,i=[];for(i[(e.length>>2)-1]=void 0,t=0;t<i.length;t+=1)i[t]=0;let n=8*e.length;for(t=0;t<n;t+=8)i[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return i}function C(e){let t,i,n="";for(i=0;i<e.length;i+=1)t=e.charCodeAt(i),n+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t);return n}function m(e){return unescape(encodeURIComponent(e))}function N(e){return function(e){return g(I(S(e),8*e.length))}(m(e))}function A(e,t){return function(e,t){let i,n,r=S(e),o=[],s=[];for(o[15]=s[15]=void 0,r.length>16&&(r=I(r,8*e.length)),i=0;i<16;i+=1)o[i]=909522486^r[i],s[i]=1549556828^r[i];return n=I(o.concat(S(t)),512+8*t.length),g(I(s.concat(n),640))}(m(e),m(t))}function R(e,t,i){return t?i?A(t,e):C(A(t,e)):i?N(e):C(N(e))}var O=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const v={sha1:function(e){return O(this,void 0,void 0,(function*(){return function(e,t){return O(this,void 0,void 0,(function*(){const i=(new TextEncoder).encode(t),n=yield crypto.subtle.digest(e,i);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")}))}("SHA-1",e)}))},md5:function(e){return O(this,void 0,void 0,(function*(){return R(e,void 0,void 0)}))}};var P=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};var M=i(82);function L(){const e=c.a.appStore.userInfo;(function(e){return P(this,void 0,void 0,(function*(){const t=yield v.md5("ee"),i=t.substring(0,6),n=t.substring(t.length-6);return yield v.sha1(i+(yield v.md5(e.concat(n))))}))})(c.a.userStore.currentUserId).then(t=>{Object(u.b)({user_unique_id:t,lark_user_id:t,one_id:t,is_login:String(Boolean(null==e?void 0:e.isLogin)),tenant_id:(null==e?void 0:e.tenantId)||"none",app_language:M.b.langCode}),u.c.user_unique_id.resolve()})}function b(){r.b.on(r.a.VC_MEETING_PRE_VIEW,()=>{w(r.a.VC_MEETING_PRE_VIEW,{from_source:Object(o.e)()})}),r.b.on(r.a.VC_MEETING_PRE_CLICK,e=>{w(r.a.VC_MEETING_PRE_CLICK,e)}),r.b.on(r.a.VC_MEETING_ONTHECALL_VIEW,()=>{w(r.a.VC_MEETING_ONTHECALL_VIEW,{is_minimised:String(Object(s.e)())})}),r.b.on(r.a.VC_MEETING_ONTHECALL_CLICK,e=>{w(r.a.VC_MEETING_ONTHECALL_CLICK,Object.assign({is_sharing:String(Object(s.g)()),is_minimised:String(Object(s.e)())},e))}),r.b.on(r.a.VC_MEETING_MIC_SOURCE_VIEW,()=>{w(r.a.VC_MEETING_MIC_SOURCE_VIEW,{view_location:Object(s.f)()?"pre_view":"meeting_onthecall"})}),r.b.on(r.a.VC_MEETING_MIC_SOURCE_CLICK,e=>{w(r.a.VC_MEETING_MIC_SOURCE_CLICK,Object.assign({view_location:Object(s.f)()?"pre_view":"meeting_onthecall"},e))}),r.b.on(r.a.VC_MEETING_CAM_SOURCE_VIEW,()=>{w(r.a.VC_MEETING_CAM_SOURCE_VIEW)}),r.b.on(r.a.VC_MEETING_CAM_SOURCE_CLICK,e=>{w(r.a.VC_MEETING_CAM_SOURCE_CLICK,e)}),r.b.on(r.a.VC_MEETING_SHAREWINDOW_VIEW,()=>{w(r.a.VC_MEETING_SHAREWINDOW_VIEW)}),r.b.on(r.a.VC_MEETING_POPUP_VIEW,e=>{w(r.a.VC_MEETING_POPUP_VIEW,e)}),r.b.on(r.a.VC_MEETING_POPUP_CLICK,e=>{w(r.a.VC_MEETING_POPUP_CLICK,e)}),r.b.on(r.a.VC_MEETING_CARD_VIEW,()=>{w(r.a.VC_MEETING_CARD_VIEW)}),r.b.on(r.a.VC_MEETING_CARD_CLICK,e=>{w(r.a.VC_MEETING_CARD_CLICK,e)}),r.b.on(r.a.WEBSITE_TOPCUBE_VIEW,()=>{w(r.a.WEBSITE_TOPCUBE_VIEW)}),r.b.on(r.a.VC_POPUP_MAGICSHARE_VIEW,()=>{w(r.a.VC_POPUP_MAGICSHARE_VIEW)}),r.b.on(r.a.VC_POPUP_MAGICSHARE_CLICK,e=>{w(r.a.VC_POPUP_MAGICSHARE_CLICK,e)}),r.b.on(r.a.VC_POPUP_MIC_CAMERA_VIEW,()=>{w(r.a.VC_POPUP_MIC_CAMERA_VIEW)}),r.b.on(r.a.VC_POPUP_MIC_CAMERA_CLICK,e=>{w(r.a.VC_POPUP_MIC_CAMERA_CLICK,e)}),r.b.on(r.a.VC_POPUP_UNKNOW_VIEW,()=>{w(r.a.VC_POPUP_UNKNOW_VIEW)}),r.b.on(r.a.VC_POPUP_UNKNOW_CLICK,e=>{w(r.a.VC_POPUP_UNKNOW_CLICK,e)}),r.b.on(r.a.VC_MEETING_FINISH_VIEW,()=>{w(r.a.VC_MEETING_FINISH_VIEW)}),r.b.on(r.a.VC_MEETING_FINISH_CLICK,e=>{w(r.a.VC_MEETING_FINISH_CLICK,e)}),r.b.on(r.a.VC_MEETING_MAGIC_SHARE_VIEW,()=>{w(r.a.VC_MEETING_MAGIC_SHARE_VIEW)}),r.b.on(r.a.VC_MEETING_MAGIC_SHARE_CLICK,e=>{w(r.a.VC_MEETING_MAGIC_SHARE_CLICK,e)}),r.b.on(r.a.VC_WEB_MAGICSHARE_CHOOSE_VIEW,()=>{w(r.a.VC_WEB_MAGICSHARE_CHOOSE_VIEW)}),r.b.on(r.a.VC_WEB_MAGICSHARE_CHOOSE_CLICK,e=>{w(r.a.VC_WEB_MAGICSHARE_CHOOSE_CLICK,e)})}Object(p.b)().then(e=>{Object(u.b)({browser_unique_id:e}),u.c.browser_unique_id.resolve()});const D={env_id:l.a,call_type:d.CallType.MEETING,meeting_type:a.e?"interview":"general",participant_type:"lark_user",interview_participant_type:a.e?"candidate":"none"};function U(){const{currentUser:e}=c.a.userStore;let t;return t=e.isHost?d.UserType.HOST:e.isCoHost?d.UserType.COHOST:d.UserType.ATTENDEE,Object.assign({interactive_id:e.interactiveId||"none",conference_id:c.a.conferenceStore.id||"none",user_type:t},D)}function w(e,t={}){Object(n.a)(e,Object.assign(Object.assign({},U()),t))}},,,,,,function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Media=void 0;i(91).Logger.getLogger("media");var o=function(){function e(){this.instance=navigator.mediaDevices}return e.prototype.getUserMedia=function(e){return this.instance.getUserMedia(e)},e.prototype.getDisplayMedia=function(e){return this.instance.getDisplayMedia(e)},e.prototype.enumerateDevices=function(){return n(this,void 0,void 0,(function(){var e,t;return r(this,(function(i){switch(i.label){case 0:e=[],i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.instance.enumerateDevices()];case 2:return e=i.sent(),[3,4];case 3:throw(t=i.sent()).message="[enumerateDevices]"+t.message,t;case 4:return[2,e]}}))}))},e.prototype.onDeviceChange=function(e){this.instance.ondevicechange=e},e.prototype.query=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){return[2,null===navigator||void 0===navigator?void 0:navigator.permissions.query(e)]}))}))},e}();t.Media=o,t.default=new o},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n="__NO_TITLE_PAGE__"},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return a}));var n=i(716),r=i(107),o=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function s(){const e=r.a,t=(e,n)=>{Object.keys(e).forEach(r=>{if(e[r]instanceof Object)t(e[r],`${n}_${r}`);else{i[`${n}_${r}`]=e[r]}})},i={};return t(e,"browser_info"),i}function a(){return o(this,void 0,void 0,(function*(){const e=yield n.a.load();return(yield e.get()).visitorId}))}},function(e,t,i){"use strict";i.d(t,"a",(function(){return d})),i.d(t,"b",(function(){return a}));var n=i(594),r=i.n(n),o=i(595),s=i.n(o);function a(){}function d(e){return s()("08a441"+r()(e+"42b91e"))}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return N}));var n,r,o=i(2),s=i(0),a=i(176),d=i(6),c=i(245),l=i(195),p=i(281),u=i(265),_=i(50),E=i(8),h=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},T=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};!function(e){e[e.ControlBar=0]="ControlBar",e[e.TouchBar=1]="TouchBar",e[e.ShareScreenBar=2]="ShareScreenBar",e[e.ConfirmModal=3]="ConfirmModal",e[e.SettingModal=4]="SettingModal"}(n||(n={})),function(e){e[e.NO_CHANGE=0]="NO_CHANGE",e[e.REQUEST_VOTE=1]="REQUEST_VOTE",e[e.VOTE_ACCEPT=2]="VOTE_ACCEPT",e[e.VOTE_REFUSE=3]="VOTE_REFUSE"}(r||(r={}));const y={accountBindings:(_.c,{}),streamBindings:{}},f={[s.BINDING_TYPE.DOUYIN]:"https://open.douyin.com/platform/oauth/connect/?client_key=awwscpdlsetpcvgw&response_type=code&scope=user_info",[s.BINDING_TYPE.XIGUA]:"https://open.snssdk.com/oauth/authorize/?client_key=ttd93b62db10f0de&response_type=code&scope=user_info&state=STATE",[s.BINDING_TYPE.FACEBOOK]:"",[s.BINDING_TYPE.YOUTUBE]:"",[s.BINDING_TYPE.THD_PARTY]:""},I=_.c?[s.BINDING_TYPE.FACEBOOK,s.BINDING_TYPE.YOUTUBE,s.BINDING_TYPE.THD_PARTY,s.BINDING_TYPE.THD_FACEBOOK,s.BINDING_TYPE.THD_YOUTUBE]:[s.BINDING_TYPE.DOUYIN,s.BINDING_TYPE.XIGUA,s.BINDING_TYPE.THD_PARTY],g={bindingId:"",platformName:"",streamAddress:"",secretKey:""},S=2841,C="feishu_livestream",m={[s.BINDING_TYPE.UNKONWN]:1,[s.BINDING_TYPE.DOUYIN]:2,[s.BINDING_TYPE.XIGUA]:1,[s.BINDING_TYPE.FACEBOOK]:1,[s.BINDING_TYPE.YOUTUBE]:1,[s.BINDING_TYPE.TIKTOK]:1,[s.BINDING_TYPE.TIKTOK_WEB]:1,[s.BINDING_TYPE.TIKTOK_APP]:1,[s.BINDING_TYPE.NEO_DOUYIN_WEB]:1,[s.BINDING_TYPE.NEO_DOUYIN_APP]:1,[s.BINDING_TYPE.THD_PARTY]:0,[s.BINDING_TYPE.THD_FACEBOOK]:1,[s.BINDING_TYPE.THD_YOUTUBE]:2};class N{constructor(e,t,i){this.isOn=!1,this.link=null,this.audients=0,this.liveId=0,this.isFgEnable=!0,this.isShowLiveLegalEnabled=!0,this.supportSyncToOtherPlatformFG=!1,this.supportSyncToStreamAddrFG=!1,this.supportBindAccountFG=!1,this.privilegeSettingFG=!0,this.liveLayoutSettingFG=!1,this.liveChatSettingFG=!1,this.confirmModal=s.LiveConfirmModalType.NONE,this.settingModal=s.LiveSettingModalType.NONE,this.isRequestBlocked=!1,this.voteData={},this.privilege=s.Privilege.PREVILEGE_UNKNOWN,this.layoutStyle=s.LiveLayoutStyle.STYLE_UNKNOWN,this.enableLiveComment=!1,this.defaultPrivilege=s.Privilege.PREVILEGE_UNKNOWN,this.defaultLayoutStyle=s.LiveLayoutStyle.STYLE_UNKNOWN,this.defaultEnableLiveComment=!1,this.bindingDetail=y,this.bindUrl="",this.editingTrdPlatformStreamSetting=g,this.editingTrdPlatformStreamBindingType=s.BINDING_TYPE.UNKONWN,this.streamAddressCheckMessage="",this.timer=null,this.guideKeyAlmostFull="all_vc_meet_live",this.guideKeyLive="all_vc_meet_live_entrance",this.voted=!1,this.toggleLiveSettingSource=s.ToggleLiveSettingSource.ControlBar,this.specialStreamBindingTypeForOversea=[s.BINDING_TYPE.THD_YOUTUBE,s.BINDING_TYPE.THD_FACEBOOK],this.specialStreamBindingForOversea={[s.BINDING_TYPE.THD_YOUTUBE]:{bindingId:"",platformName:"YouTube",streamAddress:"",secretKey:""},[s.BINDING_TYPE.THD_FACEBOOK]:{bindingId:"",platformName:"Facebook",streamAddress:"",secretKey:""}},this.isAccountSyncInThisMeeting=e=>e&&e.bindingId&&e.isLiving&&e.livingMeetingId===this.rootStore.conferenceStore.id,this.copyLink=()=>{this.link?(this.copyAndNotify(),this.track(s.Homeric.VC_MEETING_PAGE_ONTHECALL,{action_name:s.MeetingPageAction.copy_livestreaminglink}),E.b.emit(E.a.VC_MEETING_ONTHECALL_CLICK,{click:"copy_livestreaminglink",target:"none"})):this.confirmModal=s.LiveConfirmModalType.CONFIRM_COPY_FAILED},this.trackToggleLive=e=>{this.track(s.Homeric.VC_MEETING_PAGE_ONTHECALL,{action_name:s.MeetingPageAction.live,from_source:e,is_live:this.isOn?1:0,live_id:this.liveId})},this.hideConfirmModal=()=>{this.setConfirmModal(s.LiveConfirmModalType.NONE)},this.hideSettingModal=(e=!1)=>{this.setSettingModal(s.LiveSettingModalType.NONE),this.isOn||this.clearAllSettingFields(),e&&this.byteviewApi.closeByName(s.PageName.LIVE_SETTING),this.cleanEditingTrdPlatformStreamSetting()},this.clearAllSettingFields=()=>{this.privilege=this.defaultPrivilege,this.layoutStyle=this.defaultLayoutStyle,this.enableLiveComment=this.defaultEnableLiveComment},this.showLiveSetting=(e,t)=>T(this,void 0,void 0,(function*(){})),this.enableRequest=()=>{this.isRequestBlocked=!1,"number"==typeof this.timer&&clearTimeout(this.timer),this.timer=null},this.requestLive=e=>T(this,void 0,void 0,(function*(){if(d.c.info("request live with status:"+this.isRequestBlocked),this.isRequestBlocked)return;this.track(s.Homeric.VC_MEETING_PAGE_ONTHECALL,{from_source:e,action_name:s.MeetingPageAction.ask_host_to_livestream,is_live:0,live_id:this.liveId}),this.isRequestBlocked=!0,this.timer=window.setTimeout(this.enableRequest,3e4);const{currentUser:t}=this.rootStore.userStore;yield this.byteviewApi.requestLive({meetingId:this.rootStore.conferenceStore.id,action:s.VideoChatLiveActionRequestAction.PARTICIPANT_REQUEST_START,requester:{userId:t.id,userType:t.type,deviceId:t.deviceId}}),a.a.notice({message:this.byteviewApi.getI18NText("View_G_RequestSent")})})),this.fetchBindingData=Object(c.a)(()=>T(this,void 0,void 0,(function*(){const{bindingInfo:e}=yield this.byteviewApi.request(s.Command.LIVE_MEETING_ACCOUNT_BINDING_INFO,{userId:this.rootStore.userStore.currentUserId,meetingId:this.rootStore.conferenceStore.id});d.c.info("[LIVE] fetch binding data"),this.bindingDetail=e.bindings})),300),this.fetchLivePolicy=()=>T(this,void 0,void 0,(function*(){this.byteviewApi.request(s.Command.LIVE_MEETING_FETCH_LIVE_POLICY).then(e=>{this.livePolicyData=e})})),this.getOauthUrl=(e,t)=>{switch(e.bindingType){case s.BINDING_TYPE.DOUYIN:return`${f[e.bindingType]}&redirect_uri=http://meeting.feishu.cn/live/oauth?binding_id=${t}&account_type=douyin`;case s.BINDING_TYPE.XIGUA:return`${f[e.bindingType]}&redirect_uri=http://meeting.feishu.cn/live/oauth?binding_id=${t}&account_type=xigua`;case s.BINDING_TYPE.FACEBOOK:case s.BINDING_TYPE.YOUTUBE:case s.BINDING_TYPE.THD_PARTY:default:return""}},this.bindAccount=e=>T(this,void 0,void 0,(function*(){})),this.bindStream=e=>T(this,void 0,void 0,(function*(){this.track(s.Homeric.VC_UP_STREAMING_POPUP,{action_name:"bind",extend_value:{is_live:this.isOn?1:0,up_streaming_app:"other"}});try{yield this.byteviewApi.request(s.Command.LIVE_MEETING_STREAM_SETTING,{bindingType:e.bindingType,bindAction:s.BINDING_ACTION.BIND,meetingId:this.rootStore.conferenceStore.id,userId:this.rootStore.userStore.currentUserId,bindingName:e.bindingName,bindingId:e.bindingId,url:e.url,token:e.token}).then(()=>{this.cleanEditingTrdPlatformStreamSetting(),this.setSettingModal(s.LiveSettingModalType.LIVE_SETTING_BINDING)}).catch(this.handleLarkErrorInLiveSettingPage)}finally{this.fetchBindingData()}})),this.editTrdPlatformStreamSetting=(e,t)=>{"streamAddress"===e&&(this.streamAddressCheckMessage=/^rtmps?:\/\//.test(t||"")?"":"View_M_StreamingAddressError"),this.editingTrdPlatformStreamSetting[e]=t},this.saveTrdPlatformConfig=()=>{const{bindingId:e}=this.editingTrdPlatformStreamSetting,t=this.bindingDetail.streamBindings[e]||{};return this.bindStream({bindingType:this.editingTrdPlatformStreamBindingType||s.BINDING_TYPE.THD_PARTY,bindingId:e,bindingName:this.editingTrdPlatformStreamSetting.platformName,url:this.editingTrdPlatformStreamSetting.streamAddress,token:this.editingTrdPlatformStreamSetting.secretKey,isLiving:t.isLiving||!1,livingMeetingId:this.rootStore.conferenceStore.id,livingDeviceId:this.rootStore.userStore.currentDeviceId})},this.startEditStreamSetting=(e,t)=>{this.editingTrdPlatformStreamSetting={platformName:e.bindingName,streamAddress:e.url||"",secretKey:e.token||"",bindingId:e.bindingId},this.editingTrdPlatformStreamBindingType=t,e.bindingId&&this.track(s.Homeric.VC_UP_STREAMING_POPUP,{action_name:"up_grade_live_address",extend_value:{is_live:this.isOn?1:0,up_streaming_app:"other"}}),!e.bindingId&&this.track(s.Homeric.VC_UP_STREAMING_MORE_APP_POPUP,{action_name:"display"}),this.setSettingModal(s.LiveSettingModalType.LIVE_SETTING_EDIT_THD_BINDING)},this.cleanEditingTrdPlatformStreamSetting=()=>{this.editingTrdPlatformStreamSetting=g,this.editingTrdPlatformStreamBindingType=s.BINDING_TYPE.UNKONWN,this.streamAddressCheckMessage=""},this.addSpecialStreamBinding=e=>{this.editingTrdPlatformStreamBindingType=e,e!==s.BINDING_TYPE.THD_FACEBOOK&&e!==s.BINDING_TYPE.THD_YOUTUBE||(this.editingTrdPlatformStreamSetting.platformName=this.specialStreamBindingForOversea[e].platformName),this.setSettingModal(s.LiveSettingModalType.LIVE_SETTING_EDIT_THD_BINDING)},this.isSpecialStreamBinding=e=>this.specialStreamBindingTypeForOversea.indexOf(e)>-1,this.openPageByNameOrUpdate=(e,t)=>T(this,void 0,void 0,(function*(){(yield this.byteviewApi.isExist(e))?(d.c.info(`[LIVE] ${e} exist, send page data`),yield this.byteviewApi.sendPageData(e,{event:s.PageSendEvent.PAGE_DATA,data:{name:e,payload:t}})):(d.c.info(`[LIVE] ${e} not exist, open it`),yield this.byteviewApi.openByName(e,t),yield this.byteviewApi.setPositionWithOnePageByName(e,s.PageName.SHARE_SCREEN_CONTROL_BAR,{isCenter:!0})),yield this.byteviewApi.showByName(e)})),this.handleLarkErrorInLiveSettingPage=e=>{throw e},this.fetchQrCodeData=()=>T(this,void 0,void 0,(function*(){return this.byteviewApi.request(s.Command.LIVE_MEETING_GET_VERIFICATION_QR_CODE,{user:this.rootStore.userStore.currentByteviewUser,appId:S,scene:C})})),this.fetchIfAuthPass=e=>T(this,void 0,void 0,(function*(){return this.byteviewApi.request(s.Command.LIVE_MEETING_POLL_VERIFICATION_STATUS,{token:e})})),this.rootStore=e,this.byteviewApi=t,this.track=i,this.updateFromPageStore()}updateFromPageStore(){}get isLiveFeatureEnable(){return!0}get isSyncToOtherPlatformEnabled(){return this.supportSyncToOtherPlatformFG}get isSyncToStreamAddrEnabled(){return this.supportSyncToStreamAddrFG}get privilegeSettingEnabled(){return this.privilegeSettingFG}get shouldShowPolicy(){return this.isShowLiveLegalEnabled}get isBindingAccountEnabled(){return this.supportBindAccountFG}get isShowLiveTouchbarButton(){const{isCall:e,hasHostControl:t}=this.rootStore.conferenceStore;return!!this.isLiveFeatureEnable&&(e||t)}get isLiveGuideEnabled(){return!1}get isLiveGuideAlmostFullEnabled(){return!1}get accountBindingDetailDictByBindingType(){const e=_.c?{}:{[s.BINDING_TYPE.DOUYIN]:{bindingType:s.BINDING_TYPE.DOUYIN,bindingId:"",accountId:""},[s.BINDING_TYPE.XIGUA]:{bindingType:s.BINDING_TYPE.XIGUA,bindingId:"",accountId:""}};return Object(l.a)(this.supportedAccountBindings,t=>{e[t.bindingType]=t}),e}get accountBindingDetailSortedArr(){return Object.values(this.accountBindingDetailDictByBindingType).sort((e,t)=>m[t.bindingType]-m[e.bindingType])}get specialStreamAddressDetailDictByBindingType(){const e=_.c?this.specialStreamBindingTypeForOversea.reduce((e,t)=>(e[t]={bindingType:t,bindingId:"",bindingName:""},e),{}):{};return Object(l.a)(this.supportedStreamBindings,t=>{e[t.bindingType]&&(e[t.bindingType]=Object.assign(Object.assign({},e[t.bindingType]),t))}),e}get specialStreamAddressDetailSortedArr(){return Object.values(this.specialStreamAddressDetailDictByBindingType).sort((e,t)=>m[t.bindingType]-m[e.bindingType])}get liveStreamSyncCount(){return this.syncingAccount.length+this.syncingStreamAddress.length}get supportedAccountBindings(){return this.bindingDetail&&this.bindingDetail.accountBindings?Object(p.a)(this.bindingDetail.accountBindings,({bindingId:e,bindingType:t})=>-1!==I.indexOf(t)||(d.c.warn(`bindingid: ${e} is an unsupported bindingType ${t}`),!1)).reduce((e,t)=>(e[t.bindingId]=t,e),{}):{}}get supportedStreamBindings(){return this.bindingDetail&&this.bindingDetail.streamBindings?Object(p.a)(this.bindingDetail.streamBindings,({bindingId:e,bindingType:t})=>-1!==I.indexOf(t)||(d.c.warn(`bindingid: ${e} is an unsupported bindingType ${t}`),!1)).reduce((e,t)=>(e[t.bindingId]=t,e),{}):{}}get syncingAccount(){const{id:e}=this.rootStore.conferenceStore;return Object(u.a)(this.supportedAccountBindings,(t,i)=>(i.isLiving&&i.livingMeetingId===e&&t.push(i),t),[]).sort((e,t)=>m[t.bindingType]-m[e.bindingType])}get syncingStreamAddress(){const{id:e}=this.rootStore.conferenceStore;return Object(u.a)(this.supportedStreamBindings,(t,i)=>(i.isLiving&&i.livingMeetingId===e&&t.push(i),t),[]).sort((e,t)=>m[t.bindingType]-m[e.bindingType])}get upStreamingApps(){const e=[];return this.accountBindingDetailDictByBindingType[s.BINDING_TYPE.DOUYIN]&&this.isAccountSyncInThisMeeting(this.accountBindingDetailDictByBindingType[s.BINDING_TYPE.DOUYIN])&&e.push("dy"),this.accountBindingDetailDictByBindingType[s.BINDING_TYPE.XIGUA]&&this.isAccountSyncInThisMeeting(this.accountBindingDetailDictByBindingType[s.BINDING_TYPE.XIGUA])&&e.push("xg"),this.isSyncingToStreamAddr&&e.push("other"),e.join(",")}get isSyncingToStreamAddr(){let e=!1;return Object(l.a)(this.supportedStreamBindings,(t,i)=>{t.isLiving&&(e=!0)}),e}get allBindingStreamAndAccountStatus(){const e={};return Object(l.a)(this.supportedAccountBindings,(t,i)=>{e[i]=t.isLiving}),Object(l.a)(this.supportedStreamBindings,(t,i)=>{e[i]=t.isLiving}),e}getVoteChangeAction(e){return e&&e.voteId&&this.voteData&&this.voteData.voteId?this.voteData.voteId&&this.voteData.voteId>e.voteId?r.NO_CHANGE:this.voteData.voteId!==e.voteId?e.isVoting?this.rootStore.conferenceStore.type===s.VideoChatType.CALL||this.rootStore.userStore.currentUser.isHost?r.NO_CHANGE:r.REQUEST_VOTE:e.reason===s.LiveVoteReason.ACCEPT?r.VOTE_ACCEPT:r.VOTE_REFUSE:this.voteData.isVoting||!e.isVoting||this.voted?this.voteData.isVoting&&!e.isVoting?e.reason===s.LiveVoteReason.ACCEPT?r.VOTE_ACCEPT:r.VOTE_REFUSE:r.NO_CHANGE:this.rootStore.userStore.currentUser.isHost?r.NO_CHANGE:r.REQUEST_VOTE:r.NO_CHANGE}handleVoteChange(e){const t=this.getVoteChangeAction(e);switch(d.c.info(`[live] handleVoteChange ${JSON.stringify(e)} ${t}`),t){case r.REQUEST_VOTE:this.voted=!1,this.voteData=e,this.confirmModal=s.LiveConfirmModalType.VOTE;break;case r.VOTE_ACCEPT:case r.VOTE_REFUSE:this.byteviewApi.closeByName(s.PageName.LIVE_CONFIRM),this.hideConfirmModal(),this.voted=!0,this.voteData=e;break;case r.NO_CHANGE:this.voteData=e||{}}}updateLiveInfo(e){d.c.info(`update live info: isOn=${e.isLiving}, url exist: ${!!e.liveUrl}`);const{hasHostControl:t}=this.rootStore.conferenceStore;this.isOn=e.isLiving,this.link=e.liveUrl,this.liveId=e.liveId,this.handleVoteChange(e.liveVote||{}),this.privilege=this.isOn?e.privilege:e.defaultPrivilege,this.layoutStyle=this.isOn?e.layoutStyle:e.defaultLayoutStyle,this.enableLiveComment=this.isOn?e.enableLiveComment:e.defaultEnableLiveComment,this.defaultPrivilege=e.defaultPrivilege,this.defaultLayoutStyle=e.defaultLayoutStyle,this.defaultEnableLiveComment=e.defaultEnableLiveComment,t&&this.fetchBindingData()}updateLiveExtraInfo(e){this.audients=e.onlineUsersCount}showCopyError(){return T(this,void 0,void 0,(function*(){yield this.openPageByNameOrUpdate(s.PageName.LIVE_CONFIRM,{isOn:this.isOn,modal:s.LiveConfirmModalType.CONFIRM_COPY_FAILED})}))}showVotePage(){return T(this,void 0,void 0,(function*(){this.voteData&&this.voteData.voteId?yield this.openPageByNameOrUpdate(s.PageName.LIVE_CONFIRM,{isOn:this.isOn,modal:s.LiveConfirmModalType.VOTE,voteId:this.voteData.voteId}):d.c.warn("[live] stop show vote page without vote data or vote id")}))}copyAndNotify(){d.c.info("copy live link:"+this.link),this.link&&(navigator.clipboard.writeText(this.link),this.trackSettingWhenLiveIsOn("copy_livestreaminglink"),a.a.notice({message:this.byteviewApi.getI18NText("View_M_LivestreamingLinkCopiedNew")}))}toggleLiveInner(){return T(this,void 0,void 0,(function*(){const e=this.isOn;if(e?this.track(s.Homeric.VC_LIVE_SETTING_PAGE,{action_name:"end_live",live_id:this.liveId}):this.track(s.Homeric.VC_LIVE_SETTING_PAGE,{action_name:"begin_live",live_id:this.liveId,live_range:this.privilege===s.Privilege.EMPLOYEE?"inside_user":"all_user",up_streaming_num:this.liveStreamSyncCount,up_streaming_app:this.upStreamingApps,enable_live_chat_for_viewers:this.enableLiveComment?1:0,livestream_layout:this.trackLiveStreamLayout()}),!e&&!this.livePolicy)return a.a.error({message:this.byteviewApi.getI18NText("View_M_LivestreamingErrorTryAgainLaterNew")}),void d.c.warn("[live] cannot start live without live policy");e?yield this.byteviewApi.request(s.Command.LIVE_MEETING_ACTION,{meetingId:this.rootStore.conferenceStore.id,action:s.VideoChatLiveActionRequestAction.STOP}).catch(this.handleLarkErrorInLiveSettingPage):this.toggleLiveSettingSource===s.ToggleLiveSettingSource.RequestConfirm?yield this.byteviewApi.request(s.Command.LIVE_MEETING_ACTION,{meetingId:this.rootStore.conferenceStore.id,action:s.VideoChatLiveActionRequestAction.HOST_ACCEPT,requester:this.requester,privilege:this.privilege,streamStatus:this.allBindingStreamAndAccountStatus,layoutStyle:this.layoutStyle,enableLiveComment:this.enableLiveComment}).catch(this.handleLarkErrorInLiveSettingPage):yield this.byteviewApi.request(s.Command.LIVE_MEETING_ACTION,{meetingId:this.rootStore.conferenceStore.id,action:s.VideoChatLiveActionRequestAction.START,privilege:this.privilege,streamStatus:this.allBindingStreamAndAccountStatus,layoutStyle:this.layoutStyle,enableLiveComment:this.enableLiveComment}).catch(this.handleLarkErrorInLiveSettingPage),this.hideSettingModal(!0)}))}trackLiveStreamLayout(){return this.layoutStyle===s.LiveLayoutStyle.GALLERY?"gallery":this.layoutStyle===s.LiveLayoutStyle.LIST?"sidebar":(this.layoutStyle,s.LiveLayoutStyle.SIMPLE,"full_screen")}toggleLive(e){return T(this,void 0,void 0,(function*(){const{needVerification:t}=yield this.byteviewApi.request(s.Command.LIVE_MEETING_GET_LIVE_PERMISSION);d.c.info("[live] toggleLive needVerification: "+t);const i=t?s.LiveSettingModalType.LIVE_SETTING_AUTH:s.LiveSettingModalType.LIVE_SETTING_MAIN;switch(e){case n.ConfirmModal:case n.SettingModal:return void(yield this.toggleLiveInner());case n.ShareScreenBar:case n.TouchBar:this.trackToggleLive(e===n.ShareScreenBar?"top_control_bar":"touchbar"),yield this.openPageByNameOrUpdate(s.PageName.LIVE_SETTING,{modal:i,toggleLiveSettingSource:s.ToggleLiveSettingSource.ControlBar});break;case n.ControlBar:this.trackToggleLive("control_bar"),this.setSettingModal(i)}}))}acceptLiveRequest(e=s.ToggleLiveSettingSource.RequestConfirm){return T(this,void 0,void 0,(function*(){yield this.showLiveSetting(e,this.requester)}))}refuseLiveRequest(){return T(this,void 0,void 0,(function*(){return this.byteviewApi.request(s.Command.LIVE_MEETING_ACTION,{meetingId:this.rootStore.conferenceStore.id,action:s.VideoChatLiveActionRequestAction.HOST_REFUSE,requester:this.requester})}))}refuseLiveVote(){return T(this,void 0,void 0,(function*(){const{voteId:e}=this.voteData;return e?(this.voted=!0,this.byteviewApi.request(s.Command.LIVE_MEETING_ACTION,{meetingId:this.rootStore.conferenceStore.id,action:s.VideoChatLiveActionRequestAction.VOTE_REFUSE,voteId:e})):(d.c.warn("[live] refuseLiveStartVote without voteId"),Promise.resolve())}))}acceptLiveVote(){return T(this,void 0,void 0,(function*(){const{voteId:e}=this.voteData;return e?(this.voted=!0,this.byteviewApi.request(s.Command.LIVE_MEETING_ACTION,{meetingId:this.rootStore.conferenceStore.id,action:s.VideoChatLiveActionRequestAction.VOTE_ACCEPT,voteId:e})):(d.c.warn("[live] acceptLiveStartVote without voteId"),Promise.resolve())}))}onReceiveLiveRequest(e){return T(this,void 0,void 0,(function*(){const{rootStore:t}=this;if(t.shareScreenStore.isSharing){const i={modal:s.LiveConfirmModalType.CONFIRM_REQUEST,isOn:t.conferenceStore.live.isOn,requester:e};yield this.openPageByNameOrUpdate(s.PageName.LIVE_CONFIRM,i)}else this.requester=e,this.confirmModal=s.LiveConfirmModalType.CONFIRM_REQUEST}))}trackSettingWhenLiveIsOn(e){this.track(s.Homeric.VC_LIVE_SETTING_PAGE,{action_name:e,is_live:1,live_id:this.liveId})}changeLivePrivilege(e){this.privilege=e,this.isOn&&(this.trackSettingWhenLiveIsOn(e===s.Privilege.ANONYMOUS?"all_user":"inside_user"),this.byteviewApi.request(s.Command.LIVE_MEETING_ACTION,{meetingId:this.rootStore.conferenceStore.id,action:s.VideoChatLiveActionRequestAction.LIVE_SETTING,privilege:e}))}getLayoutActionName(e){return e===s.LiveLayoutStyle.GALLERY?"gallery":e===s.LiveLayoutStyle.LIST?"sidebar":(s.LiveLayoutStyle.SIMPLE,"full_screen")}changeLiveLayout(e){if(this.layoutStyle=e,this.isOn){const t=this.getLayoutActionName(e);this.trackSettingWhenLiveIsOn(t),this.byteviewApi.request(s.Command.LIVE_MEETING_ACTION,{meetingId:this.rootStore.conferenceStore.id,action:s.VideoChatLiveActionRequestAction.LIVE_SETTING,layoutStyle:e})}}changeLiveChatEnable(e){this.enableLiveComment=e,this.isOn&&(this.trackSettingWhenLiveIsOn(e?"enable_live_chat_for_viewers":"disable_live_chat_for_viewers"),this.byteviewApi.request(s.Command.LIVE_MEETING_ACTION,{meetingId:this.rootStore.conferenceStore.id,action:s.VideoChatLiveActionRequestAction.LIVE_SETTING,enableLiveComment:e}))}unbind(e){return T(this,void 0,void 0,(function*(){this.track(s.Homeric.VC_UP_STREAMING_POPUP,{action_name:e.bindingType===s.BINDING_TYPE.THD_PARTY?"delete_live_address":"unbind",extend_value:{is_live:this.isOn?1:0,up_streaming_app:A(e.bindingType)}});try{yield this.byteviewApi.request(s.Command.LIVE_MEETING_STREAM_SETTING,{bindingType:e.bindingType,bindAction:s.BINDING_ACTION.UNBIND,meetingId:this.rootStore.conferenceStore.id,userId:this.rootStore.userStore.currentUserId,bindingId:e.bindingId}).catch(this.handleLarkErrorInLiveSettingPage)}finally{this.fetchBindingData()}}))}toggleAccountStreamSync(e,t){return T(this,void 0,void 0,(function*(){const i=!this.allBindingStreamAndAccountStatus[e];this.track(s.Homeric.VC_UP_STREAMING_POPUP,{action_name:i?"trun_on":"trun_off",extend_value:{is_live:this.isOn?1:0,up_streaming_app:A(t)}});try{yield this.byteviewApi.request(s.Command.LIVE_MEETING_ACTION,{meetingId:this.rootStore.conferenceStore.id,action:s.VideoChatLiveActionRequestAction.LIVE_SETTING,streamStatus:{[e]:i}})}finally{this.fetchBindingData()}}))}setConfirmModal(e){e!==this.confirmModal&&(this.confirmModal=e)}setSettingModal(e){e!==this.settingModal&&(this.settingModal=e)}get livePolicy(){return this.livePolicyData?_.c?this.rootStore.conferenceStore.isCall?this.livePolicyData.PolicyOverseaForCallPC:this.livePolicyData.PolicyOverseaForMeetingPC:this.livePolicyData.PolicyWithoutSetting:""}get megaI18nDataForVotePopupWithPolicy(){return this.livePolicyData?this.livePolicyData.PolicyOverseaForVotingPopup:""}get megaI18nDataForConfirmLiveRequestPolicyTips(){return this.livePolicyData?this.livePolicyData.PolicyOverseaForParticipantRequestPC:""}get megaI18nDataForJoinLiveMeetingPolicyTips(){return this.livePolicyData?this.livePolicyData.PolicyOverseaForJoinLiveMeeting:""}get thirdPlatformStreamLegalTips(){return this.livePolicyData&&this.livePolicyData.ThirdPlatformStreamLegalTips||""}get thirdPlatformStreamGuide(){return this.livePolicyData&&this.livePolicyData.ThirdPlatformStreamGuide||""}}function A(e){let t="other";return e===s.BINDING_TYPE.DOUYIN&&(t="dy"),e===s.BINDING_TYPE.XIGUA&&(t="xg"),t}h([o.p],N.prototype,"isOn",void 0),h([o.p],N.prototype,"link",void 0),h([o.p],N.prototype,"audients",void 0),h([o.p],N.prototype,"liveId",void 0),h([o.p],N.prototype,"isFgEnable",void 0),h([o.p],N.prototype,"isShowLiveLegalEnabled",void 0),h([o.p],N.prototype,"supportSyncToOtherPlatformFG",void 0),h([o.p],N.prototype,"supportSyncToStreamAddrFG",void 0),h([o.p],N.prototype,"supportBindAccountFG",void 0),h([o.p],N.prototype,"privilegeSettingFG",void 0),h([o.p],N.prototype,"liveLayoutSettingFG",void 0),h([o.p],N.prototype,"liveChatSettingFG",void 0),h([o.p],N.prototype,"confirmModal",void 0),h([o.p],N.prototype,"settingModal",void 0),h([o.p],N.prototype,"requester",void 0),h([o.p],N.prototype,"isRequestBlocked",void 0),h([o.p],N.prototype,"voteData",void 0),h([o.p],N.prototype,"privilege",void 0),h([o.p],N.prototype,"layoutStyle",void 0),h([o.p],N.prototype,"enableLiveComment",void 0),h([o.p],N.prototype,"defaultPrivilege",void 0),h([o.p],N.prototype,"defaultLayoutStyle",void 0),h([o.p],N.prototype,"defaultEnableLiveComment",void 0),h([o.p],N.prototype,"bindingDetail",void 0),h([o.p],N.prototype,"bindUrl",void 0),h([o.p],N.prototype,"editingTrdPlatformStreamSetting",void 0),h([o.p],N.prototype,"editingTrdPlatformStreamBindingType",void 0),h([o.p],N.prototype,"streamAddressCheckMessage",void 0),h([o.f],N.prototype,"updateFromPageStore",null),h([o.h],N.prototype,"isLiveFeatureEnable",null),h([o.h],N.prototype,"isSyncToOtherPlatformEnabled",null),h([o.h],N.prototype,"privilegeSettingEnabled",null),h([o.h],N.prototype,"shouldShowPolicy",null),h([o.h],N.prototype,"isBindingAccountEnabled",null),h([o.h],N.prototype,"isShowLiveTouchbarButton",null),h([o.h],N.prototype,"isLiveGuideEnabled",null),h([o.h],N.prototype,"isLiveGuideAlmostFullEnabled",null),h([o.h],N.prototype,"accountBindingDetailDictByBindingType",null),h([o.h],N.prototype,"accountBindingDetailSortedArr",null),h([o.h],N.prototype,"specialStreamAddressDetailDictByBindingType",null),h([o.h],N.prototype,"specialStreamAddressDetailSortedArr",null),h([o.h],N.prototype,"liveStreamSyncCount",null),h([o.h],N.prototype,"supportedAccountBindings",null),h([o.h],N.prototype,"supportedStreamBindings",null),h([o.h],N.prototype,"syncingAccount",null),h([o.h],N.prototype,"syncingStreamAddress",null),h([o.h],N.prototype,"upStreamingApps",null),h([o.h],N.prototype,"isSyncingToStreamAddr",null),h([o.h],N.prototype,"allBindingStreamAndAccountStatus",null),h([o.f],N.prototype,"handleVoteChange",null),h([o.f],N.prototype,"updateLiveInfo",null),h([o.f],N.prototype,"updateLiveExtraInfo",null),h([o.f],N.prototype,"toggleLive",null),h([o.f],N.prototype,"hideConfirmModal",void 0),h([o.f],N.prototype,"hideSettingModal",void 0),h([o.f],N.prototype,"clearAllSettingFields",void 0),h([o.f],N.prototype,"showLiveSetting",void 0),h([o.f],N.prototype,"changeLivePrivilege",null),h([o.f],N.prototype,"changeLiveLayout",null),h([o.f],N.prototype,"changeLiveChatEnable",null),h([o.f],N.prototype,"fetchBindingData",void 0),h([o.f],N.prototype,"fetchLivePolicy",void 0),h([o.f],N.prototype,"unbind",null),h([o.f],N.prototype,"toggleAccountStreamSync",null),h([o.f],N.prototype,"bindAccount",void 0),h([o.f],N.prototype,"setConfirmModal",null),h([o.f],N.prototype,"setSettingModal",null),h([o.f],N.prototype,"bindStream",void 0),h([o.f],N.prototype,"editTrdPlatformStreamSetting",void 0),h([o.f],N.prototype,"saveTrdPlatformConfig",void 0),h([o.f],N.prototype,"startEditStreamSetting",void 0),h([o.f],N.prototype,"cleanEditingTrdPlatformStreamSetting",void 0),h([o.f],N.prototype,"addSpecialStreamBinding",void 0),h([o.h],N.prototype,"livePolicy",null),h([o.h],N.prototype,"megaI18nDataForVotePopupWithPolicy",null),h([o.h],N.prototype,"megaI18nDataForConfirmLiveRequestPolicyTips",null),h([o.h],N.prototype,"megaI18nDataForJoinLiveMeetingPolicyTips",null),h([o.h],N.prototype,"thirdPlatformStreamLegalTips",null),h([o.h],N.prototype,"thirdPlatformStreamGuide",null),h([o.f],N.prototype,"fetchQrCodeData",void 0),h([o.f],N.prototype,"fetchIfAuthPass",void 0)},,,,,,,,,,,,function(e){e.exports=JSON.parse('{"a":{"options":{"optimize_for":"LITE_RUNTIME","go_package":"git.byted.org/ee/lark/im-protobuf/improto/topicgroup","java_package":"com.ss.android.lark.pb"},"nested":{"TopicGroupJoinStatus":{"values":{"UNKNOWN_JOIN_STATUS":0,"NOT_JOINED":1,"APPLIED":2,"JOINED":3}},"PutTopicsReadStateRequest":{"fields":{"readPairs":{"rule":"repeated","type":"ReadPair","id":1}},"nested":{"ReadPair":{"fields":{"chatId":{"rule":"required","type":"string","id":1},"messageIds":{"rule":"repeated","type":"string","id":2}}}}},"PutTopicsReadStateResponse":{"fields":{"readMessageIds":{"rule":"repeated","type":"string","id":1}}},"UninterestTopicGroupForUserRequest":{"fields":{"topicGroupIds":{"rule":"repeated","type":"string","id":1}}},"UninterestTopicGroupForUserResponse":{"fields":{}},"UninterestTopicForUserRequest":{"fields":{"threadIds":{"rule":"repeated","type":"string","id":1}}},"UninterestTopicForUserResponse":{"fields":{}},"UninterestUserForUserRequest":{"fields":{"userIds":{"rule":"repeated","type":"string","id":1}}},"UninterestUserForUserResponse":{"fields":{}},"RecommendedGroupItem":{"fields":{"topicGroupId":{"rule":"required","type":"string","id":1},"topicGroupName":{"type":"string","id":2},"avatar":{"type":"entities.Image","id":3},"i18nTopicGroupNames":{"keyType":"string","type":"string","id":4},"joinStatus":{"type":"TopicGroupJoinStatus","id":5},"relatedUsers":{"rule":"repeated","type":"RelatedUser","id":6},"topicGroupMemberCount":{"type":"int32","id":7}},"nested":{"RelatedUser":{"fields":{"userId":{"rule":"required","type":"string","id":1},"avatarUrl":{"type":"string","id":2},"avatar":{"type":"entities.ImageSet","id":3},"avatarImage":{"type":"entities.Image","id":4}}}}},"PullRecommendedTopicGroupsRequest":{"fields":{"cursor":{"type":"int64","id":1},"count":{"type":"int32","id":2,"options":{"default":20}}}},"PullRecommendedTopicGroupsResponse":{"fields":{"recommendedGroupItems":{"rule":"repeated","type":"RecommendedGroupItem","id":1},"nextCursor":{"type":"int64","id":2},"hasMore":{"type":"bool","id":3}}},"MyGroupItem":{"fields":{"topicGroup":{"rule":"required","type":"entities.TopicGroup","id":1}}},"PullMyTopicGroupsRequest":{"fields":{"cursor":{"type":"int64","id":1},"count":{"type":"int32","id":2,"options":{"default":20}}}},"PullMyTopicGroupsResponse":{"fields":{"myGroupItems":{"rule":"repeated","type":"MyGroupItem","id":1},"nextCursor":{"type":"int64","id":2},"hasMore":{"type":"bool","id":3}}},"PostGroupItem":{"fields":{"topicGroup":{"rule":"required","type":"entities.TopicGroup","id":1}}},"PullTopicGroupsToPostRequest":{"fields":{"cursor":{"type":"int64","id":1},"count":{"type":"int32","id":2,"options":{"default":20}}}},"PullTopicGroupsToPostResponse":{"fields":{"postGroupItems":{"rule":"repeated","type":"PostGroupItem","id":1},"nextCursor":{"type":"int64","id":2},"hasMore":{"type":"bool","id":3}}},"PullTopicGroupsByIdsRequest":{"fields":{"topicGroupIds":{"rule":"repeated","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"lastVisibleMessageIds":{"keyType":"int64","type":"int64","id":101},"isLicenseAuth":{"type":"bool","id":102},"authTranslateGlobalSwitch":{"type":"bool","id":103},"authTranslateGlobalSwitchVersion":{"type":"int64","id":104},"baseLastVisibleMessageIds":{"keyType":"int64","type":"int64","id":105}}},"PullTopicGroupsByIdsResponse":{"fields":{"topicGroups":{"keyType":"string","type":"entities.TopicGroup","id":1},"chats":{"keyType":"string","type":"entities.Chat","id":2},"unauthorizedTopicGroupIds":{"rule":"repeated","type":"string","id":3}}},"PullTopicGroupSettingRequest":{"fields":{"topicGroupIds":{"rule":"repeated","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}}}},"PullTopicGroupSettingResponse":{"fields":{"setting":{"keyType":"string","type":"TopicGroupSetting","id":1}}},"PullTopicGroupTabNotificationRequest":{"fields":{}},"PullTopicGroupTabNotificationResponse":{"fields":{"hasNewContent":{"type":"bool","id":1}}},"PushTopicGroupSetting":{"fields":{"topicGroupSetting":{"type":"TopicGroupSetting","id":1}}},"TopicGroupSetting":{"fields":{"topicGroupId":{"rule":"required","type":"string","id":1},"isFavorite":{"type":"bool","id":2},"updateTime":{"type":"int64","id":3},"topicGroupRole":{"type":"entities.TopicGroupRole","id":4}}},"PushTopicGroup":{"fields":{"topicGroups":{"keyType":"string","type":"entities.TopicGroup","id":1}}},"TopicGroupPacket":{"oneofs":{"event":{"oneof":["relationChange","topicGroupInfoChange"]}},"fields":{"relationChange":{"type":"UserTopicGroupRelationChange","id":1},"topicGroupInfoChange":{"type":"TopicGroupInfoChange","id":2},"eventId":{"type":"string","id":3}}},"UserTopicGroupRelationChange":{"fields":{"topicGroupUserIdsMap":{"keyType":"int64","type":"UserIDList","id":1},"changeType":{"rule":"required","type":"RelationChangeType","id":2,"options":{"default":"UNKNOWN"}},"topicGroupType":{"type":"entities.TopicGroup.Type","id":3},"updateTimeMs":{"type":"int64","id":4}},"nested":{"RelationChangeType":{"values":{"UNKNOWN":0,"JOIN":1,"QUIT":2}},"UserIDList":{"fields":{"userIds":{"rule":"repeated","type":"int64","id":1,"options":{"packed":false}}}}}},"TopicGroupInfoChange":{"fields":{"topicGroupId":{"rule":"required","type":"int64","id":1},"changeType":{"rule":"required","type":"ChangeType","id":2,"options":{"default":"UNKNOWN"}},"updateTimeMs":{"type":"int64","id":3},"topicGroupType":{"type":"entities.TopicGroup.Type","id":4}},"nested":{"ChangeType":{"values":{"UNKNOWN":0,"CREATE":1,"DISSOLVE":2}}}},"PutTopicGroupRequest":{"fields":{"groupName":{"type":"string","id":1,"options":{"default":""}},"groupDesc":{"type":"string","id":2,"options":{"default":""}},"isPublic":{"type":"bool","id":3,"options":{"default":false}},"chatterIds":{"rule":"repeated","type":"string","id":4},"organizationId":{"type":"string","id":5},"iconKey":{"type":"string","id":6},"isCrossTenant":{"type":"bool","id":7,"options":{"default":false}},"cid":{"type":"string","id":8}}},"PutTopicGroupResponse":{"fields":{"topicGroup":{"rule":"required","type":"entities.TopicGroup","id":1},"chat":{"type":"entities.Chat","id":2},"feedCard":{"type":"entities.FeedCard","id":3}}},"RegisterTopicGroupFavoriteRequest":{"fields":{"topicGroupId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}}}},"RegisterTopicGroupFavoriteResponse":{"fields":{"feedCard":{"type":"entities.FeedCard","id":1}}},"CancelTopicGroupFavoriteRequest":{"fields":{"topicGroupId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}}}},"CancelTopicGroupFavoriteResponse":{"fields":{"feedCard":{"type":"entities.FeedCard","id":1}}},"PushTopicGroupFeedCards":{"fields":{"topicGroupFeeds":{"rule":"repeated","type":"TopicGroupFeed","id":1},"topicGroups":{"keyType":"string","type":"entities.TopicGroup","id":2},"chats":{"keyType":"string","type":"entities.Chat","id":3}},"nested":{"TopicGroupFeed":{"fields":{"feedCard":{"type":"entities.FeedCard","id":1},"pushType":{"type":"FeedPushType","id":2}},"nested":{"FeedPushType":{"values":{"UNKNOWN":0,"ADD":1,"DELETE":2}}}}}},"PutTopicGroupMemberRequest":{"fields":{"topicGroupId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"memberIds":{"rule":"repeated","type":"string","id":2},"isInviteAtChatters":{"type":"bool","id":3},"isDefaultFavorite":{"type":"bool","id":4},"lastVisibleMessageId":{"type":"int64","id":101},"thriftMembers":{"keyType":"int64","type":"bytes","id":102},"baseLastVisibleMessageId":{"type":"int64","id":103},"thriftInsensitiveChatters":{"keyType":"int64","type":"bytes","id":104}}},"PutTopicGroupMemberResponse":{"fields":{"chat":{"type":"entities.Chat","id":1},"topicGroup":{"type":"entities.TopicGroup","id":2}}}}}}')},,,,,,,,,,,,,,,,,,,,function(e,t,i){e.exports=i.p+"static/images/offline-1d5c0fd508392dac0df406f521848b5f.png"},,,,function(e,t,i){e.exports={"icon-base":"_2b3ciGru",disabled:"_1xnX70-8","g-flex":"_3qv92cna","g-flex-center":"_1SO58g2V","g-block":"_1v17xx7x","g-draggable":"_136b4uXu",meetingTitleBar:"fmLuPKNm","g-drag-disable":"_3X0mEFdU",meetingTitleBar_dropDownBtn:"vt_f7tzW","bv-ringing-audio":"_1NLiUDEz","g-hide":"_1cg6wcWn","g-mac":"rDrtoUTl","g-text-shadow":"_3XGUwpXG","g-background-shadow":"_19dmOEKa","g-win":"_3vtaLn18","g-text-ellipsis":"_3nppko0-","font-input-placeholder-default":"_1NlRlS6E",meetingTitleBar_main:"_10gx7dtl","meetingTitleBar_main-popup":"_1g0dITkf",meetingTitleBar_side:"_1BDiCp3s","meetingTitleBar_side-popup":"-cJ-mol5",meetingTitleBar_time:"_1-6jYraG","meetingTitleBar-dividingLine":"_3_n_omwT","meetingTitleBar-lockIcon":"_24QyVwlS","meetingTitleBar-liveEnIcon":"_1XdrhxtP","meetingTitleBar-liveAudients":"_1ct1n1UF","meetingTitleBar-recEnIcon":"_1IriracA","meetingTitleBar-recordArea":"_3XxibnuX","meetingTitleBar-recordIcon":"_30iZrR5c","meetingTitleBar-netStatusIcon":"_1TcI4S2W","meetingTitleBar-netStatusIcon-margin":"_398pMUrv","meetingTitleBar-netStatusDetail":"_1L0ellSf","meetingTitleBar-netStatusDetailPanel":"ns8MSHPV","meetingTitlebar-netStatusDetail-title":"_2X__ASwV","meetingTitlebar-netStatusDetail-info":"sjlnn10a",meetingTitleBar_shareScreenTip:"_3Ypsp9KN",meetingTitleBar_unpinBtn:"_2j93L8-O",meetingTitleBar_leftPart:"_1dFOGnxC",meetingTitleBar_mainPart:"_2MkdUqAG","meetingTitleBar_mainPart-popup":"_1qmf6g4T",sharingText:"_1mWIa6T-",meetingTitleBar_shareAudioContainer:"_2Igvk8EL",meetingTitleBar_shareAudioIcon:"_3YqcUBKH","meetingTitleBar-dropDownTri":"_1qgL9Mk-","meetingTitleBar_dropDownBtn-active":"_1vfSTcF-",meetingTitleBar_dropDownPop:"_1d_4l5IN",meetingTitleBar_meetingNumber:"_3AyMsciH","meetingTitleBar-live-state":"_3N-sQw6i",meetingTitleBar_info:"faCNQIC-",active:"_12nY-nX0",meetingTitleBar_trigger:"_3FjPYxe5",meetingTitleBar_tag:"YA5ZE4EM"}},,function(e,t,i){e.exports={"icon-base":"_1EttUc0Z",disabled:"JMiLttKR","share-screen-not-support":"_36LsGIzO",title:"_2TvmCQCB",desc:"xxinqHw8","follow-container":"_2dSlSbi1","follow-mask":"_2dupEylR","loading-mask":"_33oR1LXJ",bounce:"_15MgULFM","bv-sk-bouncedelay":"_2A7-0oMY",bounce1:"ks31CxkM",bounce2:"_3LRgqtwa",bounce3:"_3BRH14ow","presenter-pos":"_39THt9TJ",shadow:"qs7aAHK1","pos-pointer":"_19zjL6lK","pointer-hidden":"_3C4I25ob","presenter-avatar":"_2e9YMuiz","presenter-pointer-mask":"D4TlVkLn","presenter-pointer":"_37kb9m_7"}},,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignalPushMessage=t.SignalMessage=void 0,function(e){e.PUBLISH="publish",e.UNPUBLISH="unpublish",e.SUBSCRIBE="subscribe",e.UNSUBSCRIBE="unsubscribe",e.UPDATE_SUBSCRIBE="updateSubscribe",e.LEAVE_ROOM="leaveRoom",e.JOIN_ROOM="joinRoom",e.RECONNECTED="reconnected",e.UPDATE_STREAM_ATTRIBUTES="updateStreamAttributes"}(t.SignalMessage||(t.SignalMessage={})),function(e){e.SIGNAL_SERVER_FAILED="signalServerFailed",e.SIGNAL_MESSAGE_RELAY="signalingMessageRelay",e.TOKEN_FAILED="tokenFailed",e.ON_ADD_STREAM="onAddStream",e.ON_REMOVE_STREAM="onRemoveStream",e.STREAM_FAILED="streamFailed",e.ON_UPDATE_STREAM_ATTRIBUTES="onUpdateStreamAttributes",e.ON_UPDATE_USER_ATTRIBUTES="onUpdateUserAttributes",e.ON_CUSTOM_MESSAGE="onCustomMessage",e.USER_CONNECTION="userConnection",e.USER_DISCONNECTION="userDisconnection"}(t.SignalPushMessage||(t.SignalPushMessage={}))},,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){e.exports=i.p+"static/images/interviewer72-267b7dd97ec07f8723ede90334d6d46e.png"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){e.exports=i.p+"static/images/unknown-user-2f9779efe6173617efd7c2d4f3886f68.png"},function(e,t,i){e.exports=i.p+"static/images/sip-user-a75f67fb7927548298dde37927987a9d.png"},function(e,t,i){e.exports=i.p+"static/images/pstn-user-0e02508d59ad724468939664646a4304.png"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventEmitter=void 0;var n=i(330),r=function(){function e(){this.maxListenerNumber=11,this.listeners={}}return e.prototype.setMaxListeners=function(e){return this.maxListenerNumber=e>0?e:0,this},e.prototype.initListenersArray=function(e){this.listeners[e]||(this.listeners[e]=[])},e.prototype.on=function(e,t){var i=this;this.initListenersArray(e);var r=this.listeners[e];return r.indexOf(t)>-1?n.noop:(r.push(t),r.length>this.maxListenerNumber&&console.warn("["+e+"] MaxListenersExceededWarning: Possible EventEmitter memory leak detected. "+this.maxListenerNumber+" change listeners added. Use emitter.setMaxListeners() to increase limit"),function(){i.off(e,t)})},e.prototype.off=function(e,t){if(!t)return this.listeners[e]=[],this;this.initListenersArray(e);var i=this.listeners[e],n=i.indexOf(t);return n>-1&&i.splice(n,1),this},e.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var n=this.listeners[e];return n?(n.forEach((function(e){e.apply(void 0,t)})),this):this},e.prototype.offAll=function(){this.listeners={}},e}();t.EventEmitter=r},,,,,,,,,,,,,function(e){e.exports=JSON.parse('{"name":"@byteview/rtc-sdk","version":"3.42.9","description":"","main":"lib/sdk.js","scripts":{"build-automation":"cross-env NODE_ENV=automation bali build","build":"rm -rf lib && tsc -b tsconfig.json","watch":"rm -rf lib && tsc -b tsconfig.json -w","prepublish":"npm run build","dev":"bali dev","dev-automation":"cross-env NODE_ENV=automation bali dev","test":"echo \\"Error: no test specified\\" && exit 1"},"author":"","license":"ISC","devDependencies":{"@byteview/bali":"0.0.25","@types/socket.io-client":"^1.4.33","cross-env":"^6.0.3","typescript":"4.0.2"},"dependencies":{"axios":"^0.20.0","semantic-sdp":"^3.21.0","socket.io-client":"^2.3.0","ua-parser-js":"^0.7.22","uuid":"^8.3.2","uuidv4":"^6.2.3"}}')},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},s=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.INTERVAL=void 0;var c=i(170),l=i(91),p=d(i(159)),u=i(330),_=i(99),E=i(836),h=d(i(837)),T=i(538),y=i(838),f=d(i(839)),I=d(i(840)),g=i(182);t.INTERVAL=g.isAutomation?1e3:4e3;var S=l.Logger.getLogger("stat"),C=function(e){function i(t){var i=e.call(this,t)||this;i.collectStatTimer=0,i.localStreamVolume=[0],i.meterRecordTimer=0,i.getSenders=function(){return(i.roomService.pconnectionService.getSenders()||[]).filter(i.needRTCRtp)},i.getReceivers=function(){return(i.roomService.pconnectionService.getReceivers()||[]).filter(i.needRTCRtp)},i.getRTCStats=function(){return i.roomService.pconnectionService.getStat()},i.needRTCRtp=function(e){var t=e.track;return Boolean(t&&"live"===t.readyState&&["audio","video"].includes(t.kind))},i.getSenderCustomStats=function(e){var t=i.roomService.streamService,n="audio"===e.track.kind,r="video"===e.track.kind,o=u.formatDeviceLabel(e.track.label),s=!p.default.includeDeviceLabel(o,n?_.DeviceType.kRecord:_.DeviceType.kCamera),a=t.getStreamByUserId(void 0,s);return{streamId:a.id,streamUserId:a.userId,isScreen:s,isAudio:n,isVideo:r}},i.getReceiverCustomStats=function(e){var t,n=i.roomService.streamService,r="audio"===e.track.kind,s="video"===e.track.kind,a=n.getStreamByTrackId(e.track.id),d=(null==a?void 0:a.isScreen)||!1;return s&&a&&(t=a.digestVideoStats()),o({streamId:null==a?void 0:a.id,streamUserId:(null==a?void 0:a.userId)||"",isScreen:d,isAudio:r,isVideo:s},t)},i.collectStat=function(){return s(i,void 0,void 0,(function(){var e,t,i,n,r,o,s,d,c;return a(this,(function(a){switch(a.label){case 0:return e=this.getSenders(),t=this.getReceivers(),[4,this.getRTCRtpStats(e)];case 1:return i=a.sent(),[4,this.getRTCRtpStats(t)];case 2:return n=a.sent(),r={arxStrm:[],atxStrm:[],vtxShareStrm:[],vrxShareStrm:[],vtxStrm:[],vrxStrm:[]},o=function(e){if(!e.remoteSource){if(e.isScreen&&e.isVideo)return r.vtxShareStrm.push(e);if(e.isAudio)return r.atxStrm.push(e);if(e.isVideo)return r.vtxStrm.push(e)}if(e.remoteSource){if(e.isScreen&&e.isVideo)return r.vrxShareStrm.push(e);if(e.isAudio)return r.arxStrm.push(e);if(e.isVideo)return r.vrxStrm.push(e)}},s=e.map(this.getSenderCustomStats),d=t.map(this.getReceiverCustomStats),T.zipArrObj(i,s).map(y.computeOutBoundPackets).forEach(o),T.zipArrObj(n,d).map(y.computeInBoundPackets).forEach(o),Object.assign(r,I.default(r)),[4,this.getRTCStats()];case 3:return c=a.sent(),Object.assign(r,f.default(c)),S.track("call_stats",T.snakeCaseObj({callStats:r,pcIndex:0})),[2]}}))}))};try{window.AudioContext=window.AudioContext||window.webkitAudioContext,i.soundMeter=new E.SoundMeter(new AudioContext)}catch(e){S.warn("Web Audio API not supported.")}return i}return r(i,e),i.prototype.start=function(){return s(this,void 0,void 0,(function(){return a(this,(function(e){return this.collectStatTimer&&clearInterval(this.collectStatTimer),this.collectStatTimer=window.setInterval(this.collectStat,t.INTERVAL),[2]}))}))},i.prototype.stop=function(){return s(this,void 0,void 0,(function(){return a(this,(function(e){return clearInterval(this.collectStatTimer),[2]}))}))},i.prototype.recordLocalAudioVolume=function(e){var t,i,n,r,o=this;null===(t=this.soundMeter)||void 0===t||t.stop(),this.meterRecordTimer&&window.clearInterval(this.meterRecordTimer),this.localStreamVolume=[0],null===(i=this.soundMeter)||void 0===i||i.context.suspend(),e&&(null===(n=this.soundMeter)||void 0===n||n.connectToSource(e,(function(e){e?S.error(["recordLocalAudioVolume error",""+e.message].join("\n")):o.meterRecordTimer=window.setInterval((function(){var e;o.localStreamVolume.push(Number(null===(e=o.soundMeter)||void 0===e?void 0:e.instant.toFixed(2)))}),500)})),null===(r=this.soundMeter)||void 0===r||r.context.resume())},i.prototype.getRTCRtpStats=function(e){return s(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,Promise.all(e.map((function(e){return e.getStats()})))];case 1:return[2,t.sent().map(h.default).map(y.computeCommonProcess)]}}))}))},i}(c.BaseOperation);t.default=C},function(e,t,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.zipArrObj=t.snakeCaseObj=t.assignWithoutOverwrite=void 0,t.assignWithoutOverwrite=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(t).forEach((function(i){void 0===e[i]&&(e[i]=t[i])}))},t.snakeCaseObj=function e(t){return Object.keys(t).reduce((function(i,n){var r,o=n.replace(/([A-Z])/g,"_$1").toLowerCase(),s=t[n];return Object.assign(i,((r={})[o]="object"==typeof s?e(s):s,r))}),Array.isArray(t)?[]:{})},t.zipArrObj=function(e,t){return e.map((function(e,i){return n(n({},e),t[i])}))}},function(e,t,i){"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.VENDOR_TYPE_APP_ID=t.VENDOR_TYPE_REQ_ADDRS=void 0;var o=i(0);t.VENDOR_TYPE_REQ_ADDRS=((n={})[o.VendorType.LARK_PRE_RTC]=["https://lvc-pre.bytedance.com/decision/v1/multi"],n[o.VendorType.TEST_PRE]=["https://lvc-test-pre.bytedance.com/decision/v1/multi"],n[o.VendorType.TEST_GAUSS]=["https://lvc-test-gauss.bytedance.com/decision/v1/multi"],n[o.VendorType.TEST]=["https://lvc-test.bytedance.com/decision/v1/multi"],n),t.VENDOR_TYPE_APP_ID=((r={})[o.VendorType.LARK_PRE_RTC]="5b978bab09b27c0034d252c0",r[o.VendorType.TEST_PRE]="60af4c8dcb758d00ce35adb3",r[o.VendorType.TEST_GAUSS]="5b978bab09b27c0034d252c0",r[o.VendorType.TEST]="5a7451222679214f668e7085",r)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";t.a=e=>e.children},,,,,,,,,,,,,,,,,,,,function(e,t,i){e.exports=i.p+"static/images/logo-4a3d858f0e31f923fc9882b989016f2f.svg"},function(e,t,i){e.exports=i.p+"static/images/feishu-en-US-logo-37c6a26b4f856e6e2f5edc06a6c81ca8.svg"},function(e,t,i){e.exports=i.p+"static/images/feishu-zh-CN-logo-54eae213f071370259bb26b78c8bd7dc.svg"},function(e,t,i){e.exports=i.p+"static/images/lark-logo-b6fa2ae1488a9ab21a5afffa7dd80a94.svg"},function(e,t,i){e.exports=i.p+"static/images/continuation-logo-2ade5e3c4b568cf2b268d24def5f3ede.svg"},function(e){e.exports=JSON.parse('{"feishu-boe":{"api":"internal-api-lark-api.feishu-boe.cn","file":"internal-api-lark-file.feishu-boe.cn","internal_api":"internal-api.feishu-boe.cn","long":"lark-frontier-boe.bytedance.net","open":"open.feishu-boe.cn","passport":"login.feishu-boe.cn","suite_tklog":"internal-api-lark-file.feishu-boe.cn","suite_main_domain":"feishu-boe.cn","open_appcenter3":"internal-api.feishu-boe.cn","tt_tea":"mcs-bd.feishu.cn","tt_slardar":"slardar-bd.feishu.cn","official_origin":"www.feishu-boe.cn","landing_api_domain":"/"},"feishu":{"api":"internal-api-lark-api.feishu.cn","file":"internal-api-lark-file.feishu.cn","internal_api":"internal-api.feishu.cn","long":"msg-frontier.feishu.cn","open":"open.feishu.cn","passport":"login.feishu.cn","suite_tklog":"internal-api-lark-file.feishu.cn","suite_main_domain":"feishu.cn","open_appcenter3":"internal-api.feishu.cn","tt_tea":"mcs-bd.feishu.cn","tt_slardar":"slardar-bd.feishu.cn","official_origin":"www.feishu.cn","landing_api_domain":"/"},"feishu-pre":{"api":"internal-api-lark-api.feishu-pre.cn","file":"internal-api-lark-file.feishu-pre.cn","internal_api":"internal-api.feishu-pre.cn","long":"msg-frontier.feishu.cn","open":"open.feishu-pre.cn","passport":"login.feishu-pre.cn","suite_tklog":"internal-api-lark-file.feishu-pre.cn","suite_main_domain":"feishu-pre.cn","open_appcenter3":"internal-api.feishu-pre.cn","tt_tea":"mcs-bd.feishu.cn","tt_slardar":"slardar-bd.feishu.cn","official_origin":"www.feishu-pre.cn","landing_api_domain":"/"},"larksuite":{"api":"internal-api-lark-api.larksuite.com","file":"internal-api-lark-file.larksuite.com","internal_api":"internal-api.larksuite.com","long":"msg16-frontier.larksuite.com","open":"open.larksuite.com","passport":"passport.larksuite.com","suite_tklog":"internal-api-lark-file.larksuite.com","suite_main_domain":"larksuite.com","open_appcenter3":"internal-api.larksuite.com","tt_tea":"mcs-bd.larksuite.com","tt_slardar":"slardar-bd.larksuite.com","official_origin":"www.larksuite.com","landing_api_domain":"/"},"larksuite-pre":{"api":"internal-api-lark-api.larksuite-pre.com","file":"internal-api-lark-file.larksuite-pre.com","internal_api":"internal-api.larksuite-pre.com","long":"msg16-frontier.larksuite.com","open":"open.larksuite-pre.com","passport":"passport.larksuite-pre.com","suite_tklog":"internal-api-lark-file.larksuite-pre.com","suite_main_domain":"larksuite-pre.com","open_appcenter3":"internal-api.larksuite-pre.com","tt_tea":"mcs-bd.larksuite.com","tt_slardar":"slardar-bd.larksuite.com","official_origin":"www.larksuite-pre.com","landing_api_domain":"/"}}')},function(e){e.exports=JSON.parse('{"entities":{"options":{"optimize_for":"LITE_RUNTIME","go_package":"git.byted.org/ee/lark/im-protobuf/improto/entities","java_package":"com.ss.android.lark.pb"},"nested":{"Image":{"fields":{"key":{"type":"string","id":1},"urls":{"rule":"repeated","type":"string","id":2,"options":{"deprecated":true}},"width":{"type":"int32","id":3},"height":{"type":"int32","id":4},"secureKey":{"type":"string","id":5},"secureUrls":{"rule":"repeated","type":"string","id":6,"options":{"deprecated":true}},"secureWidth":{"type":"int32","id":7},"secureHeight":{"type":"int32","id":8},"crypto":{"type":"Crypto","id":9},"size":{"type":"int32","id":10},"fsUnit":{"type":"string","id":11},"params":{"keyType":"string","type":"string","id":12},"etag":{"type":"string","id":13}}},"Archive":{"fields":{"key":{"type":"string","id":1},"fsUnit":{"type":"string","id":2},"size":{"type":"int64","id":3},"checksum":{"type":"string","id":4},"mime":{"type":"string","id":5},"params":{"keyType":"string","type":"string","id":6}}},"Urgent":{"fields":{"messageId":{"rule":"required","type":"string","id":1},"type":{"type":"Type","id":2},"sendTime":{"type":"int64","id":3},"fromId":{"type":"string","id":4}},"nested":{"Type":{"values":{"UNKNOWN_URGENT":0,"APP":1,"SMS":2,"PHONE":3}}}},"UrgentAck":{"fields":{"ackId":{"type":"string","id":1},"messageId":{"type":"string","id":2},"toId":{"type":"string","id":3},"urgentId":{"type":"string","id":4},"sendTime":{"type":"int64","id":5},"type":{"type":"Urgent.Type","id":6},"status":{"type":"int64","id":7},"confirmTime":{"type":"int64","id":8},"phoneStatus":{"type":"int64","id":9}}},"ImageSet":{"fields":{"key":{"type":"string","id":1,"options":{"deprecated":true}},"origin":{"type":"Image","id":2},"thumbnail":{"type":"Image","id":3},"imageKey":{"type":"string","id":4,"options":{"deprecated":true}},"middle":{"type":"Image","id":5},"thumbnailWebp":{"type":"Image","id":6},"middleWebp":{"type":"Image","id":7},"middleMp4":{"type":"Image","id":8},"cover":{"type":"Image","id":9},"intact":{"type":"Image","id":10}}},"ImageBaseAttribute":{"fields":{"width":{"rule":"required","type":"uint32","id":1},"height":{"rule":"required","type":"uint32","id":2},"exifOrientation":{"type":"uint32","id":3}}},"ImageCropType":{"values":{"ORIGIN":1,"MIDDLE":2,"THUMB":3,"MIDDLE_WEBP":4,"THUMB_WEBP":5,"MIDDLE_MP4":6,"COVER":7,"INTACT":8}},"ImageSetV2":{"fields":{"imageKey":{"type":"string","id":1},"fsUnit":{"type":"string","id":2},"crypto":{"type":"Crypto","id":3},"images":{"rule":"repeated","type":"ImageAttribute","id":4},"inlinePreview":{"type":"bytes","id":5}},"nested":{"ImageAttribute":{"fields":{"type":{"rule":"required","type":"ImageCropType","id":1},"attribute":{"rule":"required","type":"ImageBaseAttribute","id":2}}}}},"ImageSetPassThrough":{"fields":{"key":{"rule":"required","type":"string","id":1},"fsUnit":{"type":"string","id":2},"url":{"type":"string","id":3},"crypto":{"type":"Crypto","id":4}}},"PreviewImageInfo":{"fields":{"key":{"type":"string","id":1},"fsUnit":{"type":"string","id":2},"crypto":{"type":"Crypto","id":3}}},"Crypto":{"fields":{"type":{"type":"Type","id":1},"cipher":{"type":"Cipher","id":2}},"nested":{"Type":{"values":{"UNKNOWN":0,"AES_256_GCM":1,"AES_CTR":2,"CRYPTO_SDK_UNIFIED":3,"CRYPTO_SDK_DOWNGRADE":4,"CRYPTO_SDK_THIRDPARTY":5,"SM4_128":6}}}},"Cipher":{"fields":{"secret":{"type":"bytes","id":1},"nonce":{"type":"bytes","id":2},"additionalData":{"type":"bytes","id":3}}},"ChatterType":{"values":{"UNKNOWN_CHATTER":0,"USER":1,"BOT":2}},"ChannelType":{"values":{"UNKNOWN_CHANNEL_TYPE":0,"CHAT_CHANNEL":1,"EMAIL_CHANNEL":2}},"LoadType":{"values":{"UP":1,"DOWN":2,"LATEST":3}},"ImageTranslationAbility":{"fields":{"canTranslate":{"rule":"required","type":"bool","id":1},"srcLanguage":{"rule":"repeated","type":"string","id":2}}},"ImageTranslationAbilityV2":{"fields":{"canTranslate":{"rule":"required","type":"bool","id":1},"srcLanguage":{"rule":"repeated","type":"string","id":2}}},"UrlPreviewHangPoint":{"fields":{"url":{"rule":"required","type":"string","id":1},"previewId":{"type":"string","id":2},"needLocalPreview":{"type":"bool","id":3,"options":{"default":false}}}},"I18nTemplates":{"fields":{"i18nTemplates":{"keyType":"string","type":"string","id":1}}},"UrlPreviewEntity":{"fields":{"sourceId":{"rule":"required","type":"string","id":1},"previewId":{"rule":"required","type":"string","id":2},"locale":{"rule":"required","type":"string","id":3,"options":{"default":"default"}},"i18nIconKey":{"type":"string","id":4},"fsUnit":{"type":"string","id":5},"i18nTitleKey":{"type":"string","id":6},"i18nTagKey":{"type":"string","id":7},"localeI18nTemplates":{"keyType":"string","type":"I18nTemplates","id":8},"url":{"type":"URL","id":9},"needPull":{"type":"bool","id":10},"version":{"type":"int32","id":11},"body":{"type":"bytes","id":12,"options":{"deprecated":true}},"actions":{"keyType":"string","type":"UrlPreviewAction","id":13,"options":{"deprecated":true}},"previewBody":{"type":"URLPreviewBody","id":14},"expires":{"type":"int64","id":15},"i18nIcons":{"keyType":"string","type":"ImageSetV2","id":16}}},"UrlPreviewAction":{"fields":{"url":{"rule":"required","type":"string","id":1},"method":{"rule":"required","type":"Method","id":2},"parameters":{"type":"Parameters","id":3},"cmd":{"type":"improto.Command","id":4},"packet":{"type":"CardActionPacket","id":5},"openUrl":{"type":"URL","id":6},"fallbackActionId":{"type":"string","id":7}},"nested":{"Method":{"values":{"GET":1,"POST":2,"LARK_COMMAND":3,"OPEN_URL":4}},"Parameters":{"fields":{"parameters":{"keyType":"string","type":"string","id":1},"userId":{"type":"string","id":2},"sourceId":{"type":"string","id":3},"previewId":{"type":"string","id":4}}}}},"URLPreviewComponents":{"fields":{"rootIds":{"rule":"repeated","type":"string","id":1},"elements":{"keyType":"string","type":"URLPreviewComponent","id":2},"imageIds":{"rule":"repeated","type":"string","id":3},"atIds":{"rule":"repeated","type":"string","id":4},"buttonIds":{"rule":"repeated","type":"string","id":5},"richtextIds":{"rule":"repeated","type":"string","id":6}}},"URLPreviewBody":{"fields":{"components":{"type":"URLPreviewComponents","id":1},"actions":{"keyType":"string","type":"UrlPreviewAction","id":2},"cardUrl":{"type":"URL","id":3}}},"ThemeColor":{"fields":{"token":{"type":"string","id":1},"key":{"type":"Key","id":2},"value":{"type":"uint32","id":3}},"nested":{"KeyType":{"values":{"N":0,"B":1,"W":2,"T":3,"G":4,"L":5,"Y":6,"S":7,"O":8,"R":9,"C":10,"V":11,"P":12,"I":13,"STATIC_WHITE":14}},"Key":{"fields":{"type":{"rule":"required","type":"KeyType","id":1},"value":{"rule":"required","type":"uint32","id":2},"alpha":{"type":"uint32","id":3,"options":{"default":100}}}}}},"Gradient":{"oneofs":{"content":{"oneof":["linear"]}},"fields":{"type":{"type":"Type","id":1},"linear":{"type":"Linear","id":2}},"nested":{"Type":{"values":{"LINEAR":0}},"Linear":{"fields":{"deg":{"type":"int32","id":1,"options":{"default":0}},"colors":{"rule":"repeated","type":"int32","id":2,"options":{"deprecated":true,"packed":false}},"colorsV2":{"rule":"repeated","type":"uint32","id":3,"options":{"packed":false}},"colorsV3":{"rule":"repeated","type":"ThemeColor","id":4}}}}},"Border":{"fields":{"width":{"type":"float","id":1},"color":{"type":"uint32","id":2,"options":{"deprecated":true}},"cornerRadius":{"type":"float","id":3},"colorV2":{"type":"ThemeColor","id":4}}},"URLPreviewComponent":{"oneofs":{"URLPreviewComponentProperty":{"oneof":["empty","linearLayout","header","richtext","image","chattersPreview","button","iconButton","textButton","time","text","tagList","spinButton","avatar","video","cardContainer"]}},"fields":{"type":{"rule":"required","type":"Type","id":1},"canSkipWhenUnknown":{"type":"bool","id":2,"options":{"default":true}},"style":{"type":"Style","id":3},"childIds":{"rule":"repeated","type":"string","id":4},"isFontZoomable":{"type":"bool","id":5,"options":{"default":true}},"empty":{"type":"EmptyProperty","id":1000},"linearLayout":{"type":"LinearLayoutProperty","id":1001},"header":{"type":"PreviewHeaderProperty","id":1501},"richtext":{"type":"RichTextProperty","id":1502},"image":{"type":"ImageProperty","id":1503},"chattersPreview":{"type":"ChattersPreviewProperty","id":1504},"button":{"type":"ButtonProperty","id":1505},"iconButton":{"type":"IconButtonProperty","id":1506},"textButton":{"type":"TextButtonProperty","id":1507},"time":{"type":"TimeProperty","id":1508},"text":{"type":"TextProperty","id":1509},"tagList":{"type":"TagListProperty","id":1510},"spinButton":{"type":"SpinButtonProperty","id":1511},"avatar":{"type":"AvatarProperty","id":1512},"video":{"type":"VideoProperty","id":1513},"cardContainer":{"type":"CardContainerProperty","id":1514}},"nested":{"Type":{"values":{"EMPTY":0,"LINEAR_LAYOUT":1,"HEADER":501,"RICHTEXT":502,"IMAGE":503,"CHATTERS_PREVIEW":504,"BUTTON":505,"ICON_BUTTON":506,"TEXT_BUTTON":507,"TIME":508,"TEXT":509,"TAG_LIST":510,"SPIN_BUTTON":511,"AVATAR":512,"VIDEO":513,"CARD_CONTAINER":514}},"SizeLevel":{"values":{"NORMAL":0,"SMALL":1,"LARGE":2}},"ValueType":{"values":{"AUTO":0,"POINT":1,"PERCENTAGE":2}},"Direction":{"values":{"LTR":0,"RTL":1}},"Orientation":{"values":{"ROW":0,"COLUMN":1,"ROW_REVERSE":2,"COLUMN_REVERSE":3}},"Justify":{"values":{"START":0,"CENTER":1,"END":2,"SPACE_BETWEEN":3,"SPACE_AROUND":4,"SPACE_EVENLY":5}},"Align":{"values":{"TOP":0,"MIDDLE":1,"BOTTOM":2,"STRETCH":3,"BASELINE":4}},"Theme":{"values":{"LIGHT":0,"DARK":1}},"FontType":{"values":{"TITLE":0,"HEADLINE":1,"BODY":2,"CAPTION":3}},"FontLevel":{"fields":{"type":{"type":"FontType","id":1,"options":{"default":"CAPTION"}},"level":{"type":"int32","id":2,"options":{"default":0}}}},"Value":{"fields":{"type":{"type":"ValueType","id":1},"value":{"type":"float","id":2}}},"Item":{"fields":{"actionId":{"type":"string","id":1},"text":{"type":"string","id":2}}},"Style":{"fields":{"sizeLevel":{"type":"SizeLevel","id":1},"textColor":{"type":"uint32","id":2,"options":{"deprecated":true}},"backgroundColor":{"type":"Gradient","id":3},"width":{"type":"Value","id":4},"height":{"type":"Value","id":5},"maxWidth":{"type":"Value","id":6},"maxHeight":{"type":"Value","id":7},"minWidth":{"type":"Value","id":8},"minHeight":{"type":"Value","id":9},"growWeight":{"type":"int32","id":10},"shrinkWeight":{"type":"int32","id":11},"fontLevel":{"type":"FontLevel","id":12},"border":{"type":"Border","id":13},"textColorV2":{"type":"ThemeColor","id":14}}},"EmptyProperty":{"fields":{}},"LinearLayoutProperty":{"fields":{"orientation":{"type":"Orientation","id":1,"options":{"default":"ROW"}},"spacing":{"type":"float","id":2},"wrapWidth":{"type":"float","id":3},"padding":{"type":"float","id":4},"mainAxisJustify":{"type":"Justify","id":5,"options":{"default":"START"}},"crossAxisAlign":{"type":"Align","id":6,"options":{"default":"TOP"}}}},"PreviewHeaderProperty":{"fields":{"icon":{"type":"ImageSetV2","id":1},"title":{"type":"string","id":2},"larkTag":{"type":"Tag","id":3},"childComponentId":{"type":"string","id":4},"isNeedCopyLink":{"type":"bool","id":5,"options":{"default":true}},"isNeedClose":{"type":"bool","id":6,"options":{"default":true}},"theme":{"type":"Theme","id":7,"options":{"default":"LIGHT"}},"type":{"type":"Type","id":8,"options":{"default":"NORMAL"}},"tagColor":{"type":"ThemeColor","id":9},"tagTextColor":{"type":"ThemeColor","id":10},"headerTag":{"type":"string","id":11},"faviconUrl":{"type":"string","id":12},"iconColor":{"type":"ThemeColor","id":13}},"nested":{"Type":{"values":{"NORMAL":0,"HEADLINES":1}}}},"RichTextProperty":{"fields":{"richtext":{"type":"RichText","id":1}}},"ImageProperty":{"fields":{"image":{"type":"ImageSetV2","id":1},"alt":{"type":"string","id":2}}},"ChattersPreviewProperty":{"fields":{"theme":{"type":"Theme","id":1,"options":{"default":"LIGHT"}},"chattersCount":{"type":"int32","id":2},"chatterInfos":{"rule":"repeated","type":"ChatterInfo","id":3},"maxShowCount":{"type":"int32","id":4,"options":{"default":5}}},"nested":{"ChatterInfo":{"fields":{"avatar":{"type":"Image","id":1},"chatterId":{"type":"string","id":2}}}}},"ButtonProperty":{"fields":{"icon":{"type":"ImageSetV2","id":1},"text":{"type":"string","id":2},"direction":{"type":"Direction","id":3,"options":{"default":"LTR"}},"actionId":{"type":"string","id":4},"isDisable":{"type":"bool","id":5}}},"IconButtonProperty":{"fields":{"icon":{"type":"ImageSetV2","id":1},"actionId":{"type":"string","id":2},"isDisable":{"type":"bool","id":3},"alt":{"type":"string","id":4}}},"TextButtonProperty":{"fields":{"text":{"type":"string","id":1},"actionId":{"type":"string","id":2},"isDisable":{"type":"bool","id":3}}},"TimeProperty":{"fields":{"startTimeStamp":{"rule":"required","type":"int64","id":1},"isCountdown":{"type":"bool","id":2,"options":{"default":false}},"ntpActionId":{"type":"string","id":3},"isEnd":{"type":"bool","id":4},"endTimeStamp":{"type":"int64","id":5}}},"TextProperty":{"fields":{"text":{"type":"string","id":1},"numberOfLines":{"type":"int32","id":2,"options":{"default":0}}}},"TagListProperty":{"fields":{"tags":{"rule":"repeated","type":"string","id":1}}},"SpinButtonProperty":{"fields":{"icon":{"type":"ImageSetV2","id":1},"items":{"rule":"repeated","type":"Item","id":2},"selectedIndex":{"type":"int64","id":3,"options":{"default":0}},"direction":{"type":"Direction","id":4,"options":{"default":"LTR"}}}},"AvatarProperty":{"fields":{"chatterInfo":{"type":"ChatterInfo","id":1}},"nested":{"ChatterInfo":{"fields":{"avatar":{"type":"Image","id":1},"chatterId":{"type":"string","id":2}}}}},"VideoProperty":{"fields":{"site":{"type":"Site","id":1},"coverImage":{"type":"ImageSetV2","id":2},"duration":{"type":"int64","id":3},"srcUrl":{"type":"string","id":4},"vid":{"type":"string","id":5},"iframeUrl":{"type":"string","id":6}},"nested":{"Site":{"values":{"UNKNOWN":0,"XIGUA":1,"DOUYIN":2,"HUOSHAN":3,"YOUTUBE":4}}}},"CardContainerProperty":{"fields":{"maskColor":{"type":"ThemeColor","id":1}}}}},"URL":{"fields":{"url":{"type":"string","id":1},"ios":{"type":"string","id":2},"android":{"type":"string","id":3},"pc":{"type":"string","id":4},"web":{"type":"string","id":5}}},"Message":{"fields":{"id":{"type":"string","id":1},"type":{"type":"Type","id":2},"fromId":{"type":"string","id":3},"createTime":{"type":"int64","id":4},"content":{"type":"bytes","id":5},"status":{"type":"Status","id":6},"fromType":{"type":"FromType","id":7,"options":{"deprecated":true,"default":"USER"}},"rootId":{"type":"string","id":8},"parentId":{"type":"string","id":9},"chatId":{"type":"string","id":10,"options":{"deprecated":true}},"lastModifyTime":{"type":"int64","id":11},"cid":{"type":"string","id":12},"position":{"type":"int32","id":13},"updateTime":{"type":"int64","id":14},"isNotified":{"type":"bool","id":15},"replyCount":{"type":"string","id":16},"parentSourceMessageId":{"type":"string","id":17},"rootSourceMessageId":{"type":"string","id":18},"isDing":{"type":"bool","id":19},"threadId":{"type":"string","id":20},"sendToChat":{"type":"bool","id":21},"isTruncated":{"type":"bool","id":22,"options":{"default":false}},"isRemoved":{"type":"bool","id":23},"channelId":{"type":"string","id":24},"channelType":{"type":"ChannelType","id":25,"options":{"deprecated":true,"default":"CHAT_CHANNEL"}},"isVisible":{"type":"bool","id":26,"options":{"default":true,"deprecated":true}},"cryptoInfo":{"type":"CryptoInfo","id":27},"threadPosition":{"type":"int32","id":28},"removerId":{"type":"int64","id":29},"translateLanguage":{"type":"string","id":30},"removerType":{"type":"RemoverType","id":31},"i18nInfo":{"type":"I18nInfo","id":32},"noBadgedCount":{"type":"int32","id":33},"isBadged":{"type":"bool","id":34},"badgeCount":{"type":"int32","id":35},"threadBadgeCount":{"type":"int32","id":36},"threadReplyCount":{"type":"int32","id":37},"atOutChatterIds":{"rule":"repeated","type":"string","id":38},"messageLanguage":{"type":"string","id":39},"translateMessageDisplayRule":{"type":"TranslateMessageDisplayRule","id":40},"isNoTraceRemoved":{"type":"bool","id":41,"options":{"default":false}},"isAutoTranslatedByReceiver":{"type":"bool","id":42},"sensitivity":{"type":"MessageSensitivity","id":43,"options":{"deprecated":true,"default":"SAFE"}},"isVisibleV2":{"type":"bool","id":44,"options":{"default":true}},"translateSource":{"type":"TranslateSource","id":45},"chatType":{"type":"ChatType","id":46},"originalSenderId":{"type":"string","id":47},"isStaticResourceMessageDeleted":{"type":"bool","id":48},"imagesTranslationAbility":{"keyType":"string","type":"ImageTranslationAbility","id":49,"options":{"deprecated":true}},"version":{"type":"Version","id":50},"imagesTranslationAbilityV2":{"keyType":"string","type":"ImageTranslationAbilityV2","id":51},"messagePipeVersion":{"type":"int64","id":52},"isBatchCopyMessages":{"type":"bool","id":53,"options":{"default":false}},"anonymousInfo":{"type":"AnonymousInfo","id":54},"urlPreviewHangPointMap":{"keyType":"string","type":"UrlPreviewHangPoint","id":55},"isSpecialFocus":{"type":"bool","id":56}},"nested":{"Type":{"values":{"UNKNOWN":0,"POST":2,"FILE":3,"TEXT":4,"IMAGE":5,"SYSTEM":6,"AUDIO":7,"EMAIL":8,"SHARE_GROUP_CHAT":9,"STICKER":10,"MERGE_FORWARD":11,"CALENDAR":12,"CLOUD_FILE":13,"CARD":14,"MEDIA":15,"SHARE_CALENDAR_EVENT":16,"HONGBAO":17,"GENERAL_CALENDAR":18,"VIDEO_CHAT":19,"LOCATION":20,"COMMERCIALIZED_HONGBAO":22,"SHARE_USER_CARD":23,"TODO":24,"FOLDER":25}},"FromType":{"values":{"USER":1,"BOT":2}},"Status":{"values":{"UNKNOWN_STATUS":0,"NORMAL":1,"DELETED":2,"MODIFIED":3}},"RemoverType":{"values":{"UNKNOWN_REMOVERTYPE":0,"GROUPOWNER":1,"SYSADMIN":2,"GROUPADMIN":3}},"MessageSensitivity":{"values":{"UNKNOWN_SENSITIVITY":0,"SAFE":1,"DANGEROUS":2}},"ChatType":{"values":{"UNKNOWN_CHAT_TYPE":0,"P2P":1,"GROUP":2,"TOPIC_GROUP":3}},"Version":{"fields":{"contentVersion":{"type":"int32","id":1}}},"AnonymousInfo":{"fields":{"isAnonymous":{"rule":"required","type":"bool","id":1},"isSender":{"type":"bool","id":2},"anonymousChatterId":{"type":"string","id":3}}}}},"MessageExtendInfo":{"fields":{"IsGroupDeletedBitMap":{"type":"bool","id":1},"IsNoTraceRemovedBitMap":{"type":"bool","id":2}}},"TranslateSource":{"values":{"UNKNOWN_TRANSLATE_SOURCE":0,"MANUAL_TRANSLATE":1,"AUTO_TRANSLATE":2}},"DisplayRule":{"values":{"UNKNOWN_RULE":0,"NOT_DISPLAY":1,"ONLY_TRANSLATION":2,"WITH_ORIGINAL":3}},"TranslateMessageDisplayRule":{"fields":{"rule":{"rule":"required","type":"DisplayRule","id":1}}},"MessageUrlPreview":{"fields":{"messageId":{"rule":"required","type":"string","id":1},"sequenceId":{"rule":"required","type":"int32","id":2,"options":{"default":0}},"url":{"rule":"required","type":"string","id":3},"offset":{"rule":"required","type":"int32","id":4,"options":{"default":0}},"count":{"rule":"required","type":"int32","id":5,"options":{"default":0}},"title":{"type":"string","id":6},"abstract":{"type":"string","id":7},"icon":{"type":"ImageSet","id":8},"isDeleted":{"type":"bool","id":9,"options":{"default":false}},"hasPreview":{"type":"bool","id":10,"options":{"default":true}},"coverImage":{"type":"ImageSet","id":11},"videoInfo":{"type":"VideoInfo","id":12},"needLocalPreview":{"type":"bool","id":13,"options":{"default":false}}}},"VideoInfo":{"fields":{"site":{"type":"Site","id":1},"srcUrl":{"type":"string","id":2},"vid":{"type":"string","id":3},"iframeUrl":{"type":"string","id":4},"expireTime":{"type":"int64","id":5}},"nested":{"Site":{"values":{"UNKNOWN":0,"XIGUA":1,"DOUYIN":2,"HUOSHAN":3,"YOUTUBE":4,"IQIYI":5,"YOUKU":6,"QQ":7}}}},"DocEntity":{"fields":{"elementEntityRef":{"keyType":"string","type":"ElementEntity","id":1}},"nested":{"ElementEntity":{"fields":{"title":{"type":"string","id":1},"docType":{"type":"DocType","id":2},"strDocType":{"type":"string","id":3},"docToken":{"type":"string","id":4},"icon":{"type":"Icon","id":5}}}}},"Abbreviation":{"fields":{"abbrElementRef":{"keyType":"string","type":"Abbrs","id":1}},"nested":{"entity":{"fields":{"abbrId":{"type":"string","id":1},"abbrVersion":{"type":"int32","id":2},"abbrType":{"type":"Type","id":3},"datetime":{"type":"DatetimeEntity","id":4}},"nested":{"Type":{"values":{"UNKOWN":0,"ACRONYM":1,"WIKI":2,"DATETIME":3}},"DatetimeEntity":{"fields":{"start":{"type":"int64","id":1},"end":{"type":"int64","id":2},"duration":{"type":"int32","id":3},"grain":{"type":"string","id":4}}}}},"Abbrs":{"fields":{"abbrs":{"rule":"repeated","type":"entity","id":1}}}}},"Span":{"fields":{"start":{"rule":"required","type":"int32","id":1},"end":{"rule":"required","type":"int32","id":2}}},"BaikeEntityMeta":{"fields":{"id":{"rule":"required","type":"string","id":1},"isAllowAll":{"type":"bool","id":2},"allowedTypedIds":{"keyType":"string","type":"TypedIDs","id":3},"platformDisableOption":{"keyType":"string","type":"string","id":4}},"nested":{"TypedIDs":{"fields":{"ids":{"rule":"repeated","type":"string","id":1}}}}},"Ref":{"fields":{"span":{"rule":"required","type":"Span","id":1},"matchedWord":{"type":"string","id":2},"platformDisableOption":{"keyType":"string","type":"string","id":3},"baikeEntityMeta":{"type":"BaikeEntityMeta","id":4}}},"Refs":{"fields":{"refs":{"rule":"repeated","type":"Ref","id":1}}},"ElementRefs":{"fields":{"elementRefs":{"keyType":"string","type":"Refs","id":1}}},"TextContent":{"fields":{"text":{"type":"string","id":1},"urls":{"rule":"repeated","type":"MessageUrlPreview","id":2},"richText":{"type":"RichText","id":3},"docEntity":{"type":"DocEntity","id":4},"abbreviation":{"type":"Abbreviation","id":5},"typedElementRefs":{"keyType":"string","type":"ElementRefs","id":6}}},"CalendarContent":{"fields":{"calendar":{"type":"string","id":1}}},"ShareCalendarEventContent":{"fields":{"calendarEvent":{"type":"CalendarEvent","id":1},"attendeesCount":{"type":"int32","id":2}}},"ImageContent":{"fields":{"image":{"type":"ImageSet","id":1},"imageV2":{"type":"ImageSetV2","id":2},"isOriginSource":{"type":"bool","id":3},"originSize":{"type":"uint64","id":4}}},"LocationContent":{"fields":{"locationDescription":{"type":"LocationDescription","id":1},"longitude":{"type":"string","id":2},"latitude":{"type":"string","id":3},"zoomLevel":{"type":"int32","id":4},"image":{"type":"ImageSet","id":5},"vendor":{"type":"string","id":6},"isIternal":{"type":"bool","id":7}},"nested":{"LocationDescription":{"fields":{"name":{"type":"string","id":1},"description":{"type":"string","id":2}}}}},"TransStatus":{"values":{"PENDING":0,"ACCEPT":1,"REFUSE":2,"CANCEL":3,"CANCEL_BY_RECEIVER":8,"ABORT_BY_SENDER":4,"ABORT_BY_RECEIVER":5,"TRANS_DONE":6,"OFFLINE_MODE":7}},"TransExtra":{"fields":{"status":{"type":"TransStatus","id":1},"senderDeviceId":{"type":"string","id":2},"receiverDeviceId":{"type":"string","id":3}}},"FileContent":{"fields":{"key":{"type":"string","id":1},"name":{"type":"string","id":2},"size":{"type":"int64","id":3},"mime":{"type":"string","id":4},"source":{"type":"Source","id":5},"nameSpace":{"type":"string","id":6},"fsUnit":{"type":"string","id":7},"lanTransExtra":{"type":"LANTransExtra","id":8,"options":{"deprecated":true}},"transExtra":{"type":"TransExtra","id":9}},"nested":{"Source":{"values":{"UNKNOWN":0,"NUT_STORE":2,"LAN_TRANS":3}},"LANTransExtra":{"fields":{"status":{"type":"TransStatus","id":1}},"nested":{"TransStatus":{"values":{"PENDING":0,"ACCEPT":1,"REFUSE":2,"CANCEL":3,"ABORT_BY_SENDER":4,"ABORT_BY_RECEIVER":5,"DONE":6,"OFFLINE_MODE":7}}}}}},"MediaContent":{"fields":{"key":{"type":"string","id":1},"name":{"type":"string","id":2},"size":{"type":"int64","id":3},"mime":{"type":"string","id":4},"source":{"type":"Source","id":5},"image":{"type":"ImageSet","id":6},"duration":{"type":"int32","id":7},"fsUnit":{"type":"string","id":8}},"nested":{"Source":{"values":{"UNKNOWN":0,"LARK":1}}}},"AudioContent":{"fields":{"key":{"type":"string","id":1},"duration":{"type":"int32","id":2},"size":{"type":"int64","id":3},"audioRecognition":{"type":"AudioRecognition","id":4},"fsUnit":{"type":"string","id":5}}},"AudioRecognition":{"fields":{"recognitionResult":{"type":"string","id":1},"originSenderId":{"type":"int64","id":2},"isHidden":{"type":"bool","id":3},"originTosKey":{"type":"string","id":4},"isFinish":{"type":"bool","id":5},"isAudioWithText":{"type":"bool","id":6}}},"PostContent":{"fields":{"title":{"type":"string","id":1},"text":{"type":"string","id":2},"attachments":{"rule":"repeated","type":"string","id":3},"isNotified":{"type":"bool","id":4},"commentCount":{"type":"string","id":5},"richText":{"type":"RichText","id":6},"i18nTitleKey":{"type":"string","id":7},"isGroupAnnouncement":{"type":"bool","id":8},"docEntity":{"type":"DocEntity","id":9},"abbreviation":{"type":"Abbreviation","id":10},"urls":{"rule":"repeated","type":"MessageUrlPreview","id":11},"typedElementRefs":{"keyType":"string","type":"ElementRefs","id":12}}},"EmailContent":{"fields":{"title":{"type":"string","id":1},"text":{"type":"string","id":2},"attachments":{"rule":"repeated","type":"Attachment","id":3},"richText":{"type":"RichText","id":4}}},"Attachment":{"fields":{"key":{"type":"string","id":1},"name":{"type":"string","id":2},"size":{"type":"int64","id":3},"mime":{"type":"string","id":4},"extra":{"type":"Extra","id":5}},"nested":{"Extra":{"fields":{"thumbnail":{"type":"Image","id":1}}}}},"CommercialHongbaoContent":{"fields":{"id":{"rule":"required","type":"int64","id":1},"subject":{"rule":"required","type":"string","id":2},"type":{"rule":"required","type":"Type","id":3},"clicked":{"type":"bool","id":4,"options":{"default":false}},"isExpired":{"type":"bool","id":5,"options":{"default":false}},"grabbed":{"type":"bool","id":6,"options":{"default":false}},"grabbedFinish":{"type":"bool","id":7,"options":{"default":false}}},"nested":{"Type":{"values":{"UNKNOWN":0,"COMMERCIAL":1}}}},"HongbaoContent":{"fields":{"id":{"rule":"required","type":"int64","id":1},"subject":{"rule":"required","type":"string","id":2},"type":{"rule":"required","type":"Type","id":3},"clicked":{"type":"bool","id":4,"options":{"default":false}},"isExpired":{"type":"bool","id":5,"options":{"default":false}},"grabbed":{"type":"bool","id":6,"options":{"default":false}},"grabbedFinish":{"type":"bool","id":7,"options":{"default":false}}},"nested":{"Type":{"values":{"UNKNOWN":0,"P2P":1,"GROUP_FIX":2,"GROUP_RANDOM":3}}}},"TodoOperationContent":{"fields":{"operationType":{"type":"Type","id":1},"operatorId":{"type":"string","id":2},"todoDetail":{"type":"TodoDetail","id":3},"updateFields":{"rule":"repeated","type":"UpdateField","id":4,"options":{"packed":false}},"msgStatus":{"type":"MsgStatus","id":5},"todoCommentDetail":{"type":"TodoCommentDetail","id":6},"dailyRemind":{"type":"TodoDailyRemind","id":7},"targetUserIds":{"rule":"repeated","type":"string","id":8},"completeType":{"type":"CompleteType","id":9}},"nested":{"Type":{"values":{"UNKNOWN":0,"UPDATE":1,"ASSIGN":2,"COMPLETE":3,"CANCEL":4,"DELETE":5,"CREATE":6,"INCOMPLETE":7,"SHARE":8,"CREATE_COMMENT":9,"REPLY_COMMENT":10,"DAILY_REMIND":11,"FOLLOW":12,"UNFOLLOW":13,"REACT_COMMENT":14,"COMPLETE_ASSIGNEE":15,"COMPLETE_SELF":16,"RESTORE_ASSIGNEE":17,"RESTORE_SELF":18}},"CompleteType":{"values":{"UNKNOWN_COMPLETE_TYPE":0,"COMPLETE_WHOLE_TODO":1,"COMPLETE_WHOLE_TODO_AFTER_REMOVE_ASSIGNEE_SELF":2,"COMPLETE_WHOLE_TODO_AFTER_REMOVE_ASSIGNEES":3,"COMPLETE_WHOLE_TODO_AFTER_REMOVE_ASSIGNEE_YOURSELF":4,"COMPLETE_WHOLE_TODO_AFTER_COMPLETE_ASSIGNEES":5,"COMPLETE_WHOLE_TODO_AFTER_COMPLETE_ASSIGNEE_YOURSELF":6,"RESTORE_WHOLE_TODO":21,"RESTORE_WHOLE_TODO_AFTER_ADD_ASSIGNEE_SELF":22,"RESTORE_WHOLE_TODO_AFTER_ADD_ASSIGNEES":23,"RESTORE_WHOLE_TODO_AFTER_ADD_ASSIGNEES_YOURSELF":24,"RESTORE_WHOLE_TODO_AFTER_RESTORE_SELF":25,"RESTORE_WHOLE_TODO_AFTER_RESTORE_ASSIGNEE":26,"RESTORE_WHOLE_TODO_AFTER_RESTORE_ASSIGNEE_YOURSELF":27}},"UpdateField":{"values":{"SUMMARY":0,"DUE_TIME":1}},"MsgStatus":{"values":{"ACTIVE":0,"DELETED":1}}}},"TodoDetail":{"fields":{"guid":{"type":"string","id":1},"assignees":{"rule":"repeated","type":"string","id":2},"summary":{"type":"string","id":3},"dueTime":{"type":"int64","id":4},"dueTimeZone":{"type":"string","id":5},"isAllDay":{"type":"bool","id":6},"msgBelongTo":{"type":"MsgBelongTo","id":7},"richSummary":{"type":"RichContent","id":8},"followers":{"rule":"repeated","type":"string","id":9},"creatorId":{"type":"string","id":10},"completedMilliTime":{"type":"int64","id":11},"deletedMilliTime":{"type":"int64","id":12},"source":{"type":"int32","id":13},"canFollow":{"type":"bool","id":14},"userToPermission":{"keyType":"string","type":"Permission","id":15},"userDetails":{"keyType":"string","type":"UserDetail","id":16},"customComplete":{"type":"CustomComplete","id":17}},"nested":{"MsgBelongTo":{"values":{"UNKNOWN":0,"Bot":1,"Chat":2}},"Permission":{"fields":{"canCompleteSelf":{"type":"bool","id":1},"canCompleteTodo":{"type":"bool","id":2},"canFollow":{"type":"bool","id":3}}},"UserDetail":{"fields":{"isCompleted":{"type":"bool","id":1}}}}},"CustomComplete":{"fields":{"android":{"type":"Action","id":1},"ios":{"type":"Action","id":2},"pc":{"type":"Action","id":3}},"nested":{"Action":{"fields":{"href":{"type":"string","id":1},"tip":{"keyType":"string","type":"string","id":2}}}}},"TodoCommentDetail":{"fields":{"commentId":{"type":"int64","id":1},"commentType":{"type":"TodoCommentType","id":2},"richContent":{"type":"RichContent","id":3},"position":{"type":"int32","id":4},"attachments":{"rule":"repeated","type":"TodoAttachmentInfo","id":5},"newlyAddedReaction":{"type":"Reaction","id":6}},"nested":{"TodoCommentType":{"values":{"UNKNOWN_TYPE":0,"RICH_TEXT":1}},"Reaction":{"fields":{"userId":{"type":"string","id":1},"type":{"type":"string","id":2}}}}},"TodoDailyRemind":{"fields":{"todos":{"rule":"repeated","type":"TodoDetail","id":1}}},"TodoAttachmentInfo":{"fields":{"type":{"type":"TodoAttachmentType","id":1}},"nested":{"TodoAttachmentType":{"values":{"UNKNOWN_ATTACHMENT_TYPE":0,"IMAGE":1}}}},"RichContent":{"fields":{"richText":{"type":"RichText","id":1},"docEntity":{"type":"DocEntity","id":2},"urlPreviewHangPoints":{"keyType":"string","type":"UrlPreviewHangPoint","id":3}}},"GeneralCalendarContent":{"fields":{"calendarType":{"type":"Type","id":1},"eventCard":{"type":"EventCardTemplate","id":2},"rsvpCommentInfo":{"type":"RSVPCommentInfo","id":3}},"nested":{"Type":{"values":{"UNKNOWN":0,"TRANSFER_CALENDAR_EVENT":1,"RSVP_COMMENT":2,"SWITCH_CALENDAR":3}}}},"RSVPCommentInfo":{"fields":{"replyCommentId":{"type":"string","id":1,"options":{"default":""}},"comment":{"type":"string","id":2,"options":{"default":""}},"inviteOperatorId":{"type":"string","id":3,"options":{"default":""}}}},"VideoChatI18nDefaultTopic":{"fields":{"i18nKey":{"rule":"required","type":"string","id":1},"params":{"rule":"repeated","type":"Param","id":2}},"nested":{"Param":{"oneofs":{"content":{"oneof":["fixedContent","chatId","userId"]}},"fields":{"type":{"rule":"required","type":"Type","id":1},"defaultContent":{"type":"string","id":2},"fixedContent":{"type":"string","id":3},"chatId":{"type":"string","id":4},"userId":{"type":"string","id":5}},"nested":{"Type":{"values":{"UNKNOWN":0,"FIXED_CONTENT":1,"GROUP":2,"LARK_USER":3,"ROOM":4}}}}}},"VideoChatContent":{"fields":{"type":{"rule":"required","type":"Type","id":1},"meetingCard":{"type":"MeetingCard","id":2},"sequenceId":{"type":"int64","id":3}},"nested":{"Type":{"values":{"UNKNOWN":0,"MEETING_CARD":1,"CHAT_ROOM_CARD":2,"SAME_PAGE_MEETING":3}},"MeetingCard":{"fields":{"meetingId":{"rule":"required","type":"string","id":1},"status":{"rule":"required","type":"Status","id":2},"startTimeMs":{"rule":"required","type":"int64","id":3},"endTimeMs":{"type":"int64","id":4},"topic":{"rule":"required","type":"string","id":5},"sponsorId":{"rule":"required","type":"string","id":6},"hostId":{"type":"string","id":7},"meetNumber":{"type":"string","id":8},"participants":{"rule":"repeated","type":"MeetingParticipant","id":9},"maxParticipantCount":{"type":"int32","id":10},"hostType":{"type":"ParticipantType","id":11,"options":{"default":"LARK_USER"}},"cardType":{"type":"CardType","id":12},"forwarderId":{"type":"string","id":13},"meetingSource":{"type":"MeetingSource","id":14},"calendarUid":{"type":"string","id":15},"isLocked":{"type":"bool","id":16},"isLockedJoinable":{"type":"bool","id":17},"groupId":{"type":"string","id":18},"i18nDefaultTopic":{"type":"VideoChatI18nDefaultTopic","id":19},"isOpenLobby":{"type":"bool","id":20},"ownerUserId":{"type":"string","id":21},"ownerType":{"type":"ParticipantType","id":22},"totalParticipantNum":{"type":"int64","id":23},"allParticipantTenant":{"rule":"repeated","type":"int64","id":24,"options":{"packed":false}}},"nested":{"Status":{"values":{"UNKNOWN":0,"JOINABLE":1,"FULL":2,"END":3}},"ParticipantType":{"values":{"UNKNOW_TYPE":0,"LARK_USER":1,"ROOM":2,"DOC_USER":3,"NEO_USER":4,"NEO_GUEST_USER":5,"PSTN_USER":6,"SIP_USER":7,"RESERVED_USER_1":8,"RESERVED_USER_2":9,"RESERVED_USER_3":10,"RESERVED_USER_4":11,"RESERVED_USER_5":12,"RESERVED_USER_6":13,"RESERVED_USER_7":14,"RESERVED_USER_8":15,"RESERVED_USER_9":16,"RESERVED_USER_10":17,"RESERVED_USER_11":18,"RESERVED_USER_12":19,"RESERVED_USER_13":20,"RESERVED_USER_14":21,"RESERVED_USER_15":22,"RESERVED_USER_16":23,"RESERVED_USER_17":24,"RESERVED_USER_18":25,"RESERVED_USER_19":26,"RESERVED_USER_20":27}},"CardType":{"values":{"UNKNOWN_CARD_TYPE":0,"SPONSOR":1,"FORWARD":2}},"MeetingSource":{"values":{"CARD_UNKNOWN_SOURCE_TYPE":0,"CARD_FROM_USER":1,"CARD_FROM_CALENDAR":2,"CARD_FROM_INTERVIEW":3}},"MeetingParticipant":{"fields":{"userId":{"rule":"required","type":"string","id":1},"joinTimeMs":{"type":"int64","id":2},"status":{"type":"Status","id":3},"deviceId":{"type":"string","id":4},"userType":{"type":"ParticipantType","id":5,"options":{"default":"LARK_USER"}},"isLarkGuest":{"type":"bool","id":6},"deviceType":{"type":"DeviceType","id":7},"tenantId":{"type":"string","id":8},"tenantTag":{"type":"TenantTag","id":9},"bindId":{"type":"string","id":10},"bindType":{"type":"BindType","id":11}},"nested":{"Status":{"values":{"UNKNOWN":0,"CALLING":1,"ON_THE_CALL":2,"RINGING":3,"IDLE":4}},"TenantTag":{"values":{"STANDARD":0,"UNDEFINED":1,"SIMPLE":2}},"DeviceType":{"values":{"UNKNOWN_DEVICE_TYPE":0,"DESKTOP":1,"MOBILE":2,"WEB":3}},"BindType":{"values":{"UNKOWN":0,"LARK":1}}}}}}}},"SystemContent":{"fields":{"messageTemplate":{"rule":"required","type":"string","id":1,"options":{"deprecated":true}},"contents":{"keyType":"string","type":"string","id":2,"options":{"deprecated":true}},"type":{"type":"Type","id":3},"event":{"type":"bytes","id":4,"options":{"deprecated":true}},"contentValues":{"keyType":"string","type":"ContentValue","id":5,"options":{"deprecated":true}},"typeNum":{"type":"int32","id":6},"newContentValues":{"keyType":"string","type":"ContentValue","id":7,"options":{"deprecated":true}},"sysContentValues":{"keyType":"string","type":"ContentValue","id":8},"itemActions":{"keyType":"int32","type":"SystemMessageItemAction","id":9},"version":{"type":"int32","id":10},"e2eeContent":{"type":"E2EEContent","id":100},"vcContent":{"type":"VideoConferenceContent","id":200},"hongbaoContent":{"type":"HongbaoContent","id":300},"docEntity":{"type":"DocEntity","id":400,"options":{"deprecated":true}}},"nested":{"Type":{"values":{"UNKNOWN":0,"USER_MODIFY_GROUP_NAME":1,"USER_MODIFY_GROUP_AVATAR":2,"USER_MODIFY_GROUP_DESCRIPTION":3,"USER_MODIFY_GROUP_SETTINGS":4,"USER_START_GROUP_AND_INVITE":5,"SYSTEM_WELCOME_USER":6,"USER_INVITE_OTHERS_JOIN":7,"USER_QUIT_GROUP":8,"USER_REMOVE_OTHERS":9,"USER_REMOVE_GROUP_DESCRIPTION":10,"USER_CHECK_OTHERS_TELEPHONE":11,"DERIVE_FROM_P2P_CHAT":12,"USER_JOIN_VIA_SHARE":13,"TRANSFER_GROUP_CHAT_OWNER":14,"TRANSFER_GROUP_CHAT_OWNER_AND_QUIT":15,"WIPE_ANNOUNCEMENT":16,"ADD_EMAIL_MEMBERS":17,"REMOVE_EMAIL_MEMBERS":18,"MODIFY_EMAIL_MEMBERS":19,"USER_MODIFY_EMAIL_SUBJECT":20,"USER_SYNC_MESSAGE":21,"USER_MODIFY_THREAD_TOPIC":22,"USER_INVITE_OTHERS_JOIN_CRYPTO_CHAT":23,"USER_START_CRYPTO_GROUP_AND_INVITE":24,"USER_CALL_E2EE_VOICE_WHEN_CANCELLED":25,"USER_CALL_E2EE_VOICE_WHEN_MISSED":26,"USER_CALL_E2EE_VOICE_DURATION":27,"VC_CALL_HOST_CANCEL":28,"VC_CALL_PARTI_NO_ANSWER":29,"VC_CALL_PARTI_CANCEL":30,"VC_CALL_HOST_BUSY":31,"VC_CALL_PARTI_BUSY":32,"VC_CALL_FINISH_NOTICE":33,"VC_CALL_DURATION":34,"USER_START_MEETING_GROUP_AND_INVITE":35,"USER_INVITE_OTHERS_JOIN_MEETING":36,"USER_QUIT_MEETING_CHAT":37,"USER_DISMISSED_MEETING_CHAT":38,"USER_START_GROUP":39,"USER_REMOVE_OTHERS_FROM_MEETING":40,"USER_ADD_MEETING_CHAT":41,"JOIN_DEPARTMENT_GROUP":42,"BUILD_FRIENDSHIP":43,"NON_FRIENDS_NOTICE":44,"DECLINE_INVITATION":45,"DECLINE_SPEC_INVITATION":46,"USER_JOIN_VIA_QR_CODE":47,"VC_CALL_CONNECT_FAIL":48,"VC_CALL_DISCONNECT":49,"VC_CALL_HOST_LOW_VERSION":50,"VC_CALL_PARTI_LOW_VERSION":51,"USER_CALL_E2EE_VOICE_WHEN_REFUSED":52,"USER_CALL_E2EE_VOICE_WHEN_OCCUPY":53,"GRAB_OTHER_HONGBAO":54,"OTHER_GRAB_MY_HONGBAO":55,"LAST_HONGBAO_IS_GRABBED":56,"SEND_HONGBAO_MESSAGE_FAILED":57,"USER_SYNC_MESSAGE_V2":58,"USER_SHARE_DOC_PERMISSION":59,"USER_CHANGE_DOC_PERMISSION":60,"USER_SHARE_DOC_FOLDER":61,"USER_OPEN_ONLY_ADMIN_POST":62,"USER_SEPECIFY_MEMBERS_POST":63,"USER_LOW_VERSION_HINT":64,"USER_THREAD_CLEAR_TITLE":65,"USER_OPEN_ANYONE_POST":66,"CRYPTO_MESSAGE_NOTICE_NO_TRANSMIT":67,"CRYPTO_MESSAGE_NOTICE_SEVEN_DAYS":68,"CRYPTO_MESSAGE_NOTICE_BURN_AFTER_READING":69,"USER_SET_CRYPTO_MESSAGE_BURN_LIFE":70,"USER_TOOK_SCREENSHOT_IN_CRYPTO_CHAT":71,"CRYPTO_LOW_VERSION_HINT":72,"INVITE_CHAT_MEMBER_2_OUT_CHAT":73,"CREATE_CHAT_AND_INVITE_FROM_CHAT_MEMBER":74,"AUTO_TRANSLATE_GUIDANCE":75,"WITHDRAW_ADDED_USER":76,"SAIPAN_REMIND_ONCALL_REPLY":77,"SAIPAN_REMIND_ONCALL_DONE":78,"SAIPAN_REMIND_ONCALL_AUTO_DONE":79,"SAIPAN_ADD_ONCALL":80,"USER_START_CRYPTO_GROUP":81,"USER_INVITE_OTHERS_JOIN_ONCALL":82,"VC_MEETING_STARTED":83,"USER_OPEN_ONLY_ADMIN_POST_THREAD":84,"USER_SPECIFY_MEMBERS_POST_THREAD":85,"USER_OPEN_ANYONE_POST_THREAD":86,"VC_MEETING_ENDED_OVER_ONE_HOUR":87,"INVITE_AT_CHATTERS":88,"VC_MEETING_ENDED_LESS_ONE_HOUR":89,"VC_MEETING_ENDED_LESS_ONE_MIN":90,"VC_DEFAULT_MEETING_ENDED_OVER_ONE_HOUR":91,"VC_DEFAULT_MEETING_ENDED_LESS_ONE_HOUR":92,"VC_DEFAULT_MEETING_ENDED_LESS_ONE_MIN":93,"VC_VIDEO_CHAT_STARTED":94,"VC_CALL_ENDED_OVER_ONE_HOUR":95,"VC_CALL_ENDED_LESS_ONE_HOUR":96,"VC_CALL_ENDED_LESS_ONE_MIN":97,"VC_CALL_DISCONNECTED_ENDED_OVER_ONE_HOUR":98,"VC_CALL_DISCONNECTED_ENDED_LESS_ONE_HOUR":99,"VC_CALL_DISCONNECTED_ENDED_LESS_ONE_MIN":100,"VC_CALL_INTERVIEWEE_NO_ANSWER":101,"VC_CALL_INTERVIEWEE_REFUSE":102,"VC_CALL_INTERVIEWER_CANCEL":103,"VC_CALL_INTERVIEWEE_BUSY":104,"VOIP_ENDED_OVER_ONE_HOUR":105,"VOIP_ENDED_LESS_ONE_HOUR":106,"VOIP_ENDED_LESS_ONE_MIN":107,"VOIP_DISCONNECTED_ENDED_OVER_ONE_HOUR":108,"VOIP_DISCONNECTED_ENDED_LESS_ONE_HOUR":109,"VOIP_DISCONNECTED_ENDED_LESS_ONE_MIN":110,"VOIP_INTERVIEWEE_NO_ANSWER":111,"VOIP_INTERVIEWEE_REFUSE":112,"VOIP_INTERVIEWER_CANCEL":113,"VOIP_INTERVIEWEE_BUSY":114,"SAIPAN_SELECT_CARD_CONTENT":115,"SAIPAN_USER_QUEUEING":116,"SAIPAN_NOTIFY_AGENT_QUEUEING":117,"SAIPAN_AGENT_ENTER_CHAT":118,"SAIPAN_RESERVED_4":119,"SAIPAN_RESERVED_5":120,"CANCEL_EMERGENCY_CALL":121,"HANGUP_EMERGENCY_CALL":122,"START_EMERGENCY_CALL":123,"MEETING_TRANSFER_TO_CHAT":124,"MEETING_TRANSFER_TO_CHAT_WITH_DOC_URL":125,"EXTERNAL_DATA_MIGRATION_LARK_MESSAGE_NOTIFY_1":126,"EXTERNAL_DATA_MIGRATION_LARK_MESSAGE_NOTIFY_2":127,"EXTERNAL_DATA_MIGRATION_LARK_MESSAGE_NOTIFY_3":128,"EXTERNAL_DATA_MIGRATION_LARK_MESSAGE_NOTIFY_4":129,"EXTERNAL_DATA_MIGRATION_LARK_MESSAGE_NOTIFY_5":130,"VC_CALL_INTERVIEWEE_NOT_ONLINE":131,"VOIP_INTERVIEWEE_NOT_ONLINE":132,"FOLDER_ROLE_ADD_FOR_INVITEE":133,"FOLDER_OBJ_MOVE_OUT":134,"FOLDER_OBJ_REMOVE":135,"FILE_OWNER_REMOVE_FOLDER_PERMISSION":136,"MESSAGE_PAYMENT_FRAUD_ALERT":137,"USER_JOIN_CHAT_AUTO_MUTE":138,"EMERGENCY_CALL_NOTANSWER":139,"INVITE_CHATTERS_TO_CHAT_NO_PERMISSION_LESS_THRESHOLD":140,"INVITE_CHATTERS_TO_CHAT_NO_PERMISSION_OVER_THRESHOLD":141,"USERS_UNABLE_TO_USE_CRYPTO_CHAT":142,"CHAT_ROOM_START":143,"USER_START_TOPIC_GROUP_AND_INVITE":144,"USER_MODIFY_TOPIC_GROUP_NAME":145,"USER_MODIFY_TOPIC_GROUP_AVATAR":146,"USER_START_TOPIC_GROUP":147,"USER_TURN_ON_GROUP_MAIL":148,"USER_TURN_OFF_GROUP_MAIL":149,"USER_CHANGE_GROUP_MAIL_PERMISSION_OWNER":150,"USER_CHANGE_GROUP_MAIL_PERMISSION_MEMBERS":151,"USER_CHANGE_GROUP_MAIL_PERMISSION_TENANT":152,"USER_CHANGE_GROUP_MAIL_PERMISSION_EVERYONE":153,"USER_JOIN_VIA_GROUP_LINK":154,"CHAT_ROOM_END":155,"CHAT_ROOM_START_V2":156,"SYSTEM_EPHEMERAL_NOTIFY":157,"BUILD_ONEWAY_RELATION":158,"INVITE_FRIENDS_SUCCESS":159,"CREATE_P2P_SOURCE":160,"SEND_MESSAGE_COLLABORATION_AUTH_FAILED":161,"NOT_COLLABORATION_AUTH_SEND_MSG_LIMIT_NOTIFY":162,"NOT_COLLABORATION_AUTH_SEND_MSG_REACH_LIMIT":163,"LARK_SERVER_SYSTEMCONTENT_PERMISSIONREQUESTAPPROVEDTIP":164,"LARK_SERVER_SYSTEMCONTENT_PERMISSIONREQUESTREJECTEDTIP":165,"SEND_MESSAGE_BE_BLOCKED":166,"USER_MODIFY_GROUP_OWNER":167,"TEMPLATE_GROUP_SHARE":168,"USER_INVITE_BOT_JOIN":169,"DOC_TEMPLATE_GROUP_SHARE":170,"SHEET_TEMPLATE_GROUP_SHARE":171,"MIND_NOTE_TEMPLATE_GROUP_SHARE":172,"USERS_HAVE_NO_DEVICES_TO_USE_CRYPTO_CHAT":173,"BlockedTipInChat":174,"CantChatUserPrivacySettings":175,"CantChatYourPrivacySettings":176,"RECEIVED_CONTACT_REQUEST_SECURITY_TIP":177,"NOT_CONTACT_MESSAGE_LIMIT_RECEIVER":178,"Lark_NewContacts_CantAddToContactsBlockedTip":179,"Lark_NewContacts_CantAddToContactsBlockedOthersTip":180,"Lark_NewContacts_ContactRequestSentPleaseWait":181,"LARK_NEWGUIDE_SEND_TO_MYSELF":183,"GROUP_MENTION_ALL_PERMISSION_SUGGESTION":182,"CHAT_WITH_NO_CONTACTS_REACH_DAILY_LIMIT":184,"CREATE_CIRCLE_AND_INVITE_OTHERS_FROM_CHAT":185,"MENTIONED_PERSON_NOT_IN_CIRCLE":186,"INVITE_MEMBERS_TO_JOIN_EXTERNAL_CIRCLE":187,"CIRCLE_CANT_ADD_MEMBERS_DUE_TO_ADMIN_SETTINGS":188,"CIRCLE_CANT_ADD_MANY_MEMBERS_DUE_TO_ADMIN_SETTINGS":189,"JOIN_CIRCLE_VIA_HELP_DESK_MSG_CARD":190,"CIRCLE_WELCOME_NEW_MEMBERS":191,"TRANSFER_CIRCLE_OWNER":192,"TRANSFER_CIRCLE_OWNER_AND_LEAVE":193,"CIRCLE_USER_CHANGE_DOC_PERMISSION":194,"USER_INVITE_BOT_JOIN_CIRCLE":195,"USER_INVITE_OTHERS_JOIN_CIRCLE":196,"USER_INVITE_OTHERS_JOIN_CIRCLE_BY_LINK":197,"CIRCLE_TOO_MANY_MEMBERS_NOTIFICATION_MUTED":198,"USER_INVITE_OTHERS_JOIN_CIRCLE_BY_QR_CODE":199,"USER_INVITE_OTHERS_JOIN_CIRCLE_BY_INVITATION_CARD":200,"USER_MODIFY_CIRCLE_AVATAR":201,"USER_MODIFY_CIRCLE_DESCRIPTION":202,"USER_MODIFY_CIRCLE_NAME":203,"USER_MODIFY_CIRCLE_OWNER":204,"USER_MODIFY_CIRCLE_SETTINGS":205,"USER_SET_ONLY_CIRCLE_OWNER_CAN_POST":206,"USER_SET_ONLY_CIRCLE_OWNER_CAN_CREATE_NEW_TOPICS":207,"USER_LEAVE_CIRCLE":208,"USER_REMOVE_CIRCLE_DESCRIPTION":209,"USER_REMOVE_CIRCLE_MEMBERS":210,"USER_CREATE_CIRCLE":211,"USER_CREATE_CIRCLE_AND_INVITE":212,"USER_SYNC_MESSAGE_TO_CIRCLE":213,"USER_CLEAR_CIRCLE_ANNOUNCEMENT":214,"USER_WITHDRAW_CIRCLE_INVITATION":215,"CIRCLE_ANONYMOUS_ON":216,"CIRCLE_ANONYMOUS_OFF":217,"CREATE_CROSS_WITH_KA_CHAT_NOTIFICATION":218,"Lark_PrivacySettings_EnableSuccessfully_Toast":219,"CP_ViewDifference_FeishuLink":220,"CP_ViewDifference_LarkLink":221,"Lark_HelpDesk_BotTransferredNote":222,"INVITE_CHAT_MEMBER_2_CHAT":300,"WILL_REACH_CHAT_CHATTER_COUNT_LIMIT":301,"ALREADY_REACH_CHAT_CHATTER_COUNT_LIMIT":302,"USER_CREATE_FACE_TO_FACE_CHAT":303,"USER_JOIN_FACE_TO_FACE_CHAT":304,"WELCOME_USER_JOIN_FACE_TO_FACE_CHAT":305,"USER_CREATED_GROUP_AND_INVITED_OTHER_CHATTER_CHAT_DEPARTMENT":306,"USER_INVITE_OTHERS_CHATTER_CHAT_DEPARTMENT_JOIN":307,"CREATE_CHAT_AND_INVITE_FROM_CHAT_DEPARTMENT_MEMBER":308,"USER_OPEN_ONLY_SEPECIFY_MEMBERS_POST":309,"USER_OPEN_ONLY_SEPECIFY_MEMBERS_POST_THREAD":310,"USER_REMOVE_SEPECIFY_MEMBERS_POST":311,"USER_REMOVE_SEPECIFY_MEMBERS_POST_THREAD":312,"ADD_MEMBER_TO_ADMIN_LIST":313,"REMOVE_MEMBER_FROM_ADMIN_LIST":314,"NEED_UPDATE_VERSION_TO_SUPPORT_ADMIN":315,"MENTION_ALL_PERMISSION_SUGGESTION_TO_ADMIN":316,"USER_OPEN_ONLY_OWNER_AND_ADMIN_POST":317,"USER_OPEN_ONLY_OWNER_AND_ADMIN_POST_THREAD":318,"ADMIN_OPEN_ANYONE_POST":319,"ADMIN_OPEN_ANYONE_POST_THREAD":320,"SAIPAN_BOT_ONLY_HELPDESK":321,"USER_CHANGE_GROUP_MAIL_PERMISSION_OWNER_OR_ADMIN":322,"GROUP_NEW_MEMBERS_VIEW_CHAT_HISTORY_ON":323,"GROUP_NEW_MEMBERS_VIEW_CHAT_HISTORY_OFF":324,"GROUP_NEW_MEMBERS_CAN_VIEW_HISTORY_MESSAGES":325,"CIRCLE_WELCOME_NEW_MEMBERS_NO_HISTORY":326,"JOIN_CIRCLE_VIA_HELP_DESK_MSG_CARD_NO_HISTORY":327,"USER_INVITE_OTHERS_JOIN_CIRCLE_NO_HISTORY":328,"USER_INVITE_OTHERS_JOIN_CIRCLE_BY_INVITATION_CARD_NO_HISTORY":329,"USER_INVITE_OTHERS_JOIN_CIRCLE_BY_LINK_NO_HISTORY":330,"USER_INVITE_OTHERS_JOIN_CIRCLE_BY_QR_CODE_NO_HISTORY":331,"USER_INVITE_OTHERS_CHATTER_CHAT_DEPARTMENT_JOIN_NEW":338,"USER_INVITE_OTHERS_CHATTER_CHAT_DEPARTMENT_JOIN_NO_HISTORY":332,"USER_JOIN_VIA_QR_NEW":339,"USER_JOIN_VIA_QR_CODE_NO_HISTORY":333,"USER_JOIN_CHAT_WELCOME_MESSAGE":334,"USER_JOIN_CHAT_WELCOME_MESSAGE_NO_HISTORY":335,"USER_INVITE_OTHERS_JOIN_CHAT_MESSAGE":336,"USER_INVITE_OTHERS_JOIN_CHAT_MESSAGE_NO_HISTORY":337,"USER_JOIN_VIA_SHARE_NEW":340,"USER_JOIN_VIA_SHARE_NO_HISTORY":341,"USER_JOIN_CHAT_BY_LINK":342,"USER_JOIN_CHAT_BY_LINK_NO_HISTORY":343,"HELP_DESK_USER_JOIN_CHAT":344,"HELP_DESK_USER_JOIN_CHAT_NO_HISTORY":345,"CREATE_URGENT_ONLY_OWNER_AND_ADMIN_ON":346,"CREATE_URGENT_ONLY_OWNER_AND_ADMIN_OFF":347,"UPGRADE_SUPER_CHAT":348,"ADD_CHAT_TAB":349,"DEL_CHAT_TAB":350,"ONLY_ADMINS_CAN_PIN":351,"ALL_MEMBERS_CAN_PIN":352,"ONLY_ADMINS_CAN_CREATE_VIDEO_CONFERENCE":353,"ALL_MEMBERS_CAN_CREATE_VIDEO_CONFERENCE":354,"ONLY_ADMINS_CAN_EDIT_CHAT_INFO":355,"ALL_MEMBERS_CAN_EDIT_CHAT_INFO":356,"ONLY_ADMINS_CAN_AT_ALL_MEMBERS":357,"ALL_MEMBERS_CAN_AT_ALL_MEMBERS":358,"ONLY_ADMINS_CAN_ADD_MEMBERS_AND_SHARE":359,"ALL_MEMBERS_CAN_ADD_MEMBERS_AND_SHARE":360,"CHAT_MEMBER_REACH_MANAGE_LIMIT":361,"EXTERNAL_COORDINATE_CTL":401,"TARGET_EXTERNAL_COORDINATE_CTL":402,"CHAT_OPEN_CAN_SEARCH_SYSTEM_MESSAGE":403,"CHAT_CLOSED_CAN_SEARCH_SYSTEM_MESSAGE":404,"BITABLE_TEMPLATE_GROUP_SHARE_SYSTEM_MESSAGE":405,"MOMENTS_START_SECRET_CHAT_ABOUT_MESSAGE":406,"CREATE_TEAM_AND_INVITE_MEMBERS":501,"UPDATE_CHAT_TO_TEAM":502,"INVITE_MEMBERS_JOIN_TEAM":503,"MEMBERS_JOIN_TEAM_FAIL":504,"KICK_MEMBERS_OUT_TEAM":505,"MEMBER_LEAVE_TEAM":506,"TRANSFER_TEAM_OWNER":507,"MODIFY_TEAM_NAME":508,"ENABLE_TEAM_CREATE_CHAT_PERMISSION":509,"CLOSE_TEAM_CREATE_CHAT_PERMISSION":510,"ENABLE_TEAM_ADD_MEMBERS_PERMISSION":511,"CLOSE_TEAM_ADD_MEMBERS_PERMISSION":512,"DISSOLVE_TEAM_AND_UNBIND_CHAT":513,"CREATE_TEAM_CHAT":514,"BIND_CHAT_INTO_TEAM":515,"UNBIND_CHAT_WITH_TEAM":516,"MEMBERS_JOIN_TEAM_CHAT_SEE_HISTORICAL":517,"MEMBERS_JOIN_TEAM_CHAT_SEE_NEW_MESSAGES":518,"MEMBERS_JOIN_TEAM_CHAT_FAIL":519,"MEMBERS_LEAVE_AND_TRANSFER":520,"USER_CREATE_TEAM":521,"CHECK_USER_PHONE_NUMBER":522,"CHECK_USER_PHONE_USER_IN_WHITELIST":523,"CantBuzzEmptyPhoneNumber":524,"CantBuzzEmptyName":525,"BuzzLimit":526,"BuzzSystemError":527,"BuzzTimeOut":528,"CantBuzzMembers":529,"BuzzNotAnswer":530,"MultiItemSystemContent":531,"VC_ENTERPRISE_PHONE_CREATE":532,"MODIFY_TEAM_AVATAR":533,"MODIFY_TEAM_DESCRIPTION":534,"DELETE_TEAM_DESCRIPTION":535,"ENABLE_ADD_TEAM_MEMBERS_PERMISSION":536,"CLOSE_ADD_TEAM_MEMBERS_PERMISSION":537,"ENABLE_BIND_TEAM_CHAT_PERMISSION":538,"CLOSE_BIND_TEAM_CHAT_PERMISSION":539}},"ContentValueType":{"values":{"UNKNOWN_VALUE_TYPE":0,"USER":1,"BOT":2,"TEXT":3,"CHAT":4,"CHATTER":5,"URL":6,"ACTION":7,"DEPARTMENT":8}},"ContentValue":{"fields":{"id":{"type":"string","id":1,"options":{"deprecated":true}},"type":{"type":"ContentValueType","id":2,"options":{"deprecated":true}},"ids":{"rule":"repeated","type":"string","id":3,"options":{"deprecated":true}},"text":{"type":"string","id":4,"options":{"deprecated":true}},"items":{"rule":"repeated","type":"Item","id":5},"link":{"type":"string","id":6,"options":{"deprecated":true}},"action":{"type":"SystemMessageAction","id":7,"options":{"deprecated":true}},"isClickable":{"type":"bool","id":8,"options":{"deprecated":true}}},"nested":{"Item":{"fields":{"type":{"type":"ContentValueType","id":1},"id":{"type":"string","id":2},"text":{"type":"string","id":3},"link":{"type":"string","id":4},"i18nText":{"keyType":"string","type":"string","id":5},"action":{"type":"SystemMessageAction","id":6,"options":{"deprecated":true}},"actionId":{"type":"int32","id":7},"isClickable":{"type":"bool","id":8}}}}},"E2EEContent":{"fields":{"fromId":{"type":"string","id":1},"toId":{"type":"string","id":2},"triggerId":{"type":"string","id":3}}},"VideoConferenceContent":{"fields":{"fromId":{"type":"string","id":1},"toId":{"type":"string","id":2},"durationTime":{"type":"string","id":3},"meetingId":{"type":"string","id":4},"passcode":{"type":"string","id":5},"feedbackStatus":{"type":"string","id":6},"fromFeedbackStatus":{"type":"string","id":7},"toFeedbackStatus":{"type":"string","id":8},"isVoiceCall":{"type":"bool","id":9}}},"HongbaoContent":{"fields":{"i18nName":{"keyType":"string","type":"string","id":1},"hongbaoId":{"type":"string","id":2},"messageId":{"type":"string","id":3}}},"DocsPermissionType":{"values":{"UNKNOWN_PERMISSION_TYPE":0,"READABLE":1,"WRITABLE":2}},"DocEntity":{"fields":{"elementEntityRef":{"keyType":"string","type":"ElementEntity","id":1,"options":{"deprecated":true}}},"nested":{"ElementEntity":{"fields":{"title":{"type":"string","id":1,"options":{"deprecated":true}},"docType":{"type":"DocType","id":2,"options":{"deprecated":true}},"strDocType":{"type":"string","id":3,"options":{"deprecated":true}},"docToken":{"type":"string","id":4,"options":{"deprecated":true}}}}}}}},"MinVersion":{"fields":{"minVersion":{"type":"string","id":1},"androidMinVersion":{"type":"string","id":2},"iosMinVersion":{"type":"string","id":3},"pcMinVersion":{"type":"string","id":4}}},"CardContent":{"fields":{"type":{"rule":"required","type":"Type","id":1},"richtext":{"rule":"required","type":"RichText","id":2},"actions":{"keyType":"string","type":"CardAction","id":3},"extra":{"type":"ExtraType","id":4},"minVersion":{"type":"MinVersion","id":5},"cardDesc":{"type":"string","id":6},"cardVersion":{"type":"int32","id":7},"cardHeader":{"type":"CardHeader","id":8},"wideScreenMode":{"type":"bool","id":9,"options":{"default":false}},"botId":{"type":"int64","id":10},"extraInfo":{"type":"ExtraInfo","id":11},"appId":{"type":"int64","id":12},"tenantId":{"type":"int64","id":13},"enableForward":{"type":"bool","id":14},"source":{"type":"SourceType","id":15},"compactWidth":{"type":"bool","id":16}},"nested":{"Type":{"values":{"UNKNOWN_TYPE":0,"VOTE":1,"TEXT":2,"VCHAT":3}},"ExtraType":{"values":{"UNKNOWN":0,"SENDER_CANNOT_CLICK":1}},"SourceType":{"values":{"UNKNOWN_Source":0,"APP_BOT":1,"SUITE_BOT":2,"USER":3}},"CardHeader":{"fields":{"title":{"type":"string","id":1},"titleI18nKey":{"type":"string","id":2},"style":{"keyType":"string","type":"string","id":3},"titleI18n":{"keyType":"string","type":"string","id":4},"theme":{"type":"string","id":5}}},"ExtraInfo":{"fields":{"gadgetConfig":{"type":"GadgetConfig","id":1},"customConfig":{"type":"CustomConfig","id":2}}},"GadgetConfig":{"fields":{"isPreload":{"type":"bool","id":1,"options":{"default":false}}}},"CustomConfig":{"fields":{"analyticsData":{"type":"string","id":1}}}}},"CardActionPacket":{"fields":{"cid":{"type":"string","id":1},"parameters":{"type":"CardAction.Parameters","id":2},"payload":{"type":"bytes","id":3}}},"CardAction":{"fields":{"url":{"rule":"required","type":"string","id":1},"method":{"rule":"required","type":"Method","id":2},"requiredParameters":{"type":"RequiredParameters","id":3},"parameters":{"type":"Parameters","id":4},"cmd":{"type":"improto.Command","id":5},"packet":{"type":"CardActionPacket","id":6},"openUrl":{"type":"Url","id":7}},"nested":{"Method":{"values":{"UNKNOWN_METHOD":0,"GET":1,"POST":2,"LARK_COMMAND":3,"OPEN_URL":4}},"Url":{"fields":{"url":{"type":"string","id":1},"iosUrl":{"type":"string","id":2},"androidUrl":{"type":"string","id":3},"pcUrl":{"type":"string","id":4}}},"RequiredParameters":{"fields":{"needUserInfo":{"type":"bool","id":1,"options":{"default":false}},"needMessageInfo":{"type":"bool","id":2,"options":{"default":false}},"needUserId":{"type":"bool","id":3,"options":{"default":false}},"needMessageId":{"type":"bool","id":4,"options":{"default":false}}}},"UserInfo":{"fields":{"userOpenId":{"type":"string","id":1}}},"MessageInfo":{"fields":{"messageOpenId":{"type":"string","id":2}}},"Parameters":{"fields":{"parameters":{"keyType":"string","type":"string","id":1},"userInfo":{"type":"UserInfo","id":2},"messageInfo":{"type":"MessageInfo","id":3},"userId":{"type":"string","id":4},"messageId":{"type":"string","id":5}}}}},"SpecialURL":{"values":{"UNKNOWN_URL":0,"BEAR":1}},"RichTextElement":{"fields":{"tag":{"rule":"required","type":"Tag","id":1},"style":{"keyType":"string","type":"string","id":2},"property":{"rule":"required","type":"bytes","id":3},"childIds":{"rule":"repeated","type":"string","id":4},"styleKeys":{"rule":"repeated","type":"string","id":5}},"nested":{"Tag":{"values":{"UNKNOWN_TAG":0,"TEXT":1,"IMG":2,"P":3,"FIGURE":4,"AT":5,"A":6,"B":7,"I":8,"U":9,"EMOTION":10,"BUTTON":11,"SELECT":12,"PROGRESS_SELECT_OPTION":13,"DIV":14,"TEXTABLE_AREA":15,"TIME":16,"LINK":17,"MEDIA":18,"SELECTMENU":19,"OVERFLOWMENU":20,"DATEPICKER":21,"DOCS":22,"H1":23,"H2":24,"H3":25,"UL":26,"OL":27,"LI":28,"QUOTE":29,"CODE":30,"CODE_BLOCK":31,"HR":32,"TIMEPICKER":33,"DATETIMEPICKER":34,"REACTION":35,"MENTION":36}},"ParagraphProperty":{"fields":{}},"FigureProperty":{"fields":{}},"TextProperty":{"fields":{"content":{"rule":"required","type":"string","id":1},"i18nKey":{"type":"string","id":2},"numberOfLines":{"type":"int32","id":3,"options":{"default":0}}}},"ItalicProperty":{"fields":{"content":{"rule":"required","type":"string","id":1},"i18nKey":{"type":"string","id":2}}},"BoldProperty":{"fields":{"content":{"rule":"required","type":"string","id":1},"i18nKey":{"type":"string","id":2}}},"UnderlineProperty":{"fields":{"content":{"rule":"required","type":"string","id":1},"i18nKey":{"type":"string","id":2}}},"AnchorProperty":{"fields":{"href":{"rule":"required","type":"string","id":1},"content":{"rule":"required","type":"string","id":2},"textContent":{"type":"string","id":3},"specialUrl":{"type":"SpecialURL","id":4},"i18nKey":{"type":"string","id":5},"iosHref":{"type":"string","id":6},"androidHref":{"type":"string","id":7},"pcHref":{"type":"string","id":8}}},"AtProperty":{"fields":{"userId":{"rule":"required","type":"string","id":1},"content":{"rule":"required","type":"string","id":2}}},"MentionProperty":{"fields":{"item":{"rule":"required","type":"MentionItem","id":1},"content":{"rule":"required","type":"string","id":2}}},"MentionItem":{"fields":{"id":{"rule":"required","type":"string","id":1},"type":{"rule":"required","type":"MentionType","id":2}},"nested":{"MentionType":{"values":{"UNKNOWN_MENTION_TYPE":0,"HASH_TAG":1,"MOMENTS_HASHTAG":2}}}},"ImageProperty":{"fields":{"token":{"type":"string","id":2,"options":{"default":""}},"alt":{"type":"string","id":10,"options":{"default":""}},"altI18nKey":{"type":"string","id":11,"options":{"default":""}},"imgCanPreview":{"type":"bool","id":12,"options":{"default":false}},"cipher":{"type":"Cipher","id":3},"cipherType":{"type":"Crypto.Type","id":19},"originKey":{"type":"string","id":4,"options":{"default":""}},"fsUnit":{"type":"string","id":9},"urls":{"rule":"repeated","type":"string","id":1,"options":{"deprecated":true}},"middleKey":{"type":"string","id":5,"options":{"default":""}},"thumbKey":{"type":"string","id":6,"options":{"default":""}},"originWidth":{"type":"int32","id":7,"options":{"default":0}},"originHeight":{"type":"int32","id":8,"options":{"default":0}},"thumbnailWebp":{"type":"Image","id":13},"middleWebp":{"type":"Image","id":14},"middleMp4":{"type":"Image","id":15},"cover":{"type":"Image","id":16},"image":{"type":"ImageSetV2","id":17},"customWidth":{"type":"int32","id":18},"isOriginSource":{"type":"bool","id":20},"originSize":{"type":"uint64","id":21}}},"ReactionProperty":{"fields":{"key":{"rule":"required","type":"string","id":1}}},"EmotionProperty":{"fields":{"key":{"rule":"required","type":"string","id":1}}},"ButtonProperty":{"fields":{"actionId":{"type":"string","id":1},"disable":{"type":"bool","id":2,"options":{"default":false}},"active":{"type":"bool","id":3,"options":{"default":false}},"confirm":{"type":"ButtonConfirmProperty","id":4},"loading":{"type":"ButtonLoadingProperty","id":5},"mode":{"type":"string","id":6}}},"ButtonConfirmProperty":{"fields":{"title":{"rule":"required","type":"string","id":1},"text":{"rule":"required","type":"string","id":2},"confirm":{"rule":"required","type":"string","id":3},"dismiss":{"rule":"required","type":"string","id":4},"titleI18nKey":{"type":"string","id":5},"textI18nKey":{"type":"string","id":6},"confirmI18nKey":{"type":"string","id":7},"dismissI18nKey":{"type":"string","id":8}}},"ButtonLoadingProperty":{"fields":{"begin":{"rule":"required","type":"string","id":1},"success":{"rule":"required","type":"string","id":2},"fail":{"rule":"required","type":"string","id":3},"beginI18nKey":{"type":"string","id":4},"successI18nKey":{"type":"string","id":5},"failI18nKey":{"type":"string","id":6}}},"SelectProperty":{"fields":{"minPickNum":{"type":"int32","id":4,"options":{"default":1}},"maxPickNum":{"type":"int32","id":5,"options":{"default":1}}}},"SelectMenuProperty":{"fields":{"type":{"type":"Type","id":1},"actionId":{"type":"string","id":2},"placeHolder":{"type":"string","id":3},"placeHolderI18nKey":{"type":"string","id":4},"initialOption":{"type":"string","id":5},"options":{"rule":"repeated","type":"MenuOption","id":6},"confirm":{"type":"ButtonConfirmProperty","id":7}},"nested":{"Type":{"values":{"UNKNOWN":0,"STATIC":1,"PERSON":2}}}},"MenuOption":{"fields":{"text":{"type":"string","id":1},"textI18nKey":{"type":"string","id":2},"value":{"type":"string","id":3},"url":{"type":"CardAction.Url","id":4},"optionActionId":{"type":"string","id":5}}},"OverflowMenuProperty":{"fields":{"actionId":{"type":"string","id":1},"options":{"rule":"repeated","type":"MenuOption","id":2},"confirm":{"type":"ButtonConfirmProperty","id":3}}},"DatePickerProperty":{"fields":{"actionId":{"type":"string","id":1},"placeHolder":{"type":"string","id":2},"placeHolderI18nKey":{"type":"string","id":3},"initialDate":{"type":"string","id":4},"confirm":{"type":"ButtonConfirmProperty","id":5}}},"TimePickerProperty":{"fields":{"actionId":{"type":"string","id":1},"placeHolder":{"type":"string","id":2},"placeHolderI18nKey":{"type":"string","id":3},"initialTime":{"type":"string","id":4},"confirm":{"type":"ButtonConfirmProperty","id":5}}},"DatetimePickerProperty":{"fields":{"actionId":{"type":"string","id":1},"placeHolder":{"type":"string","id":2},"placeHolderI18nKey":{"type":"string","id":3},"initialDatetime":{"type":"string","id":4},"confirm":{"type":"ButtonConfirmProperty","id":5}}},"ProgressSelectOptionProperty":{"fields":{"actionId":{"type":"string","id":1},"actionParamName":{"type":"string","id":2},"actionParamValue":{"type":"string","id":3},"disable":{"type":"bool","id":4,"options":{"default":false}},"selected":{"type":"bool","id":5,"options":{"default":false}},"optionCase":{"type":"string","id":6},"content":{"type":"string","id":7},"numberOfSelected":{"type":"int32","id":8},"numberOfTotal":{"type":"int32","id":9}}},"DivProperty":{"fields":{}},"TextableAreaProperty":{"fields":{"numberOfLines":{"type":"int32","id":1,"options":{"default":0}}}},"TimeProperty":{"fields":{"millisecondSince1970":{"rule":"required","type":"int64","id":1},"format":{"type":"string","id":2,"options":{"default":"YYYY.MM.DD(dddd) HH:mm (GMT)"}}}},"LinkProperty":{"fields":{"url":{"type":"string","id":1},"iosUrl":{"type":"string","id":2},"androidUrl":{"type":"string","id":3},"pcUrl":{"type":"string","id":4},"specialUrl":{"type":"SpecialURL","id":5},"scene":{"type":"LinkScene","id":6}},"nested":{"LinkScene":{"values":{"UNKNOWN":0,"CardLink":1,"ContentLink":2,"FooterLink":3}}}},"MediaProperty":{"fields":{"key":{"type":"string","id":1},"name":{"type":"string","id":2},"size":{"type":"int64","id":3},"mime":{"type":"string","id":4},"source":{"type":"Source","id":5},"image":{"type":"ImageSet","id":6},"duration":{"type":"int32","id":7},"fsUnit":{"type":"string","id":8},"cryptoToken":{"type":"string","id":9}},"nested":{"Source":{"values":{"UNKNOWN":0,"LARK":1}}}},"DocsProperty":{"fields":{}},"H1Property":{"fields":{}},"H2Property":{"fields":{}},"H3Property":{"fields":{}},"ULProperty":{"fields":{"type":{"type":"Type","id":1}},"nested":{"Type":{"values":{"DISC":0,"CIRCLE":1,"SQUARE":2,"NONE":3}}}},"OLProperty":{"fields":{"type":{"type":"Type","id":1},"start":{"type":"int32","id":2,"options":{"default":1}}},"nested":{"Type":{"values":{"NUMBER":0,"LOWERCASE_A":1,"UPPERCASE_A":2,"LOWERCASE_ROMAN":3,"UPPERCASE_ROMAN":4,"NONE":5}}}},"LIProperty":{"fields":{}},"QuoteProperty":{"fields":{}},"CodeProperty":{"fields":{}},"CodeBlockProperty":{"fields":{"language":{"type":"Language","id":1},"content":{"type":"string","id":2},"styleRefs":{"rule":"repeated","type":"StyleRef","id":3},"styles":{"rule":"repeated","type":"Style","id":4}},"nested":{"Language":{"values":{"JS":0,"APACHE":1,"BASH":2,"CS":3,"CPLUSPLUS":4,"COFFE_SCRIPT":5,"HTML":6,"XML":7,"HTTP":8,"JSON":9,"JAVA":10,"MAKEFILE":11,"MARKDOWN":12,"NGINX":13,"OBJC":14,"PHP":15,"PERL":16,"PYTHON":17,"RUBY":18,"SQL":19,"SHELL":20,"GO":21,"SCSS":22,"LUA":23,"DJANGO":24,"KOTLIN":25}},"StyleType":{"values":{"CUSTOMIZE":0,"GRAMMAR":1}},"Style":{"fields":{"type":{"type":"StyleType","id":1},"name":{"type":"string","id":2},"value":{"type":"string","id":3}}},"StyleRef":{"fields":{"location":{"type":"int32","id":1,"options":{"default":0}},"length":{"type":"int32","id":2,"options":{"default":0}},"styleIds":{"rule":"repeated","type":"int32","id":3,"options":{"packed":false}}}}}},"HRProperty":{"fields":{}}}},"RichTextElements":{"fields":{"dictionary":{"keyType":"string","type":"RichTextElement","id":1},"styleRefs":{"keyType":"string","type":"RichTextElementStyleRefs","id":2},"styles":{"rule":"repeated","type":"RichTextStyle","id":3}},"nested":{"RichTextStyle":{"fields":{"name":{"type":"string","id":1},"value":{"type":"string","id":2}}},"RichTextElementStyleRefs":{"fields":{"styleIds":{"rule":"repeated","type":"int32","id":1,"options":{"packed":false}}}}}},"RichText":{"fields":{"elementIds":{"rule":"repeated","type":"string","id":1},"innerText":{"rule":"required","type":"string","id":2},"elements":{"rule":"required","type":"RichTextElements","id":3},"imageIds":{"rule":"repeated","type":"string","id":5},"atIds":{"rule":"repeated","type":"string","id":6},"anchorIds":{"rule":"repeated","type":"string","id":7},"i18nIds":{"rule":"repeated","type":"string","id":8},"mediaIds":{"rule":"repeated","type":"string","id":9},"docsIds":{"rule":"repeated","type":"string","id":10},"interactiveIds":{"rule":"repeated","type":"string","id":11},"mentionIds":{"rule":"repeated","type":"string","id":12},"version":{"type":"int32","id":13}}},"EmailSystemEvent":{"fields":{"chatterId":{"type":"string","id":1},"to":{"rule":"repeated","type":"EmailMember","id":2},"cc":{"rule":"repeated","type":"EmailMember","id":3}}},"ShareGroupChatContent":{"fields":{"chat":{"type":"Chat","id":1},"joinToken":{"type":"string","id":2},"expireTime":{"type":"int64","id":3},"chatId":{"type":"string","id":4}}},"ShareUserCardContent":{"fields":{"userId":{"type":"string","id":1},"avatarImage":{"type":"Image","id":2},"name":{"type":"string","id":3},"enUsName":{"type":"string","id":4},"internationalName":{"keyType":"string","type":"string","id":5}}},"StickerContent":{"fields":{"key":{"type":"string","id":4},"width":{"type":"int32","id":5},"height":{"type":"int32","id":6},"image":{"type":"Image","id":7},"fsUnit":{"type":"string","id":8},"stickerSetId":{"type":"string","id":9},"stickerId":{"type":"string","id":10}}},"MergeForwardContent":{"fields":{"messages":{"rule":"repeated","type":"Message","id":1},"chatType":{"type":"Chat.Type","id":2},"groupChatName":{"type":"string","id":3},"p2pCreatorName":{"type":"string","id":4},"p2pPartnerName":{"type":"string","id":5},"creatorI18nNames":{"keyType":"string","type":"string","id":9},"partnerI18nNames":{"keyType":"string","type":"string","id":10},"chatters":{"keyType":"string","type":"ChatterInfo","id":6},"reactionSnapshots":{"keyType":"string","type":"MessageReaction","id":11},"thread":{"type":"Thread","id":12},"i18nThreadTitle":{"keyType":"string","type":"string","id":13}},"nested":{"ChatterInfo":{"fields":{"id":{"type":"string","id":1},"name":{"type":"string","id":2},"avatar":{"type":"ImageSet","id":3,"options":{"deprecated":true}},"type":{"type":"ChatterType","id":4},"avatarEntity":{"type":"Image","id":5},"isAnonymous":{"type":"bool","id":6},"i18nName":{"keyType":"string","type":"string","id":7}}}}},"I18nInfo":{"fields":{"isI18nMessage":{"type":"bool","id":1,"options":{"default":false}},"locale":{"type":"string","id":2,"options":{"default":"zh_cn"}}}},"ExternalSearch":{"fields":{"id":{"rule":"required","type":"string","id":1},"title":{"type":"string","id":2},"iconUrl":{"type":"string","id":3}}},"AppConfig":{"fields":{"messageConfig":{"type":"MessageConfig","id":1},"chatConfig":{"type":"ChatConfig","id":2},"voiceCallConfig":{"type":"VoiceCallConfig","id":3},"urlConfig":{"type":"URLConfig","id":4},"resource":{"type":"Resource","id":5},"billingPackage":{"type":"BillingPackageConfig","id":6},"urlRegex":{"type":"URLRegex","id":7},"zendesk":{"type":"Zendesk","id":8},"androidAppStores":{"rule":"repeated","type":"string","id":9},"guideToRateDelayHours":{"type":"int32","id":10},"searchConfig":{"type":"SearchConfig","id":11},"bannerConfig":{"type":"BannerConfig","id":12},"cryptoChatState":{"type":"CryptoChatState","id":13},"lanTrans":{"type":"LANTrans","id":14}},"nested":{"MessageConfig":{"fields":{"maxRecallTimeLimit":{"type":"int64","id":1,"options":{"default":1440}}}},"ChatConfig":{"fields":{"maxMemberCount":{"type":"int32","id":1,"options":{"default":2000}},"postPermission":{"type":"ChatPostPermission","id":2},"withdrawChatterExpirationByHour":{"type":"int32","id":3},"maxOriginGroupChatUserCount_4CreateExternalChat":{"type":"int32","id":4}},"nested":{"ChatPostPermission":{"fields":{"openToThread":{"type":"bool","id":1,"options":{"default":false}}}}}},"VoiceCallConfig":{"fields":{"heartbeatCycle":{"type":"int32","id":2,"options":{"default":3}},"heartbeatExpiredTime":{"type":"int32","id":3,"options":{"default":12}}}},"BillingPackageConfig":{"fields":{"chatNumberLimit":{"type":"int64","id":1,"options":{"default":-1}},"chatBotLimit":{"type":"int64","id":2,"options":{"default":-1}},"appNumberLimit":{"type":"int64","id":3,"options":{"default":-1}},"buzzLimit":{"type":"int64","id":20,"options":{"default":-1}},"hasSecretChat":{"type":"bool","id":30,"options":{"default":true}},"docNumberLimit":{"type":"int64","id":100,"options":{"default":-1}},"videochatParticipantLimit":{"type":"int64","id":200,"options":{"default":-1}},"videochatDurationLimit":{"type":"int64","id":201,"options":{"default":-1}},"isOpenAutoTranslation":{"type":"bool","id":300,"options":{"default":true}},"isLarkHongbaoEnable":{"type":"bool","id":400,"options":{"default":true}}}},"URLConfig":{"fields":{"domain":{"type":"Domain","id":1},"docDomains":{"rule":"repeated","type":"Domain","id":2},"createDocAddr":{"type":"string","id":3},"urlPreviewTimeWait":{"type":"int32","id":4,"options":{"default":1}}},"nested":{"Domain":{"fields":{"domain":{"type":"string","id":1}}}}},"Resource":{"fields":{"addrs":{"keyType":"string","type":"string","id":1}}},"URLRegex":{"fields":{"regexes":{"keyType":"int32","type":"string","id":1},"timeOut":{"type":"int32","id":2,"options":{"default":300}}}},"SearchConfig":{"fields":{"externalSearches":{"rule":"repeated","type":"ExternalSearch","id":3}}},"Zendesk":{"oneofs":{"entry":{"oneof":["webFormUrl","oncallChat"]}},"fields":{"webFormUrl":{"type":"string","id":1},"oncallChat":{"type":"bool","id":2},"pattern":{"type":"string","id":100}}},"BannerConfig":{"fields":{"notificationRefreshTime":{"type":"int32","id":1}}},"CryptoChatState":{"values":{"UNKNOWN":0,"ALLOW":1,"BLOCK":2,"DEFAULT":3}},"LANTrans":{"fields":{"lanTransMinSizeMb":{"type":"int32","id":1}}}}},"AppConfigV2":{"fields":{"version":{"rule":"required","type":"int64","id":1},"updateTime":{"type":"int64","id":2},"section":{"type":"Section","id":100}},"nested":{"Source":{"values":{"UNKNOWN":0,"DEFAULT":1,"LEAN_MODE":2}},"FeatureConf":{"fields":{"isOn":{"rule":"required","type":"bool","id":1},"traits":{"type":"string","id":2}}},"Section":{"fields":{"features":{"keyType":"string","type":"FeatureConf","id":2}}}}},"NotificationSetting":{"oneofs":{"method":{"oneof":["all","specificMessages","noNotificaion"]}},"fields":{"all":{"type":"bool","id":1},"specificMessages":{"type":"SpecificNotification","id":2},"noNotificaion":{"type":"bool","id":3}},"nested":{"SpecificNotification":{"fields":{"mention":{"type":"bool","id":1},"buzz":{"type":"bool","id":2}}}}},"MessengerNotificationSetting":{"fields":{"switchState":{"rule":"required","type":"SwithState","id":1},"buzzOpen":{"type":"bool","id":2},"reactionOpen":{"type":"bool","id":3,"options":{"deprecated":true}},"mentionOpen":{"type":"bool","id":4},"p2pChatOpen":{"type":"bool","id":5,"options":{"deprecated":true}},"groupChatOpen":{"type":"bool","id":6,"options":{"deprecated":true}},"userP2pChatOpen":{"type":"bool","id":7},"mentionAllOpen":{"type":"bool","id":8}},"nested":{"SwithState":{"values":{"UNKNOWN_STATE":0,"CLOSED":1,"HALF_OPEN":2,"OPEN":3}}}},"DriveNotificationSetting":{"fields":{"notifyOpen":{"type":"bool","id":1}}},"NotificationSettingV2":{"fields":{"messengerSetting":{"type":"bytes","id":1},"driveSetting":{"type":"bytes","id":2}}},"UserSetting":{"fields":{"workStatusSetting":{"type":"WorkStatusSetting","id":1},"badgeSetting":{"type":"BadgeSetting","id":2},"notificationSetting":{"type":"NotificationSetting","id":3},"timeFormatSetting":{"type":"TimeFormatSetting","id":4},"autoAudioToText":{"type":"bool","id":5},"smsPhoneUrgentSetting":{"type":"SmsPhoneUrgentSetting","id":6},"updateTimeMs":{"type":"int64","id":20},"donotDisturbBeforeMs":{"type":"int64","id":21},"feedSetting":{"type":"FeedSetting","id":22},"notificationSettingV2":{"type":"NotificationSettingV2","id":23},"messageNotificationsOffDuringCalls":{"type":"bool","id":24,"options":{"default":true}},"navigationShowMuteBadge":{"type":"bool","id":25,"options":{"default":true}}},"nested":{"WorkStatusSetting":{"fields":{"shouldNotifyWorkStatus":{"type":"bool","id":1,"options":{"default":true}}}},"BadgeSetting":{"fields":{"style":{"type":"Style","id":1,"options":{"default":"DEFAULT"}}},"nested":{"Style":{"values":{"UNKNOWN":0,"DEFAULT":1,"RED_POINT":2}}}},"TimeFormatSetting":{"fields":{"timeFormat":{"type":"TimeFormat","id":1,"options":{"default":"TWELVE_HOUR"}}},"nested":{"TimeFormat":{"values":{"UNKNOWN":0,"TWELVE_HOUR":1,"TWENTY_FOUR_HOUR":2}}}},"SmsPhoneUrgentSetting":{"fields":{"accept":{"type":"bool","id":1},"canModify":{"type":"bool","id":2},"needConfirm":{"type":"bool","id":3},"canSend":{"type":"bool","id":4}}},"FeedSetting":{"fields":{"isOpenAutoBox":{"type":"bool","id":1,"options":{"default":false}}}}}},"SecurityConfig":{"fields":{"dataCacheExpirationConfig":{"type":"DataCacheExpirationConfig","id":1},"enableWatermark":{"type":"bool","id":2},"offlineDataExpiration":{"type":"int64","id":3},"version":{"type":"int64","id":20}},"nested":{"DataCacheExpirationConfig":{"fields":{"enable":{"type":"bool","id":1},"delaySecond":{"type":"int64","id":2}}}}},"ChatEntitySetting":{"fields":{"addMemberPermissionSetting":{"type":"AddMemberPermissionSetting.Enum","id":1,"options":{"default":"ALL_MEMBERS"}},"atAllPermissionSetting":{"type":"AtAllPermissionSetting.Enum","id":2,"options":{"default":"ALL_MEMBERS"}},"joinMessageVisibleSetting":{"type":"SystemMessageVisibleSetting.Enum","id":3,"options":{"default":"ONLY_OWNER"}},"quitMessageVisibleSetting":{"type":"SystemMessageVisibleSetting.Enum","id":4,"options":{"default":"ONLY_OWNER"}},"shareCardPermissionSetting":{"type":"ShareCardPermissionSetting.Enum","id":5,"options":{"default":"ALLOWED"}},"addMemberApplySetting":{"type":"AddMemberApplySetting.Enum","id":6,"options":{"default":"NO_APPLY"}},"threadAnonymousSetting":{"type":"ThreadAnonymousSetting.Enum","id":7,"options":{"default":"INVISIBLE"}},"messageVisibilitySetting":{"type":"MessageVisibilitySetting.Enum","id":8,"options":{"default":"ALL_MESSAGES"}},"anonymousSetting":{"type":"AnonymousSetting","id":9},"createUrgentSetting":{"type":"CreateUrgentSetting.Enum","id":10,"options":{"default":"ALL_MEMBERS"}},"createVideoConferenceSetting":{"type":"CreateVideoConferenceSetting.Enum","id":11,"options":{"default":"ALL_MEMBERS"}},"pinPermissionSetting":{"type":"PinPermissionSetting.Enum","id":12,"options":{"default":"ALL_MEMBERS"}},"topNoticePermissionSetting":{"type":"TopNoticePermissionSetting.Enum","id":13,"options":{"default":"ALL_MEMBERS"}}},"nested":{"AddMemberPermissionSetting":{"fields":{},"nested":{"Enum":{"values":{"UNKNOWN":0,"ALL_MEMBERS":1,"ONLY_OWNER":2}}}},"AddMemberApplySetting":{"fields":{},"nested":{"Enum":{"values":{"UNKNOWN":0,"NO_APPLY":1,"NEED_APPLY":2}}}},"SystemMessageVisibleSetting":{"fields":{},"nested":{"Enum":{"values":{"UNKNOWN":0,"ONLY_OWNER":1,"ALL_MEMBERS":2,"NOT_ANYONE":3}}}},"ShareCardPermissionSetting":{"fields":{},"nested":{"Enum":{"values":{"UNKNOWN":0,"ALLOWED":1,"NOT_ALLOWED":2}}}},"AtAllPermissionSetting":{"fields":{},"nested":{"Enum":{"values":{"UNKNOWN":0,"ALL_MEMBERS":1,"ONLY_OWNER":2}}}},"ThreadAnonymousSetting":{"fields":{},"nested":{"Enum":{"values":{"UNKNOWN":0,"INVISIBLE":1,"NOT_ALLOWED":2,"ALLOWED":3}}}},"MessageVisibilitySetting":{"fields":{},"nested":{"Enum":{"values":{"UNKNOWN":0,"ALL_MESSAGES":1,"ONLY_NEW_MESSAGES":2}}}},"AnonymousSetting":{"fields":{"isAllowAnonymous":{"type":"bool","id":1},"isVisible":{"type":"bool","id":2}}},"CreateUrgentSetting":{"fields":{},"nested":{"Enum":{"values":{"UNKNOWN":0,"ALL_MEMBERS":1,"ONLY_MANAGER":2}}}},"CreateVideoConferenceSetting":{"fields":{},"nested":{"Enum":{"values":{"UNKNOWN":0,"ALL_MEMBERS":1,"ONLY_MANAGER":2}}}},"PinPermissionSetting":{"fields":{},"nested":{"Enum":{"values":{"UNKNOWN":0,"ALL_MEMBERS":1,"ONLY_MANAGER":2}}}},"TopNoticePermissionSetting":{"fields":{},"nested":{"Enum":{"values":{"UNKNOWN":0,"ALL_MEMBERS":1,"ONLY_MANAGER":2}}}},"Field":{"values":{"UNKNOWN":0,"ADD_MEMBER_PERMISSION_SETTING":1,"AT_ALL_PERMISSION_SETTING":2,"JOIN_MESSAGE_VISIBLE_SETTING":3,"QUIT_MESSAGE_VISIBLE_SETTING":4,"SHARE_CARD_PERMISSION_SETTING":5,"ADD_MEMBER_APPLY_SETTING":6,"THREAD_ANONYMOUS_SETTING":7,"MESSAGE_VISIBILITY_SETTING":8,"ALLOW_ANONYMOUS_SETTING":9,"CREATE_URGENT_SETTING":10,"CREATE_VIDEO_CONFERENCE_SETTING":11,"PIN_PERMISSION_SETTING":12,"TOP_NOTICE_PERMISSION_SETTING":13}}}},"CryptoMessageDetail":{"fields":{"content":{"type":"bytes","id":1},"fromDeviceId":{"type":"string","id":2},"senderPublicKey":{"type":"bytes","id":3},"nonce":{"type":"bytes","id":4},"additionalData":{"type":"bytes","id":5}}},"CryptoInfo":{"fields":{"cryptoType":{"type":"CryptoType","id":1},"secretVersion":{"type":"string","id":2},"burnedSeconds":{"type":"int32","id":3},"fallbackDetail":{"type":"CryptoMessageDetail","id":4}},"nested":{"CryptoType":{"values":{"UNKNOWN":0,"PLAIN_TEXT":1,"E2EE":2,"THIRD_PARTY":3}}}},"ChatConfig":{"fields":{"chatable":{"type":"bool","id":1,"options":{"default":true}},"muteable":{"type":"bool","id":2,"options":{"default":true}},"inTotalBadge":{"type":"bool","id":3,"options":{"default":true}}}},"Chat":{"fields":{"id":{"type":"string","id":1},"type":{"type":"Type","id":2,"options":{"default":"P2P"}},"lastMessageId":{"type":"string","id":3},"name":{"type":"string","id":4},"avatar":{"type":"Image","id":5},"ownerId":{"type":"string","id":6},"newMessageCount":{"type":"int32","id":7},"status":{"type":"Status","id":8},"updateTime":{"type":"int64","id":9},"key":{"type":"string","id":10},"description":{"type":"string","id":11},"memberCount":{"type":"int32","id":12},"isDepartment":{"type":"bool","id":13},"isPublic":{"type":"bool","id":14},"lastMessagePosition":{"type":"int32","id":15},"userCount":{"type":"int32","id":16},"namePinyin":{"type":"string","id":17},"createTime":{"type":"int64","id":18},"isCustomerService":{"type":"bool","id":19},"role":{"type":"Role","id":20,"options":{"default":"IGNORE"}},"isCustomIcon":{"type":"bool","id":21},"noBadgedNewMessageCount":{"type":"int32","id":22},"offEditGroupChatInfo":{"type":"bool","id":23,"options":{"default":false}},"announcement":{"type":"Announcement","id":24},"tenantId":{"type":"string","id":25},"updateTimeMs":{"type":"int64","id":26},"isRemind":{"type":"bool","id":27,"options":{"default":true}},"chatEntitySetting":{"type":"ChatEntitySetting","id":28},"userSetting":{"type":"ChatSetting","id":29},"isDissolved":{"type":"bool","id":30,"options":{"default":false}},"isMeeting":{"type":"bool","id":31,"options":{"default":false}},"lastVisibleMessageId":{"type":"string","id":32},"lastThreadId":{"type":"string","id":33},"newThreadCount":{"type":"int32","id":34},"lastThreadPosition":{"type":"int32","id":35},"isCrypto":{"type":"bool","id":36,"options":{"default":false}},"noBadgedNewThreadCount":{"type":"int32","id":37},"threadStartPosition":{"type":"int32","id":38},"chatMode":{"type":"ChatMode","id":39,"options":{"default":"DEFAULT"}},"chatConfig":{"type":"ChatConfig","id":40},"isCrossTenant":{"type":"bool","id":41},"isTenant":{"type":"bool","id":42},"supportView":{"type":"SupportView","id":43},"joinTimeMs":{"type":"int64","id":44},"oncallId":{"type":"int64","id":45},"lastVisibleMessagePosition":{"type":"int32","id":46},"lastVisibleMessageNoBadgedCount":{"type":"int32","id":47},"readPosition":{"type":"int32","id":48},"readPositionBadgeCount":{"type":"int32","id":49},"lastMessagePositionBadgeCount":{"type":"int32","id":50},"enableWatermark":{"type":"bool","id":51},"miniAvatar":{"type":"Image","id":52},"sidebarId":{"type":"string","id":53},"namePy":{"type":"string","id":100},"i18nNames":{"keyType":"string","type":"string","id":101,"options":{"deprecated":true}},"i18nInf":{"type":"I18nInf","id":102},"readThreadPosition":{"type":"int32","id":103},"readThreadPositionBadgeCount":{"type":"int32","id":104},"lastThreadPositionBadgeCount":{"type":"int32","id":105},"lastVisibleThreadPosition":{"type":"int32","id":106},"lastVisibleThreadId":{"type":"string","id":107},"chatSecurityConfig":{"type":"ChatSecurityConfig","id":108},"isPublicV2":{"type":"bool","id":109},"postType":{"type":"ChatPostType","id":110},"allowPost":{"type":"bool","id":111},"burnedTime":{"type":"int64","id":112},"putChatterApplyCount":{"type":"int32","id":113},"showBanner":{"type":"bool","id":114},"isLargeGroup":{"type":"bool","id":115},"firstChatMessagePosition":{"type":"int32","id":116},"tags":{"rule":"repeated","type":"int32","id":117,"options":{"packed":false}},"extra":{"keyType":"string","type":"string","id":118},"isSamePageMeeting":{"type":"bool","id":119,"options":{"default":false}},"myThreadsReadTimestamp":{"type":"int64","id":120},"myThreadsLastTimestamp":{"type":"int64","id":121},"isEdu":{"type":"bool","id":122},"myThreadsLastDisplayMessageId":{"type":"int64","id":123},"myThreadsUnreadCount":{"type":"int32","id":124},"isCrossWithKa":{"type":"bool","id":125},"isAdmin":{"type":"bool","id":126},"isSuper":{"type":"bool","id":127},"isTeam":{"type":"bool","id":128},"bizContent":{"type":"ChatBizContent","id":129}},"nested":{"Type":{"values":{"UNKNOWN":0,"P2P":1,"GROUP":2,"TOPIC_GROUP":3}},"Status":{"values":{"NORMAL":0,"ARCHIVE":1,"DELETED":2}},"ChatMode":{"values":{"UNKNOWN_CHAT_MODE":0,"DEFAULT":1,"THREAD":2,"THREAD_V2":3}},"SupportView":{"values":{"VIEW_UNKNOWN":0,"VIEW_P2PGROUP":1,"VIEW_MEETING":2,"VIEW_THREAD":3,"VIEW_CRYPTO":4}},"Role":{"values":{"IGNORE":0,"MEMBER":1,"VISITOR":2,"THREAD_FOLLOWER":3}},"Announcement":{"fields":{"content":{"type":"string","id":1},"updateTime":{"type":"int64","id":2},"lastEditorId":{"type":"string","id":3},"docUrl":{"type":"string","id":4},"enableOpendoc":{"type":"bool","id":5,"options":{"default":false}},"useOpendoc":{"type":"bool","id":6,"options":{"default":true}}}},"I18nInf":{"fields":{"i18nNames":{"keyType":"string","type":"string","id":1}}}}},"ChatBizContent":{"fields":{"teamId":{"type":"int64","id":1},"teamChatType":{"type":"TeamChatType","id":2}}},"ChatSecurityConfig":{"fields":{"openSecurity":{"type":"bool","id":1},"limit":{"type":"int32","id":2},"read":{"type":"Read","id":3}},"nested":{"Read":{"fields":{"readShowType":{"type":"ReadShowType","id":1},"limit":{"type":"int32","id":2}},"nested":{"ReadShowType":{"values":{"UNKNOWN":0,"NO_LIMIT":1,"TWO_COLUMN_WITH_LIMIT":2,"ONE_COLUMN_WITH_LIMIT":3}}}}}},"ChatMutableInfo":{"fields":{"id":{"rule":"required","type":"string","id":1},"name":{"type":"string","id":2},"avatar":{"type":"Image","id":3},"ownerId":{"type":"string","id":4},"description":{"type":"string","id":5},"memberCount":{"type":"int32","id":6},"userCount":{"type":"int32","id":7},"namePy":{"type":"string","id":8},"isCustomIcon":{"type":"bool","id":9},"offEditGroupChatInfo":{"type":"bool","id":10},"announcement":{"type":"Chat.Announcement","id":11},"chatEntitySetting":{"type":"ChatEntitySetting","id":12},"isDepartment":{"type":"bool","id":13},"isDissolved":{"type":"bool","id":14},"isPublic":{"type":"bool","id":15},"status":{"type":"Chat.Status","id":16},"i18nInf":{"type":"Chat.I18nInf","id":17},"isPublicV2":{"type":"bool","id":18},"postType":{"type":"ChatPostType","id":19},"allowPost":{"type":"bool","id":20},"securityConfig":{"type":"ChatSecurityConfig","id":21},"burnedTime":{"type":"int64","id":22},"putChatterApplyCount":{"type":"int32","id":23},"showBanner":{"type":"bool","id":24},"isMeeting":{"type":"bool","id":25},"isLargeGroup":{"type":"bool","id":26},"firstChatMessagePosition":{"type":"int32","id":27},"chatConfig":{"type":"ChatConfig","id":28},"miniAvatar":{"type":"Image","id":29},"sidebarId":{"type":"string","id":30},"tags":{"rule":"repeated","type":"int32","id":31,"options":{"packed":false}},"extra":{"keyType":"string","type":"string","id":32},"isSamePageMeeting":{"type":"bool","id":33},"readPosition":{"type":"int32","id":34},"readPositionBadgeCount":{"type":"int32","id":35},"lastMessagePositionBadgeCount":{"type":"int32","id":36},"lastThreadPosition":{"type":"int32","id":37},"readThreadPosition":{"type":"int32","id":38},"readThreadPositionBadgeCount":{"type":"int32","id":39},"lastThreadPositionBadgeCount":{"type":"int32","id":40},"lastVisibleMessagePosition":{"type":"int32","id":41},"lastVisibleMessageId":{"type":"string","id":42},"lastVisibleThreadPosition":{"type":"int32","id":43},"lastVisibleThreadId":{"type":"string","id":44},"isRemind":{"type":"bool","id":46},"isTenant":{"type":"bool","id":47},"lastMessagePosition":{"type":"int32","id":48},"myThreadsReadTimestamp":{"type":"int64","id":49},"myThreadsLastTimestamp":{"type":"int64","id":50},"isEdu":{"type":"bool","id":51},"myThreadsLastDisplayMessageId":{"type":"int64","id":52},"myThreadsUnreadCount":{"type":"int32","id":53},"isAdmin":{"type":"bool","id":54},"isSuper":{"type":"bool","id":55},"isTeam":{"type":"bool","id":56},"bizContent":{"type":"ChatBizContent","id":57}}},"ChatPostType":{"values":{"UNKNOWN_POST_TYPE":0,"ANYONE":1,"ONLY_ADMIN":2,"WHITE_LIST":3}},"ContactSummary":{"fields":{"userId":{"type":"string","id":1},"userName":{"type":"string","id":2},"userEnName":{"type":"string","id":3},"departmentName":{"type":"string","id":4},"avatarKey":{"type":"string","id":5},"tenantName":{"type":"string","id":6},"avatarFsUnit":{"type":"string","id":7},"avatar":{"type":"Image","id":8}}},"ChatApplication":{"fields":{"id":{"type":"int64","id":1},"type":{"type":"ChatApplicationType","id":2},"chatId":{"type":"string","id":3},"contactSummary":{"type":"ContactSummary","id":4},"applyTime":{"type":"int64","id":5},"processedTime":{"type":"int64","id":6},"status":{"type":"ApplicationStatus","id":7},"isRead":{"type":"bool","id":8},"extraMessage":{"type":"string","id":9}},"nested":{"ApplicationStatus":{"values":{"UNKNOWN_STATUS":0,"PENDING":1,"AGREED":2,"REFUSED":3,"DELETED":4,"EXPIRED":5}},"ChatApplicationType":{"values":{"UNKNOWN_TYPE":0,"FRIEND":1,"JOIN_CHAT":2}}}},"Contact":{"fields":{"id":{"type":"int64","id":1},"chatter":{"type":"Chatter","id":2},"isDeleted":{"type":"bool","id":3}}},"ChatShareInfo":{"fields":{"id":{"type":"string","id":1},"type":{"type":"ShareType","id":2},"status":{"type":"ShareStatus","id":3},"targetType":{"type":"ShareTargetType","id":4},"shareChatId":{"type":"string","id":5},"chatterId":{"type":"string","id":6},"token":{"type":"string","id":7},"createTime":{"type":"int64","id":8},"expireTime":{"type":"int64","id":9},"extra":{"type":"ShareExtra","id":10},"chatterType":{"type":"ChatterType","id":11}},"nested":{"ShareType":{"values":{"UNKNOWN_TYPE":0,"CARD_MESSAGE":1,"QRCODE":2,"CARD_DOC":3,"LINK":4}},"ShareTargetType":{"values":{"UNKNOWN_TARGET_TYPE":0,"TARGET_CHAT":1,"TARGET_CHATTER":2,"TARGET_QRCODE":3,"TARGET_DOC":4,"TARGET_LINK":5}},"ShareStatus":{"values":{"UNKNOWN_STATE":0,"ACTIVE":1,"EXPIRED":2,"DEACTIVED":3}},"ShareExtra":{"fields":{"chatId":{"type":"string","id":1},"chatName":{"type":"string","id":2},"sharedUrl":{"type":"string","id":3},"userId":{"type":"string","id":4},"userName":{"type":"string","id":5},"docUrl":{"type":"string","id":6},"docName":{"type":"string","id":7},"docType":{"type":"DocType","id":8},"unauthorizedDoc":{"type":"bool","id":9}}}}},"ChatJoinLeaveHistory":{"fields":{"id":{"type":"string","id":1},"action":{"type":"Action","id":2},"event":{"type":"EventType","id":3},"chatterId":{"type":"string","id":4},"chatId":{"type":"string","id":5},"createTime":{"type":"int64","id":6},"extra":{"type":"HistoryExtra","id":7},"chatterType":{"type":"ChatterType","id":8}},"nested":{"Action":{"values":{"UNKNOWN_ACTION":0,"JOIN":1,"LEAVE":2}},"EventType":{"values":{"UNKNOWN_TYPE":0,"DEL_SELF":1,"DEL_ADMIN":2,"INV_MESSAGE_CARD":10,"INV_QR_CODE":11,"INV_CHATTER":12,"INV_DOC":13,"INV_SEARCH":14,"INV_SELF":15,"INV_P2P_CHAT":16,"INV_GROUP_CHAT":17,"INV_LINK":18}},"ContentValue":{"fields":{"id":{"type":"string","id":1},"type":{"type":"ValueType","id":2},"docUrl":{"type":"string","id":3},"docName":{"type":"string","id":4},"unauthorizedDoc":{"type":"bool","id":5}},"nested":{"ValueType":{"values":{"UNKNOWN_VALUE_TYPE":0,"USER":1,"BOT":2,"CHAT":3,"DOC":4}}}},"HistoryExtra":{"fields":{"template":{"type":"string","id":1},"contentValues":{"keyType":"string","type":"ContentValue","id":2}}}}},"ThreadState":{"values":{"UNKNOWN_STATE":0,"OPEN":1,"CLOSED":2}},"ThreadStateInfo":{"fields":{"state":{"type":"ThreadState","id":1},"operatorId":{"type":"string","id":2},"updateTimeMs":{"type":"int64","id":3},"stateNum":{"type":"int32","id":4}}},"Thread":{"fields":{"id":{"rule":"required","type":"string","id":1},"channelId":{"type":"string","id":2},"channelType":{"type":"ChannelType","id":3,"options":{"default":"CHAT_CHANNEL"}},"topic":{"type":"string","id":4},"position":{"type":"int32","id":5},"updateTime":{"type":"int64","id":6},"rootMessageId":{"type":"string","id":7},"lastMessageId":{"type":"string","id":8},"lastMessagePosition":{"type":"int32","id":9},"newMessageCount":{"type":"int32","id":10},"replyCount":{"type":"int32","id":11},"noBadgedNewMessageCount":{"type":"int32","id":12},"messageStartPosition":{"type":"int32","id":13},"ownerId":{"type":"string","id":14},"isVisible":{"type":"bool","id":15},"isBadged":{"type":"bool","id":16},"badgeCount":{"type":"int32","id":17},"lastVisibleMessagePosition":{"type":"int32","id":18},"lastVisibleMessageId":{"type":"string","id":19},"readPosition":{"type":"int32","id":20},"readPositionBadgeCount":{"type":"int32","id":21},"lastMessagePositionBadgeCount":{"type":"int32","id":22},"createTime":{"type":"int64","id":23},"subtitle":{"type":"string","id":24},"isNoTraceRemoved":{"type":"bool","id":25,"options":{"default":false}},"noReplyCount":{"type":"int32","id":26},"stateInfo":{"type":"ThreadStateInfo","id":27},"rankTime":{"type":"int64","id":28},"canAnonymousReply":{"type":"bool","id":29}}},"MessageWithThread":{"fields":{"rootMessage":{"rule":"required","type":"Message","id":1},"lastMessages":{"rule":"repeated","type":"Message","id":2}}},"ThreadSetting":{"fields":{"threadId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=msg"}},"isFollow":{"type":"bool","id":2},"isFollowV2":{"type":"bool","id":3},"anonymousId":{"type":"string","id":4}}},"PredefinedThreadFilterID":{"values":{"UNKNOWN_THREAD_FILTER_ID":0,"FOLLOW_THREAD_FILTER_ID":1,"CLOSED_THREAD_FILTER_ID":2,"OPEN_THREAD_FILTER_ID":3,"MY_OWN_THREADS_FILTER_ID":4,"MY_REPLY_THREADS_FILTER_ID":5,"MY_MENTIONED_THREADS_FILTER_ID":6,"MY_FOLLOW_FILTER_ID":7,"MY_THREADS_FILTER_ID":8,"MY_UNREAD_MENTIONED_THREADS_FILTER_ID":9}},"ThreadFilter":{"fields":{"filterId":{"rule":"required","type":"int64","id":1},"i18nNames":{"keyType":"string","type":"string","id":2}}},"AccessibleInfo":{"fields":{"isAccessible":{"type":"bool","id":1,"options":{"default":true}},"inaccessibleCode":{"type":"InaccessibleCode","id":2}},"nested":{"InaccessibleCode":{"values":{"DEFAULT":0,"EXECUTIVES":1}}}},"UserConfig":{"fields":{"phoneCallAccessible":{"type":"bool","id":1,"options":{"default":true}},"voiceCallAccessible":{"type":"bool","id":2,"options":{"default":true}},"videoCallAccessible":{"type":"bool","id":3,"options":{"default":true}},"accessPhoneCall":{"type":"AccessibleInfo","id":4},"accessVoiceCall":{"type":"AccessibleInfo","id":5},"accessVideoCall":{"type":"AccessibleInfo","id":6},"accessUrgent":{"type":"AccessibleInfo","id":7}}},"Gender":{"values":{"DEFAULT":0,"MAN":1,"WOMAN":2}},"User":{"fields":{"id":{"type":"string","id":1},"name":{"type":"string","id":2},"avatar":{"type":"ImageSet","id":3},"status":{"type":"int32","id":4},"avatarUrl":{"type":"string","id":5},"namePinyin":{"type":"string","id":6},"updateTime":{"type":"int64","id":7},"isRegistered":{"type":"bool","id":9},"namePy":{"type":"string","id":10},"tenantId":{"type":"string","id":11},"description":{"type":"string","id":12},"descriptionFlag":{"type":"DescriptionFlag","id":13,"options":{"default":"DEFAULT"}}},"nested":{"DescriptionFlag":{"values":{"DEFAULT":0,"ON_BUSINESS":1,"ON_LEAVE":2,"ON_MEETING":3}}}},"BotConfig":{"fields":{"withBotTag":{"type":"string","id":1,"options":{"default":"bot"}},"inContacts":{"type":"bool","id":2,"options":{"default":true}},"canJoinGroup":{"type":"bool","id":3,"options":{"default":true}}}},"ActionExtraInfo":{"fields":{"adminId":{"type":"int64","id":1},"url":{"type":"string","id":2},"params":{"type":"string","id":3}}},"ActionInfo":{"fields":{"i18nText":{"keyType":"string","type":"string","id":1},"operatorCode":{"type":"ActionOperateCode","id":2},"actionCode":{"type":"ActionCode","id":3},"extra":{"type":"ActionExtraInfo","id":4}},"nested":{"ActionOperateCode":{"values":{"CLOSE_WINDOW":1,"CLOSE_APP":2}},"ActionCode":{"values":{"ACTION_NONE":0,"ACTION_CONTACT_ADMIN":1,"ACTION_APPLY_USE":2}}}},"TipsContent":{"fields":{"version":{"type":"int64","id":1},"i18nTitle":{"keyType":"string","type":"string","id":2},"i18nMsg":{"keyType":"string","type":"string","id":3},"actions":{"rule":"repeated","type":"ActionInfo","id":4}}},"BotTipsContent":{"fields":{"version":{"type":"int64","id":1},"i18nMsg":{"keyType":"string","type":"string","id":2},"adminId":{"type":"int64","id":3},"adminName":{"keyType":"string","type":"string","id":4}}},"BotCheckStatus":{"fields":{"botId":{"type":"int64","id":1},"status":{"type":"BotUsageStatus","id":2},"tips":{"type":"BotTipsContent","id":3}},"nested":{"BotUsageStatus":{"values":{"BOT_USABLE":1,"BOT_TENANT_FORBIDDEN":2,"BOT_PLATFORM_FORBIDDEN":3,"BOT_DEVELOPER_FORBIDDEN":4,"BOT_OFFLINE":5,"BOT_USER_UNVISIBLE":6}}}},"AppStatusInfo":{"fields":{"cliId":{"type":"string","id":1},"status":{"type":"AppUsageStatus","id":2},"tips":{"type":"TipsContent","id":3},"botList":{"rule":"repeated","type":"BotCheckStatus","id":4},"appAbility":{"rule":"repeated","type":"FeatureAbility","id":5,"options":{"packed":false}},"appUrl":{"type":"string","id":6},"i18nNames":{"keyType":"string","type":"string","id":7},"i18nDescriptions":{"keyType":"string","type":"string","id":8},"avatarKey":{"type":"string","id":9},"appId":{"type":"int64","id":10},"chatable":{"type":"bool","id":11},"extraConfig":{"type":"string","id":12},"avatar":{"type":"Image","id":13},"appStoreUrl":{"type":"string","id":14},"isIsv":{"type":"bool","id":15},"isAvailable":{"type":"bool","id":16},"extraHitFields":{"rule":"repeated","type":"ExtraHitField","id":17}},"nested":{"AppUsageStatus":{"values":{"APP_USABLE":1,"APP_TENANT_FORBIDDEN":2,"APP_PLATFORM_FORBIDDEN":3,"APP_DEVELOPER_FORBIDDEN":4,"APP_OFFLINE":5,"APP_USER_UNVISIBLE":6,"APP_NEED_PAY_USE":7,"APP_DELETED":8}},"FeatureAbility":{"values":{"SMALL":1,"H5":2,"BOT":3}}}},"UnavailableIsvStatusInfo":{"fields":{"cliId":{"type":"string","id":1},"i18nNames":{"keyType":"string","type":"string","id":2},"i18nDescriptions":{"keyType":"string","type":"string","id":3},"appStoreUrl":{"type":"string","id":4},"appId":{"type":"int64","id":5},"avatar":{"type":"Image","id":6},"extraHitFields":{"rule":"repeated","type":"ExtraHitField","id":7}}},"ExtraHitField":{"fields":{"fieldName":{"type":"string","id":1},"title":{"type":"string","id":2},"titleHitTerms":{"rule":"repeated","type":"string","id":3}}},"BotInfo":{"fields":{"botId":{"rule":"required","type":"int64","id":1},"appStatus":{"type":"AppStatusInfo","id":2}}},"Bot":{"fields":{"id":{"type":"string","id":1},"name":{"type":"string","id":2},"avatar":{"type":"ImageSet","id":3},"status":{"type":"int32","id":4},"avatarUrl":{"type":"string","id":5},"updateTime":{"type":"int64","id":6},"creatorId":{"type":"string","id":7},"description":{"type":"string","id":8},"namePy":{"type":"string","id":10},"tenantId":{"type":"string","id":11},"botConfig":{"type":"BotConfig","id":12},"enName":{"type":"string","id":13}}},"TimeZone":{"fields":{"name":{"rule":"required","type":"string","id":1}}},"EffectiveInterval":{"fields":{"startTime":{"type":"int64","id":1},"endTime":{"type":"int64","id":2},"isShowEndTime":{"type":"bool","id":3}}},"ChatterCustomStatus":{"fields":{"title":{"type":"string","id":1},"i18nTitle":{"keyType":"string","type":"string","id":2},"iconKey":{"type":"string","id":3},"fsUnit":{"type":"string","id":4},"effectiveInterval":{"type":"EffectiveInterval","id":5},"isNotDisturbMode":{"type":"bool","id":6}}},"I18nVal":{"fields":{"defaultVal":{"rule":"required","type":"string","id":1},"i18nVals":{"keyType":"string","type":"string","id":2}}},"AvatarMedal":{"fields":{"key":{"type":"string","id":1},"fsUnit":{"type":"string","id":2},"i18nName":{"type":"I18nVal","id":3}}},"Chatter":{"fields":{"id":{"type":"string","id":1},"name":{"type":"string","id":2},"avatar":{"type":"ImageSet","id":3},"status":{"type":"int32","id":4},"avatarUrl":{"type":"string","id":5},"updateTime":{"type":"int64","id":6},"namePinyin":{"type":"string","id":7},"creatorId":{"type":"string","id":8},"type":{"type":"ChatterType","id":9},"description":{"type":"string","id":11},"isRegistered":{"type":"bool","id":12},"namePy":{"type":"string","id":13},"enUsName":{"type":"string","id":14},"tenantId":{"type":"string","id":15},"descriptionFlag":{"type":"DescriptionFlag","id":16,"options":{"default":"DEFAULT"}},"botConfig":{"type":"BotConfig","id":17},"internationalName":{"keyType":"string","type":"string","id":18},"alias":{"type":"string","id":19},"workStatus":{"type":"WorkStatus","id":20},"i18nDescriptions":{"keyType":"string","type":"string","id":21,"options":{"deprecated":true}},"accountId":{"type":"string","id":22},"i18nInf":{"type":"I18nInf","id":23},"userConfig":{"type":"UserConfig","id":24},"email":{"type":"string","id":25},"donotDisturbBeforeMs":{"type":"int64","id":26},"acceptSmsPhoneUrgent":{"type":"bool","id":27},"lastLoginTime":{"type":"int64","id":28},"avatarImage":{"type":"Image","id":29},"timeZone":{"type":"TimeZone","id":30},"isGuest":{"type":"bool","id":31},"isFrozen":{"type":"bool","id":32},"isAnonymous":{"type":"bool","id":33},"department":{"rule":"repeated","type":"Department","id":34},"enterpriseEmail":{"type":"string","id":35},"customStatuses":{"rule":"repeated","type":"ChatterCustomStatus","id":36},"avatarMedal":{"type":"AvatarMedal","id":37},"anotherName":{"type":"string","id":38}},"nested":{"DescriptionFlag":{"values":{"DEFAULT":0,"ON_BUSINESS":1,"ON_LEAVE":2,"ON_MEETING":3}},"I18nInf":{"fields":{"i18nDescriptions":{"keyType":"string","type":"string","id":1}}}}},"MessageReaction":{"fields":{"messageId":{"type":"string","id":1},"reactions":{"rule":"repeated","type":"Reaction","id":2},"updateTime":{"type":"int64","id":3},"nanoUpdateTime":{"type":"int64","id":4}},"nested":{"Reaction":{"fields":{"type":{"type":"string","id":1},"count":{"type":"int32","id":2},"userIds":{"rule":"repeated","type":"string","id":3},"chatterIds":{"rule":"repeated","type":"string","id":4},"udpateTimes":{"keyType":"string","type":"int64","id":5},"nanoUpdateTimes":{"keyType":"string","type":"int64","id":6},"nanoUpdateTime":{"type":"int64","id":7}}}}},"MessageReminder":{"fields":{"id":{"rule":"required","type":"string","id":1},"messageId":{"rule":"required","type":"string","id":2},"reminderTime":{"rule":"required","type":"int64","id":3},"chatId":{"rule":"required","type":"string","id":4},"reminderPosition":{"rule":"required","type":"int32","id":5,"options":{"default":0}},"canceled":{"rule":"required","type":"bool","id":6,"options":{"default":false}},"confirmedTime":{"rule":"required","type":"int64","id":7},"messagePosition":{"rule":"required","type":"int32","id":8,"options":{"default":0}},"updateTime":{"type":"int64","id":9}}},"ChatSetting":{"fields":{"isRemind":{"type":"bool","id":1,"options":{"default":true}},"updateTime":{"type":"int64","id":2},"checkMessagePosition":{"type":"CheckMessagePositionSetting.Enum","id":3,"options":{"default":"RECENT_LEFT"}},"isAutoTranslate":{"type":"bool","id":4,"options":{"default":false}},"isHiddenNickname":{"type":"bool","id":5},"isAutoTranslateVersion":{"type":"int64","id":6},"anonymousUserId":{"type":"int64","id":7}},"nested":{"CheckMessagePositionSetting":{"fields":{},"nested":{"Enum":{"values":{"UNKNOWN":0,"RECENT_LEFT":1,"NEWEST_UNREAD":2}}}},"Field":{"values":{"UNKNOWN":0,"IS_REMIND":1,"UPDATE_TIME":2,"CHECK_MESSAGE_POSITION":3,"IS_AUTO_TRANSLATE":4,"IS_HIDDEN_NICKNAME":5}}}},"Department":{"fields":{"id":{"rule":"required","type":"string","id":1},"name":{"type":"string","id":2},"parentId":{"type":"string","id":3},"leaderId":{"type":"string","id":4},"memberCount":{"type":"int32","id":5},"status":{"type":"int32","id":6},"namePinyin":{"type":"string","id":7},"chatId":{"type":"string","id":8},"hasChild":{"type":"bool","id":9},"i18nName":{"keyType":"string","type":"string","id":10}}},"Notice":{"fields":{"shouldNotify":{"type":"bool","id":1,"options":{"default":false}},"title":{"type":"string","id":2},"content":{"type":"string","id":3},"summary":{"type":"string","id":4}}},"EmailThread":{"fields":{"id":{"type":"string","id":1},"ownerId":{"type":"string","id":2},"lastMessageId":{"type":"string","id":3},"newMessageCount":{"type":"int32","id":4},"lastMessagePosition":{"type":"int32","id":5}}},"EmailFields":{"values":{"UNKNOWN":0,"SUBJECT":1}},"EmailRole":{"values":{"UNKNOWN_EMAIL_ROLE":0,"TO":1,"CC":2}},"EmailMember":{"fields":{"id":{"rule":"required","type":"string","id":1},"type":{"rule":"required","type":"Type","id":2},"inviterId":{"type":"string","id":3},"joinTime":{"type":"int64","id":4}},"nested":{"Type":{"values":{"UNKNOWN":0,"CHATTER":1,"CHAT":2}}}},"Email":{"fields":{"id":{"type":"string","id":1},"ownerId":{"type":"string","id":2},"lastMessageId":{"type":"string","id":3},"newMessageCount":{"type":"int32","id":4},"lastMessagePosition":{"type":"int32","id":5},"updateTime":{"type":"int64","id":6},"subject":{"type":"string","id":7},"status":{"type":"Status","id":8,"options":{"default":"NORMAL"}},"updateFields":{"rule":"repeated","type":"EmailFields","id":999,"options":{"packed":false}}},"nested":{"Status":{"values":{"UNKNOWN":0,"NORMAL":1,"MODIFIED":2}}}},"Oncall":{"fields":{"id":{"type":"string","id":1},"name":{"type":"string","id":2},"description":{"type":"string","id":3},"namePinyin":{"type":"string","id":4},"avatar":{"type":"ImageSet","id":5},"avatarUrl":{"type":"string","id":6},"chatId":{"type":"string","id":7},"tagIds":{"rule":"repeated","type":"int64","id":8,"options":{"packed":false}},"enName":{"type":"string","id":9},"enDescription":{"type":"string","id":10},"i18nInf":{"type":"I18nInf","id":11},"phoneNumber":{"type":"string","id":12},"reportLocation":{"type":"bool","id":13},"avatarImage":{"type":"Image","id":14},"iconTags":{"rule":"repeated","type":"int32","id":15,"options":{"packed":false}},"businessHoursPeriodsMs":{"rule":"repeated","type":"int64","id":16,"options":{"packed":false}}},"nested":{"I18nInf":{"fields":{"i18nNames":{"keyType":"string","type":"string","id":1},"i18nDescriptions":{"keyType":"string","type":"string","id":2}}}}},"OncallTag":{"fields":{"id":{"type":"int64","id":1},"name":{"type":"string","id":2}}},"Coordinate":{"fields":{"longitude":{"type":"float","id":1},"latitude":{"type":"float","id":2}}},"CircleArea":{"fields":{"center":{"type":"Coordinate","id":1},"radius":{"type":"float","id":2}}},"RectangleArea":{"fields":{"northEast":{"type":"Coordinate","id":1},"southWest":{"type":"Coordinate","id":2}}},"PolygonArea":{"fields":{"points":{"rule":"repeated","type":"Coordinate","id":1}}},"Location":{"oneofs":{"location":{"oneof":["point","circleArea","rectangleArea","polygonArea"]}},"fields":{"point":{"type":"Coordinate","id":1},"circleArea":{"type":"CircleArea","id":2},"rectangleArea":{"type":"RectangleArea","id":3},"polygonArea":{"type":"PolygonArea","id":4}}},"LanguageType":{"values":{"UNKNOWN_LANGUAGE":0,"ZH_CN":1,"EN_US":2,"JA_JP":3,"FR_FR":4,"DE_DE":5,"ES_ES":6,"RU_RU":7,"AR_EG":8,"PT_PT":9}},"DeviceSetting":{"fields":{"deviceId":{"type":"string","id":1},"locale":{"type":"LanguageType","id":2,"options":{"default":"ZH_CN","deprecated":true}},"localeIdentifier":{"type":"string","id":3,"options":{"default":"zh_CN"}}}},"DocPermission":{"fields":{"permCode":{"type":"int32","id":1},"permName":{"type":"string","id":2},"isSet":{"type":"bool","id":3}}},"DocType":{"values":{"UNKNOWN_DOC_TYPE":0,"DOC":1,"SHEET":2,"BITABLE":3,"MINDNOTE":4,"FILE":5,"SLIDE":6,"WIKI":7,"DOCX":8,"FOLDER":9}},"IconType":{"values":{"UNKNOWN_ICON_TYPE":0,"EMOJI":1,"IMAGE":2}},"Icon":{"fields":{"type":{"type":"IconType","id":1},"Key":{"type":"string","id":2},"fsUnit":{"type":"string","id":3}}},"Doc":{"fields":{"token":{"type":"string","id":1},"url":{"type":"string","id":2},"docType":{"type":"DocType","id":3},"name":{"type":"string","id":4},"iconKey":{"type":"string","id":5},"abstract":{"type":"string","id":6},"createTime":{"type":"int64","id":7},"updateTime":{"type":"int64","id":8},"ownerName":{"type":"string","id":9},"ownerId":{"type":"int64","id":10},"isCrossTenant":{"type":"bool","id":11},"isUntitled":{"type":"bool","id":14},"strDocType":{"type":"string","id":15},"expires":{"type":"int64","id":16},"userPerm":{"type":"int32","id":17},"icon":{"type":"Icon","id":18}}},"DocCard":{"fields":{"token":{"type":"string","id":1},"messageId":{"type":"string","id":2},"groupId":{"type":"string","id":3},"permissionsCouldPut":{"rule":"repeated","type":"DocPermission","id":4},"shareInfo":{"type":"string","id":5},"authedByUserId":{"type":"int64","id":6},"authedPerm":{"type":"int32","id":7},"messageExisted":{"type":"bool","id":8},"title":{"type":"string","id":9},"expires":{"type":"int64","id":10},"userPerm":{"type":"int32","id":11},"docUrl":{"type":"string","id":12},"shouldRender":{"type":"bool","id":13},"shareStatus":{"type":"int64","id":14},"thumbnailDetail":{"type":"string","id":15},"receiverPerm":{"type":"int32","id":16},"senderIsExternal":{"type":"bool","id":17},"extra":{"type":"string","id":18}}},"DocMessage":{"fields":{"id":{"type":"string","id":1},"type":{"type":"Type","id":2},"createTime":{"type":"int64","id":3},"updateTime":{"type":"int64","id":4},"content":{"type":"string","id":5},"docFeedId":{"type":"string","id":6},"fromId":{"type":"string","id":7},"richText":{"type":"RichText","id":8},"docReactions":{"rule":"repeated","type":"Reaction","id":9},"reactionNotice":{"type":"ReactionNotice","id":10},"isI18nMessage":{"type":"bool","id":11},"i18nInfo":{"type":"I18nInfo","id":12},"extra":{"type":"string","id":13}},"nested":{"Type":{"values":{"UNKNOWN_TYPE":0,"MENTION":1,"COMMENT":2,"REPLY":3,"SOLVE":4,"SHARE":5,"REOPEN":6,"COMMENT_REACTION":7,"TEMPLATE_CARD":8,"WITHDRAW":9}},"Reaction":{"fields":{"type":{"type":"string","id":1},"chatterIds":{"rule":"repeated","type":"string","id":2},"updateTimes":{"keyType":"string","type":"int64","id":3}}},"ReactionNotice":{"fields":{"type":{"type":"string","id":1},"isCancelled":{"type":"bool","id":2},"chatterId":{"type":"string","id":3},"shouldNotify":{"type":"bool","id":4,"options":{"default":false}}}},"I18nInfo":{"fields":{"i18nTitles":{"keyType":"string","type":"string","id":1},"i18nRichtexts":{"keyType":"string","type":"RichText","id":2},"titleTmplCode":{"type":"int64","id":3},"textTmplCode":{"type":"int64","id":4},"titleTmplParams":{"keyType":"string","type":"TmplParamElement","id":5},"textTmplParams":{"keyType":"string","type":"TmplParamElement","id":6},"titleTmplKey":{"type":"string","id":7},"textTmplKey":{"type":"string","id":8},"textTmplParamsV2":{"keyType":"string","type":"TmplParamElement","id":9}}},"TmplParamElemType":{"values":{"UNKNOWN":0,"USER_ID":1,"TEXT":2}},"TmplParamElement":{"fields":{"type":{"type":"TmplParamElemType","id":1},"content":{"type":"string","id":2}}}}},"OpenAppFeed":{"fields":{"appId":{"rule":"required","type":"int64","id":1},"avatarKey":{"type":"string","id":2},"avatarUrl":{"type":"string","id":3},"appName":{"rule":"required","type":"string","id":4},"botIds":{"rule":"repeated","type":"int64","id":5,"options":{"packed":false}},"pcSchema":{"type":"string","id":6},"iosSchema":{"type":"string","id":7},"androidSchema":{"type":"string","id":8},"latestOpenSequence":{"type":"int64","id":9},"latestReadSequence":{"type":"int64","id":10},"tag":{"type":"string","id":11},"summary":{"type":"string","id":12},"notifyOpen":{"type":"bool","id":13},"appNameI18n":{"keyType":"string","type":"string","id":14},"pushTime":{"type":"int64","id":15},"avatar":{"type":"Image","id":16},"appType":{"type":"int64","id":17},"chatId":{"type":"string","id":18},"pushTimeMs":{"type":"int64","id":19},"appClientId":{"type":"string","id":20},"summaryI18n":{"keyType":"string","type":"string","id":21},"incrementIndex":{"type":"int64","id":22},"readIndex":{"type":"int64","id":23}}},"DocFeed":{"fields":{"id":{"type":"string","id":1},"title":{"type":"string","id":2},"type":{"type":"Type","id":3},"iconKey":{"type":"string","id":4},"url":{"type":"string","id":5},"createTime":{"type":"int64","id":6},"updateTime":{"type":"int64","id":7},"ownerId":{"type":"string","id":8},"lastMessageId":{"type":"string","id":9},"newMessageCount":{"type":"int32","id":10},"docMessageIds":{"rule":"repeated","type":"string","id":11},"isCrossTenant":{"type":"bool","id":12},"isRemind":{"type":"bool","id":13,"options":{"default":true}},"unreadMessageIds":{"rule":"repeated","type":"int64","id":14,"options":{"packed":false}},"token":{"type":"string","id":15},"strType":{"type":"string","id":16},"icon":{"type":"Icon","id":17},"newMessageCountVer":{"type":"int32","id":18},"isNotRemind":{"type":"bool","id":19,"options":{"default":false}}},"nested":{"Type":{"values":{"UNKNOWN_TYPE":0,"DOC":1,"SHEET":2,"BITABLE":3,"MINDNOTE":4,"FILE":5,"SLIDE":6,"WIKI":7,"DOCX":8}}}},"DocFeedSetting":{"fields":{"isRemind":{"type":"bool","id":1,"options":{"default":true}},"updateTime":{"type":"int64","id":2}},"nested":{"Field":{"values":{"UNKNOWN":0,"IS_REMIND":1}}}},"CaldavUserExtra":{"fields":{"caldavUserExtraItems":{"rule":"repeated","type":"CaldavUserExtraItem","id":1}}},"CaldavUserExtraItem":{"fields":{"passwordId":{"rule":"required","type":"string","id":1},"passwordName":{"type":"string","id":2,"options":{"default":""}},"password":{"type":"string","id":3,"options":{"default":""}},"passwordCreateTime":{"type":"int64","id":4,"options":{"default":0}},"passwordLastUpdateTime":{"type":"int64","id":5,"options":{"default":0}}}},"CaldavPasswordItem":{"fields":{"passwordId":{"rule":"required","type":"string","id":1},"passwordName":{"type":"string","id":2,"options":{"default":""}},"passwordCreateTime":{"type":"int64","id":3,"options":{"default":0}},"passwordLastUpdateTime":{"type":"int64","id":4,"options":{"default":0}}}},"Reminder":{"fields":{"calendarEventId":{"type":"string","id":1,"options":{"default":"0"}},"minutes":{"rule":"required","type":"int32","id":2},"method":{"rule":"required","type":"Method","id":3}},"nested":{"Method":{"values":{"DEFAULT":1,"EMAIL":2,"POPUP":3,"SMS":4}}}},"CalendarResourceInfo":{"fields":{"capacity":{"type":"int32","id":1,"options":{"default":0}},"cityName":{"type":"string","id":2,"options":{"default":""}},"buildingName":{"type":"string","id":3,"options":{"default":""}},"resourceName":{"type":"string","id":4,"options":{"default":""}},"floorName":{"type":"string","id":5,"options":{"default":""}},"isDisabled":{"type":"bool","id":6,"options":{"default":false}}}},"Calendar":{"fields":{"id":{"type":"string","id":1,"options":{"default":"0"}},"summary":{"type":"string","id":2,"options":{"default":""}},"description":{"type":"string","id":3,"options":{"default":""}},"defaultTimezone":{"type":"string","id":4},"creatorUserId":{"type":"string","id":5,"options":{"default":"0"}},"createTime":{"type":"int64","id":6,"options":{"default":0}},"updateTime":{"type":"int64","id":7,"options":{"default":0}},"defaultRole":{"type":"AccessRole","id":8,"options":{"default":"FREE_BUSY_READER"}},"type":{"type":"Type","id":9,"options":{"default":"OTHER"}},"accessRole":{"type":"AccessRole","id":10,"options":{"default":"FREE_BUSY_READER"}},"status":{"type":"Status","id":11},"foregroundColor":{"type":"int32","id":12,"options":{"default":0}},"backgroundColor":{"type":"int32","id":13,"options":{"default":0}},"weight":{"type":"int32","id":14,"options":{"default":0}},"isDefault":{"type":"bool","id":15,"options":{"default":false}},"isVisible":{"type":"bool","id":16,"options":{"default":true}},"isPrimary":{"type":"bool","id":17,"options":{"default":false}},"isDeleted":{"type":"bool","id":18,"options":{"default":false}},"defaultReminders":{"type":"string","id":19,"options":{"default":""}},"members":{"rule":"repeated","type":"CalendarMember","id":20},"email":{"type":"string","id":21,"options":{"default":""}},"isSynced":{"type":"bool","id":23,"options":{"default":true}},"isAccept":{"type":"bool","id":24,"options":{"default":false}},"isSubscriber":{"type":"bool","id":25,"options":{"default":false}},"isPublic":{"type":"bool","id":26,"options":{"default":false}},"note":{"type":"string","id":27,"options":{"default":""}},"calendarResourceInfo":{"type":"CalendarResourceInfo","id":28},"isAllStaff":{"type":"bool","id":29,"options":{"default":false}},"externalAccount":{"type":"ExternalAccount","id":30},"workHourSetting":{"type":"WorkHourSetting","id":31},"visibilityProperty":{"type":"int32","id":32,"options":{"default":0}},"timezone":{"type":"string","id":33,"options":{"default":""}},"calendarEventSchema":{"type":"bytes","id":34},"calendarSchema":{"type":"bytes","id":35},"schemaExtraData":{"type":"bytes","id":36},"calendarEventSchemaV2":{"type":"bytes","id":37},"successorUserId":{"type":"string","id":38},"shareOptions":{"type":"CalendarShareOptions","id":39},"shareInfo":{"type":"CalendarShareInfo","id":40},"isCrossTenant":{"type":"bool","id":41},"calendarOwnerId":{"type":"string","id":42},"coverImage":{"type":"ImImage","id":43},"calendarTenantId":{"type":"string","id":44},"officialType":{"type":"OfficialType","id":45}},"nested":{"Type":{"values":{"UNKNOWN_TYPE":0,"PRIMARY":1,"OTHER":2,"GOOGLE":3,"RESOURCES":4,"GOOGLE_RESOURCES":5,"DISMISSED":6,"EMAIL":7,"EXCHANGE":8,"ACTIVITY":9}},"AccessRole":{"values":{"UNKNOWN":0,"FREE_BUSY_READER":1,"READER":2,"WRITER":3,"OWNER":4}},"Status":{"values":{"DEFAULT":1,"ACCEPTED":2,"DECLINED":3,"INVITED":4,"REMOVED":5}},"VisibilityProperty":{"values":{"NORMAL_VIEW":1,"MEETING_VIEW":2,"TODAY_FEED_VIEW":4,"MOBILE_NORMAL_VIEW":8,"MOBILE_MEETING_VIEW":16,"WEB_NORMAL_VIEW":32,"WEB_MEETING_VIEW":64}},"SubscriptionType":{"values":{"SUB_NORMAL_VIEW":1,"SUB_MEETING_VIEW":2}},"ShareOption":{"values":{"UNKNOWN_SHARE_OPT":0,"SHARE_OPT_PRIVATE":5,"SHARE_OPT_FREE_BUSY_READER":10,"SHARE_OPT_READER":15,"SHARE_OPT_WRITER":20,"SHARE_OPT_OWNER":25}},"OfficialType":{"values":{"NOT_OFFICIAL":0,"BYTEDANCE":1}},"CalendarShareOptions":{"fields":{"defaultShareOption":{"type":"Calendar.ShareOption","id":1},"crossDefaultShareOption":{"type":"Calendar.ShareOption","id":2},"crossTopShareOption":{"type":"Calendar.ShareOption","id":3}}},"CalendarShareInfo":{"fields":{"shareUrl":{"type":"string","id":1},"subscriberNum":{"type":"int32","id":2}}}}},"ImImage":{"fields":{"imageKey":{"type":"string","id":1},"fsUnit":{"type":"string","id":2},"crypto":{"type":"Crypto","id":3},"Attrs":{"rule":"repeated","type":"ImageAttribute","id":4}},"nested":{"ImageAttribute":{"fields":{"CropType":{"type":"ImageCropType","id":1},"Width":{"type":"int64","id":2},"Height":{"type":"int64","id":3}}}}},"UserCalendarInfo":{"fields":{"note":{"type":"string","id":1},"backgroundColor":{"type":"int32","id":2,"options":{"default":0}}}},"CalendarMemberCommit":{"oneofs":{"dependency":{"oneof":["user","group"]}},"fields":{"memberType":{"type":"CalendarMemberType","id":1},"accessRole":{"type":"Calendar.AccessRole","id":2,"options":{"default":"FREE_BUSY_READER"}},"user":{"type":"User","id":100},"group":{"type":"Group","id":101}},"nested":{"CalendarMemberType":{"values":{"INDIVIDUAL":1,"GROUP":2}},"User":{"fields":{"userId":{"type":"string","id":1}}},"Group":{"fields":{"groupId":{"type":"string","id":1}}}}},"CalendarMemberCommits":{"fields":{"addMembers":{"rule":"repeated","type":"CalendarMemberCommit","id":1},"updateMembers":{"rule":"repeated","type":"CalendarMemberCommit","id":2},"removeUserIds":{"rule":"repeated","type":"string","id":3},"removeGroupIds":{"rule":"repeated","type":"string","id":4},"comment":{"type":"string","id":5}}},"CalendarSaveInfo":{"fields":{"id":{"type":"string","id":1,"options":{"default":"0"}},"summary":{"type":"string","id":2},"description":{"type":"string","id":3},"defaultTimezone":{"type":"string","id":4},"coverImageKey":{"type":"string","id":5},"shareOptions":{"type":"Calendar.CalendarShareOptions","id":6},"memberCommits":{"type":"CalendarMemberCommits","id":7},"individualCalendarInfo":{"type":"UserCalendarInfo","id":8}}},"ExternalAccount":{"fields":{"email":{"type":"string","id":1},"passwordInvalid":{"type":"bool","id":2,"options":{"default":false}}}},"ExternalMailAccountSetting":{"fields":{"enableCalendar":{"type":"bool","id":1,"options":{"default":false}},"enableEmailAttendeeInvitation":{"type":"bool","id":2,"options":{"default":false}}}},"ExternalMailAccount":{"fields":{"mailAddress":{"type":"string","id":1},"type":{"type":"AccountType","id":2},"hasGmailScope":{"type":"bool","id":3,"options":{"default":false}},"setting":{"type":"ExternalMailAccountSetting","id":4}},"nested":{"AccountType":{"values":{"Google":1,"Exchange":2}}}},"CalendarBriefInfo":{"fields":{"id":{"type":"string","id":1},"type":{"type":"Calendar.Type","id":2},"successorUserId":{"type":"int64","id":3},"isAllStaff":{"type":"bool","id":4,"options":{"default":false}},"calendarSummary":{"type":"string","id":5},"creatorUserId":{"type":"int64","id":6}}},"CalendarExtra":{"fields":{"maxVersion":{"type":"int64","id":1,"options":{"default":0}},"folderObjToken":{"type":"string","id":3,"options":{"default":""}},"successorUserId":{"type":"int64","id":4},"calendarSchema":{"type":"CalendarSchemaCollection","id":5},"calendarEventSchema":{"type":"CalendarSchemaCollection","id":6},"CoverImgInfo":{"type":"ImImage","id":7}}},"CalendarMember":{"fields":{"chatterId":{"rule":"required","type":"string","id":1},"accessRole":{"type":"Calendar.AccessRole","id":2,"options":{"default":"FREE_BUSY_READER"}},"status":{"type":"Calendar.Status","id":3,"options":{"default":"DEFAULT"}},"tags":{"rule":"repeated","type":"UserCalendarRefTag","id":4},"memberType":{"type":"CalendarMemberType","id":5,"options":{"default":"INDIVIDUAL"}},"chatId":{"type":"string","id":6,"options":{"default":""}}},"nested":{"CalendarMemberType":{"values":{"INDIVIDUAL":1,"GROUP":2}},"CalendarMemberSupportType":{"values":{"SUPPORT_INDIVIDUAL":1,"SUPPORT_INDIVIDUAL_GROUP":2}}}},"UserCalendarRefTag":{"fields":{"type":{"type":"UserCalendarRefTagType","id":1,"options":{"default":"INDIVIDUAL"}},"content":{"type":"string","id":2,"options":{"default":""}},"accessRole":{"type":"int32","id":3,"options":{"default":0}}},"nested":{"UserCalendarRefTagType":{"values":{"INDIVIDUAL":1,"GROUP":2}}}},"UserCalendarExtra":{"fields":{"tags":{"rule":"repeated","type":"UserCalendarRefTag","id":1},"CalendarCreatorUserID":{"type":"int64","id":2,"options":{"default":0}}}},"CalendarContact":{"fields":{"calendarId":{"rule":"required","type":"string","id":1},"summary":{"type":"string","id":2,"options":{"default":""}},"avatarUrl":{"type":"string","id":3,"options":{"default":""}},"isResource":{"type":"bool","id":4,"options":{"default":false}},"departmentIds":{"rule":"repeated","type":"string","id":5},"chatterId":{"type":"string","id":6,"options":{"default":""}}}},"EventCardTemplate":{"fields":{"summary":{"type":"string","id":1},"senderId":{"type":"string","id":2},"isOptional":{"type":"bool","id":3},"startTime":{"type":"int64","id":4},"endTime":{"type":"int64","id":5},"rrule":{"type":"string","id":6},"isAllDay":{"type":"bool","id":7},"version":{"type":"int64","id":8},"startTimezone":{"type":"string","id":9},"endTimezone":{"type":"string","id":10},"id":{"type":"string","id":11},"type":{"type":"int32","id":12},"uid":{"type":"string","id":13},"originalTime":{"type":"int64","id":14},"calendarId":{"type":"string","id":15},"meetingRooms":{"rule":"repeated","type":"string","id":16},"attendeeChatterIds":{"rule":"repeated","type":"string","id":17},"chatIds":{"rule":"repeated","type":"string","id":18},"selfAttendeeStatus":{"type":"int32","id":19},"attendeeCount":{"type":"int32","id":20},"location":{"type":"string","id":21},"description":{"type":"string","id":22},"eventType":{"type":"int32","id":23},"isCrossTenant":{"type":"bool","id":24},"individualChatterIds":{"rule":"repeated","type":"string","id":25},"calendarResourceInfos":{"rule":"repeated","type":"CalendarResourceInfo","id":26},"rsvpUserId":{"type":"string","id":27}}},"CalendarEvent":{"fields":{"id":{"type":"string","id":1,"options":{"default":"0"}},"uniqueKey":{"rule":"required","type":"string","id":2},"calendarId":{"rule":"required","type":"string","id":3},"originalTime":{"rule":"required","type":"int64","id":4},"creatorCalendarId":{"type":"string","id":5,"options":{"default":"0"}},"organizerCalendarId":{"type":"string","id":6,"options":{"default":"0"}},"selfAttendeeStatus":{"type":"SelfAttendeeStatus","id":7,"options":{"default":"ATTENDEE_STATUS_ACCEPT"}},"start":{"rule":"required","type":"int64","id":8},"startTimezone":{"rule":"required","type":"string","id":9},"end":{"rule":"required","type":"int64","id":10},"endTimezone":{"type":"string","id":11},"status":{"type":"Status","id":12,"options":{"default":"CONFIRMED"}},"locations":{"rule":"repeated","type":"CalendarEventLocation","id":13},"rrule":{"type":"string","id":14,"options":{"default":""}},"guestsCanInviteOthers":{"type":"bool","id":15,"options":{"default":true}},"guestsCanSeeOtherGuests":{"type":"bool","id":16,"options":{"default":true}},"guestsCanModify":{"type":"bool","id":17,"options":{"default":false}},"createTime":{"type":"int64","id":18,"options":{"default":0}},"updateTime":{"type":"int64","id":19,"options":{"default":0}},"isDeleted":{"type":"bool","id":20,"options":{"default":false}},"color":{"type":"int32","id":21,"options":{"default":-1}},"source":{"type":"Source","id":22,"options":{"default":"PC_CLIENT"}},"visibility":{"type":"Visibility","id":23,"options":{"default":"DEFAULT"}},"importance":{"type":"int32","id":24,"options":{"default":0}},"isAllDay":{"type":"bool","id":25,"options":{"default":false}},"attendees":{"rule":"repeated","type":"CalendarEventAttendee","id":26},"reminders":{"rule":"repeated","type":"Reminder","id":27},"isFree":{"type":"bool","id":28,"options":{"default":false}},"summary":{"type":"string","id":29,"options":{"default":""}},"description":{"type":"string","id":30,"options":{"default":""}},"originalEvent":{"type":"string","id":31,"options":{"default":""}},"originalIsAllDay":{"type":"bool","id":32,"options":{"default":false}},"audioUrl":{"type":"string","id":33,"options":{"default":""}},"url":{"type":"string","id":34,"options":{"default":""}},"hasAlarm":{"type":"bool","id":35,"options":{"default":true}},"hasAttendee":{"type":"bool","id":36,"options":{"default":false}},"hasLocation":{"type":"bool","id":37,"options":{"default":false}},"version":{"type":"int64","id":38,"options":{"default":0}},"sequence":{"type":"int32","id":39,"options":{"default":0}},"type":{"type":"Type","id":40,"options":{"default":"DEFAULT_TYPE"}},"meetingId":{"type":"string","id":41,"options":{"default":""}},"docsObjToken":{"type":"string","id":42,"options":{"default":""}},"docsDescription":{"type":"string","id":43,"options":{"default":""}},"successorCalendarId":{"type":"string","id":44,"options":{"default":""}},"notificationType":{"type":"NotificationType","id":45,"options":{"default":"DEFAULT_NOTIFICATION_TYPE"}},"isCrossTenant":{"type":"bool","id":46,"options":{"default":false}},"dissolveMeeting":{"type":"bool","id":47,"options":{"default":true}},"calendarEventGroupAttendees":{"rule":"repeated","type":"CalendarEventGroupAttendee","id":48},"calendarResources":{"rule":"repeated","type":"CalendarResource","id":49},"calendarBuildings":{"rule":"repeated","type":"CalendarBuilding","id":50},"meetingMinuteUrl":{"type":"string","id":51,"options":{"default":""}},"isMeetingMinuteUpdate":{"type":"bool","id":52,"options":{"default":false}},"vchatUniqueId":{"type":"string","id":53,"options":{"default":""}},"googleEventExtra":{"type":"GoogleEventExtra","id":54},"inviteOperatorId":{"type":"string","id":55,"options":{"default":""}},"attachments":{"rule":"repeated","type":"CalendarEventAttachment","id":56},"attendeeSource":{"type":"int32","id":57,"options":{"default":1}},"schema":{"type":"bytes","id":58},"category":{"type":"Category","id":59,"options":{"default":"DEFAULT_CATEGORY"}},"samePageMeeting":{"type":"SamePageMeetingInfo","id":60},"schemaV2":{"type":"bytes","id":61},"attendeeInfo":{"type":"EventAttendeeInfo","id":62},"videoConfig":{"type":"EventVChatConfig","id":63},"lastDate":{"type":"int64","id":64}},"nested":{"Source":{"values":{"UNKNOWN":0,"WEB":1,"IOS":2,"IOS_APP":3,"ANDROID":4,"ANDROID_APP":5,"PC_CLIENT":6,"GOOGLE":7,"PEOPLE":8,"PLACE_HOLDER":9,"OPEN_API":10,"CALDAV":11,"TIMEOFF":12,"EMAIL":13,"EXCHANGE":14}},"Visibility":{"values":{"DEFAULT":1,"PUBLIC":2,"PRIVATE":3}},"Status":{"values":{"TENTATIVE":1,"CONFIRMED":2,"CANCELLED":3}},"Type":{"values":{"DEFAULT_TYPE":1,"MEETING":2}},"NotificationType":{"values":{"DEFAULT_NOTIFICATION_TYPE":1,"NO_NOTIFICATION":2,"SEND_NOTIFICATION":3}},"SelfAttendeeStatus":{"values":{"ATTENDEE_STATUS_NEEDS_ACTION":1,"ATTENDEE_STATUS_ACCEPT":2,"ATTENDEE_STATUS_TENTATIVE":3,"ATTENDEE_STATUS_DECLINE":4,"ATTENDEE_STATUS_REMOVED":5}},"AttendeeSource":{"values":{"LARK":1,"MAIL":2,"EXCHANGE_SYNC":3}},"Category":{"values":{"DEFAULT_CATEGORY":1,"SAME_PAGE_MEETING":2,"RESOURCE_STRATEGY":3,"RESOURCE_REQUISITION":4}}}},"GoogleEventExtra":{"fields":{"dataSource":{"type":"DataSource","id":1,"options":{"default":"GOOGLE"}}},"nested":{"DataSource":{"values":{"GOOGLE":1,"CACHE":2}}}},"EventExtra":{"fields":{"type":{"type":"CalendarEvent.Type","id":1,"options":{"default":"DEFAULT_TYPE"}},"calendarSchemaCollection":{"type":"CalendarSchemaCollection","id":2},"ExceptionCreating":{"type":"bool","id":3,"options":{"default":false}},"vchatConfig":{"type":"EventVChatConfig","id":4}}},"EventVChatConfig":{"oneofs":{"customizedConfigs":{"oneof":["otherConfigs","googleConfigs"]}},"fields":{"vchatType":{"type":"Vchat.VChatType","id":1,"options":{"default":"UN_KNOWN"}},"meetingUrl":{"type":"string","id":2},"otherConfigs":{"type":"OtherVideoMeetingConfigs","id":101},"googleConfigs":{"type":"GoogleVideoConferenceConfig","id":102}},"nested":{"OtherVideoMeetingConfigs":{"fields":{"icon":{"type":"IconType","id":1},"customizedDescription":{"type":"string","id":2,"options":{"default":""}}},"nested":{"IconType":{"values":{"DEFAULT":0,"VIDEO_MEETING":1,"LIVE":2}}}},"GoogleVideoConferenceConfig":{"fields":{"phoneNumber":{"type":"string","id":1},"morePhoneNumberUrl":{"type":"string","id":2}}}}},"CalendarEventRefExtra":{"fields":{"attendeeCalendarIds":{"rule":"repeated","type":"int64","id":1,"options":{"packed":false}},"isAttendeeListSetted":{"type":"bool","id":2,"options":{"default":false}},"davExtra":{"type":"string","id":3,"options":{"default":""}},"maxVersion":{"type":"int64","id":4,"options":{"default":0}},"eventChangeVersion":{"type":"int64","id":5,"options":{"default":0}}}},"CalendarEventCore":{"fields":{"id":{"type":"string","id":1,"options":{"default":""}},"uniqueKey":{"rule":"required","type":"string","id":2},"originalTime":{"rule":"required","type":"int64","id":3},"calendarId":{"rule":"required","type":"string","id":4},"creatorCalendarId":{"rule":"required","type":"string","id":5},"organizerCalendarId":{"rule":"required","type":"string","id":6},"version":{"type":"int64","id":7,"options":{"default":0}},"rrule":{"type":"string","id":8,"options":{"default":""}},"start":{"rule":"required","type":"int64","id":9},"end":{"rule":"required","type":"int64","id":10},"status":{"type":"Status","id":11,"options":{"default":"CONFIRMED"}},"isAllDay":{"type":"bool","id":12,"options":{"default":false}},"isDeleted":{"type":"bool","id":13,"options":{"default":false}},"isFree":{"type":"bool","id":14,"options":{"default":false}},"ack":{"type":"bool","id":15,"options":{"default":true}},"needUpdate":{"type":"bool","id":16,"options":{"default":true}},"selfAttendeeStatus":{"type":"SelfAttendeeStatus","id":17,"options":{"default":"ATTENDEE_STATUS_NEEDS_ACTION"}},"summary":{"type":"string","id":18,"options":{"default":""}},"color":{"type":"int32","id":19,"options":{"default":-1}},"reminders":{"rule":"repeated","type":"Reminder","id":20},"visibility":{"type":"CalendarEvent.Visibility","id":21,"options":{"default":"DEFAULT"}},"locations":{"rule":"repeated","type":"CalendarEventLocation","id":22},"attendees":{"rule":"repeated","type":"CalendarEventAttendee","id":23},"startTimezone":{"type":"string","id":24,"options":{"default":""}},"endTimezone":{"type":"string","id":25,"options":{"default":""}},"source":{"type":"CalendarEvent.Source","id":26,"options":{"default":"PC_CLIENT"}},"type":{"type":"CalendarEvent.Type","id":27,"options":{"default":"DEFAULT_TYPE"}},"guestsCanInviteOthers":{"type":"bool","id":28,"options":{"default":true}},"guestsCanSeeOtherGuests":{"type":"bool","id":29,"options":{"default":true}},"guestsCanModify":{"type":"bool","id":30,"options":{"default":false}},"meetingId":{"type":"string","id":41,"options":{"default":""}},"docsObjToken":{"type":"string","id":42,"options":{"default":""}},"successorCalendarId":{"type":"string","id":43,"options":{"default":""}},"isCrossTenant":{"type":"bool","id":44,"options":{"default":false}},"calendarEventGroupAttendees":{"rule":"repeated","type":"CalendarEventGroupAttendee","id":45},"originalEvent":{"type":"string","id":46,"options":{"default":""}},"meetingMinuteUrl":{"type":"string","id":47,"options":{"default":""}},"vchatUniqueId":{"type":"string","id":48,"options":{"default":""}},"googleEventExtra":{"type":"GoogleEventExtra","id":49},"forceUpdate":{"type":"bool","id":50,"options":{"default":false}},"attendeeSource":{"type":"int32","id":51,"options":{"default":1}},"category":{"type":"Category","id":52,"options":{"default":"DEFAULT_CATEGORY"}},"attendeeInfo":{"type":"EventAttendeeInfo","id":53},"videoConfig":{"type":"EventVChatConfig","id":54}},"nested":{"Status":{"values":{"TENTATIVE":1,"CONFIRMED":2,"CANCELLED":3}},"SelfAttendeeStatus":{"values":{"ATTENDEE_STATUS_NEEDS_ACTION":1,"ATTENDEE_STATUS_ACCEPT":2,"ATTENDEE_STATUS_TENTATIVE":3,"ATTENDEE_STATUS_DECLINE":4,"ATTENDEE_STATUS_REMOVED":5}},"Category":{"values":{"DEFAULT_CATEGORY":1,"SAME_PAGE_MEETING":2,"RESOURCE_STRATEGY":3,"RESOURCE_REQUISITION":4}}}},"ScrollType":{"values":{"EVENT_INFO":1,"MEETING_TRANSFER_CHAT":2}},"Meeting":{"fields":{"id":{"rule":"required","type":"string","id":1},"chatId":{"rule":"required","type":"string","id":2},"isFirstEntrance":{"type":"bool","id":3,"options":{"default":true}},"calendarEventRefIds":{"rule":"repeated","type":"string","id":4},"docsUrl":{"type":"string","id":5,"options":{"default":""}},"shouldShowScroll":{"type":"bool","id":6,"options":{"default":true}},"scrollType":{"type":"ScrollType","id":7,"options":{"default":"EVENT_INFO"}}}},"MeetingExtra":{"fields":{"docsObjType":{"type":"int64","id":1},"docsObjToken":{"type":"string","id":2}}},"MeetingChatterActionsExtra":{"fields":{"firstEntranceTime":{"type":"int64","id":1},"shouldShowScroll":{"type":"bool","id":2,"options":{"default":true}}}},"Vchat":{"fields":{"uniqueId":{"rule":"required","type":"string","id":1},"meetingNo":{"rule":"required","type":"string","id":2},"isExpired":{"type":"bool","id":3,"options":{"default":false}},"meetingUrl":{"type":"string","id":4,"options":{"default":""}},"type":{"type":"Type","id":5,"options":{"default":"VIDEO_CONFERENCE"}},"vchatType":{"type":"VChatType","id":6,"options":{"default":"UN_KNOWN"}}},"nested":{"Status":{"values":{"UNKNOWN":0,"LIVE":1}},"Type":{"values":{"VIDEO_CONFERENCE":1,"THIRD_PARTY":2}},"VChatType":{"values":{"UN_KNOWN":0,"LARK_VIDEO_CONFERENCE":1,"THIRD_PARTY_URL":2,"LARK_LIVE_HOST":3,"NO_VIDEO_MEETING":4,"GOOGLE_VIDEO_CONFERENCE":5}}}},"CalendarEventVChatChange":{"fields":{"calendarId":{"type":"string","id":1},"uid":{"type":"string","id":2},"originalTime":{"type":"string","id":3},"vchat":{"type":"Vchat","id":4}}},"VchatLiveStatus":{"fields":{"status":{"type":"Vchat.Status","id":1,"options":{"default":"UNKNOWN"}},"startTime":{"type":"int64","id":2,"options":{"default":0}},"liveDuration":{"type":"int64","id":3,"options":{"default":0}},"meetingId":{"type":"string","id":4,"options":{"default":""}}}},"CalendarEventKey":{"fields":{"uniqueKey":{"rule":"required","type":"string","id":1},"calendarId":{"rule":"required","type":"string","id":2},"originalTime":{"rule":"required","type":"int64","id":3}}},"MeetingEventRef":{"fields":{"uniqueKey":{"rule":"required","type":"string","id":1},"originalTime":{"rule":"required","type":"int64","id":2},"meetingId":{"rule":"required","type":"string","id":3}}},"CalendarEventAttendeeTag":{"fields":{"type":{"type":"CalendarEventAttendeeTagType","id":1,"options":{"default":"INDIVIDUAL"}},"content":{"type":"string","id":2,"options":{"default":""}}},"nested":{"CalendarEventAttendeeTagType":{"values":{"INDIVIDUAL":1,"GROUP":2}}}},"CalendarEventAttendee":{"fields":{"displayName":{"type":"string","id":1,"options":{"default":""}},"attendeeCalendarId":{"rule":"required","type":"string","id":2},"isOrganizer":{"type":"bool","id":3,"options":{"default":false}},"isResource":{"type":"bool","id":4,"options":{"default":false}},"isOptional":{"type":"bool","id":5,"options":{"default":false}},"status":{"type":"Status","id":6,"options":{"default":"NEEDS_ACTION"}},"additionalGuests":{"type":"int32","id":7,"options":{"default":0}},"createTime":{"type":"int64","id":8,"options":{"default":0}},"updateTime":{"type":"int64","id":9,"options":{"default":0}},"type":{"type":"Calendar.Type","id":10,"options":{"default":"PRIMARY"}},"tags":{"rule":"repeated","type":"CalendarEventAttendeeTag","id":11},"tenantId":{"type":"string","id":12,"options":{"default":""}},"inviteInfo":{"type":"CalendarEventAttendeeInviteInformation","id":13},"isDisabled":{"type":"bool","id":14,"options":{"default":false}},"email":{"type":"string","id":15,"options":{"default":""}},"isThirdParty":{"type":"bool","id":16,"options":{"default":false}},"attendeeSchema":{"type":"bytes","id":17},"schemaExtraData":{"type":"bytes","id":18},"resourceStatus":{"type":"ResourceStatus","id":19,"options":{"default":"NORMAL"}}},"nested":{"Status":{"values":{"NEEDS_ACTION":1,"ACCEPT":2,"TENTATIVE":3,"DECLINE":4,"REMOVED":5}},"ResourceStatus":{"values":{"NORMAL":0,"RELEASED_EARLY":1}}}},"CalendarEventAttendeeInviteInformation":{"fields":{"inviteOperatorId":{"type":"string","id":1,"options":{"default":""}},"inviteOperatorCalendarId":{"type":"string","id":2,"options":{"default":""}},"inviterCalendarId":{"type":"string","id":3,"options":{"default":""}},"firstInviteOperatorId":{"type":"string","id":4,"options":{"default":""}},"inviteTime":{"type":"int64","id":5,"options":{"default":0}},"removedChatterId":{"type":"string","id":6,"options":{"default":""}},"removedRequestId":{"type":"string","id":7,"options":{"default":""}},"removeTime":{"type":"int64","id":8,"options":{"default":0}}}},"CalendarEventGroupAttendee":{"fields":{"chatId":{"type":"string","id":1},"isRemoved":{"type":"bool","id":2,"options":{"default":false}},"inviteInfo":{"type":"CalendarEventAttendeeInviteInformation","id":3},"validMemberCount":{"type":"int32","id":4},"isSelfInGroupMember":{"type":"bool","id":5,"options":{"default":false}}}},"EventChatRefExtra":{"fields":{"inviteInfo":{"type":"CalendarEventAttendeeInviteInformation","id":1}}},"ResourceCustomization":{"fields":{"customizationData":{"rule":"repeated","type":"CustomizationData","id":1},"contactIds":{"rule":"repeated","type":"int64","id":2,"options":{"packed":false}},"preparationTime":{"type":"int64","id":3}}},"CustomizationData":{"fields":{"customizationType":{"type":"CustomizationType","id":1},"isRequired":{"type":"bool","id":2},"label":{"type":"string","id":3},"indexKey":{"type":"string","id":4},"options":{"rule":"repeated","type":"CustomizationOption","id":5},"conditions":{"rule":"repeated","type":"OptionCondition","id":6},"inputContent":{"type":"string","id":7},"placeHolder":{"type":"string","id":8}},"nested":{"CustomizationType":{"values":{"SingleSelect":1,"MultipleSelect":2,"Input":3}}}},"CustomizationOption":{"fields":{"isOthers":{"type":"bool","id":1},"othersContent":{"type":"string","id":2},"optionLabel":{"type":"string","id":3},"optionImageUrl":{"type":"string","id":4},"optionKey":{"type":"string","id":5},"isSelected":{"type":"bool","id":6}}},"OptionCondition":{"fields":{"customKey":{"type":"string","id":1},"optionKeys":{"rule":"repeated","type":"string","id":2}}},"ResourceApprovalRequest":{"fields":{"CreateChatterId":{"type":"int64","id":1},"ApprovalCode":{"type":"string","id":2},"InstanceCode":{"type":"string","id":3},"Reason":{"type":"string","id":4},"ApproverUserIDs":{"rule":"repeated","type":"int64","id":5,"options":{"packed":false}}}},"CalendarEventAttendeeExtra":{"fields":{"type":{"type":"Calendar.Type","id":1,"options":{"default":"PRIMARY"}},"tags":{"rule":"repeated","type":"CalendarEventAttendeeTag","id":2},"tenantId":{"type":"int64","id":3,"options":{"default":0}},"inviteInfo":{"type":"CalendarEventAttendeeInviteInformation","id":4},"rsvpComment":{"type":"string","id":5},"email":{"type":"string","id":6},"receiverEmail":{"type":"string","id":7},"resourceStatus":{"type":"CalendarEventAttendee.ResourceStatus","id":8,"options":{"default":"NORMAL"}},"resourceApprovalRequest":{"type":"ResourceApprovalRequest","id":9}}},"CalendarEventLocation":{"fields":{"name":{"type":"string","id":1,"options":{"default":""}},"address":{"type":"string","id":2,"options":{"default":""}},"type":{"type":"Type","id":3,"options":{"default":"ORDINARY"}},"latitude":{"type":"float","id":4,"options":{"default":360}},"longitude":{"type":"float","id":5,"options":{"default":360}}},"nested":{"Type":{"values":{"MEETING_ROOM":1,"ORDINARY":2}}}},"CalendarEventInstance":{"fields":{"id":{"rule":"required","type":"string","id":1},"eventRefId":{"type":"string","id":2,"options":{"default":""}},"calendarId":{"type":"string","id":3,"options":{"default":""}},"beginTime":{"type":"int64","id":4,"options":{"default":0}},"endTime":{"type":"int64","id":5,"options":{"default":0}},"score":{"type":"double","id":6,"options":{"default":0}}}},"UserEventVisibility":{"values":{"BUSY_READER":0,"FREE_READER":1,"READER":2}},"EventInfoInstances":{"fields":{"eventId":{"type":"string","id":1},"summary":{"type":"string","id":2},"uid":{"type":"string","id":3},"originalTime":{"type":"int64","id":4},"startTime":{"type":"int64","id":5},"color":{"type":"int32","id":6},"isAllDay":{"type":"bool","id":7},"eventVisibility":{"type":"UserEventVisibility","id":8},"resourceCalendarIds":{"rule":"repeated","type":"string","id":20},"locations":{"rule":"repeated","type":"CalendarEventLocation","id":21},"instanceSpans":{"rule":"repeated","type":"StartEndTime","id":22}}},"CalendarEventAttachment":{"fields":{"fileToken":{"type":"string","id":1},"fileSize":{"type":"string","id":2},"name":{"type":"string","id":3},"type":{"type":"Type","id":4},"uploaderUserId":{"type":"string","id":5},"isDeleted":{"type":"bool","id":6},"position":{"type":"int32","id":7},"docUrls":{"rule":"repeated","type":"string","id":8}},"nested":{"Type":{"values":{"UNKNOWN":0,"LOCAL":1,"SAMEPAGEMEETING":2}}}},"SamePageMeetingInfo":{"fields":{"url":{"rule":"repeated","type":"string","id":1}}},"ApprovalTrigger":{"fields":{"durationTrigger":{"type":"int64","id":1}}},"ResourceApprovalInfo":{"fields":{"approverUserIds":{"rule":"repeated","type":"int64","id":1,"options":{"packed":false}},"trigger":{"type":"ApprovalTrigger","id":2},"adminOnOff":{"type":"bool","id":3}}},"ResourceStrategy":{"fields":{"singleMaxDuration":{"type":"int64","id":1},"untilMaxDuration":{"type":"int64","id":2},"dailyStartTime":{"type":"int64","id":3},"dailyEndTime":{"type":"int64","id":4},"timezone":{"type":"string","id":5},"isEnable":{"type":"bool","id":6}}},"ResourceRelatedInfo":{"fields":{"resourceStrategy":{"type":"ResourceStrategy","id":1},"resourceCustomization":{"type":"ResourceCustomization","id":2}}},"CalendarResource":{"fields":{"id":{"rule":"required","type":"string","id":1},"calendarId":{"type":"string","id":2,"options":{"default":""}},"name":{"type":"string","id":3,"options":{"default":""}},"type":{"type":"Type","id":4,"options":{"default":"OTHER"}},"status":{"type":"Status","id":5,"options":{"default":"FREE"}},"buildingId":{"type":"string","id":6,"options":{"default":""}},"description":{"type":"string","id":7,"options":{"default":""}},"capacity":{"type":"int32","id":8,"options":{"default":0}},"floorName":{"type":"string","id":9,"options":{"default":""}},"category":{"type":"string","id":10,"options":{"default":""}},"isDeleted":{"type":"bool","id":11,"options":{"default":false}},"isExternal":{"type":"bool","id":12,"options":{"default":false}},"weight":{"type":"int32","id":13,"options":{"default":0}},"tenantId":{"type":"string","id":14,"options":{"default":""}},"isDisabled":{"type":"bool","id":15,"options":{"default":false}},"resourceSchema":{"type":"bytes","id":16},"schemaExtraData":{"type":"bytes","id":17},"equipmentNames":{"rule":"repeated","type":"string","id":18,"options":{"deprecated":true}},"equipmentNameMap":{"keyType":"string","type":"string","id":19}},"nested":{"Type":{"values":{"MEETING_ROOM":1,"OTHER":2}},"Status":{"values":{"FREE":1,"BUSY":2}},"ExternalResourceType":{"values":{"GOOGLE":1}}}},"CalendarResourceExtra":{"fields":{"description":{"type":"string","id":1,"options":{"default":""}},"capacity":{"type":"int32","id":2,"options":{"default":0}},"category":{"type":"string","id":3,"options":{"default":""}},"floorName":{"type":"string","id":4,"options":{"default":""}},"imageKeyMap":{"keyType":"string","type":"string","id":5},"comment":{"type":"string","id":6,"options":{"default":""}},"imageUrl":{"type":"string","id":7,"options":{"default":""}},"approvalInfo":{"type":"ResourceApprovalInfo","id":8},"requisitionInfo":{"type":"ResourceRequisition","id":9},"checkInImageKeyMap":{"keyType":"string","type":"string","id":10}}},"ResourceRequisition":{"fields":{"startTime":{"type":"int64","id":1},"endTime":{"type":"int64","id":2},"contactIds":{"rule":"repeated","type":"int64","id":3,"options":{"packed":false}},"reason":{"type":"string","id":4},"needNotification":{"type":"bool","id":5}}},"AlternateCalendar":{"values":{"NONE_CALENDAR":0,"CHINESE_LUNAR_CALENDAR":1}},"CalendarSettingConfig":{"fields":{"langAlternateCalendarMap":{"keyType":"string","type":"AlternateCalendar","id":1}}},"CalendarSetting":{"fields":{"defaultEventDurationV2":{"type":"int32","id":1,"options":{"default":30}},"showRejectedSchedule":{"type":"bool","id":2,"options":{"default":true}},"defaultAllDayReminder":{"type":"int32","id":3,"options":{"default":-480}},"defaultNoneAllDayReminder":{"type":"int32","id":4,"options":{"default":5}},"bindGoogleCalendar":{"type":"bool","id":5,"options":{"default":false}},"remindAcceptOnly":{"type":"bool","id":6,"options":{"default":false}},"notifyWhenGuestsDecline":{"type":"bool","id":7,"options":{"default":false}},"showPastEventsMask":{"type":"bool","id":8,"options":{"default":true}},"skinType":{"type":"int32","id":9,"options":{"default":1}},"timezone":{"type":"string","id":10},"showPastEventsMaskPc":{"type":"bool","id":11,"options":{"default":true}},"skinTypePc":{"type":"int32","id":12,"options":{"default":1}},"showPastEventsMaskAndroid":{"type":"bool","id":13,"options":{"default":true}},"skinTypeAndroid":{"type":"int32","id":14,"options":{"default":1}},"showPastEventsMaskIos":{"type":"bool","id":15,"options":{"default":true}},"skinTypeIos":{"type":"int32","id":16,"options":{"default":1}},"weekStartDay":{"type":"int32","id":17,"options":{"default":0}},"googleCalendarEmail":{"type":"string","id":18,"options":{"default":""}},"showOtherTimezone":{"type":"bool","id":19,"options":{"default":false}},"otherTimezones":{"rule":"repeated","type":"string","id":20},"hideBindingGoogleCalendar":{"type":"bool","id":21,"options":{"default":false}},"summerTimeAlert":{"type":"bool","id":22,"options":{"default":true}},"enableSystemTimezone":{"type":"bool","id":23,"options":{"default":true}},"workHourSetting":{"type":"WorkHourSetting","id":24},"showTodayView":{"type":"bool","id":25,"options":{"default":true}},"showPastEventsMaskWeb":{"type":"bool","id":26,"options":{"default":true}},"skinTypeWeb":{"type":"int32","id":27,"options":{"default":1}},"alternateCalendar":{"type":"AlternateCalendar","id":28},"calendarSettingConfig":{"type":"CalendarSettingConfig","id":29}}},"DayOfWeek":{"values":{"SUNDAY":0,"MONDAY":1,"TUESDAY":2,"WEDNESDAY":3,"THURSDAY":4,"FRIDAY":5,"SATURDAY":6}},"WorkHourSetting":{"fields":{"enableWorkHour":{"type":"bool","id":1,"options":{"default":false}},"workHourItems":{"keyType":"string","type":"WorkHourItem","id":2},"isFirstSet":{"type":"bool","id":3,"options":{"default":true}}}},"WorkHourItem":{"fields":{"spans":{"rule":"repeated","type":"WorkHourSpan","id":1}}},"WorkHourSpan":{"fields":{"startMinute":{"rule":"required","type":"int32","id":1},"endMinute":{"rule":"required","type":"int32","id":2}}},"CalendarUserDeviceSetting":{"fields":{"timezone":{"type":"string","id":1},"deviceId":{"type":"string","id":2},"enableSystemTimezone":{"type":"bool","id":3},"alternateCalendar":{"type":"AlternateCalendar","id":4}}},"CalendarUserDeviceSettings":{"fields":{"calendarUserDeviceSettings":{"rule":"repeated","type":"CalendarUserDeviceSetting","id":1}}},"CalendarBuilding":{"fields":{"id":{"rule":"required","type":"string","id":1},"name":{"type":"string","id":2,"options":{"default":""}},"description":{"type":"string","id":3,"options":{"default":""}},"latitude":{"type":"float","id":4,"options":{"default":360}},"longitude":{"type":"float","id":5,"options":{"default":360}},"floors":{"rule":"repeated","type":"string","id":6},"meetingRooms":{"rule":"repeated","type":"CalendarResource","id":7},"isDeleted":{"type":"bool","id":8,"options":{"default":false}},"weight":{"type":"int32","id":9,"options":{"default":0}},"seizeTime":{"type":"int64","id":10,"options":{"default":0}}}},"CalendarBuildingExtra":{"fields":{"description":{"type":"string","id":1,"options":{"default":""}},"latitude":{"type":"float","id":2,"options":{"default":360}},"longitude":{"type":"float","id":3,"options":{"default":360}},"floors":{"rule":"repeated","type":"string","id":4},"location":{"type":"string","id":5,"options":{"default":""}},"timezone":{"type":"string","id":6,"options":{"default":""}},"seizeTime":{"type":"int64","id":7,"options":{"default":0}}}},"SearchContent":{"fields":{"id":{"rule":"required","type":"string","id":1},"name":{"type":"string","id":2,"options":{"default":""}},"description":{"type":"string","id":3,"options":{"default":""}},"avatarUrl":{"type":"string","id":4,"options":{"default":""}},"searchContentType":{"type":"SearchContentType","id":5,"options":{"default":"CHATTER"}},"tenantId":{"type":"string","id":6,"options":{"default":""}},"isCrossTenant":{"type":"bool","id":7,"options":{"default":false}},"isMeetingGroup":{"type":"bool","id":8,"options":{"default":false}}},"nested":{"SearchContentType":{"values":{"CHATTER":1,"GROUP":2}}}},"GroupMemberContact":{"fields":{"calendarId":{"rule":"required","type":"string","id":1},"avatarUrl":{"type":"string","id":2,"options":{"default":""}},"name":{"type":"string","id":3,"options":{"default":""}}}},"GroupMembersContact":{"fields":{"groupMembersContact":{"rule":"repeated","type":"GroupMemberContact","id":1}}},"MultiCalendarSearchContent":{"fields":{"calendarId":{"rule":"required","type":"string","id":1},"type":{"type":"MultiCalendarSearchContentType","id":2,"options":{"default":"CHATTER"}},"title":{"type":"string","id":3,"options":{"default":""}},"subtitle":{"type":"string","id":4,"options":{"default":""}},"avatarUrl":{"type":"string","id":5,"options":{"default":""}},"isPrivate":{"type":"bool","id":6,"options":{"default":false}},"isMember":{"type":"bool","id":7,"options":{"default":false}},"isDisabled":{"type":"bool","id":8,"options":{"default":false}},"isDismiss":{"type":"bool","id":9,"options":{"default":false}},"isCrossTenant":{"type":"bool","id":10,"options":{"default":false}},"calendarTenantId":{"type":"string","id":11}},"nested":{"MultiCalendarSearchContentType":{"values":{"CHATTER":1,"MEETING_ROOM":2,"SHARED_CALENDAR":3}}}},"MeetingSubscriptionInformation":{"fields":{"isPublic":{"type":"bool","id":1,"options":{"default":false}},"summary":{"type":"string","id":2,"options":{"default":""}},"eventCreator":{"type":"EventCreator","id":3},"instance":{"type":"CalendarEventInstance","id":4},"isAllDay":{"type":"bool","id":5,"options":{"default":false}},"originalEventCreator":{"type":"EventCreator","id":6},"eventOrganizer":{"type":"EventCreator","id":7}}},"MeetingRoomUnusableReasonType":{"values":{"UNKNOWN_UNUSABLE_REASON":0,"OVER_MAX_DURATION":1,"OVER_MAX_UNTIL_TIME":2,"NOT_IN_USABLE_TIME":3,"DURING_REQUISITION":4,"PAST_TIME":5,"CANT_RESERVE_OVER_TIME":101,"UPGRADE_FOR_APPROVAL":102,"OVER_RESERVE_TIME_APPROVE":103}},"EventCreator":{"fields":{"creatorType":{"type":"EventCreatorType","id":1,"options":{"default":"CHATTER"}},"chatterId":{"type":"string","id":2,"options":{"default":""}},"creatorName":{"type":"string","id":3,"options":{"default":""}},"department":{"type":"string","id":4,"options":{"default":""}},"avatarUrl":{"type":"string","id":5,"options":{"default":""}},"dismissedCreatorId":{"type":"int64","id":6,"options":{"deprecated":true}}},"nested":{"EventCreatorType":{"values":{"CHATTER":1,"GOOGLE":2}}}},"TenantAllStuffCalendarRefExtra":{"fields":{}},"Tenant":{"fields":{"id":{"rule":"required","type":"string","id":1},"name":{"rule":"required","type":"string","id":2},"contactName":{"type":"string","id":3},"contactMobile":{"type":"string","id":4},"contactEmail":{"type":"string","id":5},"address":{"type":"string","id":6},"domain":{"type":"string","id":7},"postCode":{"type":"string","id":8},"remark":{"type":"string","id":9},"telephone":{"type":"string","id":10},"iconUrl":{"type":"string","id":11},"avatar":{"type":"Image","id":12},"unitLeague":{"type":"string","id":13}}},"ChatterMeetingStatus":{"values":{"UNKOWN":0,"IDLE":1,"BUSY":2,"INMEETING":3}},"StartEndTime":{"fields":{"startTime":{"rule":"required","type":"int64","id":1},"endTime":{"rule":"required","type":"int64","id":2}}},"CalendarInstanceSet":{"fields":{"calendarEventInstances":{"rule":"repeated","type":"CalendarEventInstance","id":1},"events":{"keyType":"string","type":"CalendarEvent","id":2},"eventCreators":{"keyType":"string","type":"EventCreator","id":3},"originalEventCreators":{"keyType":"string","type":"EventCreator","id":4}}},"UserName":{"fields":{"name":{"rule":"required","type":"string","id":1},"namePy":{"type":"string","id":2},"internationalName":{"keyType":"string","type":"string","id":3}}},"EventIdVersionPair":{"fields":{"calendarEventId":{"rule":"required","type":"string","id":1},"version":{"rule":"required","type":"int64","id":2}}},"CalendarEventVersionSet":{"fields":{"eventVersionSet":{"rule":"repeated","type":"EventIdVersionPair","id":1},"timePair":{"rule":"required","type":"StartEndTime","id":2}}},"WorkStatus":{"fields":{"status":{"type":"Status","id":7},"startTime":{"type":"int64","id":8},"endTime":{"type":"int64","id":9},"descriptionTemplates":{"keyType":"string","type":"string","id":10}},"nested":{"Status":{"values":{"UNKNOWN":0,"ON_LEAVE":1,"ON_MEETING":2}}}},"CryptoChatInfo":{"fields":{"firstPosition":{"type":"int32","id":1},"firstPositionBadgeCount":{"type":"int32","id":2}}},"AccountUser":{"fields":{"chatter":{"type":"Chatter","id":1},"iconUrl":{"type":"string","id":2},"description":{"type":"string","id":3},"tenantCode":{"type":"string","id":4},"userEnv":{"type":"string","id":5},"tenantTag":{"type":"TenantTag","id":6},"avatar":{"type":"Image","id":7},"accountSecurityConfig":{"type":"AccountSecurityConfig","id":8},"tenantSingleProducts":{"rule":"repeated","type":"TenantSingleProduct","id":9},"isIdp":{"type":"bool","id":10},"isFrozen":{"type":"bool","id":11},"isActive":{"type":"bool","id":12},"userUnit":{"type":"string","id":13},"userBrand":{"type":"string","id":14},"suiteFullDomain":{"type":"string","id":15},"upgradeEnabled":{"type":"bool","id":16}}},"AccountSecurityConfig":{"fields":{"moduleModifyPwd":{"type":"ModuleSwitchConfig","id":1},"moduleAccountManagement":{"type":"ModuleSwitchConfig","id":2},"moduleSecurityVerification":{"type":"ModuleSwitchConfig","id":3},"moduleDeviceManagement":{"type":"ModuleSwitchConfig","id":4},"module_2fa":{"type":"ModuleSwitchConfig","id":5},"moduleBioAuth":{"type":"ModuleSwitchConfig","id":6},"moduleBioAuthLogin":{"type":"ModuleSwitchConfig","id":7}}},"ModuleSwitchConfig":{"fields":{"switchStatus":{"type":"int32","id":1},"moduleInfo":{"keyType":"string","type":"string","id":2}}},"FeedType":{"values":{"UNKNOWN_TYPE":0,"INBOX":1,"DONE":2}},"FeedCard":{"fields":{"id":{"type":"string","id":1},"type":{"type":"Type","id":2,"options":{"default":"CHAT"}},"updateTime":{"type":"int64","id":3},"updateTimeMs":{"type":"int64","id":9},"isDelayed":{"type":"bool","id":4},"parentCardId":{"type":"int64","id":5},"rankTime":{"type":"int64","id":6},"feedType":{"type":"FeedType","id":7},"imprId":{"type":"string","id":8}},"nested":{"Type":{"values":{"UNKNOWN_TYPE":0,"CHAT":1,"MAIL":2,"DOC":3,"THREAD":4,"BOX":5,"OPENAPP":6,"TOPIC":7,"APP_CHAT":8,"SUBSCRIPTION":10},"reserved":[[9,9]]}}},"FeedCardIdentity":{"fields":{"id":{"type":"string","id":1},"type":{"type":"FeedCard.Type","id":2}}},"UserFeedCardIdentity":{"fields":{"userId":{"type":"string","id":1},"cardId":{"type":"string","id":2},"cardType":{"type":"FeedCard.Type","id":3}}},"ChannelDataDirection":{"values":{"UNKNOWN_DIRECTION":0,"CHANNEL_UP":1,"CHANNEL_DOWN":2,"CHANNEL_BIDIRECTIONAL":3}},"InvisibleMessage":{"fields":{"id":{"type":"string","id":1},"createTime":{"type":"int64","id":2},"position":{"type":"int32","id":3},"threadId":{"type":"string","id":4},"threadPosition":{"type":"int32","id":5},"fromId":{"type":"string","id":6},"fromType":{"type":"Message.FromType","id":7}}},"InvisibleThread":{"fields":{"ownerId":{"type":"string","id":1},"threadId":{"type":"string","id":2},"updateTime":{"type":"int64","id":3},"position":{"type":"int32","id":4}}},"WayToAddFriendSettingItem":{"fields":{"type":{"type":"Type","id":1},"enable":{"type":"bool","id":2}},"nested":{"Type":{"values":{"UNKNOWN_TYPE":0,"CHAT":1,"CONTACT_TOKEN":2,"PROFILE":3,"DOCS":4,"CALENDAR":5,"VIDEO_CONFERENCE":6,"EMAIL":7,"NAME_CARD":8}}}},"WayToAddFriendSetting":{"fields":{"chatSetting":{"type":"bool","id":1},"contactTokenSetting":{"type":"bool","id":2},"wayToAddItems":{"rule":"repeated","type":"WayToAddFriendSettingItem","id":3}}},"WayToFindMeSettingItem":{"fields":{"type":{"type":"Type","id":1},"id":{"type":"string","id":2},"displayedContact":{"type":"string","id":3},"enable":{"type":"bool","id":4},"hasVerified":{"type":"bool","id":5},"needCpVerify":{"type":"bool","id":6}},"nested":{"Type":{"values":{"UNKNOWN":0,"MOBILE":1,"EMAIL":2}}}},"InstanceImportanceScore":{"fields":{"calendarEventId":{"rule":"required","type":"string","id":1},"instanceStartTime":{"rule":"required","type":"int64","id":2},"score":{"rule":"required","type":"int32","id":3}}},"WordEntity":{"fields":{"text":{"type":"string","id":1},"localeIdentifier":{"type":"string","id":2},"updateTime":{"type":"int64","id":3}}},"SystemMessageAction":{"fields":{"type":{"type":"int32","id":1},"payload":{"type":"bytes","id":2},"cmd":{"type":"improto.Command","id":4},"url":{"type":"Url","id":5}},"nested":{"ActType":{"values":{"UNKNOWN_ACT_TYPE":0,"INVITE_AT_CHATTERS":1,"URL":2,"LARK_COMMAND":3}},"InviteAtChatters":{"fields":{"atChatterIds":{"rule":"repeated","type":"int64","id":1,"options":{"packed":false}}}},"Url":{"fields":{"ios":{"type":"string","id":1},"android":{"type":"string","id":2},"pc":{"type":"string","id":3},"web":{"type":"string","id":4},"common":{"rule":"required","type":"string","id":100}}}}},"SystemMessageItemAction":{"oneofs":{"Action":{"oneof":["inviteAtChatters","actionLink","larkCommand"]}},"fields":{"inviteAtChatters":{"type":"InviteAtChatters","id":1},"actionLink":{"type":"ActionLink","id":2},"larkCommand":{"type":"LarkCommand","id":3}},"nested":{"InviteAtChatters":{"fields":{"atChatterIds":{"rule":"repeated","type":"int64","id":1,"options":{"packed":false}}}},"ActionLink":{"fields":{"ios":{"type":"string","id":1},"android":{"type":"string","id":2},"pc":{"type":"string","id":3},"web":{"type":"string","id":4},"common":{"type":"string","id":5}}},"LarkCommand":{"fields":{"payload":{"type":"bytes","id":2},"cmd":{"type":"improto.Command","id":4}}}}},"FavorItem":{"fields":{"chatterId":{"type":"string","id":1}}},"FavorChattersInChat":{"fields":{"chatId":{"type":"string","id":1},"orderedFavorItems":{"rule":"repeated","type":"FavorItem","id":2},"selectedFavorItems":{"rule":"repeated","type":"FavorItem","id":3}}},"PlatformInfo":{"fields":{"type":{"rule":"required","type":"string","id":1},"minVersion":{"type":"string","id":2}}},"AppInfo":{"fields":{"ID":{"rule":"required","type":"string","id":1},"key":{"rule":"required","type":"string","id":2},"name":{"keyType":"string","type":"string","id":3},"logo":{"keyType":"string","type":"string","id":4},"appType":{"rule":"required","type":"string","id":5},"platforms":{"rule":"repeated","type":"PlatformInfo","id":6},"primaryOnly":{"rule":"required","type":"bool","id":7},"desc":{"keyType":"string","type":"string","id":8},"extra":{"keyType":"string","type":"string","id":9},"unmovable":{"type":"bool","id":10}}},"NavigationAppInfo":{"fields":{"ID":{"rule":"required","type":"int64","id":1},"key":{"rule":"required","type":"string","id":2},"appType":{"rule":"required","type":"NavigationAppType","id":3},"name":{"keyType":"string","type":"string","id":4},"logo":{"type":"Logo","id":5},"platforms":{"rule":"repeated","type":"PlatformInfo","id":6},"extra":{"keyType":"string","type":"string","id":7},"primaryOnly":{"type":"bool","id":30},"unmovable":{"type":"bool","id":31}},"nested":{"Platform":{"values":{"Unknown":0,"Mac":1,"Windows":2,"Android":3,"IPhone":4,"IPad":5,"Linux":6}},"Logo":{"fields":{"primaryDefault":{"type":"string","id":1},"primarySelected":{"type":"string","id":2},"shortcutDefault":{"type":"string","id":3},"primaryDefaultSvg":{"type":"string","id":4},"primaryColorPng":{"type":"string","id":5}}},"Version":{"fields":{"major":{"type":"int32","id":1},"minor":{"type":"int32","id":2},"patch":{"type":"int32","id":3}}},"PlatformInfo":{"fields":{"platform":{"type":"Platform","id":1},"minVersion":{"type":"Version","id":2}}}}},"NavigationOrder":{"fields":{"navigations":{"rule":"repeated","type":"NavigationUniqueID","id":1},"primaryCount":{"rule":"required","type":"int32","id":2},"totalCount":{"type":"int32","id":3}}},"NavigationInfo":{"fields":{"mainNavigation":{"rule":"repeated","type":"AppInfo","id":1},"shortcutNavigation":{"rule":"repeated","type":"AppInfo","id":2},"version":{"rule":"required","type":"int32","id":3},"versionV2":{"type":"int64","id":4}}},"NavigationUniqueID":{"fields":{"ID":{"rule":"required","type":"string","id":1},"appType":{"rule":"required","type":"NavigationAppType","id":2}}},"NavigationAppType":{"values":{"APP_TYPE_NATIVE":1,"APP_TYPE_MINI":2,"APP_TYPE_WEB":3}},"NavigationPlatform":{"values":{"NAV_PC":1,"NAV_MOBILE":2,"NAV_IPAD":3}},"OncallGroupChatter":{"fields":{"groupAvatar":{"type":"ImageSet","id":1},"groupI18nInf":{"type":"I18nInf","id":2},"namePinyin":{"type":"string","id":3},"isAnonymous":{"type":"bool","id":4},"imageAvatar":{"type":"Image","id":5}},"nested":{"I18nInf":{"fields":{"i18nNames":{"keyType":"string","type":"string","id":1},"i18nDescriptions":{"keyType":"string","type":"string","id":2}}}}},"TenantTag":{"values":{"STANDARD":0,"UNDEFINED":1,"SIMPLE":2}},"TenantSingleProduct":{"fields":{"tenantSingleProduct":{"type":"int32","id":1}}},"PlatformType":{"values":{"PlatformIPhone":1,"PlatformAndroid":2,"PlatformWebAdmin":3,"PlatformWebOther":4,"PlatformWindows":5,"PlatformMac":6,"PlatformPassport":7,"PlatformIpad":8}},"TopicGroupRole":{"values":{"UNKNOWN_ROLE":0,"UNAUTHORIZED_USER":1,"MEMBER":2,"PARTICIPANT":3}},"TopicGroup":{"fields":{"id":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"userSetting":{"type":"UserSetting","id":2},"type":{"type":"int32","id":3}},"nested":{"Type":{"values":{"UNKNOWN_TYPE":0,"NORMAL":1,"DEFAULT":2,"PUBLIC":3}},"UserSetting":{"fields":{"isFavorite":{"type":"bool","id":1},"updateTime":{"type":"int64","id":2},"topicGroupRole":{"type":"TopicGroupRole","id":3}}}}},"MailGroupSetting":{"fields":{"sendPermission":{"type":"SendPermission","id":1,"options":{"default":"GROUP_MEMBERS"}},"enableMailSend":{"type":"bool","id":2,"options":{"default":true}}},"nested":{"SendPermission":{"values":{"UNKNOWN":0,"GROUP_ADMIN":1,"GROUP_MEMBERS":2,"ORGANIZATION_MEMBERS":3,"ALL":4}}}},"CalendarSchemaCollection":{"fields":{"entitySchemas":{"rule":"repeated","type":"EntitySchema","id":1},"compatibility":{"type":"CalendarSchemaCompatibility","id":2}}},"EntitySchema":{"fields":{"uniqueName":{"type":"string","id":1},"uiLevel":{"type":"ItemUILevel","id":2},"appLink":{"type":"string","id":3},"incompatibleLevel":{"type":"IncompatibleLevel","id":4}},"nested":{"ItemUILevel":{"values":{"HIDE":1,"READONLY":2,"EDITABLE":3}}}},"CalendarSchemaCompatibility":{"fields":{"minimumCompatibilityVer":{"type":"int32","id":1},"incompatibleLevel":{"type":"IncompatibleLevel","id":2}}},"IncompatibleLevel":{"values":{"SHOW_HINT":1,"DISABLE_EDIT":2,"DISABLE_READ":3}},"Tag":{"values":{"UNKNOWN_TAG":0,"APPROVAL":1,"OFFICIAL":2,"ONCALL":3,"ONCALL_OFFLINE":4,"EXTERNAL":5,"EXTERNAL_WARN":6}},"PendingUser":{"fields":{"userName":{"type":"string","id":1},"userEnv":{"type":"string","id":2},"tenantId":{"type":"int64","id":3},"tenantName":{"type":"string","id":4},"tenantIconUrl":{"type":"string","id":5},"userUnit":{"type":"string","id":6},"userBrand":{"type":"string","id":7}}},"ContactSource":{"values":{"UNKNOWN_SOURCE":0,"LINK":1,"CHAT":2,"CALENDAR":3,"DOCS":4,"VC":5,"EMAIL":6,"NAME_CARD":7,"SEARCH_PHONE":8,"SEARCH_EMAIL":9,"SEARCH_CONTACT":10,"CCM_FOLDER":11,"CCM_SHEET":12,"CCM_SLIDE":13,"CCM_MIND_NOTE":14,"CCM_SMART_TABLE":15,"HOTLINE":16,"SPECIAL_FOCUS":19}},"AvatarMeta":{"fields":{"type":{"type":"Type","id":1},"color":{"type":"int32","id":2},"text":{"type":"string","id":3},"borderColor":{"type":"int32","id":5},"backgroundColor":{"type":"int32","id":7},"centerColor":{"type":"int32","id":8}},"nested":{"Type":{"values":{"UNKNOWN":0,"RANDOM":1,"WORDS":2,"UPLOAD":3}}}},"SidebarType":{"values":{"UNKNOWN_SIDEBAR_TYPE":0,"ADMIN":1}},"SidebarInfo":{"fields":{"sidebarType":{"type":"SidebarType","id":1},"sidebarIcon":{"type":"string","id":2},"sidebarLink":{"type":"string","id":3},"sidebarIsshow":{"type":"bool","id":4}}},"SimpleMember":{"fields":{"attendeeCalendarId":{"type":"string","id":1},"status":{"type":"CalendarEventAttendee.Status","id":2}}},"SimpleMembers":{"fields":{"members":{"rule":"repeated","type":"SimpleMember","id":1}}},"EventAttendeeInfo":{"fields":{"totalNo":{"type":"int32","id":1},"acceptNo":{"type":"int32","id":2},"declineNo":{"type":"int32","id":3},"tentativeNo":{"type":"int32","id":4},"needActionNo":{"type":"int32","id":5},"eventCreators":{"type":"EventCreators","id":6},"allIndividualAttendee":{"type":"bool","id":7},"snapshotPageToken":{"type":"string","id":8}}},"EventCreators":{"fields":{"organizer":{"type":"CalendarEventAttendee","id":1},"creator":{"type":"CalendarEventAttendee","id":2},"successor":{"type":"CalendarEventAttendee","id":3}}},"AttendeeCommit":{"oneofs":{"dependency":{"oneof":["user","group","resource","thirdPartyUser"]}},"fields":{"category":{"type":"Category","id":1,"options":{"default":"USER"}},"attendeeCalendarId":{"type":"string","id":2,"options":{"default":"0"}},"attendeeSchema":{"type":"bytes","id":3},"schemaExtraData":{"type":"bytes","id":4},"status":{"type":"CalendarEventAttendee.Status","id":5,"options":{"default":"NEEDS_ACTION"}},"user":{"type":"User","id":100},"group":{"type":"Group","id":101},"resource":{"type":"Resource","id":102},"thirdPartyUser":{"type":"ThirdPartyUser","id":103}},"nested":{"Category":{"values":{"USER":1,"GROUP":2,"RESOURCE":3,"THIRD_PARTY_USER":4}},"User":{"fields":{"isOptional":{"type":"bool","id":1}}},"Group":{"fields":{"groupId":{"type":"string","id":1}}},"Resource":{"fields":{}},"ThirdPartyUser":{"fields":{"email":{"type":"string","id":1},"isOptional":{"type":"bool","id":2}}}}},"AttendeeCommits":{"fields":{"addedAttendees":{"rule":"repeated","type":"AttendeeCommit","id":1},"updatedAttendees":{"rule":"repeated","type":"AttendeeCommit","id":2},"removedIndividualAttendeeCalendarIds":{"rule":"repeated","type":"string","id":3},"removedGroupIds":{"rule":"repeated","type":"string","id":4}}},"EventAttendeeCommits":{"fields":{"calendarId":{"rule":"required","type":"string","id":1},"key":{"rule":"required","type":"string","id":2},"originalTime":{"rule":"required","type":"int64","id":3},"attendeeCommits":{"type":"AttendeeCommits","id":4}}},"UserInfo":{"fields":{"avatarKey":{"type":"string","id":1,"options":{"deprecated":true}},"userName":{"type":"string","id":2},"namePy":{"type":"string","id":3},"tenantName":{"type":"string","id":4},"lastSevenDayOnlineMinutes":{"type":"int32","id":5},"userId":{"type":"string","id":6},"tenantId":{"type":"string","id":7},"alias":{"type":"string","id":8},"description":{"type":"string","id":9},"status":{"type":"int32","id":10},"searchEnable":{"type":"bool","id":11},"avatarImage":{"type":"entities.Image","id":12},"agreeTime":{"type":"int64","id":13}}},"ContactOperation":{"values":{"OPERATION_UNKNOWN":0,"OPERATION_ADD":1,"OPERATION_DELETE":2,"OPERATION_UPDATE":3}},"ContactInfo":{"fields":{"userInfo":{"rule":"required","type":"UserInfo","id":1},"op":{"type":"ContactOperation","id":2},"chatter":{"type":"Chatter","id":3}}},"MeetingRoomFilter":{"fields":{"minCapacity":{"type":"int32","id":1},"needEquipments":{"rule":"repeated","type":"string","id":2}}},"MeetingRoomFloorFilter":{"fields":{"buildingId":{"type":"string","id":1},"neededFloors":{"rule":"repeated","type":"string","id":2}}},"Equipment":{"fields":{"defaultName":{"type":"string","id":1},"i18nName":{"keyType":"string","type":"string","id":2},"equipmentType":{"type":"string","id":3}}},"UniversalUserSetting":{"oneofs":{"value":{"oneof":["intValue","strValue","boolValue"]}},"fields":{"key":{"rule":"required","type":"string","id":1},"isDefault":{"type":"bool","id":2},"intValue":{"type":"int64","id":3},"strValue":{"type":"string","id":4},"boolValue":{"type":"bool","id":5},"updateTime":{"type":"int64","id":21}}},"SubscriptionFeed":{"fields":{"id":{"rule":"required","type":"int64","id":1},"name":{"keyType":"string","type":"string","id":2},"avatar":{"type":"string","id":3,"options":{"deprecated":true}},"summary":{"keyType":"string","type":"string","id":4},"isNotify":{"type":"bool","id":5},"badge":{"type":"int32","id":6},"schema":{"keyType":"string","type":"string","id":7},"body":{"type":"string","id":8},"displayTime":{"type":"int64","id":9},"version":{"type":"int64","id":10},"avatarImage":{"type":"Image","id":11}}},"CryptoMessageMissingDevicesInfo":{"fields":{"messageId":{"type":"string","id":1},"cryptoDeviceInfo":{"keyType":"string","type":"CryptoDeviceInfo","id":2}},"nested":{"CryptoDeviceInfo":{"fields":{"deviceInfo":{"rule":"repeated","type":"DeviceInfo","id":1}},"nested":{"DeviceInfo":{"fields":{"deviceId":{"type":"string","id":1},"createTime":{"type":"int64","id":2},"publicKey":{"type":"bytes","id":3}}}}}}},"CryptoMessageFallbackUserContent":{"fields":{"contents":{"keyType":"string","type":"FallbackContent","id":1}},"nested":{"FallbackContent":{"fields":{"content":{"type":"bytes","id":1},"nonce":{"type":"bytes","id":2},"additionalData":{"type":"bytes","id":3},"publicKey":{"type":"bytes","id":4}}}}},"TeamStatus":{"values":{"TEAM_STATUS_UNKNOWN":0,"TEAM_STATUS_ACTIVE":1,"TEAM_STATUS_DISSOLVED":2}},"TeamChatType":{"values":{"TEAM_CHAT_TYPE_UNKNOWN":0,"TEAM_CHAT_TYPE_DEFAULT":1,"TEAM_CHAT_TYPE_PUBLIC":2,"TEAM_CHAT_TYPE_PRIVATE":3}},"Team":{"fields":{"id":{"type":"int64","id":1},"name":{"type":"string","id":2},"status":{"type":"TeamStatus","id":3},"ownerId":{"type":"int64","id":4},"memberCount":{"type":"int32","id":5},"defaultChatId":{"type":"int64","id":6},"description":{"type":"string","id":7},"avatar":{"type":"Image","id":8},"createTime":{"type":"int64","id":20},"version":{"type":"int64","id":21},"setting":{"type":"TeamSetting","id":100},"userEntity":{"type":"TeamUserEntity","id":101}}},"TeamBaseInfo":{"fields":{"name":{"type":"string","id":1},"status":{"type":"TeamStatus","id":2},"ownerId":{"type":"int64","id":3},"memberCount":{"type":"int32","id":4},"defaultChatId":{"type":"int64","id":5},"description":{"type":"string","id":6},"avatar":{"type":"Image","id":7}}},"TeamUserEntity":{"fields":{"userRole":{"type":"Role","id":1}},"nested":{"Role":{"values":{"UNKNOWN":0,"MEMBER":1,"OWNER":2}}}},"TeamSetting":{"fields":{"addMemberPermission":{"type":"AddMemberPermissionEnum","id":1},"createTeamChatPermission":{"type":"CreateTeamChatPermissionEnum","id":2},"bindTeamChatPermission":{"type":"BindTeamChatPermissionEnum","id":3}},"nested":{"AddMemberPermissionEnum":{"values":{"ADD_MEMBER_PERMISSION_UNKNOWN":0,"ADD_MEMBER_PERMISSION_ALL_MEMBERS":1,"ADD_MEMBER_PERMISSION_ONLY_OWNER":2}},"CreateTeamChatPermissionEnum":{"values":{"CREATE_TEAM_CHAT_PERMISSION_UNKNOWN":0,"CREATE_TEAM_CHAT_PERMISSION_ALL_MEMBERS":1,"CREATE_TEAM_CHAT_PERMISSION_ONLY_OWNER":2}},"BindTeamChatPermissionEnum":{"values":{"BIND_TEAM_CHAT_PERMISSION_UNKNOWN":0,"BIND_TEAM_CHAT_PERMISSION_ALL_MEMBERS":1,"BIND_TEAM_CHAT_PERMISSION_ONLY_OWNER":2}}}},"Item":{"fields":{"id":{"type":"int64","id":1},"entityId":{"type":"string","id":2},"entityType":{"type":"EntityType","id":3},"parentId":{"type":"int64","id":4},"orderWeight":{"type":"int64","id":5},"version":{"type":"int64","id":6},"isHidden":{"type":"bool","id":7}},"nested":{"EntityType":{"values":{"UNKNOWN":0,"CHAT":1,"TEAM":2}}}},"CalendarTenantInfo":{"fields":{"tenantId":{"type":"string","id":1},"tenantName":{"type":"string","id":2}}}}},"improto":{"options":{"optimize_for":"LITE_RUNTIME","go_package":"git.byted.org/ee/lark/im-protobuf/improto/improto","java_package":"com.ss.android.lark.pb"},"nested":{"PacketGreeter":{"methods":{"send":{"requestType":"Packet","responseType":"Packet"},"pullPacketBySid":{"requestType":"PullPacketsBySeqIdRequest","responseType":"PullPacketsBySeqIdResponse"}}},"Command":{"options":{"allow_alias":true},"values":{"ACK":1,"CONNECT":2,"DISCONNECT":3,"PING":4,"PUT_MESSAGE":5,"PUSH_MESSAGES":6,"PULL_CHAT_MESSAGES":7,"PULL_MESSAGES_BY_IDS":8,"DELETE_MESSAGE":9,"PULL_MESSAGE_READ_STATE":12,"PUT_CHAT":13,"PUSH_CHATS":18,"PUSH_USERS":21,"PUT_USER":22,"PULL_MESSAGE_REPLIES":23,"PULL_REACTIONS":24,"PUT_REACTION":25,"DELETE_REACTION":26,"PUSH_REACTIONS":27,"PATCH_MESSAGE":28,"SERVER_DISCONNET":30,"PUT_IMAGE":31,"SYNC_PACKETS":32,"PULL_RECENT_CHATS":33,"PULL_CONTACTS":37,"PULL_BOTS":38,"PULL_UPDATE_CHATTERS":39,"PUT_READ_MESSAGES":40,"PUSH_MESSAGE_READ_COUNT":41,"PULL_MESSAGES_BY_POSITIONS":43,"PULL_CHAT_CHATTERS":44,"DELETE_CHAT_CHATTER":45,"PULL_CHATTERS_BY_IDS":46,"PUT_CHAT_CHATTER":47,"PUSH_CHAT_CHATTERS":48,"PUSH_CHAT_MUTABLE_INFO":49,"PUT_P2P_CHATS":50,"PUT_TRANSMIT_MESSAGE":51,"PUT_SINGLE_FORWARD_MESSAGE":51,"PUT_TRANSMIT_ONE":52,"BATCH_COPY_MESSAGES":53,"BATCH_PUT_P2P_Chat_MESSAGES":54,"FILE_UPDATE_LAN_TRANS_STATUS":57,"FILE_UPDATE_TO_OFFLINE_MODE":56,"PULL_MESSAGE_TRANSMIT_CHAIN":55,"PULL_MESSAGE_ID_BY_POSITION":58,"PUT_SHARE_AS_MESSAGE":59,"PATCH_CHAT_SETTING":60,"PUSH_CHAT_SETTING":61,"PULL_CHAT_SETTINGS":62,"PULL_ALL_CHAT_SETTINGS":63,"PULL_CHATS_BY_IDS":64,"PUSH_CHATTER_RESIGN":70,"PULL_CHATTERS_RESIGN_STATUS":71,"PATCH_GROUP_CHAT":72,"PULL_MESSAGE_ME_READ_STATE":73,"PUSH_GROUP_MESSAGE_READ_STATE":74,"PUSH_CHAT_MESSAGE_READ_STATE":74,"PULL_THREAD":90,"PUSH_THREAD_REPLY_COUNT":92,"PULL_THREAD_REPLIES":93,"PULL_THREAD_REACTIONS":94,"PUSH_CHATTERS":95,"PULL_UNREAD_AT_MESSAGE_IDS":96,"PULL_UNREAD_SPECIAL_FOCUS_MESSAGE_IDS":99,"PULL_DEPARTMENT_STRUCTURE":80,"PULL_FULL_DEPARTMENT_STRUCTURE":81,"PULL_SUBORDINATE_DEPARTMENTS":83,"PULL_UNFOLD_DEPARTMENT_STRUCTURE":84,"PULL_MANAGED_DEPARTMENT":85,"PUT_DEPARTMENT_CHAT":86,"PULL_GROUP_CHATS":82,"PULL_WANTED_AT_CHATTER":75,"PROCESS_MULTI_PACKETS":77,"DELETE_GROUP_MESSAGE":78,"PULL_MESSAGE_READ_USERS":79,"PULL_MESSAGE_UNREAD_USERS":87,"NO_TRACE_REMOVE_MESSAGE_BY_ID":97,"PUSH_MESSAGE_NO_TRACE_REMOVE":98,"PUT_STICKERS":100,"DELETE_STICKERS":101,"PATCH_STICKERS":102,"PULL_STICKERS":103,"PUSH_STICKERS":104,"PATCH_CHATTER_PROFILE":105,"PUSH_MULTI_THREAD_REPLY_COUNT":290,"PUSH_MULTI_CHAT_MUTABLE_INFO":291,"PUSH_MULTI_GROUP_MESSAGE_READ_STATE":293,"PULL_STICKER_SETS_STORE":3100,"PULL_STICKER_SETS":3101,"PULL_STICKER_SETS_BY_ID":3102,"PUT_STICKER_SETS":3103,"PATCH_STICKER_SETS":3104,"DELETE_STICKER_SETS":3105,"PUSH_STICKER_SETS":3106,"PULL_STICKER_SET_CARD":3107,"PULL_STICKER_SETS_TAB":3108,"PATCH_CHATTER":106,"PUT_TRANSLATE_FEEDBACKS":108,"TRANSLATE_MESSAGES":107,"PULL_TRANSLATE_INFOS":109,"PUSH_TRANSLATE_STATES_NOTICE":110,"PULL_TRANSLATE_LANGUAGES":111,"PATCH_TRANSLATE_LANGUAGE":112,"PUSH_TRANSLATE_LANGUAGES_NOTICE":113,"PATCH_LANGUAGES_CONFIGURATION":114,"PUSH_LANGUAGES_CONFIGURATION_NOTICE":115,"DISABLE_AUTO_TRANSLATE_LANGUAGE":116,"PUSH_DISABLE_AUTO_TRANSLATE_LANGUAGE_NOTICE":117,"PUSH_MESSAGE_FIRST_TRANSLATED_TO_SENDER_NOTICE":118,"PULL_AUTO_TRANSLATE_GUIDANCE":119,"PULL_MESSAGE_TRANSLATE_INFOS":120,"PATCH_AUTO_TRANSLATE_GLOBAL_SWITCH":121,"PUSH_AUTO_TRANSLATE_GLOBAL_SWITCH_NOTICE":122,"PATCH_AUTO_TRANSLATE_CHAT_SWITCH":123,"PUSH_AUTO_TRANSLATE_CHAT_SWITCH_NOTICE":124,"PULL_AUTO_TRANSLATE_CHAT_SWITCH":125,"TRANSLATE_MESSAGES_V2":126,"PUSH_TRANSLATE_STATES_NOTICE_V2":127,"PULL_REACTIONS_RESOURCE":128,"PULL_USER_REACTIONS":129,"PUSH_USER_REACTIONS":130,"PULL_USED_REACTIONS":131,"PUSH_USED_REACTIONS":132,"PULL_EMOJI_RESOURCES":136,"PUSH_REACTION_STATUS":137,"PULL_RECOMMEND_STATUS_ICON_RESOURCES":138,"PUSH_MESSAGE_STATIC_RESOURCE_DELETED":133,"PUSH_BATCH_COPY_MESSAGES":134,"CHECK_ENTITY_VERSION":135,"PATCH_AUTO_TRANSLATE_SCOPE":150,"PUSH_AUTO_TRANSLATE_SCOPE_NOTICE":151,"PULL_AUTO_TRANSLATE_FIRST_GUIDE_INFO":152,"PUSH_AUTO_TRANSLATE_FIRST_GUIDE_INFO_NOTICE":153,"PATCH_AUTO_TRANSLATE_FIRST_GUIDE_INFO":154,"PULL_MESSAGE_LANGUAGE":155,"TRANSLATE_WEB_XML":156,"TRANSLATE_IMAGE_KEYS":157,"PUSH_IMAGE_TRANSLATION_INFO":158,"DETECT_TEXT_LANGUAGE":159,"PATCH_WEB_TRANSLATION_CONFIG":160,"PUSH_WEB_TRANSLATION_CONFIG":161,"PATCH_LANGUAGE_AUTO_TRANSLATE_SCOPE":162,"PUSH_LANGUAGE_AUTO_TRANSLATE_SCOPE":163,"DETECT_IMAGE_LANGUAGE":164,"PATCH_LANGUAGES_CONFIGURATION_V2":165,"PUSH_LANGUAGES_CONFIGURATION_NOTICE_V2":166,"PATCH_WEB_NOT_TRANSLATE_LANGUAGES":167,"PUSH_WEB_NOT_TRANSLATE_LANGUAGES_NOTICE":168,"PULL_WEB_NOT_TRANSLATE_LANGUAGES":169,"DELETE_WEB_NOT_TRANSLATE_LANGUAGES":170,"PONG":200,"PULL_APP_CONFIG":201,"PUSH_APP_CONFIG":202,"PUSH_SETTINGS_NOTIFICATION":203,"PULL_APP_CONFIG_V2":210,"PULL_STATIC_APP_CONFIG_V2":211,"PULL_SECURITY_CONFIG":251,"PUSH_SECURITY_CONFIG":252,"PULL_CHAT_POST_USER":253,"PATCH_CHAT_POST_USER":254,"PULL_ALLOW_POST_CHAT":255,"CHECK_PUBLIC_CHAT_NAME_EXIST":256,"PUT_ADD_CHAT_CHATTER_APPLY":257,"PULL_ADD_CHAT_CHATTER_APPLY":258,"PATCH_ADD_CHAT_CHATTER_APPLY":259,"DISABLE_CHAT_SHARED":270,"CHECK_CHATTERS_IN_CHAT":271,"PUT_CHAT_ANN_READ_TIME":280,"PULL_CHATS_ANN_READ_TIME":281,"PUSH_CHAT_ANN_READ_TIME":282,"PULL_TENANTS_BY_IDS":300,"PUSH_CHAT_CHATTER_TAG":401,"PULL_CHAT_CHATTER_KICK_INFO":402,"CHECK_WITHDRAW_PICK_ENTITIES_IN_CHAT":403,"PULL_CHAT_MEMBER_SETTING":404,"PULL_CHANGE_GROUP_MEMBER_AUTHORIZATION":405,"PUT_FAVORITE":500,"PULL_FAVORITES":501,"REMOVE_FAVORITE":502,"PULL_ALL_FAVORITE":503,"PUT_MERGE_MESSAGE_FAVORITE":504,"PULL_NEW_VERSION":600,"PULL_VERSION_NOTE":601,"PATCH_DOWNLOAD_STATUS":602,"PUT_HOME_SCHOOL_CHAT":700,"GET_HOME_SCHOOL_CHAT_CLASS":701,"PULL_MANAGED_NODES":702,"PULL_SCHOOL_NODE":703,"EDU_JOIN_CHAT_PRE_CHECK":704,"EDU_JOIN_CHAT":705,"PULL_COLLABORATION_STRUCTURE":801,"PULL_COLLABORATION_TENANT":802,"AUTH_USER_COLLABORATION_VISIBLE":803,"PULL_COLLABORATION_INVITE_QRCODE":804,"PULL_FEED_CARDS":1000,"PATCH_FEED_CARDS":1001,"PUSH_FEED_CARDS":1002,"PULL_FEED_CARDS_FEED_TYPES":1003,"PEAK_FEED_CARD":1004,"PUT_FEED_CARD_DELAYED":1005,"PUT_FEED_CARDS_INTO_BOX":1006,"DELETE_FEED_CARDS_FROM_BOX":1007,"PULL_FEED_CARDS_DELAYED":1008,"PULL_FEED_CARDS_BY_IDS":1009,"PULL_NEW_BOX_FEED_CARDS":1010,"CLEAN_NEW_BOX_FEED_CARDS":1011,"PUSH_CLEAN_NEW_BOX_FEED_CARDS":1012,"PUT_USER_COLD_BOOT":1014,"PULL_MUTE_POPUP_INFO":1015,"PUT_SHOW_MUTE_POPUP":1016,"PUT_BATCH_MUTE_FEED_CARDS":1017,"CREATE_FEED_GROUP":1018,"PULL_KEYWORDS_FEED_CARDS":1019,"PULL_FEED_GROUPS":1020,"PULL_ITEM_CHANGED_GROUPS":1021,"PULL_FEED_GROUP_ITEMS":1022,"UPDATE_FEED_GROUPS":1023,"PUSH_FEED_GROUPS":1024,"PUT_SHORTCUTS":1100,"DELETE_SHORTCUTS":1101,"PATCH_SHORTCUTS":1102,"PULL_SHORTCUTS":1103,"PUSH_SHORTCUTS":1104,"REMOVE_MESSAGES_FROM_USER":1200,"PUT_MERGE_FORWARD_MESSAGE":1201,"PULL_SYSTEM_MESSAGE_TEMPLATE":1202,"PUSH_BADGE_TO_RELATED_USERS":1203,"PULL_RELATED_USERS_BADGE":1204,"DELETE_MESSAGE_URL_PREVIEW":1301,"PUT_URL_PREVIEW":1304,"PULL_MESSAGE_PREVIEWS":1310,"PUSH_MESSAGE_PREVIEWS":1311,"PULL_URL_PREVIEW_CHATTERS":1312,"GRANT_MINUTES":1313,"PULL_URL_PREVIEW_CHATTERS_LIST":1314,"GENERATE_URL_PREVIEW_ENTITY":1315,"GET_URL_PREVIEW":1316,"URL_PREVIEW_ACTION_CALLBACK":1317,"PUSH_URL_PREVIEW":1318,"PUSH_URL_PREVIEW_ENTRIES":1319,"HIDE_AUDIO_RECOGNITION_RESULT":1302,"PUSH_AUDIO_RECOGNITION_RESULT":1303,"PUT_SPEECH_RECOGNITION":1305,"PUT_AUDIO_MESSAGE_RECOGNITION":1306,"PUSH_AUDIO_MESSAGE_RECOGNITION_RESULT":1307,"PULL_VIDEO_INFO":1350,"PUT_TOPIC_GROUP":1600,"REGISTER_TOPIC_GROUP_FAVORITE":1601,"CANCEL_TOPIC_GROUP_FAVORITE":1602,"PUSH_TOPIC_GROUP_FEED_CARDS":1603,"PUT_TOPIC_GROUP_MEMBER":1604,"PULL_APPLIST":2000,"PUT_RECENTAPP":2001,"PULL_TENANT_APPCENTER":2002,"SEARCH_APPCENTER":2003,"CARD_JSON_TO_PB":2070,"SEND_PREVIEW_CARD":2071,"GADGET_DEV_TOOL_PUSH":2072,"PUSH_EPHEMERAL_MESSAGE":2080,"PULL_EPHEMERAL_MESSAGE":2081,"PUSH_EPHEMERAL_MESSAGE_UPDATE":2082,"PUSH_EPHEMERAL_MESSAGE_DELETE":2083,"APP_SHARE_V2":2098,"APP_SHARE":2099,"PUT_E2EE_VOICE_CALL":2100,"PATCH_E2EE_VOICE_CALL":2101,"PUSH_E2EE_VOICE_CALL_NOTICE":2102,"PULL_E2EE_VOICE_CALLS":2103,"PUT_E2EE_VOICE_DEVICE_TOKEN":2104,"PUT_E2EE_VOICE_FEEDBACKS":2105,"PULL_E2EE_VOICE_CALL_BY_CALL_IDS":2106,"PUT_VIDEO_CONF":2200,"PATCH_VIDEO_CONF":2201,"PUSH_VIDEO_CONF_NOTICE":2202,"PULL_VIDEO_CONFS":2203,"REGISTER_CLIENT_INFO":2204,"CREATE_VIDEO_CHAT":2205,"JOIN_VIDEO_CHAT":2206,"UPDATE_VIDEO_CHAT":2207,"INVITE_VIDEO_CHAT":2208,"SHARE_VIDEO_CHAT":2209,"NOTIFY_VIDEO_CHAT":2210,"SEARCH_VC_CHATTERS":2211,"GET_CHATTERS_VC_STATUS":2212,"PULL_VIDEO_CHAT_CONFIG":2213,"PUSH_VIDEO_CHAT_CONFIG":2214,"PUSH_VIDEO_CHAT_NOTICE":2215,"REPLY_VIDEO_CHAT_NOTICE":2216,"JOIN_CALENDAR_GROUP_MEETING":2217,"PUT_FEEDBACKS":2218,"PULL_VIDEOCHAT_BY_SHARE_CODE":2219,"PUT_BYTEVIEW_HEARTBEAT":2300,"NOTIFY_VIDEO_CHAT_EXTRA":2306,"NOTIFY_STANDALONE_VC_APPLICATION":2307,"HOST_MANAGE":2308,"HOST_CHANGE_SETTINGS":2309,"PARTICIPANT_CHANGE_SETTINGS":2310,"SHARE_SCREEN":2311,"PULL_VIDEO_CHAT_IN_MEETING_INFO":2312,"PREVIEW_JOIN_VIDEO_CHAT":2314,"FORCE_LEAVE_VIDEO_CHAT":2315,"QUERY_SELF_STATUS":2316,"PUT_VIDEO_CHAT_FEEDBACKS":2317,"PULL_E2EE_VOICE_CALL_CONFIG":2318,"REJOIN_VIDEO_CHAT":2321,"JOIN_BY_MEETING_NUMBER":2323,"SHARE_SCREEN_TO_ROOM":2324,"PULL_PRE_VIDEO_CHAT_SETTING":2325,"INVITE_CALENDAR_MEETING":2327,"GET_CALENDAR_INFO":2328,"GET_CALENDAR_GROUP":2329,"SHARE_FOLLOW":2330,"SYNC_FOLLOW_ACTION":2331,"QUERY_MEETING_JOINABLE":2332,"JOIN_MEETING":2333,"PUSH_ASSOCIATED_VC_STATUS":2334,"GET_ASSOCIATED_VC":2335,"PULL_DIAL_TEST_SUITE":2336,"REPORT_DIAL_TEST_STATUS":2337,"NOTIFY_DIAL_TEST_ACTION":2338,"PULL_SUBTITLES":2339,"GET_SHARE_CODE_INFO":2340,"GET_ASSOCIATED_VC_STATUS":2341,"JOIN_INTERVIEW_GROUP_MEETING":2342,"RECORD_MEETING":2343,"GET_CHATTERS_WITH_CI_ORDER":2344,"SEARCH_VIEW_PARTICIPANTS":2345,"REQUEST_FOLLOW_TOKEN":2346,"GRANT_FOLLOW_TOKEN":2347,"REQUEST_FOLLOW_PERM":2348,"VC_QUERY_DOCS":2349,"PUSH_VIDEO_CHAT_NOTICE_UPDATE":2350,"JOIN_MEETING_PRE_CHECK":2351,"SEND_VIDEO_CHAT_INTERACTION_MESSAGE":2352,"PULL_VIDEO_CHAT_INTERACTION_MESSAGE":2353,"PUSH_VIDEO_CHAT_INTERACTION_MESSAGES":2354,"PUBLISH_MEDIA_STREAM":2360,"SEND_UPGRADE_PLAN_NOTICE":2370,"PUSH_VIDEO_CHAT_PROMPT":2371,"REPLY_VIDEO_CHAT_PROMPT":2372,"ADJUEST_MEETING_DURATION":2373,"PULL_VIEW_USER_SETTING":2374,"PATCH_VIEW_USER_SETTING":2375,"PUSH_VIEW_USER_SETTING":2376,"SUBMIT_GENERIC_FEEDBACK":2377,"GET_RESERVATION":2378,"LIVE_MEETING_ACTION":2380,"LIVE_MEETING_EXTRA_INFO":2381,"LIVE_MEETING_JOIN_PRE_CHECK":2382,"LIVE_MEETING_ACCOUNT_BINDING_INFO":2383,"LIVE_MEETING_STREAM_SETTING":2384,"LIVE_MEETING_FETCH_LIVE_POLICY":2385,"LIVE_MEETING_GET_VERIFICATION_QR_CODE":2386,"LIVE_MEETING_POLL_VERIFICATION_STATUS":2387,"LIVE_MEETING_GET_VERIFICATION_INFO":2388,"LIVE_MEETING_VERIFY_TWO_ELEMENT":2389,"LIVE_MEETING_LIVENESS_VERIFICATION_CALLBACK":2390,"LIVE_MEETING_GET_LIVE_PERMISSION":2391,"LIVE_MEETING_GET_VERIFICATION_TICKET":2392,"LIVE_MEETING_PULL_SETTING":2393,"PULL_ACCOUNT_BADGES":2500,"PUSH_ACCOUNT_BADGES":2501,"CLEAR_ACCOUNT_BADGE":2502,"PUT_EMAIL":3000,"PULL_EMAIL_MEMBERS":3001,"PATCH_EMAIL_MEMBERS":3002,"PUSH_EMAIL_MEMBERS":3003,"PULL_EMAILS_BY_IDS":3004,"PATCH_EMAIL":3005,"PUSH_EMAIL":3006,"PULL_EMAIL_CHATTERS":3007,"PULL_EMAIL_ROLE":3008,"PULL_EMAIL_WANTED_AT_CHATTERS":3009,"MAIL_GET_SEND_EXTERNAL_LIMIT":3010,"CREATE_MAIL":3500,"UPDATE_MAIL_DRAFT":3501,"GET_MAIL_INBOX":3502,"GET_THREADS_BY_ID":3503,"PUSH_THREAD_FOR_NEW_MAIL":3504,"UPDATE_MAIL_STATUS":3505,"CLONE_DRIVE_FILE":3506,"MAIL_ADD_CHANGE":3507,"GET_FILTERED_THREADS":3508,"GET_THREADS_BY_ID_WITH_META":3509,"CREATE_OUTGOING_MAIL":3510,"MAIL_APPLY_RULE":3511,"MAIL_GET_MESSAGES_BY_THREAD_IDS_FOR_SEARCH":3512,"MAIL_NEW_MESSAGES_REQUEST":3513,"MARK_ALL_AS_READ_REQUEST":3514,"MAIL_GET_RAW_MESSAGES":3515,"MAIL_INIT_SYNC":3600,"GET_MAIL_THREAD_META":3601,"GET_MAIL_MESSAGES":3602,"MAIL_PUSH_CHANGE":3603,"GET_MAIL_THREAD_META_V2":3604,"GET_LABEL_LIST_BY_USER":3605,"GET_MAIL_MESSAGE_META":3606,"GET_MAIL_MESSAGE_META_WITH_FOLDER_DISABLE":3607,"MAIL_AT_CONTACT":3650,"MAIL_SIMPLE_SEARCH_REQUEST":3651,"MAIL_SIMPLE_SEARCH_RESPONSE":3652,"MAIL_GET_SEARCH_HISTORY_REQUEST":3653,"MAIL_STORE_SEARCH_HISTORY_KEYWORD":3654,"MAIL_DELETE_SEARCH_HISTORY":3655,"MAIL_RULE_PREVIEW_SEARCH_REQUEST":3656,"MAIL_CONTACT_SEARCH":3657,"MAIL_ADVANCED_SEARCH":3658,"MAIL_CHANGE_ASYNC_RESULT":3659,"GET_UNREAD_MAIL_THREAD_META":3660,"GET_MAIL_THREAD_TIMESTAMP":3661,"MAIL_GET_THREAD_META_BY_THREAD_IDS":3662,"MAIL_GET_THREAD_FULL_BY_THREAD_IDS":3663,"MAIL_GET_MAIL_MESSAGE_FULL_BY_MESSAGE_IDS":3664,"MAIL_GET_MAIL_MESSAGE_BODY_BY_MESSAGE_IDS":3665,"MAIL_GET_MAIL_MESSAGE_SUMMARY_BY_MESSAGE_IDS":3666,"MAIL_GET_SYNC_STATUS":3667,"MAIL_GET_MESSAGE_META_BY_MESSAGE_IDS":3668,"MAIL_DELETE_MAIL_EXTERNAL_CONTACT":3669,"GET_MAIL_SETTINGS":3700,"UPDATE_MAIL_SETTINGS":3701,"PUSH_MAIL_SETTINGS":3702,"MAIL_CHANGE_OAUTH_STATUS":3703,"PUSH_MAIL_OAUTH_STATUS":3704,"MAIL_UPDATE_CLIENT_TAB_SETTING":3705,"MAIL_GET_GOOGLE_AUTH_URL":3706,"MAIL_GET_CAN_SHARE_TO_EXTERNAL":3707,"MAIL_UNBIND_GMAIL_ACCOUNT":3708,"MAIL_GET_TENANT_DOMAINS":3709,"PUSH_MAIL_UNREAD_COUNT":3710,"PULL_MAIL_CARD":3711,"GET_MAIL_CARD":3712,"SEND_MAIL_CARD":3713,"ADD_MAIL_CHANGE_LOG":3714,"DELETE_LARGE_FILE":3715,"MAIL_GET_LABEL_THREADS_COUNT":3716,"MAIL_GET_LONG_RUNNING_TASK":3717,"MAIL_CANCEL_LONG_RUNNING_TASK":3718,"MAIL_GET_CONFIG":3720,"MAIL_GET_USER_ENGAGEMENT_SETTINGS":3721,"MAIL_UPDATE_USER_ENGAGEMENT_SETTINGS":3722,"MAIL_SYNC_ALIAS":3723,"MAIL_CREATE_RULE_REQUEST":3750,"MAIL_UPDATE_RULE_REQUEST":3751,"MAIL_DELETE_RULE_REQUEST":3752,"MAIL_GET_RULES_REQUEST":3753,"MAIL_RULE_CONTROL_REQUEST":3754,"MAIL_ADJUST_RULE_ORDER_REQUEST":3755,"MAIL_SEND_AUTO_TRANSFER_AUTH_MAIL":3756,"MAIL_GET_AUTO_TRANSFER_EMAIL":3757,"PUSH_MAIL_RELATED_BIZ_ID":3778,"MAIL_SHARE_MAIL_ATTACHMENT_REQUEST":3779,"MAIL_SHARE_CREATE_PERM_REQUEST":3780,"MAIL_SHARE_UPDATE_PERM_REQUEST":3781,"MAIL_SHARE_DELETE_PERM_REQUEST":3782,"MAIL_SHARE_GET_THREAD_COLLABORATORS_INFO_REQUEST":3783,"MAIL_SHARE_GET_MESSAGE_FULL_REQUEST":3784,"MAIL_SHARE_GET_SHARE_GROUPS_REQUEST":3785,"MAIL_SHARE_CREATE_DOC_REQUEST":3786,"MAIL_SHARE_GET_SHARE_GROUP_INFO_REQUEST":3787,"MAIL_SHARE_CREATE_SHARE_DRAFT_REQUEST":3788,"MAIL_SHARE_UPDATE_DRAFT_REQUEST":3789,"MAIL_SHARE_GET_MAIL_SETTINGS":3790,"MAIL_GET_MESSAGE_SUMMARY_REQUEST":3791,"MAIL_GET_MESSAGE_BODY_REQUEST":3792,"MAIL_SHARE_SEARCH_MEMBER_REQUEST":3793,"MAIL_SHARE_UPDATE_COLLABORATORS_ROLE_REQUEST":3794,"MAIL_SHARE_CREATE_GROUP_REQUEST":3795,"MAIL_GET_MIGRATION_STATUS":3796,"MAIL_GET_GROUP_SETTING":3801,"MAIL_SET_GROUP_SETTING":3802,"MAIL_PUSH_GROUP_SETTING":3803,"MAIL_DELETE_GROUP_SETTING":3804,"MAIL_GET_CONFIG_REQUEST":3805,"MAIL_RECALL_STATUS":3811,"MAIL_RECALL_DETAIL":3812,"PUSH_MAIL_IMAP_MIGRATION_STATUS":3820,"MAIL_IMAP_MIGRATION_GET_STATUS":3821,"MAIL_IMAP_MIGRATION_UPDATE_TOKEN":3822,"MAIL_IMAP_MIGRATION_UPDATE_UIDS":3823,"MAIL_IMAP_MIGRATION_GET_OLD_MESSAGE_TASK":3824,"MAIL_IMAP_MIGRATION_UPLOAD_OLD_MESSAGE":3825,"MAIL_IMAP_MIGRATION_UPLOAD_NEW_MESSAGE":3826,"MAIL_IMAP_MIGRATION_QUERY_PROGRESS":3827,"MAIL_IMAP_MIGRATION_DECODE_MESSAGE":3828,"MAIL_IMAP_MIGRATION_GET_MAILBOX_INFOS":3829,"MAIL_IMAP_MIGRATION_BLOCKED":3830,"PUSH_MAIL_IMAP_MIGRATION_OLDEST_INFO":3831,"MAIL_IMAP_MIGRATION_GET_HISTORY_DONE_INFO":3832,"MAIL_IMAP_MIGRATION_GET_ALL_ACCOUNT_STATUS":3833,"MAIL_IMAP_MIGRATION_VERIFY_TOKEN":3834,"MAIL_TRANSLATION":3840,"MAIL_UNSUBSCRIBE":3843,"MAIL_GET_SMART_REPLY":3845,"MAIL_GET_IS_SMART_INBOX_TARGET_USER":3846,"MAIL_GET_AUTHORIZATION_CODES":3847,"MAIL_CREATE_AUTHORIZATION_CODE":3848,"MAIL_DELETE_AUTHORIZATION_CODE":3849,"MAIL_GET_THIRD_PARTY_CLIENT_SETTING":3851,"MAIL_GET_EXCHANGE_AUTH_URL":3850,"PUSH_MAIL_SETTING_CHANGE":3852,"MAIL_GET_MESSAGE_SEND_STATUS":3853,"MAIL_PULL_ENTERPRISE_EMAIL":3854,"MAIL_MULTI_COPY_FILE":3855,"GET_SHARED_MAIL_SETTINGS":3856,"UPDATE_SHARED_MAIL_SETTINGS":3857,"PUSH_SHARED_MAIL_SETTING_CHANGE":3858,"PUT_CRYPTO_MESSAGE":4000,"ACK_CRYPTO_MESSAGES":4001,"PULL_CRYPTO_MESSAGE_DETAIL_BY_IDS":4002,"PUT_SYSTEM_MESSAGE_FOR_SCREENSHOTS":4003,"PUT_CRYPTO_P2P_CHAT":4101,"PUT_CRYPTO_GROUP_CHAT":4102,"PUT_CRYPTO_CHAT_CHATTER":4103,"DELETE_CRYPTO_CHAT_CHATTER":4104,"DISBAND_CRYPTO_CHAT":4105,"PUSH_NEW_DEVICE_ONLINE":4106,"PUT_CRYPTO_BURNED_TIME":4107,"PUT_CRYPTO_MESSAGE_MAIN":4108,"PUT_CRYPTO_MESSAGE_MISSING_CONTENT":4109,"PULL_EMERGENCY_CALL_NUMBER":4200,"PUT_EMERGENCY_CALL_REASON":4201,"PULL_ABBREVIATIONS_BY_IDS":4301,"PUT_ABBREVIATION_FEEDBACKS":4302,"GET_ABBREVIATION_CARD":4303,"REFRESH_MESSAGE_BAIKE_REFS":4304,"PUT_CHATTER_VIA_SHARE":5000,"PULL_CHATS_ROLE":5001,"PULL_CHAT_APPLICATIONS":5002,"PUSH_CHAT_APPLICATION":5003,"PROCESS_CHAT_APPLICATIONS":5004,"RESET_CONTACT_TOKEN":5005,"PUT_CONTACT_APPLICATION":5006,"READ_APPLICATIONS":5007,"PULL_PERSONAL_CONTACTS":5008,"PUSH_CONTACTS":5009,"PULL_UNREAD_CHAT_APPLICATIONS_BADGE":5010,"DELETE_CONTACT":5011,"PULL_CONTACT_TOKEN":5012,"PUSH_CONTACT_TOKEN":5013,"PUT_CONTACT_SETTING":5014,"PUSH_CONTACT_SETTING":5015,"PULL_CONTACT_SETTING":5016,"PULL_USER_PROFILE":5017,"PUT_USER_INVITATION":5018,"SEARCH_USER_BY_CONTACT_POINT":5019,"PULL_CHAT_QRCODE_TOKEN":5020,"PULL_CHAT_QRCODE_INFO":5021,"PUT_CHATTER_VIA_QRCODE":5022,"PULL_CHAT_CHATTER_BY_IDS":5023,"PULL_CHAT_SECURITY_CONFIG":5024,"PULL_CHAT_NO_TRACE_REMOVED_POSITIONS":5025,"PULL_USER_PROFILES":5026,"PULL_CHAT_NON_DEPARTMENTAL_CHATTERS":5027,"PULL_CHAT_SIDEBAR_BUTTONS":5028,"PULL_CHAT_JOIN_LEAVE_HISTORY":5029,"CHECK_P2P_CHATS_EXIST_BY_USER":5030,"PULL_USER_PROFILE_V2":5031,"BATCH_PULL_USER_PROFILE_V2":5032,"PULL_CONTACT_TOKENS_FOR_SHARING":5033,"CHECK_CONTACT_IS_LINKED_TO_USER":5034,"PATCH_SELF_USER_PROFILE":5035,"PATCH_USER_MEMO":5036,"PULL_EXTERNAL_CHATTERS_IN_SAME_CHAT_AUTH":5040,"PULL_ALREADY_IN_CHAT":5041,"PULL_WORK_STATUS":5050,"DELETE_WORK_STATUD":5051,"PULL_CHAT_LINK_TOKEN":5055,"PUT_CHATTER_VIA_SHARE_LINK":5056,"PULL_CHAT_LINK_INFO":5057,"PULL_MY_PROMOTION_LINK":5060,"PULL_PROMOTION_RULE":5061,"PUT_BUSINESS_INVITATION":5062,"PULL_CHAT_AVATAR_META":5070,"PULL_INVITATION_LINK":5080,"PUT_ADMIN_INVITATION":5081,"PULL_USER_INVITATION_MESSAGE":5082,"PUT_BANNER_BEGIN_TIME":5083,"PUSH_USER_SIDEBAR_UPDATE_EVENT":5090,"PULL_USER_SIDEBAR":5091,"CHECK_USER_PHONE_NUMBER":5092,"PULL_USER_PROFILE_ASSIGNED_FIELDS":5093,"PUT_PIN":5100,"PULL_PINS_BY_MESSAGE_IDS":5101,"PULL_CHAT_PINS":5102,"DELETE_PINS":5103,"PUSH_PIN":5104,"PUSH_PIN_READ":5105,"PULL_PIN_READ_STATUS":5106,"PUT_PIN_READ":5107,"PULL_PIN_BY_CHAT_UPDATE_TIME":5108,"PUT_ALL_PIN_SETTING":5109,"PUSH_ALL_PIN_SETTING":5110,"PULL_ALL_PIN_SETTING":5111,"UPDATE_ACCOUNT_USER_LIST_ORDER":5200,"PUSH_ACCOUNT_USER_LIST":5201,"PULL_ACCOUNT_USER_LIST":5202,"PUSH_ACCOUNT_UPDATE_USER_EVNET":5203,"PUSH_ACCOUNT_UNREGISTER_USER_EVENT":5204,"PUSH_GLOBAL_ACCOUNT_UPDATE_USER_EVENT":5205,"PUSH_USER_LIST_UPDATE_EVENT":5206,"PUSH_USER_MIGRATE_SWITCH_EVENT":5207,"PUT_USER_NAME":5300,"GET_USER_UPDATE_NAME_PERMISSION":5301,"PUSH_USER_LOGOUT_EVENT":5302,"PUT_USER_ALIAS":5400,"PUT_GROUP_NICKNAME":5401,"PUSH_USER_ALIAS":5402,"PUSH_GROUP_NICKNAME":5403,"PULL_MESSAGE_I18N_TEMPLATES":5500,"PULL_USER_NAMES":5501,"PULL_CHAT_SHARE_HISTORY":5600,"PUT_CHAT_SHARE_HISTORY":5601,"PATCH_CHAT_SHARE_STATUS":5602,"PULL_CHAT_SHARE_TOKEN_INFO":5700,"CREATE_FACE_TO_FACE_APPLICATION":5800,"PUSH_FACE_TO_FACE_APPLICANTS":5801,"JOIN_FACE_TO_FACE_CHAT":5802,"PATCH_CHAT_ADMIN_USERS":5900,"PUSH_CHAT_ADMIN_USERS":5901,"PULL_CHAT_ADMIN_USERS":5902,"PULL_CHAT_TABS":5911,"CREATE_CHAT_TAB":5912,"DELETE_CHAT_TAB":5913,"REORDER_CHAT_TABS":5914,"UPDATE_CHAT_TABS":5915,"PUT_CHAT_ONLINE_STATUS":5921,"PUSH_SID":6000,"PUSH_BACKGROUND_NOTIFICATION":6001,"PUSH_BANNER_NOTIFICATION":6002,"PULL_NEWEST_POLICIES":6951,"PUT_NEWEST_POLICIES":6952,"PUT_DEVICE_NOTIFY_SETTING":7000,"PUSH_DEVICE_ONLINE_STATUS":7001,"PULL_DEVICES_ONLINE_STATUS":7002,"PUT_DEVICE_NOTIFY_SETTING_DISABLE_NOTIFY":7003,"PUT_DEVICE_NOTIFY_SETTING_STILL_NOTIFY_AT":7004,"PUSH_USER_LOGIN_STATUS":7005,"PULL_DEVICE_NOTIFY_SETTING":7006,"PUT_DEVICE_SETTING":7007,"PULL_DEVICE_SETTING":7008,"PUSH_DEVICE_NETWORK_ACCESS_EVENT":7017,"PULL_USER_SETTING":7009,"PATCH_USER_SETTING":7010,"PUSH_USER_SETTING":7011,"PUT_WAY_TO_FIND_ME_SETTING":7012,"PUSH_WAY_TO_FIND_ME_SETTING":7013,"PUT_WAY_TO_ADD_FRIEND_SETTING_ITEM":7014,"PUSH_WAY_TO_ADD_FRIEND_SETTING_ITEM":7015,"PULL_ADD_FRIEND_SETTING":7016,"PULL_SPELL_CHECK_WORDS":7018,"PUSH_SPELL_CHECK_ADD_WORDS":7019,"PUT_SPELL_CHECK_ADD_WORDS":7020,"PULL_MESSAGE_NOTIFICATIONS_OFF_DURING_CALLS":7021,"PULL_FEED_FILTER_SETTING":7022,"PUT_FEED_FILTER_SETTING":7023,"PUSH_FEED_FILTER_SETTING":7024,"PATCH_UNIVERSAL_USER_SETTING":7025,"PULL_UNIVERSAL_USER_SETTING":7026,"PUSH_UNIVERSAL_USER_SETTING":7027,"PUT_DEVICE_TOKEN":7100,"PUSH_ACTION":7101,"PUT_DEVICE_BASIC_MODE_SETTING":7102,"PULL_DEVICE_BASIC_MODE_SETTING":7103,"PULL_PRODUCT_GUIDE":7501,"DELETE_PRODUCT_GUIDE":7504,"PUSH_PRODUCT_GUIDE":7505,"PULL_GUIDE_V2":7506,"GET_USER_GUIDE_REQUEST":7507,"POST_USER_CONSUMING_GUIDE_REQUEST":7508,"USER_GUIDE_UPDATED_REQUEST":7509,"PULL_ICE_BREAKING_STATUS":7600,"PUT_ICE_BREAKING_ACTION":7601,"PUT_TOUR_GUIDE_ACHIEVED":7602,"PUT_UPDATE_TENANT_PACKAGE":7603,"PUT_TRUSTED_MAIL":7604,"PULL_TRUSTED_MAIL_INFO":7605,"GET_ADVERTISE_SOURCE_CONFIG":7606,"PUSH_GUIDE_TO_RATE_STATE":7700,"PULL_GUIDE_TO_RATE_STATE":7701,"PUT_GUIDE_TO_RATE_EVENT":7702,"PUSH_SYNC_DEVICES":8001,"PULL_GEO_INFO_BY_IP":8002,"PULL_CERTIFICATE_DECRYPTION_KEY":8003,"PULL_CHAT_MEMBER_SUPP_ROLE_APPROVAL_SETTING":8004,"PUT_CHAT_MEMBER_SUPP_ROLE_APPROVAL":8005,"PUSH_THREADS":8100,"PATCH_THREAD":8101,"PULL_CHAT_THREADS":8102,"PULL_THREAD_MESSAGES":8103,"PUSH_THREAD_SETTING":8104,"PATCH_THREAD_SETTING":91,"PUT_READ_THREADS":8105,"PUSH_THREAD_READ_STATE":8106,"PULL_THREADS_BY_POSITIONS":8108,"PULL_THREAD_MESSAGE_BY_POSITIONS":8109,"PUSH_THREAD_UPDATED":8110,"PULL_THREADS_BY_IDS":8111,"PULL_THREADS_SETTING":8112,"PUSH_THREADS_REMOVED":8113,"PUSH_THREAD_MUTABLE_INFO":8114,"PUSH_THREAD_NO_REPLY_COUNT_UPDATED":8115,"PULL_THREAD_CARD":8116,"PUSH_THREAD_STATE_INFO":8117,"PULL_FILTERED_THREADS_BY_CHAT":8118,"PUSH_THREAD_FILTER_UPDATED":8119,"PULL_RECOMMENDATIONS_BY_USER":8120,"PUT_READ_MY_THREADS":8121,"PUSH_MY_THREADS_READ_STATE":8122,"PULL_THREAD_ANONYMOUS_QUOTA":8123,"PUSH_THREAD_ANONYMOUS_QUOTA":8124,"PUT_THREAD_SHARE":8125,"PULL_CHAT_TEMPLATE_BANNER":8126,"PUT_CHAT_TEMPLATE_BANNER_STATUS":8127,"PUSH_THREAD_UPDATE_INFO":8128,"PUT_TOPICS_READ_STATE":8300,"PULL_RECOMMENDED_TOPIC_GROUPS":8301,"PULL_MY_TOPIC_GROUPS":8302,"PULL_TOPIC_GROUPS_TO_POST":8303,"UNINTEREST_TOPIC_GROUP_FOR_USER":8310,"UNINTEREST_TOPIC_FOR_USER":8311,"UNINTEREST_USER_FOR_USER":8312,"PULL_TOPIC_GROUPS_BY_IDS":8319,"PUSH_TOPIC_MESSAGES":8320,"PUT_TOPIC_GROUP_MEMBER_VIA_RECOMMENDATION":8321,"PULL_TOPIC_GROUP_TAB_NOTIFICATION":8322,"PUSH_TOPIC_GROUP_SETTING":8323,"PUSH_TOPIC_GROUP":8324,"PULL_TOPIC_GROUP_SETTING":8325,"SEARCH_USER":11000,"SEARCH_MESSAGE":11001,"SEARCH_GROUP_CHAT":11002,"SEARCH":11003,"SEARCH_CHATTER":11004,"SMART_SEARCH":11005,"PUT_SEARCH_FEEDBACK":11006,"PULL_SEARCH_HISTORY_ENTITIES":11007,"DELETE_SEARCH_HISTORY_ENTITY":11008,"SEGMENT_TEXT":11009,"SEARCH_EMAIL_MESSAGE":11010,"SEARCH_DOC":11011,"INTEGRATION_SEARCH":11012,"PULL_CHAT_RESOURCE_MESSAGES":11013,"PUT_SEARCH_MSG_HISTORY":11014,"PULL_SEARCH_MSG_HISTORY":11015,"DELETE_SEARCH_MSG_HISTORY":11016,"PULL_SEARCH_SETTING":11017,"PULL_SEARCH_FILTER":11018,"SEARCH_CUSTOMIZE_FIELD":11019,"SEARCH_IN_CHAT":11020,"UNIVERSAL_SEARCH":11021,"EXTERNAL_RESOURCE_SEARCH":11022,"PULL_USER_SEARCH_TABS":11023,"PUT_USER_SEARCH_TABS":11024,"PULL_AVAILABLE_SEARCH_TABS":11025,"PUT_SEARCH_QUERY_HISTORY":11026,"DELETE_SEARCH_QUERY_HISTORY":11027,"PULL_CLOSEST_CHATTERS":11100,"PULL_CLOSEST_CHATS":11101,"PULL_LOCAL_SEARCH_RANK_MODEL_CONFIG":11102,"PULL_SPECIAL_FOCUS":11103,"UPDATE_SPECIAL_FOCUS":11104,"PUSH_USER_SPECIAL_FOCUS":11105,"PULL_PACKETS_BY_SIDS":12001,"SYNC":12002,"PULL_PIPELINE_INTERVAL_BY_SID":12003,"PULL_ONCALLS":13001,"PUT_ONCALL_CHAT":13002,"PULL_ALL_ONCALL_TAGS":13003,"PULL_ONCALL_BY_TAGS":13004,"PUT_FINISH_ONCALL":13005,"PULL_HOME_PAGE_ONCALLS":13006,"PUT_INVITE_ONCALL":13007,"PULL_ONCALLS_BY_IDS":13008,"PUSH_ONCALLS":13009,"PULL_CHAT_BOTS":13100,"PULL_CHAT_CANDIDATE_BOTS":13101,"PUSH_LOG_UPLOAD":13102,"PUSH_LOG_REQUEST":13103,"PATCH_DOC_PREM":14001,"PUSH_DOC":14002,"PULL_DOCS":14003,"PUSH_DOC_FEED":14004,"PULL_DOC_FEEDS_BY_IDS":14005,"PUSH_DOCS":14006,"PULL_DOC_PERMS":14007,"PUT_DOC_FEED":14008,"PULL_DOCS_HISTORY":14009,"PULL_CONVERT_TOKEN":14010,"PATCH_DOC_FEED_SETTING":14011,"PUSH_DOC_FEED_SETTING":14012,"PULL_DOC_FEED_SETTINGS":14013,"PUT_READ_DOC_MESSAGES":14014,"PULL_DOC_BY_URLS":14015,"PULL_DOC_MESSAGE_READ_STATUS":14016,"PUSH_DOC2":14017,"PUSH_DOCS2":14018,"PUSH_TO_DOC":14100,"PUSH_DOC_IMAGE_RELAY":14101,"PULL_DOC_FEED_MSG_TMPL":14102,"SEND_HONGBAO":15001,"GRAB_HONGBAO":15002,"UPDATE_HONGBAO":15003,"PULL_HONGBAO_INFO":15004,"PULL_HONGBAO_RECV_DETAIL":15005,"PULL_WALLET_BALANCE":15006,"PULL_SEND_HONGBAO_RECORD":15007,"PULL_GRAB_HONGBAO_RECORD":15008,"GRAB_COMMERCIAL_HONGBAO":18001,"UPDATE_COMMERCIAL_HONGBAO":18002,"PULL_COMMERCIAL_HONGBAO_INFO":18003,"PULL_COMMERCIAL_HONGBAO_RECV_DETAIL":18004,"PULL_MESSAGE_ACTION_LIST":16000,"PUT_URGENT":30000,"PUT_URGENT_ACK":30001,"PUSH_URGENT":30002,"PUSH_URGENT_ACK":30003,"PULL_URGENT_WAITING_ACK":30004,"PULL_URGENT_ACK_STATUS":30005,"CONFIRM_URGENT_ACK_BY_ID":30006,"PULL_URGENT_PHONES":30007,"PUSH_FAILED_URGENT_NOTIFY_RESULT":30008,"PULL_TT_USER":40001,"PUT_TT_USER":40002,"PUSH_APP_CENTER_UPDATE":40100,"PUSH_MALAITA_UPDATE":40101,"PUSH_APP_CENTER_UPDATE_V2":40102,"PUSH_TENANT_APP_UPDATE":40103,"PUSH_MINIPROGRAM_UPDATE":40104,"PUSH_OPEN_APP_FEED":40105,"PUSH_OPEN_APP_NOTIFY_READ_SYNC":40106,"PUSH_OPEN_APP_SETTINGS":40107,"PUSH_MINIPROGRAM_PREVIEW":40108,"PUSH_OPEN_COMMON":40111,"PULL_MALAITA_PREVIEW":40112,"PULL_ULAWA_PREVIEW":40113,"PULL_MALAITA_NOTIFICATION_UNREAD_COUNT":40114,"PULL_ULAWA_NOTIFICATION_UNREAD_COUNT":40115,"SET_MALAITA_JUMP_REPORT":40116,"PULL_APP_CHAT_FEED":40117,"PUSH_APP_CHAT_FEED_SETTINGS":40118,"CREATE_APP_CHAT":40119,"PULL_APP_CHAT_FEED_ID":40120,"SET_APP_CHAT_NOTICE_CONFIG":40121,"PUSH_GADGET_APP_DATA":40122,"PULL_OPEN_APP_BADGE_NODES":40123,"PUSH_OPEN_APP_BADGE_NODES":40124,"PULL_OPEN_APP_BADGE_SETTINGS":40125,"PULL_PIPE_LIST":70000,"PULL_MULTI_PIPE_PACKETS_BY_TYPES":70001,"PULL_MULTI_PIPE_PACKETS_BY_IDS":70002,"PULL_UNSUPPORT_PIPE_TYPE_INFOS":70003,"PULL_MULTI_PIPE_PACKETS_BY_SUPPORT_TYPE":70004,"PULL_CHAT_CHANGE_LISTS":70005,"PULL_MULTI_PIPE_PACKETS":70006,"PULL_CHANGE_LISTS":70007,"CHECK_PIPES_TIMEOUT":70008,"PULL_ROOM_INFO":81000,"SUBMIT_FEEDBACKS":81030,"UPDATE_SCHEDULE_STATUS":82011,"SKETCH_START":88001,"UPDATE_SHARE_SCREEN_SETTINGS":88002,"FETCH_ALL_SKETCH_DATA":88003,"APPLY_BYTEVIEW_ACCESSIBILITY":88004,"FETCH_SKETCH_DATA_BY_SHAPE_IDS":88005,"PULL_SKETCH_HISTORY":88006,"REMOTE_CONTROL":88011,"UPDATE_REMOTE_CONTROL_SETTINGS":88012,"GET_ADMIN_SETTINGS":88013,"UPLOAD_PARTICIPANT_INFO":88015,"PULL_ALL_FOLLOW_STATES":88051,"GET_FOLLOW_RESOURCES":88052,"GET_URL_BRIEFS":88053,"UPLOAD_GOOGLE_TOKEN":88054,"GET_GOOGLE_TOKEN":88055,"REVOKE_GOOGLE_TOKEN":88056,"EXCHANGE_GOOGLE_TOKEN":88057,"REPLY_FOLLOW_NOTICE":88058,"WHITEBOARD_START":800021,"WHITEBOARD_STOP":800022,"FETCH_ALL_WHITEBOARD_DATA":800023,"SEND_GROOT_CELLS_MEETING_SPACE":89000,"PULL_GROOT_CELLS_MEETING_SPACE":89001,"PUSH_GROOT_CELLS":89002,"GROOT_CHANNEL_HANDSHAKE_MEETING_SPACE":89003,"PUSH_MEETING_SPACE_INFO":89004,"UPDATE_READ_CURSOR":89005,"GET_MEETING_SPACE_META_DATA":89006,"GET_MEETING_SPACE_AGENDA":89007,"GET_MEETING_SPACE_FILES":89008,"GET_UNIQUE_ID_BY_MEETING_ID":89009,"GROOT_CHANNEL_PING_MEETING_SPACE":89010,"CHECK_INTERVIEW_MEETING_SPACE":89011,"OCCUPY_INTERVIEW_CODING":89012,"SEND_INTERVIEW_CODING_ACTION":89013,"UPDATE_MINUTES_STATUS":89014,"SEND_GROOT_CELLS":89050,"PULL_GROOT_CELLS":89051,"GROOT_CHANNEL_HANDSHAKE":89052,"GROOT_CHANNEL_PING":89053,"PULL_UPSTREAM_GROOT_CELLS":89054,"GET_CALENDAR_MEETING_BY_UIDS":89201,"GET_HISTORY_MEETING_LIST":89202,"GET_CALL_HISTORY_LIST":89203,"BATCH_GET_MEETING_BY_IDS":89204,"BATCH_GET_UNIQUE_ID_BY_EVENT_ID":89205,"GET_VC_TAB_TOTAL_MISSED_CALL":89206,"VC_TAB_MISSED_CALL_CONFIRM":89207,"GET_VC_TAB_HISTORY_LIST":89208,"GET_VC_TAB_MEETING_DETAIL":89209,"NOTIFY_VC_TAB_MISSED_CALLS":89211,"CREATE_VC_TAB_MEETING_STATISTICS":89212,"PUSH_VC_TAB_NOTICE":89213,"GET_MEETING_URL_INFO":89301,"VC_OWNER_FORCE_TRANSFER_HOST":89302,"CHECK_VC_MANAGE_CAPABILITIES":89303,"VC_SEARCH_USER_IN_MEETING":89304,"UPLOAD_EQUIPMENT_INFO":89305,"VC_LARK_SEARCH_USER_IN_MEETING":89306,"VC_GET_SUITE_QUOTA":89308,"VC_PULL_CARD_INFO":89309,"KEEP_MEETING":89310,"GET_VC_LOBBY_PARTICIPANTS":89321,"UPDATE_VC_LOBBY_PARTICIPANT":89322,"VC_LOBBY_HEARTBEAT":89323,"VC_MANAGE_APPLY":89341,"VC_MANAGE_APPROVAL":89342,"PUSH_VC_MANAGE_NOTIFY":89343,"PUSH_VC_MANAGE_RESULT":89344,"ENTRUST_SERVER_TRACK":89350,"SET_CALENDAR_VC_SETTINGS":89351,"GET_CALENDAR_VC_SETTINGS":89352,"GET_CALENDAR_GUEST_LIST":89353,"GET_ROOM_STATUS_BY_SHARE_CODE":89354,"BREAKOUT_ROOM_INFO_NOTIFY":89360,"START_MEETING_BREAKOUT_ROOM":89361,"JOIN_MEETING_BREAKOUT_ROOM":89362,"PULL_BREAKOUT_ROOM_INFO":89363,"VC_CREATE_CALENDAR_EVENT":89364,"VC_UPDATE_CALENDAR_EVENT":89365,"PULL_VC_CALENDAR_EVENTS":89366,"GET_MAIN_CALENDAR":89367,"GET_CALENDAR_VCHAT_STATUS":89370,"GET_INTERVIEW_VCHAT_STATUS":89371,"APPLY_DTMF":89401,"PULL_PARTICIPANT_INFO":89403,"GET_SIP_DOMAIN_BY_UNIQUE_ID":89404,"GET_PSTN_SIP_FC":89405,"GET_H323_ACCESS_BY_UNIQUE_ID":89406,"CREATE_ENTERPRISE_PHONE":89450,"CANCEL_ENTERPRISE_PHONE":89451,"NOTIFY_ENTERPRISE_PHONE":89452,"GET_ENTERPRISE_PHONE_CONFIG":89453,"CHECK_ENTERPRISE_PHONE_QUOTA":89454,"GET_PHONE_NUMBER_ATTRIBUTION":89455,"GET_MEETING_UNIT":89460,"SEARCH_USERS_AND_CHATS":89501,"START_SAME_PAGE_MEETING":89601,"UPDATE_SAME_PAGE_MEETING":89602,"INIT_SAME_PAGE_MEETING":89603,"STOP_SHARE_BOX_LINK":89701,"SHARE_BOX_HEARTBEAT":89702,"PUSH_SHARE_LINK_INFO":89703,"START_SHARE_LINK":89704,"PUSH_BOX_NOTICE":89705,"CHANGE_SHARE_LINK_SETTING":89706,"UPLOAD_VC_MATERIAL_META":89801,"PULL_VC_MATERIAL_META":89802,"DELETE_VC_MATERIAL":89803,"PUSH_VC_MATERIAL_MSG":89804,"MM_PUSH_REACTION_INFO":90001,"MM_PUSH_SUMMARY_STATUS":90002,"MM_PUSH_SUMMARY_CHANGE":90003,"MM_PUSH_SUMMARY_CHECK":90004,"MM_PUSH_REALTIME_SUBTITLE_SENTENCE":90005,"MM_PUSH_DIARIZATION_REMATCH_STATUS":90006,"SUBMIT_NEO_FEEDBACKS":91030,"GET_LIVE_CONFIG":200000,"LIVE_HEARTBEAT":200001,"GET_LIVE_INFO":200002,"UPDATE_LIVE_INFO":200003,"PUSH_LIVE_NOTICE":200004,"PUSH_LIVE_INFO":200005,"UPDATE_LIVE_STATUS":200006,"POLL_LIVE_AUDIENCE_NUM":200007,"CREATE_LIVE":200008,"CREATE_LIVE_SCENE":200009,"EDIT_LIVE_SCENE":200010,"DELETE_LIVE_SCENE":200011,"MOVE_LIVE_SCENE":200012,"GET_SUB_SCENE_LIST":200013,"SWITCH_SUB_SCENE":200014,"MGET_SCENE_BY_ID":200015,"JOIN_LIVE_ROOM":200016,"INVITE_LIVE_GUEST":200017,"REMOVE_LIVE_GUEST":200018,"NOTIFY_LIVE_GUEST":200019,"UPDATE_LIVE_DEVICE":200020,"MGET_LIVE_USER_BY_ID":200021,"PUSH_LIVE_CHANGE":200022,"LEAVE_LIVE_ROOM":200023,"LIVE_PRE_CHECK":200024,"GET_LIVE_INFO_V2":200025,"UPDATE_LIVE_INFO_V2":200026,"DELETE_LIVE_INFO":200027,"GET_LIVE_INFO_LIST":200028,"EXPORT_LIVE_STATISTICS":200029,"LIVE_STATISTICS_PUSH":200030,"GET_LIVE_STATIC_RESOURCE":200031,"UPLOAD_LIVE_FILE":200032,"LIVE_FILE_REVIEW_RESULT_PUSH":200033,"UPDATE_LIVE_USER":200034,"SEARCH_LIVE_SHARE_CANDIDATE":200035,"SEND_LIVE_SHARE_MESSAGE":200036,"POLLING_LIVE_STATISTICS":200037,"CREATE_LIVE_ACCESSORY":200038,"DELETE_LIVE_ACCESSORY":200039,"UPDATE_LIVE_ACCESSORY":200040,"MGET_LIVE_ACCESSORY_BY_ID":200041,"LIVE_RESOURCE_RISK_CHECK":200042,"CLOSE_LIVE_WINDOW_NOTICE":200043,"GET_ASSOCIATED_LIVE_STATUS_WITH_EVENT_ID":210000,"PUSH_ASSOCIATED_LIVE_STATUS":210001,"PUSH_LIVE_ACCESSORIES":220000,"FETCH_LIVE_MESSAGES":230001,"SEND_LIVE_MESSAGE":230002,"DELETE_LIVE_MESSAGE":230003,"PIN_LIVE_MESSAGE":230004,"LIVE_BAN_USER":230005,"GET_LIVE_BANNED_USER":230006,"GET_LIVE_LIST":240001,"GET_MORE_LIVES":240002,"DELETE_LIVE":240003,"CMS_CREATE_LIVE":240004,"CMS_GET_LIVE_INFO":240005,"UPDATE_LIVE_CONFIG":240006,"UPDATE_STREAM":240007,"GET_STREAM_PUSH_INFO":240008,"CHECK_CONTENT_TEXT":240009,"SYNC_CALENDARS":1000001,"SAVE_CALENDARS":1000002,"PULL_CALENDAR_USER_ID_ROLES":1000003,"PULL_CALENDAR_BY_IDS":1000004,"PUSH_CHANGED_CALENDAR_IDS":1000005,"PULL_CHATTER_CALENDAR_MAP":1000006,"SUBSCRIBE_CALENDAR":1000007,"UNSUBSCRIBE_CALENDAR":1000008,"GET_GOOGLE_AUTH_URL":1000009,"REVOKE_GOOGKE_TOKEN":1000010,"SUBSCRIBE_AND_GET_LATEST_UPDATED_CALENDARS":1000011,"SAVE_CALENDAR_SETTING":1000012,"PULL_CALENDAR_SETTING":1000013,"SEARCH_GUESTS":1000014,"PULL_GROUPS_CHATTERS":1000015,"SEARCH_MEETING_ROOMS":1000016,"MULTI_CALENDAR_SEARCH":1000017,"PULL_MEETING_ROOMS_SUBSCRIBER":1000018,"SAVE_CALENDAR_SETTING_PB":1000019,"PULL_CALENDAR_SETTING_PB":1000020,"GEN_PASSWORD_FOR_CALDAV":1000021,"CHANGE_PASSWORD_FOR_CALDAV":1000022,"DELETE_CALDAV_USER_PASSWORD":1000023,"GET_CALDAV_PASSWORD_LIST":1000024,"GET_LAST_USED_RESOURCES":1000025,"GET_LAST_INVITED_GUESTS":1000026,"PULL_MEETING_ROOM_VIEW_CALENDARS":1000027,"SUBSCRIBE_MEETING_ROOM_VIEW_CALENDARS":1000028,"UNSUBSCRIBE_MEETING_ROOM_VIEW_CALENDARS":1000029,"MSUBSCRIBE_CALENDARS":1000030,"GET_MEETING_ROOM_VIEW_CALENDARS":1000031,"MGET_CALENDARS_WITH_IDS":1000032,"MUNSUBSCRIBE_CALENDARS":1000033,"GET_FREE_BUSY_ACCESSIBLE_USERS":1000034,"SAVE_CALENDAR_USER_DEVICE_SETTING":1000035,"GET_PLACE_BY_ID":1000036,"GET_PLACE_TIPS":1000037,"SEARCH_ATTENDEE_IN_CHAT":1000038,"MGET_CALENDAR_USER_DEVICE_SETTING":1000039,"GET_USER_CALENDAR_IDS":1000040,"GET_USER_PRIMARY_CALENDAR":1000041,"UPLOAD_CALENDARS_WITH_COMMIT":1000048,"SAVE_CALENDAR_WITH_MEMBERS":1000049,"LIST_CALENDAR_LIST":1000050,"GET_RESOURCE_EQUIPMENTS":1000051,"FILTER_MRVIEW_RESOURCE_CALENDAR":1000052,"PULL_MEETING_ROOM_STATUS_INFORMATION":1000053,"VERIFY_CALENDAR_LIST":1000056,"PULL_RESOURCE_CUSTOMIZATION_BY_CONTACT_ID":1000057,"PULL_ALL_MEETING_ROOMS_IN_TENANT":1000058,"GET_CALENDAR_EVENT_FROM_APPLINK":1000059,"BINDING_EXCHANGE_ACCOUNT":1000060,"REVOKE_EXCHANGE_ACCOUNT":1000061,"PULL_DEPARTMENTS_CHATTERS":1000062,"MGET_DEPARTMENTS_MEMBER_COUNT":1000063,"GET_CALENDAR_INFO_BY_ID":1000064,"PATCH_CALENDAR":1000065,"SHARE_CALENDAR":1000066,"CREATE_CALENDAR":1000067,"GET_CALENDAR_ID_BY_SHARE_TOKEN":1000068,"PULL_MEETING_ROOM_AND_LEVEL_INFO":1000069,"PULL_ALL_MEETING_ROOM_AND_LEVEL_INFO":1000070,"SEARCH_MEETING_ROOMS_V2":1000071,"MGET_CHAT_FREE_BUSY_FAVOR":1000042,"SET_CHAT_FREE_BUSY_FAVOR":1000043,"GET_EXTERNAL_ACCOUNT_LIST":1000044,"SAVE_EXTERNAL_ACCOUNT_SETTING":1000045,"GET_EXTERNAL_ACCOUNT_BY_MAIL":1000046,"MARK_LARK_SERVER_MAIL_SELECTED":1000047,"WEB_LIST_CALENDARS":1001001,"WEB_BATCH_SUBSCRIBE_CALENDARS":1001002,"WEB_BATCH_UNSUBSCRIBE_CALENDARS":1001003,"WEB_CREATE_CALENDAR":1001004,"WEB_DELETE_CALENDAR":1001005,"WEB_UPDATE_CALENDAR":1001006,"WEB_MGET_CALENDARS_WITH_IDS":1001008,"WEB_LIST_CALENDAR_EVENTS":1002001,"WEB_PULL_CALENDAR_EVENTS":1002002,"WEB_CREATE_EVENT":1002003,"WEB_UPDATE_EVENT":1002004,"WEB_DELETE_EVENT":1002005,"WEB_MGET_EVENTS_WITH_IDS":1002006,"WEB_GET_GROUP_ATTENDEES_BY_GROUP_IDS":1002007,"WEB_GET_USER_ATTENDEES_BY_USER_IDS":1002008,"WEB_GET_ATTENDEES_BY_CALENDAR_IDS":1002009,"WEB_LIST_OPTIMIZED_CALENDAR_EVENTS":1002010,"WEB_LIST_FIRST_SCREEN_CALENDAR_EVENTS":1002011,"WEB_SHARE_CALENDAR_EVENT":1002012,"RESOURCE_MANAGEMENT_GET_RESOURCE_ACCESS_ROLE":1003007,"SYNC_CALENDAR_EVENTS":1010001,"PUSH_CALENDAR_EVENT_REMINDER":1010002,"PULL_CALENDAR_EVENTS_WITH_REF_IDS":1010003,"PULL_CALENDAR_MEETING_ROOMS":1010004,"PULL_CALENDAR_RESOURCES_BY_ID":1010005,"QUERY_INSTANCE":1010006,"MGET_CALENDAR_EVENTS_WITH_IDS":1010007,"SEARCH_CALENDAR_CONTACTS":1010008,"PULL_MEETING_ROOM_BUILDINGS":1010009,"PULL_MEETING_ROOMS_IN_BUILDING":1010010,"PULL_MEETINGS_BY_CHAT_IDS":1010011,"QUIT_MEETING":1010012,"MARK_MEETING_ENTERED":1010013,"UPGRADE_TO_MEETING":1010014,"BATCH_QUERY_INSTANCE":1010015,"JOIN_CALENDAR_EVENT":1010016,"GET_CALENDAR_EVENT_INFO":1010017,"MARK_SCROLL_CLICKED":1010018,"BATCH_QUERY_EVENTS_DIFF":1010019,"GET_BUSY_USER":1010020,"CLOSE_EVENT_REMINDER_CARD":1010021,"TRANSFER_CALENDAR_EVENT":1010022,"MGET_CALENDAR_EVENTS_WITH_KEY":1010023,"GET_RESOURCES_BY_CALENDAR_IDS":1010024,"GET_RESOURCES_WITH_TOKEN":1010025,"SEIZE_RESOURCE":1010026,"Set_Whether_Pop_Up":1010027,"CREATE_MEETING_MINUTE":1010028,"MEETING_MINUTE_UPDATE_CHECK":1010029,"GET_VCHAT_BY_EVNET":1010030,"GET_VCHAT_STATUS":1010031,"GET_EVENT_INFO_BY_VCHAT_ID":1010032,"UPGRADE_TO_CHAT":1010033,"DISPLAY_TRANSFER_CHAT_SCROLL_CHECK":1010034,"OPTIMIZED_SYNC_CALENDAR_EVENTS":1010035,"SEARCH_CALENDAR_EVENT":1010036,"GET_AUTHORIZED_CALENDAR_EVENT_WITH_KEY":1010037,"GET_USER_2_CALENDAR_BOT_CHAT_ID":1010038,"MGET_IS_JOINED_EVENT_STATUS":1010039,"JOIN_MEETING_CHAT":1010040,"GET_EVENT_SHARE_LINK":1010041,"PULL_EVENT_GROUP_ATTENDEE_MEMBERS":1010042,"PULL_EVENT_GROUPS_SIMPLE_MEMBERS":1010043,"SWITCH_EVENT_CALENDAR":1010044,"GET_ROOM_VIEW_INSTANCES":1010045,"GET_INDIVIDUAL_ATTENDEES_BY_PAGE":1010046,"PULL_CALENDAR_INSTANCES":1010047,"LIST_CALENDAR_EVENTS":1010048,"SAVE_CALENDAR_EVENTS":1010049,"PUSH_CALENDAR_EVENT_INVITATION":1020001,"REPLY_CALENDAR_EVENT_INVITATION":1020002,"PUSH_CALENDAR_EVENT_SYNC_NOTIFICATION":1020003,"PUSH_CALENDAR_EVENT_CANCEL_NOTIFICATION":1020004,"PUSH_REPLY_CALENDAR_EVENT_INVITATION":1020005,"PUSH_CALENDAR_EVENT_UPDATE_NOTIFICATION":1020006,"PUSH_CALENDAR_EVENT_RESCHEDULE_NOTIFICATION":1020007,"PUSH_CALENDAR_SYNC_NOTIFICATION":1020008,"PUSH_BIND_GOOGLE_SUCCESS_NOTIFICATION":1020009,"PUSH_REVOKE_GOOGLE_SUCCESS_NOTIFICATION":1020010,"PUSH_CALENDAR_SETTING_CHANGE_NOTIFICATION":1020011,"PUSH_CALENDAR_SETTING_PB_CHANGE_NOTIFICATION":1020012,"PUSH_MEETING_INFO_NOTIFICATION":1020013,"PUSH_CALENDAR_EVENT_WITH_DATA":1020014,"PUSH_SHARED_CALENDAR_EVENT_CHANGE_NOTIFICATION":1020015,"PUSH_REMINDER_CLOSED_NOTIFICATION":1020016,"PUSH_SHOW_SUBSCRIBED_CALENDAR_NOTIFICATION":1020017,"PUSH_CLEAR_CALENDAR_EVENT_NOTIFICATION":1020018,"PUSH_SCROLL_CLOSED_NOTIFICATION":1020019,"PUSH_EXTERNAL_ACCOUNT_SETTING_SYNC_NOTIFICATION":1020020,"PUSH_GOOGLE_BIND_SETTING_CALLBACK":1020021,"PUSH_CALENDAR_EVENT_VCHAT_CHANGE":1020022,"PUSH_EXTERNAL_CALENDAR_CHANGE_NOTIFICATION":1020023,"GET_RESOURCE_CHECK_IN_INFO_WITH_TOKEN":1000054,"CHECK_IN_BY_QR_CODE":1000055,"SET_INSTANCE_IMPORTANCE_SCORE_FEEDBACK":1021001,"GET_INSTANCE_IMPORTANCE_SCORE":1021002,"PUSH_UPLOAD_ENTITY_TASK":1030000,"PUT_ENTITY":1030001,"PUSH_MEETING_MINUTE_EDITORS":1030002,"MGET_MAIL_CALENDAR_INFO":1040001,"GET_TODO_HISTORY_COMMITS":1050003,"POST_SYNC_TODO_COMMITS":1050004,"PULL_SYNC_TODO_ITEMS":1050005,"GET_TODO_ITEMS":1050006,"MGET_TODO_BY_GUID":1050007,"GET_RECOMMENDED_CONTENTS":1050008,"GET_TODO_REFER_RESOURCES":1050009,"MERGE_MESSAGES_AS_TODO_RESOURCE":1050010,"MERGE_TOPIC_AS_TODO_RESOURCE":1050011,"FOLLOW_TODO":1050012,"GET_TODO_SETTING":1050013,"SAVE_TODO_SETTING":1050014,"GET_CHAT_TODO_STATUS":1050015,"GET_CHAT_TODOS":1050016,"GET_CHAT_COMPLETED_TODOS":1050017,"LIST_DOC_TODOS":1050018,"GET_TODO_MSG_CARD_PERMISSION":1050019,"UPDATE_TODO_MSG_CARDS":1050020,"CREATE_TODO_COMMENT":1050201,"UPDATE_TODO_COMMENT":1050202,"DELETE_TODO_COMMENT":1050203,"MGET_TODO_COMMENTS":1050204,"MGET_TODO_COMMENTS_WITH_POSITIONS":1050205,"LIST_TODO_COMMENTS":1050206,"CREATE_TODO_COMMENT_REACTION":1050207,"DELETE_TODO_COMMENT_REACTION":1050208,"SEND_TODO_HEARTBEAT":1050300,"UPDATE_TODO":1050100,"DELETE_TODOS":1050101,"EXIT_COLLABORATION_TODO":1050102,"UPDATE_TODO_COMPLETE_STATUS":1050103,"PUSH_TODO_SYNC_NOTIFICATION":1051001,"PUSH_TODO_REMINDER_NOTIFICATION":1051002,"PUSH_TODO_CLEAR_NOTIFICATION":1051003,"PUSH_TODO_SETTING_NOTIFICATION":1051004,"PUSH_TODO_COMMENT_NOTIFICATION":1051005,"PUSH_TODO_COMMENT_REACTION_NOTIFICATION":1051006,"MOMENTS_CREATE_POST":1055001,"MOMENTS_DELETE_POST":1055002,"MOMENTS_CREATE_COMMENT":1055003,"MOMENTS_DELETE_COMMENT":1055004,"MOMENTS_CREATE_REACTION":1055005,"MOMENTS_DELETE_REACTION":1055006,"MOMENTS_SHARE_POST":1055007,"MOMENTS_FOLLOW_USER":1055008,"MOMENTS_UNFOLLOW_USER":1055009,"MOMENTS_LIST_BROADCASTS":1055010,"MOMENTS_LIST_USER_FOLLOWERS":1055011,"MOMENTS_LIST_USER_FOLLOWINGS":1055012,"MOMENTS_LIST_NOTIFICATIONS":1055013,"MOMENTS_ADMIN_OPERATION":1055014,"MOMENTS_REPORT":1055016,"MOMENTS_GET_USER_CONFIG_AND_SETTINGS":1055017,"MOMENTS_GET_POST_DETAIL":1055019,"MOMENTS_MGET_CIRCLES":1055020,"MOMENTS_MGET_MOMENT_USERS":1055021,"MOMENTS_MGET_IS_USER_FOLLOWING":1055022,"MOMENTS_PUT_READ_NOTIFICATIONS":1055023,"MOMENTS_MGET_POSTS":1055024,"MOMENTS_MGET_COMMENTS":1055025,"MOMENTS_MGET_CATEGORIES":1055026,"MOMENTS_LIST_CATEGORIES":1055027,"MOMENTS_LIST_TABS":1055028,"MOMENTS_CONFIG_TABS":1055029,"MOMENTS_GET_CATEGORY_DETAIL":1055030,"MOMENTS_LIST_HASHTAGS_BY_USER_INPUT":1055031,"MOMENTS_GET_HASHTAG_DETAIL":1055032,"MOMENTS_CREATE_SUBSCRIPTION_DRAFT":1055033,"MOMENTS_GET_SUBSCRIPTION_BACKSTAGE_URL":1055034,"MOMENTS_GET_BADGE":1055101,"MOMENTS_GET_RECOMMEND_FEED":1055102,"MOMENTS_GET_FOLLOWING_FEED":1055103,"MOMENTS_GET_USER_PROFILE":1055105,"MOMENTS_LIST_USER_POSTS":1055106,"MOMENTS_LIST_COMMENTS":1055107,"MOMENTS_LIST_REACTIONS":1055108,"MOMENTS_PULL_REACTIONS_SET":1055109,"MOMENTS_GET_USER_SETTING":1055110,"MOMENTS_PATCH_USER_SETTING":1055111,"MOMENTS_COUNT_OPERATION":1055112,"MOMENTS_GET_RECOMMEND_AT_LIST":1055113,"MOMENTS_LIST_CATEGORY_POSTS":1055114,"MOMENTS_PUSH_USER_SETTING":1055115,"MOMENTS_PULL_TAB_NOTIFICATION":1055116,"MOMENTS_PUT_TAB_NOTIFICATION":1055117,"MOMENTS_PUSH_TAB_NOTIFICATION":1055118,"MOMENTS_LIST_HASHTAG_POSTS":1055119,"MOMENTS_GET_ANONYMOUS_INFO":1055151,"MOMENTS_PULL_NICKNAMES":1055152,"MOMENTS_PULL_NICKNAME_AVATAR":1055153,"MOMENTS_CREATE_NICKNAME_USER":1055154,"MOMENTS_CHECK_SECRET_CHAT_STATUS":1055155,"MOMENTS_ASK_FOR_SECRET_CHAT":1055156,"MOMENTS_ACCEPT_SECRET_CHAT":1055157,"MOMENTS_PUSH":1055201,"PULL_NAVIGATION":1060001,"PUT_NAVIGATION_CONFIRM":1060002,"PUSH_NAVIGATION":1060003,"PATCH_NAVIGATION":1060004,"PULL_NAVIGATION_V2":1060005,"PULL_CONTACT_ENTRIES":1060006,"PULL_NAVIGATION_ORDER":1060007,"PULL_NAVIGATION_APP_INFO":1060008,"PUSH_NAVIGATION_ORDER":1060009,"PATCH_NAVIGATION_ORDER":1060010,"CREATE_COMMENT_THREAD":1070001,"GET_COMMENT_THREADS":1070002,"SET_COMMENT_THREAD_VISIBILITY":1070003,"DELETE_COMMENT_THREAD":1070004,"ADD_COMMENT":1070005,"EDIT_COMMENT":1070006,"DELETE_COMMENT":1070007,"GRANT_ENTITY_PERMISSION":1070008,"GET_THREAD_PERMISSION":1070009,"REVOKE_PERMISSION":1070010,"ADD_REACTION_TO_COMMENT":1070011,"DELETE_COMMENT_REACTION":1070012,"SET_THREAD_SHARED_STRATEGY":1070013,"UPLOAD_IMAGE":1070014,"GET_LOGIN_USER_ID":1070015,"GET_IS_URL_SUPPORTED":1070016,"SEARCH_COMMENT_THREAD":1070017,"ANALYZE_WEB_PAGE":1070018,"SHARE_EMAIL_TO_CHAT":1070019,"GET_MESSAGE":1070020,"CHECK_AUTH_PERMISSION":1070021,"REVOKE_AUTH_PERMISSION":1070022,"GET_AUTH_ENTITIES":1070023,"GET_IMAGE":1070024,"AI_TRANSLATE_IMG":1071001,"GET_SMART_COMPOSE":1071002,"GET_COMPOSER_SETTING":1071003,"SET_COMPOSER_SETTING":1071004,"PUSH_COMPOSER_SETTING":1071005,"GET_SMART_REPLY":1071006,"GET_SMART_MEMORY":1071007,"GET_ENTERPRISE_TOPIC":1071008,"SLASH_COMMAND":1071009,"POST_ENTERPRISE_TOPIC":1071010,"ENTERPRISE_TOPIC_SEED_USER_ENROLL":1071011,"ENTERPRISE_TOPIC_RECORD":1071012,"GET_CHAT_CREATE_CHATTERS_RECOMMEND":1071013,"GET_SMART_WIDGET":1071014,"ENTERPRISE_TOPIC_USER_CARD_ACTION":1071015,"GET_PERSONALIZATION_SETTING":1071016,"SET_PERSONALIZATION_SETTING":1071017,"PUSH_PERSONALIZATION_SETTING":1071018,"GET_SMART_REPLY_SETTING":1071019,"SET_SMART_REPLY_SETTING":1071020,"PUSH_SMART_REPLY_SETTING":1071021,"PULL_SLASH_COMMANDS":1071022,"POST_AS_FEEDBACK":1071023,"GET_SEARCH_RECOMMEND":1071024,"PULL_SEARCH_PLACEHOLDER":1071025,"PUSH_SEARCH_PLACEHOLDER":1071026,"GET_GEC_SETTING":1071027,"SET_GEC_SETTING":1071028,"PUSH_GEC_SETTING":1071029,"GET_AI_VOCAB":1071030,"CREATE_AI_VOCAB":1071031,"DELETE_AI_VOCAB":1071032,"GET_AS_SETTING":1071033,"SET_AS_SETTING":1071034,"PUSH_AS_SETTING":1071035,"SMART_MOSAIC":1071036,"GET_AI_TEXT_CORRECTION":1071037,"GET_FEEDBACK_REASON_ITEMS":1071038,"GET_UNIVERSAL_RECOMMEND":1071039,"GET_ACTIVITY_BANNER":1072001,"GET_ONBOARDING_SOURCE_CONFIG":1072002,"GET_TIMEZONE_BY_CITY":1080001,"PULL_LEAN_MODE_STATUS_AND_AUTHORITY":109001,"PATCH_LEAN_MODE_STATUS":109002,"PUSH_LEAN_MODE_STATUS_AND_AUTHORITY":109003,"PULL_DYNAMIC_FLOW":110001,"PULL_DYNAMIC_FLOW_STEP":110002,"REPORT_FLOW_EVENT":110003,"PULL_DYNAMIC_RESOURCE":110004,"PUSH_DYNAMIC_FLOW":110005,"PUSH_DYNAMIC_FLOW_STEP":110006,"TRY_SET_UG_EVENT_STATE":110007,"GET_NEW_USER_CREATE_TEAM_STRONG_GUIDE_CONTEXT":110008,"GET_LDR_SERVICE_APPLINK":110009,"BIZ_EVENT_REPORT":110010,"PULL_NEW_FEATURE_MATERIAL":110050,"SUBMIT_NEW_FEATURE_CLICK_EVENT":110051,"GET_MEEGO_SINGATURE":110071,"ECM_SUBSCRIBE_EVENT":110101,"ECM_KEEP_LIVE_SUBSCRIBE":110102,"ECM_CANCEL_SUBSCRIBE":110103,"ECM_EVENT_BROADCAST":110104,"ECM_ADD_ITEM_SUBSCRIBE":110105,"PULL_BANNER":1100001,"SET_BANNER_STATUS":1100002,"PUSH_BANNER":1100003,"MGET_CONTACT_POINTS_USER_INFO":1100301,"BATCH_UPLOAD_CONTACT_POINTS":1100302,"GET_CHANGED_CONTACT_POINTS_USER_INFO":1100303,"MGET_BLOCK_USER_INFO":1100304,"MGET_BLOCK_USER_NUM":1100305,"SETUP_BLOCK_USER":1100308,"PULL_CONTACTS_V2":1100310,"MGET_FRIENDSHIP":1100311,"GET_USER_BLOCK_STATUS":1100315,"BLOCK_STATUS_CHANGE_EVENT":1100316,"SETUP_MSG_AUTH":1100317,"GET_MSG_AUTH":1100318,"PULL_USER_RELATION":1100319,"IGNORE_CONTACT_APPLY":1100320,"MPUT_CONTACT_APPLICATION":1100321,"PULL_AUTH_CHATTER_INFO":1100322,"GET_USER_ID_AND_RELATION":1100323,"GET_CONTACT_OAUTH_URL":1100801,"GET_OAUTH_CONTACTS":1100802,"GET_PENDING_REVIEW_COUNT":1100803,"PUT_TRANSLATION_FEEDBACK_V2":1101400,"CREATION_DOCS_NOTICE_NEW":1101501,"CREATION_DOCS_NOTICE_CHANGE":1101502,"MGET_TAG_MENTION_ENTITIES":1101601,"SEND_INVITATION_TO_INACTIVE":1101701,"ONE_KEY_INVITE_INACTIVE":1101702,"GET_INACTIVE_PARENTS":1101703,"GET_DEPARTMENT_INACTIVE_INFO":1101704,"GET_DEPARTMENT_INVITATION_URL":1101705,"PUSH_LAN_TRANS_SENDER_ADDRS_SET":1101721,"SEND_IMAGE_TO_OCR":1011731,"PULL_PERMISSION":1011741,"PUSH_PERMISSION_EVENT":1011742,"UPDATE_USER_RECENTLY_USED_EMOJI":1011761,"PULL_SPLASH_AD":1011771,"GET_ADMIN_PERMISSION_INFO":1011791,"GET_MAIL_WEB_TAB_VISIBLE":1011801,"PULL_UG_SCENARIO":1102001,"PULL_UG_SDK_SETTINGS":1102002,"REPORT_UG_EVENT":1102003,"PUSH_UG_SCENARIO_INFO":1102004,"PUSH_BLOCK_EVENT":1102201,"PUSH_KV":1102202,"PUSH_BLOCK_ENTITY_UPDATE":1102203,"PUSH_BLOCK_EXTENSION_UPDATE":1102204,"PULL_NAMECARD_PROFILE":1102400,"PUT_SINGLE_NAMECARD":1102401,"PULL_NAMECARD_LIST":1102402,"UPDATE_SINGLE_NAMECARD":1102403,"DELETE_SINGLE_NAMECARD":1102404,"PULL_NAMECARDS_BY_IDS":1102405,"CHECK_CONTACT_POINT_DUPLICATE":1102406,"CREATE_OR_UPDATE_SINGLE_NAMECARD":1102407,"PUSH_TELE_MEESSAGE":1102501,"PUSH_SYNC_MEESSAGE":1102502,"PULL_WATERMARK_CONFIG":1102601,"GET_HIDDEN_WATERMARK_IMAGE":1102602,"PUSH_WATERMARK_CONFIG":1102603,"CREATE_TEAM":1102701,"CREATE_TEAM_CHAT":1102702,"BIND_TEAM_CHAT_PRE_CHECK":1102703,"BIND_TEAM_CHAT":1102704,"UNBIND_TEAM_CHAT":1102705,"PATCH_TEAM":1102706,"PATCH_TEAM_SETTING":1102707,"PUT_TEAM_MEMBERS":1102708,"DELETE_TEAM_MEMBERS":1102709,"PULL_TEAMS_BY_IDS":1102710,"PUSH_TEAM":1102711,"PUSH_TEAM_SETTING":1102712,"PUSH_TEAM_BASE_INFO":1102713,"CHECK_NAME_AVAILABILITY":1102714,"PULL_ITEMS":1102801,"PULL_ITEMS_BY_IDS":1102802,"REORDER_ITEMS":1102803,"PUSH_ITEMS":1102804,"PULL_TEAM_ITEM_IDS":1102805,"PATCH_ITEM":1102806,"PULL_ITEMS_BY_ENTITY_IDS":1102807,"PULL_AVATAR_META":1102900,"PUSH_SUBSCRIPTIONS_FEED":1102901,"PULL_SUBSCRIPTIONS_FEEDS_BY_IDS":1102902,"SEND_EM_TO_USER":1103001,"CANCEL_EM":1103002,"SEND_EM_INFO":1103003,"RECEIVE_EM":1103004,"PULL_EM_RECORDS":1103005,"CHECK_EM_STATUS":1103006,"EXIST_ACTIVE_EM_TASK":1103007,"PULL_OFFLINE_SEARCH_PERMISSION":1103101,"PUSH_OFFLINE_SEARCH_PERMISSION":1103102,"GET_MEEGO_SHOW_ENABLE":1103201,"OPEN_BANNER_PULL":1103301,"OPEN_BANNER_PUSH":1103302,"OPEN_BANNER_POST":1103303,"PUSH_CHATTER_CUSTOM_STATUS":1103401,"IS_ALLOWED_CREATE_USER_CUSTOM_STATUS":1103402,"CREATE_USER_CUSTOM_STATUS":1103403,"UPDATE_USER_CUSTOM_STATUS":1103404,"PULL_USER_CUSTOM_STATUSES":1103405,"DELETE_USER_CUSTOM_STATUSES":1103406,"PUT_USER_STATUS_CALENDAR_EVENTS":11034067,"PUSH_USER_MEDAL":1103601,"GET_MEDAL_LIST":1103602,"GET_MEDAL_DETAIL":1103603,"SET_MEDAL":1103604,"GET_USER_TAKING_MEDAL":1103605,"PATCH_CHAT_TOP_NOTICE":1103701,"PULL_CHAT_TOP_NOTICE_BY_IDS":1103702,"CLOSE_CHAT_TOP_NOTICE":1103703,"PUSH_CHAT_TOP_NOTICE":1103704,"PUSH_CHAT_TOP_NOTICE_PERSONAL_STATE":1103705}},"PayloadType":{"values":{"TYPE_UNKNOWN":0,"PB2":1,"JSON":2}},"PipeEntity":{"fields":{"type":{"rule":"required","type":"string","id":1},"id":{"type":"int64","id":3}}},"VersionRange":{"fields":{"start":{"rule":"required","type":"string","id":1},"end":{"rule":"required","type":"string","id":2}}},"ClientAckResponse":{"fields":{"actionType":{"type":"ActionType","id":1,"options":{"default":"BeforePersist"}}},"nested":{"ActionType":{"values":{"BeforePersist":0,"AfterPersist":1}}}},"Packet":{"fields":{"sid":{"type":"string","id":1},"payloadType":{"rule":"required","type":"PayloadType","id":2,"options":{"default":"PB2"}},"cmd":{"rule":"required","type":"Command","id":3},"status":{"type":"uint32","id":4,"options":{"default":200}},"payload":{"type":"bytes","id":5},"cid":{"type":"string","id":6},"pipeEntity":{"type":"PipeEntity","id":7},"versionPayloads":{"rule":"repeated","type":"VersionPayload","id":8},"pipeEntities":{"rule":"repeated","type":"PipeEntity","id":9},"waitRetryInterval":{"type":"uint32","id":10},"command":{"type":"int32","id":11},"cursor":{"type":"uint64","id":12}},"nested":{"VersionPayload":{"fields":{"versionRange":{"rule":"required","type":"VersionRange","id":1},"payload":{"rule":"required","type":"bytes","id":2}}}}},"PushBackgroundNotification":{"fields":{"title":{"type":"string","id":1},"content":{"type":"string","id":2},"extra":{"type":"string","id":3},"collapseId":{"type":"string","id":4},"msgType":{"type":"string","id":5}}},"PushBannerNotificationRequest":{"fields":{"title":{"type":"string","id":1},"subtitle":{"type":"string","id":2},"content":{"type":"string","id":3},"extra":{"type":"string","id":4}}},"PullPacketsBySeqIdRequest":{"fields":{"sid":{"rule":"required","type":"string","id":1,"options":{"default":""}},"count":{"rule":"required","type":"uint32","id":2,"options":{"default":20}},"version":{"type":"uint32","id":3},"frontierDowngrade":{"type":"bool","id":4,"options":{"default":false}},"batchUniqId":{"type":"string","id":5},"batchIndex":{"type":"int64","id":6}}},"PullPacketsBySeqIdResponse":{"fields":{"hasMore":{"rule":"required","type":"bool","id":1,"options":{"default":false}},"packets":{"rule":"repeated","type":"Packet","id":2},"lastPacketCreateTime":{"type":"int64","id":3},"lastSid":{"type":"string","id":4},"responseTime":{"type":"int64","id":5},"maxBatchIndex":{"type":"int64","id":6}}},"SyncRequest":{"fields":{"sid":{"rule":"required","type":"int64","id":1}}},"SyncResponse":{"fields":{"sids":{"rule":"repeated","type":"int64","id":1,"options":{"packed":false}},"lastSid":{"rule":"required","type":"int64","id":2},"ttl":{"rule":"required","type":"uint32","id":3}}},"PullPacketsBySidsRequest":{"fields":{"sids":{"rule":"repeated","type":"string","id":1}}},"PullPacketsBySidsResponse":{"fields":{"packets":{"keyType":"string","type":"Packet","id":1}}},"ProcessMultiPacketsRequest":{"fields":{"packets":{"rule":"repeated","type":"bytes","id":1}}},"ProcessMultiPacketsResponse":{"fields":{"results":{"rule":"repeated","type":"bytes","id":1},"resultsExtension":{"keyType":"int32","type":"MultiPacketResultExt","id":2}}},"MultiPacketResultExt":{"fields":{"statusCode":{"type":"int32","id":1}}},"PushActionRequest":{"fields":{"throttleAction":{"type":"ThrottleActionType","id":1}},"nested":{"ThrottleActionType":{"values":{"Throttle":0,"Release":1}}}},"PushActionResponse":{"fields":{"throttleResult":{"type":"ThrottleResultType","id":1}},"nested":{"ThrottleResultType":{"values":{"Success":0,"AlreadyStrongest":1,"AlreadyWeakest":2}}}}}},"fieldinfo":{"options":{"go_package":"git.byted.org/ee/lark/im-protobuf/improto/fieldinfo"},"nested":{"FieldInfo":{"type":"string","id":54321,"extend":"google.protobuf.FieldOptions"}}},"google":{"nested":{"protobuf":{"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REQUIRED":2,"LABEL_REPEATED":3}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5},"serverStreaming":{"type":"bool","id":6}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16},"javaGenericServices":{"type":"bool","id":17},"pyGenericServices":{"type":"bool","id":18},"deprecated":{"type":"bool","id":23},"ccEnableArenas":{"type":"bool","id":31},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1},"noStandardDescriptorAccessor":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"mapEntry":{"type":"bool","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[8,8]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5},"deprecated":{"type":"bool","id":3},"weak":{"type":"bool","id":10},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}}}},"OneofOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4}}}}}}}}}}')},function(e){e.exports=JSON.parse('{"errors":{"options":{"optimize_for":"LITE_RUNTIME","go_package":"git.byted.org/ee/lark/im-protobuf/improto/errors","java_package":"com.ss.android.lark.pb"},"nested":{"ErrorCode":{"values":{"UNKNOWN_CODE":0,"STOPPED_FEATURE_DEPRECATED":10,"STOPPED_FEATURE_NEED_UPGRADE":11,"NO_PERMISSION":4000,"FORBID_ADD_MEMBER_FOR_NOT_IN_CHAT":4001,"FORBID_ADD_MEMBER_TO_P2P_CHAT":4002,"FORBID_DEL_MEMBER_FOR_NOT_IN_CHAT":4003,"ONLY_GROUP_CHAT_ALLOW_MODIFY_NAME":4004,"FORBID_MODIFY_ARCHIVED_CHAT_NAME":4005,"FORBID_MODIFY_CHAT_NAME_FOR_NOT_IN_CHAT":4006,"FORBID_PULL_CHAT_MEMBERS_FOR_NOT_IN_CHAT":4007,"FORBID_PULL_MESSAGES_FOR_NOT_IN_CHAT":4008,"FORBID_SEND_MESSAGE_FOR_CHAT_DELETED_OR_ARCHIVED":4009,"NOT_IN_SAME_TENANT":4010,"GROUP_CHAT_SHARED_CARD_EXPIRED":4011,"ALREADY_IN_CHAT":4012,"CHAT_USER_COUNT_GT_LIMIT":4013,"ONLY_OWNER_CAN_INVITE_OTHERS":4014,"SHARE_CHAT_FORBID":4015,"WITHDRAW_MESSAGE_EXPIRED":4016,"FORBID_ADD_OUT_TENANT_USER":4017,"GROUP_CHAT_DISSOLVED":4018,"CHAT_NOT_FOUND":4019,"FORBID_SET_NAME":4020,"TENANT_DATA_TRANSFER_ON_MARCHING":4021,"INVITEE_MOBILE_MARKED_MALICIOUS":4022,"OWNER_CLOSE_GROUP_CHAT_SHARED":4023,"SAFETY_CHECK_FORBIDDEN_DOWNLOAD":4024,"NO_RIGHT_CANDIDATE_OWNER":4025,"LINK_ADD_NON_CERTIFIED_TENANT_REFUSE":4026,"QR_CODE_ADD_NON_CERTIFIED_TENANT_REFUSE":4027,"SHARE_CARD_ADD_NON_CERTIFIED_TENANT_REFUSE":4028,"FORBID_CREATE_CHAT_FOR_USER_RESIGNED":4031,"FORBID_QUIT_YOUR_CUSTOM_CHAT":4032,"FORBID_LARK_ASSISTANT_QUIT_CUSTOM_CHAT":4033,"GET_CHAT_CHATTERS_FAIL":4034,"INVALID_CONTACT_TOKEN":4035,"RESET_CONTACT_TOKEN_TOO_FAST":4036,"FORBID_ADD_OUT_TENANT_USER_V2":4037,"TRANSFER_CHAT_OWNER_FAIL":4038,"FORBID_CREATE_CRYPTO_CHAT_OR_ADD_CHATTER":4039,"FORBID_PULL_CHAT_THREAD_FOR_NOT_IN_CHAT":4040,"FORBID_PULL_THREAD_MESSAGE_FOR_NOT_IN_CHAT":4041,"FORBID_SEND_MESSAGE_IN_CHAT":4042,"ALL_URGENT_USERS_ARE_MANAGERS":4043,"PARTIAL_URGENT_USERS_ARE_MANAGERS":4044,"PULL_MESSAGE_FAIL_FOR_NOT_IN_CHAT":4045,"WITH_DRAW_PERMISSION_EXPIRED":4046,"DELETE_THREAD_PERMISSION_EXPIRED":4047,"FORBID_WITHDRAW_GROUP_OWNER":4048,"JOIN_TOKEN_NOT_SET":4049,"FORBID_DISABLE_SHARED_CHAT":4050,"FORBID_PUT_P2P_CHAT":4051,"FORBID_PUT_P2P_CHATS":4052,"FORBID_PUT_URGENT":4053,"URGENT_PEOPLE_LIMIT":4054,"ACCOUNT_FORBIDDEN":4100,"ACCOUNT_LOGOUT_ERROR":4101,"MAIL_NOT_IN_MAIL_GROUP":4200,"MAIL_FORBID_MODIFY_MAIL_TITLE":4201,"GATEWAY_AUTH_APP_TOKEN_NOT_FOUND":4301,"GATEWAY_AUTH_SESSION_NOT_FOUND":4302,"GATEWAY_AUTH_SESSION_DEVICE_MISMATCH":4303,"GATEWAY_AUTH_INVALID_TICKET":4304,"GATEWAY_AUTH_BAD_REQUEST":4305,"SID_NOT_IN_FRONTIER_DOWNGRADE_PIPE":4306,"HONGBAO_PARAM_ERROR":4401,"HONGBAO_INVALID_CHAT":4402,"HONGBAO_ZERO_LEFT":4403,"HONGBAO_ALREADY_GRAB":4404,"HONGBAO_EXPIRED":4405,"HONGBAO_INVALID_USER":4406,"HONGBAO_INVALID_QUERY":4407,"HONGBAO_USER_NEED_AUTONYM":4408,"HONGBAO_GRAB_TOO_FAST":4409,"DEVICE_NOT_HAVE_LEAN_MODE_AUTHORITY":4500,"DEVICE_IN_LEAN_MODE_CANNOT_USE_CRYPTO_CHAT":4501,"PARAM_ERR":5000,"P2P_CHAT_NOT_CONTAIN_CREATOR_NOT":5001,"P2P_CHAT_USER_COUNT_GT_TWO":5002,"INVALID_CHAT_TYPE":5003,"CHAT_NOT_FOUND_V2":5004,"CHAT_DESC_TOO_LONG":5005,"UPDATE_CHAT_ICON_FAIL":5006,"MESSAGE_CONTENT_TOO_LONG":5007,"REPEATED_PUT_CHAT_CHATTER_REQUEST":5008,"FORBID_SEND_MESSAGE_FOR_NOT_FRIEND":5009,"FORBID_ADD_FRIEND_FOR_USER_PRIVATE_SETTING":5010,"INVALID_PHONE_FORMAT":5011,"INVALID_MAIL":5012,"FORBID_CREATE_CHAT_FOR_NOT_FRIEND":5013,"LARK_ACCOUNT_ID_NOT_MATCH_DOC":5014,"INVALID_QR_CODE":5015,"QR_CODE_INVITER_NOT_IN_CHAT":5016,"PB_PACKET_UNMARSHAL_ERR":5017,"PB_PAYLOAD_UNMARSHAL_ERR":5018,"PUBLIC_CHAT_NAMED_EXISTED":5019,"NEED_UPGRADE_FOR_APPLY_CHECK":5020,"ADD_FRIENDS_TIMEOUT_VIA_CONTACT":5021,"PROFILE_TOKEN_STOLEN":5022,"ADD_FRIEND_ERR_FOR_FRIEND_NOT_IN_CHAT":5023,"NO_CHAT_ID_FOR_ADD_FRIEND":5024,"ADD_FRIEND_ERR_FOR_SEARCH_MANNER_CLOSED":5025,"ADD_FRIEND_ERR_FOR_CHAT_MANNER_CLOSED":5026,"ADD_CHAT_CHATTER_APPLY_NOT_OPEN":5027,"THREAD_ALREADY_WITHDRAW":5028,"RECOGNITION_WITH_EMPTY_RESULT":5029,"THREAD_CLOSED":5030,"TOO_SHORT_PUBLIC_GROUP_NAME":5031,"MERGE_FORWARD_CONTENT_REACH_LIMIT":5040,"MERGE_FORWARD_CONTENT_TWO_LARGE_FAIL":5041,"MESSAGE_CHANNEL_NOT_FOUND":5042,"MESSAGE_THREAD_NOT_FOUND":5043,"INVALID_USER_NAME_LENGTH":5044,"CREATE_MESSAGE_TRIGGER_PSM_RATE_LIMIT":5045,"CREATE_MESSAGE_TRIGGER_CHAT_RATE_LIMIT":5046,"CREATE_MESSAGE_REQUEST_IS_PROCESSING":204,"PIN_OPERATION_PERMISSION_DENIED":5047,"INVALID_CHAT_LINK_TOKEN":5048,"CHAT_LINK_INVITER_NOT_IN_CHAT":5049,"CREATE_MESSAGE_AT_ALL_DENIED":5050,"CREATE_MESSAGE_TRIGGER_USER_RATE_LIMIT":5051,"CREATE_MESSAGE_TRIGGER_CHAT_RATE_LIMIT_ENQUEUE":5052,"CREATE_MESSAGE_TRIGGER_CONTAINER_LIMIT":5053,"CREATE_ANONYMOUS_MESSAGE_SETTING_CLOSE":5054,"CREATE_ANONYMOUS_MESSAGE_NO_MORE_QUOTA":5055,"GET_MESSAGE_POSITION_BY_TIMESTAMP_NUMBER_OF_CHAT_EXCEED_LIMIT":5056,"GET_MESSAGE_POSITION_BY_TIMESTAMP_PARAMS_ERROR":5057,"REMOVE_LAN_FILE_MESSAGE_FAILED_WHILE_TRANSFERRING":5058,"PIN_LAN_FILE_MESSAGE_FAILED_WHILE_TRANSFERRING":5059,"ONE_BY_ONE_FORWARD_MESSAGE_MAX_REACHED":5060,"DLP_SENSITIVE_MESSAGE_BLOCKED":5061,"MESSAGE_NOT_FOUND":5062,"SUPER_CHAT_UNSUPPORTED_MESSAGE_TYPE":5063,"CREATE_MESSAGE_INVALID_USER_CARD":5064,"SUPER_CHAT_THREAD_SUBSCRIBE_TOO_MUCH":5065,"NO_DEVICE_FOR_CRYPTO_MESSAGE_CONTENT":5100,"NO_DEVICE_WHEN_CREATE_P2P_CHAT":5101,"NO_PERMISSION_EDITING_DOC_FOR_OLD_VERSION":5200,"SHARE_CHAT_DEPRECATED":5555,"SENSITIVE_MESSAGE_BLOCKED":5566,"SENSITIVE_USER_NAME":5567,"COPY_MESSAGE_AUTHED_ID_NIL":5568,"FILEINFO_IS_DELETED":5600,"STATIC_RESOURCE_FROZEN_BY_ADMIN":5601,"STATIC_RESOURCE_SHREDDED_BY_ADMIN":5602,"LARK_CERTIFICATE_DECRYPTION_KEY_INVALID":5603,"CHAT_CROSS_WITH_KA_UNSUPPORTED_MESSAGE_TYPE":5604,"STATIC_RESOURCE_DOWNLOAD_LAN_FILE_FROM_SERVER":5605,"FG_KA_CROSS_SEND_MESSAGE_FORBID":5606,"REQUEST_OVER_FREQUENCY":5650,"INVALID_FACE_TO_FACE_TOKEN":5651,"STATIC_RESOURCE_UPLOAD_RISKY_NAME":5652,"STATIC_RESOURCE_DOWNLOAD_RISKY_NAME":5653,"STATIC_RESOURCE_UPLOAD_FOLDER_EMPTY":5654,"STATIC_RESOURCE_FOLDER_DEPTH_EXCEED_LIMIT":5655,"STATIC_RESOURCE_FOLDER_SUB_FILES_NUMBER_EXCEED_LIMIT":5656,"CHAT_ADMIN_USER_REACH_LIMIT":5700,"ADD_CHAT_CHATTER_APPLY_ALREADY_PROCESSED":5701,"CURRENT_CHAT_NOT_CAN_SET_SEARCH":5702,"SEND_MISSING_CRYPTO_MESSAGE_MISSING_CONTENT":5703,"SEND_MISSING_CRYPTO_MESSAGE_MISSING_MAIN_CONTENT":5704,"PULL_GROUP_CHAT_MEMBER_VERSION_RETRY":5705,"PRICING_PACKAGE":6000,"PRICING_PACKAGE_URGENT_REACH_LIMIT":6001,"PRICING_PACKAGE_ADD_CHAT_CHATTER_REACH_LIMIT":6002,"PRICING_PACKAGE_CRYPTO_CHAT_DISALLOWED":6003,"PRICING_PACKAGE_CRYPTO_CHAT_URGENT_DISALLOWED":6004,"PRICING_PACKAGE_AUTO_TRANSLATE_DISALLOWED":6005,"LARK_FAV_LAN_TRANS_FILE_REFUSE":6200,"HONGBAO_LICENSE_AUTH_FAILED":9000,"STICKER_SET_ALREADY_EXISTS":11001,"MAIL_USER_ID_DEVICE_ID_PROCESSED_LIMIT":250001,"MAIL_REQUEST_PARAMS_LENGTH_LIMIT":250101,"MAIL_MESSAGE_SENT_LONG_TIME_AGO":250201,"MAIL_MESSAGE_NOT_IN_SENT_STATE":250202,"MAIL_MESSAGE_HAS_BEEN_RECALLED":250203,"MAIL_LONG_RUNNING_TASK_BLOCK":250301,"MAIL_LONG_RUNNING_TASK_BLOCK_NO_RETRY":250302,"MAIL_LONG_RUNNING_TASK_SERVER_LIMIT":250303,"MAIL_LONG_RUNNING_TASK_MIGRATION_REJECT":250304,"COLLABORATION_AUTH_FAILED_BLOCKED":260000,"COLLABORATION_AUTH_FAILED_NO_RIGHTS":260001,"COLLABORATION_SEND_MSG_REACH_LIMIT":260002,"COLLABORATION_AUTH_FAILED_BE_BLOCKED":260003,"COLLABORATION_AUTH_FAILED_PRIVACY_SETTING":260004,"COLLABORATION_AUTH_FAILED_TARGET_PRIVACY_SETTING":260005,"CHAT_WITH_NO_CONTACTS_REACH_DAILY_LIMIT":260006,"COLLABORATION_AUTH_NO_PERMISSION":260007,"EXTERNAL_COORDINATE_CTL":260008,"TARGET_EXTERNAL_COORDINATE_CTL":260009,"CONTACT_NUM_EXCEED_LIMIT":270000,"NEW_CONTACT_EXCEED_LIMIT":270001,"CONTACT_IN_SAME_TENANT":270002,"FORBID_ADD_SEARCH_DISABLE":270003,"FORBID_ADD_NAME_CARD_DISABLE":270004,"FORBID_ADD_LINK_DISABLE":270005,"PLEASE_WAIT_GENERAL":270006,"PLEASE_WAIT_MULTIPLE_USERS":270007,"CANT_ADD_CONTACT_BE_BLOCKED":270008,"CANT_ADD_CONTACT_BLOCK_OTHER":270009,"CONTACT_REQUEST_SENT_PLEASE_WAIT":270010,"APPLICATION_REASON_EXCEED_LIMIT":270011,"UNKNOWN_SYSTEM_ERROR":280000,"ILLEGAL_REQUEST_ERROR":280001,"OAUTH_SERVER_ERROR":280002,"OAUTH_INVALID_STATE":280003,"OAUTH_INVALID_CODE":280004,"OAUTH_NOT_AUTHORIZED":280005,"OAUTH_INVALID_CHANNEL":280006,"ZAXIS_UNKNOWN_SYSTEM_ERROR":290000,"ZAXIS_BAD_REQUEST":290001,"ZAXIS_INVALID_AUTH_CODE":290002,"ZAXIS_INVALID_AUTH_TOKEN":290003,"ZAXIS_NOT_AUTHORIZED":290004,"ZAXIS_NOT_LOGGED_IN":290005,"ZAXIS_ENTITY_NOT_FOUND":290006,"ZAXIS_DEPENDENCY_ERROR":290007,"ZAXIS_AUTH_REVOKED":290008,"EDU_UNKNOWN_SYSTEM_ERROR":300000,"EDU_NOT_AUTHORIZED":300001,"EDU_CLASS_INVALID":300002,"EDU_HOME_SCHOOL_CHAT_CREATED":300003,"EDU_INVITATION_SEND_MESSAGE_FREQUENCY":300004,"DATA_EXPORT_TASK_NOT_FOUND":310000,"DATA_EXPORT_REQUEST_PARAM_ERROR":310001,"DATA_EXPORT_CREATE_TASK_CONFLICT":310002,"DATA_EXPORT_EXECUTE_TASK_TIMEOUT":310003,"DATA_EXPORT_ATTACHMENG_ID_ERROR":310004,"DATA_EXPORT_TASK_TERMINATED":310005,"EM_REDUNDANT_TASK":311000,"EM_AUTH_FAILED":311001,"EM_TASK_ALREADY_DONE":311002,"EM_GET_DATA_FAILED":311003,"LAN_TRANS_AUTH_PASS":320000,"LAN_TRANS_AUTH_FAILED":320001,"LAN_TRANS_AUTH_AUTH_CHAT_FAILED":320002,"LAN_TRANS_AUTH_ONLINE_DEVICES_NOT_FOUND":320003,"LAN_TRANS_AUTH_FEATURE_NOT_ALLOWED":320004,"ACCESS_FILE_AUTH_NO_PASS":321000,"MOMENTS_UNKNOWN_ERROR":330000,"MOMENTS_STOPPED_FEATURE":330100,"MOMENTS_SESSION_ERROR":330200,"MOMENTS_PERMISSION_ERROR":330300,"MOMENTS_PARAM_ERROR":330400,"MOMENTS_BAD_USER_ID":330401,"MOMENTS_DUPLICATE_NICKNAME":330402,"MOMENTS_CONTENT_ERROR":330500,"MOMENTS_CANNOT_CREATE_POST":330501,"MOMENTS_CANNOT_CREATE_COMMENT":330502,"MOMENTS_CANNOT_READ":330503,"MOMENTS_REACH_LIMIT_ERROR":330600,"CROSS_WITH_KA_FEATURE_UNAVAILABLE":340000,"CROSS_WITH_KA_MESSAGE_ACTIONS_UNAVAILABLE":341000,"CROSS_WITH_KA_UNABLE_TO_SEND_MESSAGE":341001,"CROSS_WITH_KA_UNABLE_TO_FORWARD_MESSAGE":341002,"CROSS_WITH_KA_UNABLE_TO_CREATE_GROUP_CHAT":342000,"CROSS_WITH_KA_CHAT_SETTINGS_UNAVAILABLE":342001,"CROSS_WITH_KA_UNABLE_TO_INVITE_GROUP_MEMBER":342002,"CROSS_WITH_KA_UNABLE_TO_REMOVE_MEMBER":342003,"CROSS_WITH_KA_CANT_SEE_PROFILE":343000,"UG_REACH_DUPLICATE_REQUEST":350000,"UG_REACH_LACK_REQUEST_PARAMETER":350001,"UG_REACH_REPORT_GUIDE_FAIL":350002,"UG_REACH_CORE_ERROR":350003,"EMAIL_INVALID":370000,"EMAIL_DUPLICATE":370001,"PHONE_INVALID":370002,"PHONE_DUPLICATE":370003,"NAME_NIL":370004,"DELETED_NAMECARD":370005,"DEFAULT_NAMECARD_ERROR":370006,"LARKTODO_REACH_LIMIT_ERROR":380000,"FEED_GROUP_NAME_DUPLICATE_ERROR":390000,"SAME_CHAT_NAME_IN_TEAM":400000,"SAME_TEAM_NAME_IN_TENANT":400001,"CANNOT_ADD_OR_LEAVE_IN_TEAM_CHAT":400002,"WILL_OVERFLOW_AFTER_BIND_CHAT":400003,"WILL_OVERFLOW_AFTER_ADD_MEMBER":400004,"NEW_TEAM_OWNER_NOT_SET":400005,"FORBID_OPERATE_CHAT_IN_TEAM":400006,"FORBID_CHAT_SETTING_IN_TEAM":400007,"UNABLE_TO_ADD_SOME_MEMBERS":400008,"CREATE_TEAM_REACH_LIMIT":400009,"FORBID_ADD_TEAM_MEMBERS":400010,"FORBID_BIND_TEAM_CHAT":400011,"FORBID_CREATE_TEAM_CHAT":400012,"FORBID_SELECT_NOT_OWN_CHAT":400013,"CHAT_IS_BIND_ANOTHER_TEAM":400014,"FORBID_SELECT_EXTERNAL_CONTACTS":400015,"CANNOT_SHARE_TEAM_CHAT":400016,"CANNOT_RESOLVE_TEAM_DEFAULT_CHAT":400017,"CANNOT_TRANSFER_TEAM_DEFAULT_CHAT_OWNER":400018}},"ErrorType":{"values":{"UNKNOWN_TYPE":0,"STOPPED_FEATURE":1,"SESSION_ERROR":2,"PERMISSION_ERROR":3,"PARAM_ERROR":4,"CONTENT_ERROR":5,"NOT_SUFFICIENT_FUNDS":6}},"LarkError":{"fields":{"message":{"type":"string","id":1},"code":{"type":"int32","id":2},"type":{"type":"ErrorType","id":3},"userErrMessage":{"type":"string","id":4},"userErrTitle":{"type":"string","id":5},"requestId":{"type":"string","id":6},"extra":{"type":"bytes","id":7}}},"LarkErrorExtra":{"fields":{"logoutReason":{"type":"int32","id":1}}}}}}')},function(e){e.exports=JSON.parse('{"basic":{"DocMessage":{"I18nInfo":{"base":{"i18nTitles":{},"i18nRichtexts":{}}},"setProto":{"id":"","type":0,"createTime":0,"updateTime":0,"content":"","docFeedId":"","fromId":"","richText":null,"isI18nMessage":false,"i18nInfo":null}},"DocFeed":{"base":{"docMessageIds":[],"tags":[]},"setProto":{"id":"","title":"","type":0,"iconKey":"","docUrl":"","createTime":0,"updateTime":0,"ownerId":"","newMessageCount":0,"isDeleted":false,"isRemind":false,"feedType":0,"isCrossTenant":false,"isShortcut":false}},"Doc":{"base":{"tags":[]},"setProto":{"key":"","url":"","type":0,"name":"","iconKey":"","abstract":"","createTime":0,"updateTime":0,"ownerName":"","ownerId":0,"icon":null}},"Chatter":{"Description":{"setProto":{"text":"","type":0}},"AccessInfo":{"AccessProfile":{"AccessMessage":{"setProto":{"isAccessible":false,"inaccessibleCode":0}},"setProto":{"accessMessagePhoneCall":null,"accessMessageVoiceCall":null,"accessMessageVideoCall":null,"accessMessageUrgent":null}},"setProto":{"phoneCall":false,"voiceCall":false,"videoCall":false,"accessProfile":null}},"TimeZone":{"setProto":{"timeZoneId":""}},"ChatExtra":{"setProto":{"chatId":"","nickName":"","oncallRole":0,"nickNamePinyin":""}},"base":{"avatarUrls":[],"tags":[]},"setProto":{"id":"","name":"","type":0,"avatar":null,"updateTime":0,"namePinyin":"","creatorId":"","isResigned":false,"isRegistered":false,"enUsName":"","description":null,"avatarKey":"","tenantId":"","localizedName":"","alias":"","workStatus":null,"profileEnabled":false,"accountId":"","accessInfo":null,"openAppId":"","avatarPath":"","email":"","doNotDisturbEndTime":0,"timeZone":null,"withBotTag":"","inContacts":false,"canJoinGroup":false,"chatExtra":null,"acceptSmsPhoneUrgent":false}},"FeedCard":{"setProto":{"id":"","entityType":0,"feedType":0,"updateTime":0,"parentCardId":""}},"Entity":{"ChatChatter":{"base":{"chatters":{}}},"DocPermissionInfo":{"base":{"token2docPermissions":{},"url2docPermissions":{}}},"base":{"messages":{},"chats":{},"chatters":{},"quasiMessages":{},"departments":{},"urgents":{},"drafts":{},"feedCards":{},"emails":{},"docs":{},"docPermissions":{},"docFeeds":{},"docMessages":{},"threads":{},"quasiThreads":{},"favorites":{},"translateMessages":{},"tenants":{},"chatChatters":{},"messageId2docPermissionInfos":{},"openApps":{},"oncalls":{},"topicGroups":{},"abbrevs":{},"ephemeralMessages":{},"mergeForwardTranslateMessages":{},"mailSetting":{}}},"Message":{"Reaction":{"base":{"chatterIds":[]},"setProto":{"type":""}},"Pin":{"setProto":{"id":"","operatorId":"","timestamp":0}},"base":{"reactions":[],"unreadChatterIds":[],"unackUrgentChatterIds":[],"ackUrgentChatterIds":[],"readAtChatterIds":[],"atOutChatterIds":[],"imageTranslationAbility":{}},"setProto":{"id":"","type":0,"chatId":"","threadId":"","createTime":0,"updateTime":0,"rootId":"","content":0,"unreadCount":0,"fromId":"","shouldNotify":false,"isRecalled":false,"isEdited":false,"replyCount":0,"position":0,"cid":"","meRead":false,"reminderId":"","parentSourceId":"","rootSourceId":"","isUrgent":false,"urgentId":"","parentId":"","isAtMe":false,"isAtAll":false,"isTruncated":false,"readCount":0,"textDraftId":"","postDraftId":"","isFileDeleted":false,"isDeleted":false,"fromType":0,"docKey":"","channel":null,"isVisible":false,"burnLife":0,"burnTime":0,"threadPosition":0,"sourceType":0,"sourceId":"","translateLanguage":"","recallerId":"","recallerIdentity":0,"pin":null,"badgeCount":0,"isReeditable":false,"isBadged":false,"isUntranslateable":false,"threadBadgeCount":0,"threadReplyCount":0,"isBurned":false,"messageLanguage":"","isAutoTranslatedByReceiver":false,"isNoTraceDeleted":false,"originBadgeCount":0,"originThreadBadgeCount":0,"sensitivity":0,"translateMessageDisplayRule":null,"isManualTranslated":false,"originalSenderId":"","forwardFromFriend":false,"staticResourceMessageRecalled":false,"isCryptoIntermediate":false}},"Department":{"setProto":{"id":"","name":"","parentId":"","leaderId":"","memberCount":0,"refParentId":"","chatId":"","hasSubDepartments":false,"canCreateDepartment":false}},"Image":{"base":{"urls":[]},"setProto":{"key":"","width":0,"height":0,"type":0}},"ImageSet":{"setProto":{"key":"","origin":null,"thumbnail":null,"middle":null,"thumbnailWebp":null,"middleWebp":null}},"LarkError":{"setProto":{"debugMessage":"","displayMessage":"","code":0,"type":0,"userErrTitle":"","requestId":"","serverMessage":"","errorTimes":0}},"Tenant":{"setProto":{"id":"","name":"","contactName":"","contactMobile":"","contactEmail":"","address":"","domain":"","postCode":"","remark":"","telephone":"","iconUrl":""}},"Contact":{"setProto":{"id":"","chatterId":"","isDeleted":false}},"ChatApplication":{"setProto":{"id":"","type":0,"chatId":"","contactSummary":null,"applyTime":0,"processedTime":0,"status":0,"isRead":false,"extraMessage":""}},"ContactSummary":{"setProto":{"userId":"","userName":"","userEnName":"","departmentName":"","avatarKey":"","tenantName":"","avatarPath":""}},"GetClientStatusResponse":{"setProto":{"settings":"","showNoticeDetail":false,"showPhoneAlert":false}},"GetAppConfigResponse":{"setProto":{"appConfig":null}},"AppConfig":{"MessageConfig":{"setProto":{"maxRecallTimeLimit":0}},"ChatConfig":{"ChatPostPermission":{"setProto":{"openToThread":false}},"setProto":{"maxMemberCount":0,"postPermission":null,"withdrawChatterExpirationByHour":0,"maxOriginGroupChatUserCount_4CreateExternalChat":0}},"VoiceCallConfig":{"setProto":{"heartbeatCycle":0,"heartbeatExpiredTime":0}},"BillingPackageConfig":{"setProto":{"chatNumberLimit":0,"chatBotLimit":0,"buzzLimit":0,"hasSecretChat":false,"docNumberLimit":0,"videochatParticipantLimit":0,"videochatDurationLimit":0,"isEnableAutoTranslation":false,"isLarkHongbaoEnable":false}},"URLConfig":{"Domain":{"setProto":{"domain":""}},"base":{"docDomains":[]},"setProto":{"domain":null,"createDocAddr":""}},"Resource":{"base":{"addrs":{}}},"DocUrlRegex":{"base":{"regex":[]}},"URLRegex":{"base":{"regexes":{}},"setProto":{"timeOut":0}},"SearchConfig":{"base":{"externalSearches":[]}},"Zendesk":{"setProto":{"webFormUrl":"","oncallChat":false}},"BannerConfig":{"setProto":{"notificationRefreshTime":0}},"base":{"androidAppStores":[]},"setProto":{"messageConfig":null,"chatConfig":null,"voiceCallConfig":null,"urlConfig":null,"resource":null,"docUrlRegex":null,"billingPackage":null,"urlRegex":null,"zendesk":null,"guideToRateDelayHours":0,"searchConfig":null,"bannerConfig":null}},"Urgent":{"setProto":{"id":"","messageId":"","type":0,"sendTime":0,"status":0,"ackChatterId":""}},"Packet":{"base":{"cmd":{},"payload":[]},"setProto":{"status":0,"message":"","contextId":"","userId":"","startCallbackTime":"","taskId":0,"isErr":false,"streamStatus":0}},"MGetDigestsResponse":{"base":{"digests":{}}},"DynamicNetStatusResponse":{"setProto":{"netStatus":0}},"PushSessionExpiredResponse":{"setProto":{"shouldDeleteAllData":false,"reason":0,"displayMessage":"","sessionSource":0,"serverLogoutReason":0,"needAlert":false}},"GetAppConfigRequest":{"setProto":{"needLogin":false,"forceRemote":false,"syncDataStrategy":0}},"RichText":{"base":{"elementIds":[],"elements":{},"imageIds":[],"atIds":[],"anchorIds":[],"mediaIds":[],"docsIds":[]},"setProto":{"innerText":"","version":0}},"DocEntity":{"ElementEntity":{"setProto":{"title":"","docType":0,"token":"","docUrl":"","icon":null}},"base":{"elementEntityRef":{}}},"RichTextElement":{"TextProperty":{"setProto":{"content":"","i18nKey":"","numberOfLines":0}},"ItalicProperty":{"setProto":{"content":"","i18nKey":""}},"BoldProperty":{"setProto":{"content":"","i18nKey":""}},"UnderlineProperty":{"setProto":{"content":"","i18nKey":""}},"AnchorProperty":{"setProto":{"href":"","content":"","textContent":"","specialUrl":0,"i18nKey":"","iosHref":"","androidHref":"","pcHref":""}},"AtProperty":{"setProto":{"userId":"","content":"","isOuter":false}},"ImageProperty":{"base":{"urls":[]},"setProto":{"token":"","originKey":"","middleKey":"","thumbKey":"","originWidth":0,"originHeight":0,"fsUnit":"","alt":"","altI18nKey":"","imgCanPreview":false,"thumbnailWebp":null,"middleWebp":null}},"EmotionProperty":{"setProto":{"key":""}},"ReactionProperty":{"setProto":{"key":""}},"ButtonProperty":{"setProto":{"actionId":"","disable":false,"active":false,"confirm":null,"loading":null,"isLoading":false,"mode":""}},"ButtonConfirmProperty":{"setProto":{"title":"","text":"","confirm":"","dismiss":"","titleI18nKey":"","textI18nKey":"","confirmI18nKey":"","dismissI18nKey":""}},"ButtonLoadingProperty":{"setProto":{"begin":"","success":"","fail":"","beginI18nKey":"","successI18nKey":"","failI18nKey":""}},"SelectProperty":{"setProto":{"minPickNum":0,"maxPickNum":0}},"ProgressSelectOptionProperty":{"setProto":{"actionId":"","actionParamName":"","actionParamValue":"","disable":false,"selected":false,"optionCase":"","content":"","numberOfSelected":0,"numberOfTotal":0}},"TextableAreaProperty":{"setProto":{"numberOfLines":0}},"TimeProperty":{"setProto":{"millisecondSince1970":0,"format":""}},"LinkProperty":{"setProto":{"url":"","iosUrl":"","androidUrl":"","pcUrl":"","specialUrl":0,"scene":0}},"MediaProperty":{"base":{"imageData":[]},"setProto":{"key":"","name":"","size":0,"mime":"","source":0,"image":null,"duration":0,"fsUnit":"","cryptoToken":"","compressPath":"","originPath":"","width":0,"height":0,"url":""}},"SelectMenuProperty":{"base":{"options":[]},"setProto":{"type":0,"actionId":"","placeHolder":"","placeHolderI18nKey":"","initialOption":"","confirm":null,"disable":false,"isLoading":false}},"MenuOption":{"setProto":{"text":"","textI18nKey":"","value":"","url":null,"optionActionId":""}},"OverflowMenuProperty":{"base":{"options":[]},"setProto":{"actionId":"","confirm":null,"disable":false,"isLoading":false}},"DatePickerProperty":{"setProto":{"actionId":"","placeHolder":"","placeHolderI18nKey":"","initialDate":"","confirm":null,"disable":false,"isLoading":false}},"TimePickerProperty":{"setProto":{"actionId":"","placeHolder":"","placeHolderI18nKey":"","initialTime":"","confirm":null,"disable":false,"isLoading":false}},"DatetimePickerProperty":{"setProto":{"actionId":"","placeHolder":"","placeHolderI18nKey":"","initialDatetime":"","confirm":null,"disable":false,"isLoading":false}},"PropertySet":{"setProto":{"paragraph":null,"figure":null,"text":null,"italic":null,"bold":null,"underline":null,"anchor":null,"at":null,"image":null,"emotion":null,"button":null,"select":null,"progress":null,"div":null,"textableArea":null,"time":null,"link":null,"media":null,"selectMenu":null,"overflowMenu":null,"datePicker":null,"docs":null,"h1":null,"h2":null,"h3":null,"ul":null,"ol":null,"li":null,"quote":null,"code":null,"codeBlock":null,"hr":null,"timePicker":null,"datetimePicker":null,"reaction":null,"unknown":null}},"ULProperty":{"setProto":{"type":0}},"OLProperty":{"setProto":{"type":0,"start":0}},"CodeBlockProperty":{"Style":{"setProto":{"type":0,"name":"","value":""}},"StyleRef":{"base":{"styleIds":[]},"setProto":{"location":0,"length":0}},"base":{"styleRefs":[],"styles":[]},"setProto":{"language":0,"content":""}},"base":{"style":{},"property":{},"childIds":[],"styleKeys":[],"wideStyle":{}},"setProto":{"tag":0}},"Icon":{"setProto":{"type":0,"value":""}},"EmailSystemEvent":{"base":{"to":[],"cc":[]},"setProto":{"operatorId":""}},"Channel":{"setProto":{"id":"","type":0}},"Chat":{"Announcement":{"setProto":{"content":"","updateTime":0,"lastEditorId":"","docUrl":"","enableOpenDoc":false}},"base":{"sidebarButtons":[],"avatarUrls":[],"tags":[]},"setProto":{"id":"","type":0,"name":"","lastMessageId":"","lastMessagePosition":0,"newMessageCount":0,"updateTime":0,"avatarKey":"","chatterId":"","createTime":0,"description":"","avatar":null,"ownerId":"","chatterCount":0,"userCount":0,"isDepartment":false,"isPublic":false,"isArchived":false,"isDeleted":false,"isRemind":false,"namePinyin":"","role":0,"isCustomerService":false,"textDraftId":"","postDraftId":"","noBadgedNewMessageCount":0,"isShortcut":false,"announcement":null,"offEditGroupChatInfo":false,"tenantId":"","isCustomIcon":false,"isDissolved":false,"messagePosition":0,"feedType":0,"lastVisibleMessageId":"","burnLife":0,"isCrypto":false,"isMeeting":false,"isCrossTenant":false,"isSupportView":false,"firstMessagePosition":0,"oncallId":"","lastVisibleMessagePosition":0,"readPosition":0,"readPositionBadgeCount":0,"lastMessagePositionBadgeCount":0,"isPublicV2":false,"allowPost":false,"postType":0,"chatMode":0,"lastThreadId":"","lastThreadPosition":0,"newThreadCount":0,"noBadgedNewThreadCount":0,"lastThreadPositionBadgeCount":0,"readThreadPosition":0,"readThreadPositionBadgeCount":0,"lastVisibleThreadPosition":0,"lastVisibleThreadId":"","showNickname":false,"lastDraftId":"","lastReadPosition":0,"lastReadOffset":0,"addMemberPermission":0,"atAllPermission":0,"joinMessageVisible":0,"quitMessageVisible":0,"shareCardPermission":0,"addMemberApply":0,"putChatterApplyCount":0,"showBanner":false,"miniAvatarKey":"","sidebarId":"","chatable":false,"muteable":false,"isTenant":false,"isInBox":false,"boxId":"","isAutoTranslate":false,"hasWaterMark":false,"avatarPath":"","firstChatMessagePosition":0,"isOfficialOncall":false,"isOfflineOncall":false}},"Content":{"SystemMessageAction":{"InviteAtChatters":{"setProto":{"atChatterIds":0}},"Url":{"setProto":{"ios":"","android":"","pc":"","web":"","common":""}},"base":{"payload":[]},"setProto":{"type":0,"typeNum":0}},"ContentValue":{"base":{"ids":[]},"setProto":{"id":"","type":0,"text":"","link":"","action":null}},"SystemContentValue":{"ContentValue":{"setProto":{"value":"","id":"","link":"","type":0,"actionType":0}},"base":{"contentValues":[]},"setProto":{"type":0}},"StickerInfo":{"setProto":{"title":"","description":"","isPaid":false}},"ShareUserCardInfo":{"base":{"internationalName":{}},"setProto":{"chatterId":"","avatarImage":null,"name":"","enUsName":""}},"base":{"values":{},"contentValues":{},"systemContentValues":{},"attachments":[],"previewUrls":[],"textUrlContents":[],"resourceUrls":[]},"setProto":{"title":"","text":"","image":null,"key":"","name":"","size":0,"mime":"","template":"","duration":0,"deprecated":0,"systemType":0,"event":null,"systemTypeValue":0,"i18nTitleKey":"","voice2text":"","hideVoice2text":false,"originSenderId":0,"localUploadId":"","originTosKey":"","originSenderName":"","isFriend":false,"originSenderIdStr":"","isAudioRecognizeFinish":false,"audio2textStartTime":0,"isAudioWithText":false,"isGroupAnnouncement":false,"docEntity":null,"filePath":"","fileSource":0,"namespace":"","isInMyNutStore":false,"cacheFilePath":"","shareChatId":"","joinToken":"","expireTime":0,"shareChatLastState":0,"width":0,"height":0,"cryptoToken":"","mergeForwardContent":null,"richText":null,"calendarContent":null,"shareCalendarEventContent":null,"generalCalendarContent":null,"cardContent":null,"locationContent":null,"e2eeFromId":"","e2eeToId":"","triggerId":"","vcFromId":"","vcToId":"","vcDurationTime":"","vcMeetingId":"","vcPasscode":"","vcFeedbackStatus":"","vcFromFeedbackStatus":"","vcToFeedbackStatus":"","isVoiceCall":false,"mediaContent":null,"hongbaoContent":null,"hongbaoSystemContent":null,"videochatContent":null,"fsUnit":"","stickerInfo":null,"stickerId":"","stickerSetId":"","shareUserCardInfo":null,"shareChatterId":"","abbreviation":null}},"File":{"Extra":{"setProto":{"thumbnail":null}},"setProto":{"key":"","name":"","size":0,"mime":"","path":"","extra":null}},"WorkStatus":{"setProto":{"status":0,"description":"","startTime":0,"endTime":0}},"Thread":{"base":{"lastReplyIds":[]},"setProto":{"id":"","channel":0,"topic":"","position":0,"rootMessageId":"","lastMessageId":"","lastMessagePosition":0,"newMessageCount":0,"noBadgedNewMessageCount":0,"updateTime":0,"replyCount":0,"isParticipant":false,"ownerId":"","lastMessagePositionBadgeCount":0,"readPosition":0,"readPositionBadgeCount":0,"lastVisibleMessagePosition":0,"lastVisibleMessageId":"","badgeCount":0,"isVisible":false,"isBadged":false,"subtitle":"","isNoTraceDeleted":false,"originBadgeCount":0,"isFollow":false,"followStatus":0,"feedType":0,"avatarKey":"","avatarPath":"","stateInfo":null}},"Oncall":{"base":{"tags":[]},"setProto":{"id":"","name":"","description":"","avatar":null,"chatId":"","avatarKey":"","phoneNumber":"","reportLocation":false,"avatarPath":""}},"CardContent":{"CardHeader":{"base":{"style":{}},"setProto":{"title":"","titleI18nKey":""}},"ExtraInfo":{"setProto":{"gadgetConfig":null,"customConfig":null}},"GadgetConfig":{"setProto":{"isPreload":false}},"CustomConfig":{"setProto":{"analyticsData":""}},"base":{"richtext":{},"actions":{}},"setProto":{"type":0,"extra":0,"cardVersion":0,"cardHeader":null,"wideScreenMode":false,"extraInfo":null}},"Notice":{"Extra":{"base":{"imageUrls":[]},"setProto":{"rootId":"","urgentId":"","chatId":"","chatType":0,"fromChatterId":"","channel":null,"chatMode":0,"threadId":"","isCrypto":false,"avatarKey":"","newMessageCount":0,"recallerId":"","meRead":false,"threadMessagePosition":0,"channelThreadPosition":0,"isFollowed":false,"avatarPath":"","docImageReplyBody":"","labelId":"","appId":"","androidSchema":"","iosSchema":"","pcSchema":"","lastNotificationSeqId":"","openAppChatFeedId":""}},"setProto":{"messageId":"","state":0,"content":"","title":"","type":0,"key":"","extra":null,"createTime":0,"position":0,"shouldNotify":false,"subTitle":""}},"Draft":{"setProto":{"id":"","chatId":"","messageId":"","content":"","type":0}},"GeneralCalendarContent":{"base":{"messageChatters":{}},"setProto":{"calendarType":0,"eventCard":null,"rsvpCommentCardInfo":null}},"EventCardTemplate":{"base":{"meetingRooms":[],"attendeeChatterIds":[],"chatIds":[],"individualChatterIds":[],"isMeetingRoomsDisabled":[],"chatNames":{}},"setProto":{"summary":"","senderId":"","isOptional":false,"startTime":0,"endTime":0,"rrule":"","isAllDay":false,"version":0,"startTimezone":"","endTimezone":"","id":"","type":0,"key":"","originalTime":0,"calendarId":"","selfAttendeeStatus":0,"attendeeCount":0,"location":"","description":"","eventType":0,"isCrossTenant":false,"conflictType":0,"conflictTime":0}},"ShareCalendarEventContent":{"setProto":{"oldVersionCalendarEvent":0,"attendeesCount":0,"isJoined":false,"isSharable":false,"conflictType":0,"conflictTime":0,"calendarEvent":null,"selfAttendeeStatus":0,"currentUserCalId":""}},"CalendarContent":{"base":{"messageChatters":{}},"setProto":{"payload":"","cardTitle":"","startTime":0,"endTime":0,"startTimezone":"","endTimezone":"","isAllDay":false,"rrule":"","calendarCard":null,"eventCard":null,"messageType":0,"messageVersion":0}},"CalendarEventMessageCard":{"EventCardInfoForDiff":{"base":{"meetingRooms":[],"isMeetingRoomsDisabled":[]},"setProto":{"startTime":0,"endTime":0,"rrule":"","isAllDay":false,"description":"","location":""}},"base":{"meetingRooms":[],"attendeeUserIds":[],"chatNames":{},"isMeetingRoomsDisabled":[]},"setProto":{"eventId":"","senderUserId":"","summary":"","isAllDay":false,"startTime":0,"startTimezone":"","endTime":0,"endTimezone":"","rrule":"","location":"","conflictType":0,"selfAttendeeStatus":0,"attendeeCount":0,"isOptional":false,"calendarId":"","eventKey":"","originalTime":0,"description":"","conflictTime":0,"eventType":0,"isCrossTenant":false,"version":0,"descRichText":null,"userInviteOperatorId":"","showReplyInviterEntry":false,"cardStatus":0,"cardInfoForDiff":null}},"CardMessageActionResult":{"setProto":{"messageId":"","type":0,"packedMsg":null,"button":null,"errorMsg":"","errorCode":0,"cardVersion":0}},"CardAction":{"Url":{"setProto":{"url":"","iosUrl":"","androidUrl":"","pcUrl":""}},"RequiredParameters":{"setProto":{"needUserInfo":false,"needMessageInfo":false,"needUserId":false,"needMessageId":false}},"UserInfo":{"setProto":{"userOpenId":""}},"MessageInfo":{"setProto":{"messageOpenId":""}},"Parameters":{"base":{"parameters":{}},"setProto":{"userInfo":null,"messageInfo":null,"userId":"","messageId":""}},"setProto":{"url":"","method":0,"requiredParameters":null,"parameters":null,"cmd":0,"packet":null,"openUrl":null}},"QuasiMessage":{"base":{"unreadChatterIds":[]},"setProto":{"cid":"","chatId":"","rootId":"","type":0,"shouldNotify":false,"position":0,"content":0,"parentId":"","parentSourceId":"","rootSourceId":"","id":"","fromId":"","createTime":0,"unreadCount":0,"readCount":0,"imageCompressedSizeKb":0,"status":0,"version":0,"channel":null,"threadId":"","threadPosition":0}},"TextUrlContent":{"setProto":{"type":0,"text":"","sequenceId":0,"url":"","title":"","summary":"","icon":null,"isHidden":false}},"HongbaoSystemContent":{"base":{"wallet":{}},"setProto":{"hongbaoId":"","messageId":""}},"MergeForwardContent":{"ChatterInfo":{"setProto":{"id":"","name":"","avatar":null,"type":0,"avatarKey":"","avatarPath":""}},"OptionPutInfo":{"setProto":{"mergeType":0,"threadId":"","limited":false}},"base":{"messages":[],"chatters":{}},"setProto":{"chatType":0,"groupChatName":"","p2pCreatorName":"","p2pPartnerName":"","quasiTitle":"","putInfo":null}},"MediaContent":{"setProto":{"key":"","name":"","size":0,"mime":"","source":0,"image":null,"duration":0,"url":"","compressPath":"","originPath":""}},"PreviewUrlContent":{"setProto":{"sequenceId":0,"url":"","offset":0,"count":0,"title":"","summary":"","icon":null,"isHidden":false,"hasPreview":false,"coverImage":null,"videoInfo":null}},"CardActionPacket":{"base":{"payload":[]},"setProto":{"cid":"","parameters":null}},"Device":{"setProto":{"id":"","name":"","os":"","terminal":0,"loginTime":0,"isCurrentDevice":false,"model":"","isOnline":false,"renewalTime":0}}},"feed":{"SetFeedCardsIntoBoxResponse":{"setProto":{"feedCardId":""}},"CardPair":{"setProto":{"id":"","type":0}},"Shortcut":{"setProto":{"channel":0,"position":0}},"PushShortcutsResponse":{"base":{"shortcuts":[],"previews":{}},"setProto":{"entity":null}},"FeedCardPreview":{"DraftPreview":{"setProto":{"content":""}},"AtInfo":{"base":{"avatarUrls":[]},"setProto":{"type":0,"userId":"","localizedUserName":"","channelId":"","channelName":"","avatarKey":"","avatarPath":""}},"OpenAppCard":{"setProto":{"openAppType":0,"appId":"","chatId":"","openAppTag":"","appNotificationSchema":"","lastNotificationSeqId":"","tagType":0,"appBadge":0,"chatBadge":0}},"base":{"pair":{},"atInfos":[],"reactions":[],"avatarUrls":[],"urgents":[],"tags":[]},"setProto":{"avatarKey":"","name":"","unreadCount":0,"isRemind":false,"updateTime":0,"isShortcut":false,"feedType":0,"draftPreview":null,"atInfo":null,"localizedDigestMessage":"","entityStatus":0,"displayTime":0,"rankTime":0,"parentCardId":"","crossTenant":false,"avatarPath":"","doNotDisturbEndTime":0,"imprId":"","scene":"","isNewBox":false,"miniAvatarKey":"","originalDigestMessage":"","chatType":0,"chatterType":0,"chatterId":"","isCrypto":false,"chatMode":0,"isMeeting":false,"withBotTag":"","lastMessagePosition":0,"isDepartment":false,"tenantChat":false,"chatDescription":"","isDelayed":false,"isSupportView":false,"oncallId":"","lastMessageType":0,"systemMessageType":0,"cardType":0,"isPublicV2":false,"isMember":false,"lastVisibleMessageId":"","chatMuteable":false,"chatRole":0,"icon":null,"chatId":"","docType":0,"docUrl":"","docMessageType":0,"lastDocMessageId":"","videoChatType":0,"isVoiceCall":false,"appId":"","androidSchema":"","iosSchema":"","pcSchema":"","lastNotificationSeqId":"","openAppCard":null,"isOfficialOncall":false,"isOfflineOncall":false}},"GetFeedCardsV2Response":{"base":{"previews":[],"continuousCursors":[]},"setProto":{"nextCursor":0,"syncingFinish":false}},"Cursor":{"setProto":{"maxCursor":0,"minCursor":0}},"PeakFeedCardResponse":{"setProto":{"feedCard":null}},"GetShortcutsResponse":{"base":{"shortcuts":[],"previews":{}},"setProto":{"entity":null}},"GetNextUnreadFeedCardsRangeV2Response":{"base":{"previews":[],"continuousCursors":[]},"setProto":{"nextChannelId":"","nextCursor":0}},"PushInboxCardsResponse":{"base":{"updatePreviews":{},"removePreviews":[]},"setProto":{"unreadCount":0,"hasUnreadDot":false,"filteredUnreadCount":0,"delayedChannelCount":0,"muteUnreadCount":0,"filteredMuteUnreadCount":0,"newBoxCount":0}},"GetActivityBannerResponse":{"setProto":{"activitySummary":false,"activitySummaryUrl":""}},"DeleteShortcutsRequest":{"base":{"shortcuts":[]}}},"contact":{"GetUserProfileResponse":{"Leader":{"setProto":{"id":"","name":"","enName":"","profileUrl":"","localizedName":""}},"Company":{"Position":{"setProto":{"name":""}},"OrgUnit":{"setProto":{"name":""}},"DepartmentMeta":{"setProto":{"id":"","name":""}},"DepartmentList":{"base":{"deptMetas":[]}},"setProto":{"departmentName":"","tenantName":"","position":null,"orgUnit":null,"departments":null}},"Personal":{"ProfileField":{"base":{"i18nNames":{}},"setProto":{"key":"","visible":false,"fieldType":0,"defaultLocale":"","i18nFieldName":"","fieldValueType":0}},"ProfileValue":{"FieldValue":{"setProto":{"TEXT":"","URL":""}},"base":{"customFieldValues":{},"profileFieldsOrder":[],"customFieldValuesV2":{}},"setProto":{"genderEnum":0}},"setProto":{"name":"","description":"","email":"","gender":"","malaitaProfileUrl":"","descriptionType":0,"city":"","employeeId":"","enName":"","isFriend":false,"requestUserApply":false,"targetUserApply":false,"contactToken":"","contactApplicationId":"","applicationReason":"","userId":"","tenantId":"","avatarKey":"","isResigned":false,"localizedName":"","alias":"","microappProfileUrl":"","profileValue":null,"avatarPath":""}},"AdminInfo":{"setProto":{"isAdmin":false,"adminUrl":"","isTopicGroupAdmin":false}},"setProto":{"company":null,"personal":0,"leader":null,"adminInfo":null,"workStatus":null,"accessInfo":null,"doNotDisturbEndTime":0}},"ChatInfo":{"setProto":{"userPerm":0,"chat":null,"isMember":false}},"DepartmentStructure":{"base":{"subDepartments":[],"chatters":[],"administrator":[],"superAdministrator":[]},"setProto":{"department":null,"leader":null,"hasMore":false,"chatInfo":null,"hasMoreDepartment":false}},"GetUnfoldDepartmentStructureResponse":{"base":{"departmentStructure":[]},"setProto":{"memberCount":0,"isShowMemberCount":false}},"GetUnfoldDepartmentCombineChatResponse":{"base":{"departmentStructure":[],"inChatChatterIds":[]},"setProto":{"memberCount":0,"isShowMemberCount":false,"extendFields":null}},"GetManagedDepartmentsResponse":{"base":{"departments":[]}},"GetDepartmentStructureResponse":{"setProto":{"departmentStructure":null}},"GetDepartmentCombineChatResponse":{"base":{"inChatChatterIds":[]},"setProto":{"departmentStructure":null,"extendFields":null}},"GetUnfoldDepartmentCombineChatRequest":{"setProto":{"chatId":"","extendParam":null,"offset":0,"count":0,"subDepartmentPaging":false}},"MGetTenantsResponse":{"setProto":{"entity":null}},"InviteInfo":{"setProto":{"statusMessage":"","statusCode":0}},"MGetChattersResponse":{"base":{"entity":{}}},"UpdateChatterResponse":{"setProto":{"message":""}},"GetPhoneQueryQuotaResponse":{"setProto":{"errMessage":"","status":0,"phoneNumber":"","todayCallcount":"","announcement":"","leaderId":"","dailyQuota":0}},"v2":{"GetUserProfileResponse":{"I18nVal":{"base":{"i18nVals":{}},"setProto":{"defaultVal":""}},"UserInfo":{"setProto":{"friendStatus":0,"gender":0,"tenantName":null,"contactToken":"","contactApplicationId":0,"enableAddByContactToken":false,"leaderId":"","strContactApplicationId":"","isBlocked":false,"userId":"","userName":"","tenantId":"","isResigned":false,"doNotDisturbEndTime":0,"workStatus":null,"avatarKey":""}},"CTA":{"base":{"i18nNames":{}},"setProto":{"key":"","enable":false,"ctaType":0,"iconKey":"","link":"","denyReason":0}},"Style":{"setProto":{"maxLines":0,"expandable":false,"color":""}},"Text":{"setProto":{"text":null,"style":null}},"Href":{"setProto":{"title":null,"link":null,"style":null}},"Department":{"DepartmentPath":{"DepartmentNode":{"setProto":{"departmentName":null,"departmentId":""}},"base":{"departmentNodes":[]}},"base":{"departmentPaths":[]}},"PhoneNumber":{"setProto":{"number":"","countryCode":"","rateLimited":false,"isPlain":false}},"Field":{"base":{"i18nNames":{},"fieldVal":[]},"setProto":{"key":"","fieldType":0,"jsonFieldVal":""}},"Permission":{"setProto":{"canFind":false,"canNotFind":false}},"base":{"ctaOrders":[],"fieldOrders":[]},"setProto":{"userInfo":0,"permission":null}}},"GetWantedAtChattersResponse":{"ChatterIds":{"base":{"chatterIds":[],"tags":{}}},"base":{"pairs":{},"entity":{}}},"GetAccountUserListResponse":{"AccountUser":{"TenantSingleProduct":{"setProto":{"tenantSingleProduct":0}},"base":{"tenantSingleProducts":[]},"setProto":{"userId":"","iconUrl":"","description":"","tenantCode":"","userEnv":"","tenantTag":0,"iconKey":"","accountSecurityConfig":null,"isIdp":false,"isFrozen":false,"isActive":false,"userUnit":"","userBrand":""}},"ServiceData":{"setProto":{"passportServiceUrl":"","deviceServiceUrl":"","captchaServiceUrl":"","rootDomain":""}},"PendingUser":{"setProto":{"userName":"","userEnv":"","tenantId":0,"tenantName":"","tenantIconUrl":"","userUnit":"","userBrand":""}},"base":{"entity":{},"accountUsers":[],"envServiceData":{},"pendingUsers":[]}},"PushChannelNickname":{"setProto":{"userId":"","channel":0,"nickname":""}},"UserBriefInfo":{"setProto":{"userId":"","name":"","enName":"","avatarKey":"","tenantId":"","tenantName":"","localizedName":"","alias":"","contactToken":"","avatarPath":""}},"SearchUserByContactPointResponse":{"base":{"users":[],"profiles":[]}},"SendUserInvitationResponse":{"setProto":{"success":false,"user":null,"profile":null}},"GetBotsResponse":{"base":{"bots":[]},"setProto":{"hasMore":false}},"GetChatterMobileResponse":{"setProto":{"mobile":"","noPermission":false}},"GetUserInvitationMessageResponse":{"setProto":{"enableShow":false,"bannerStatus":0}},"SetAdminInvitationResponse":{"base":{"mobile":{},"email":{}},"setProto":{"success":false,"needApproval":false}},"SetBannerBeginTimeResponse":{"setProto":{"success":false}},"GetInvitationLinkResponse":{"setProto":{"success":false,"invitationUrl":"","expiredTimestamp":0,"invitationQrUrl":"","teamCode":"","shareToken":""}}},"media":{"UploadSecureImageResponse":{"setProto":{"token":"","width":0,"height":0}},"GetChatResourcesResponse":{"Resource":{"MediaMeta":{"setProto":{"mediaContent":0,"filePath":""}},"setProto":{"type":0,"image":null,"video":null}},"MessageMeta":{"base":{"resources":[]},"setProto":{"id":"","position":0,"createTime":0,"threadPosition":0,"threadId":""}},"base":{"messages":[]},"setProto":{"messageIndex":0,"hasMoreBefore":false,"hasMoreAfter":false}},"UploadImageResponse":{"setProto":{"localKey":"","imageSet":null}},"PushResourceProgressResponse":{"setProto":{"key":"","progress":0,"link":0,"totalSize":0,"transferredSize":0}}},"im":{"GetContactsResponse":{"base":{"contacts":[]},"setProto":{"entity":null,"hasMore":false}},"GetContactTokenResponse":{"setProto":{"token":"","inviteUrl":"","inviteMsg":"","countryCode":"","canSearchWithToken":false}},"GetChatApplicationBadgeResponse":{"setProto":{"chatBadge":0,"friendBadge":0}},"GetChatApplicationsResponse":{"base":{"applications":[]},"setProto":{"entity":null,"hasMore":false}},"PutActionResponse":{"setProto":{"method":0,"openUrl":null}},"GetChatChattersResponse":{"LetterMap":{"base":{"chatterIds":[]},"setProto":{"letter":""}},"base":{"orderedWeight":{},"entity":{},"letterMaps":[],"nicknames":{},"chatterIds":[],"chatterId2departmentName":{}},"setProto":{"showSearch":false,"memberCount":0,"cursor":""}},"GetChatChattersByIdsResponse":{"base":{"entity":{}}},"GetMentionChatChattersResponse":{"base":{"wantedMentionIds":[],"inChatChatterIds":[],"outChatChatterIds":[],"wantedMentionTags":{}},"setProto":{"entity":null,"showSearch":false}},"CreateChatResponse":{"base":{"entity":{}},"setProto":{"chatId":""}},"GetChatChatterIdsResponse":{"base":{"chatterIds":[]}},"AddChatChattersResponse":{"setProto":{"chatId":"","entity":null,"joinGroupApplicationId":""}},"GetMyGroupChatsResponse":{"base":{"chats":[]},"setProto":{"minTime":0,"hasMore":false,"totalCount":0}},"UpdateChatResponse":{"base":{"entity":{}},"setProto":{"chatId":""}},"CreateP2PChatsResponse":{"base":{"entity":{}}},"GetUnackUrgentsResponse":{"base":{"urgents":[],"entity":{}}},"GetUrgentsAckStatusResponse":{"UrgentStatus":{"base":{"initChatterIds":[],"ackChatterIds":[]}},"PhoneStatus":{"base":{"successChatterIds":[],"failedChatterIds":[]}},"base":{"urgentStatus":{},"phoneStatus":{}}},"CreateUrgentResponse":{"base":{"successChatterIds":[]}},"PushChatApplications":{"base":{"applications":[]},"setProto":{"entity":null}},"PushContact":{"setProto":{"contact":null,"entity":null}},"PushMessageResponse":{"MessageItem":{"setProto":{"itemId":"","itemType":0}},"base":{"messageItems":[],"entity":{}}},"PushChatChattersResponse":{"base":{"orderedWeight":{}},"setProto":{"type":0,"chat":0,"operatorId":"","entity":null}},"PushPinReadStatusResponse":{"setProto":{"chatId":"","isRead":false}},"GetUserReactionsResponse":{"setProto":{"userReactions":null}},"UserReactions":{"base":{"keys":[]},"setProto":{"version":0}},"GetUsedReactionsResponse":{"base":{"keys":[]}},"GetChatPinMessagesResponse":{"base":{"orderedMessageIds":[],"entity":{}},"setProto":{"hasMore":false,"pinTotalCount":0,"lastReadTime":0}},"GetPinReadStatusResponse":{"setProto":{"hasUnreadPin":false}},"CreateQuasiMessageResponse":{"base":{"entity":{}},"setProto":{"cid":""}},"GetChatMessagesResponse":{"MessageItem":{"setProto":{"itemId":"","itemType":0}},"base":{"messageItems":[],"invalidPositions":[],"missingPositions":[]},"setProto":{"entity":null,"dataComplete":false,"cost":0}},"GetUnreadAtMessagesResponse":{"base":{"entity":{},"orderedMessageIds":[]}},"MGetMessagesResponse":{"base":{"entity":{}}},"GetMessagesByPositionsResponse":{"base":{"entity":{},"invalidPositions":[]}},"GetRepliesResponse":{"base":{"childIds":[],"entity":{},"childQuasiIds":[]},"setProto":{"rootId":""}},"GetMessagesReadStateResponse":{"ReadState":{"base":{"readUserIds":[],"unreadUserIds":[]},"setProto":{"unreadCount":0,"showType":0,"readCount":0}},"base":{"readStates":{}},"setProto":{"entity":null}},"GetDraftsResponse":{"base":{"entity":{}}},"GetAllDraftsResponse":{"base":{"entity":{}}},"CreateDraftResponse":{"setProto":{"draftId":"","draft":null}},"GetMessagesByPositionsRequest":{"base":{"positions":[]},"setProto":{"channel":0}},"GetSystemMessageTemplateResponse":{"LanguageTemplate":{"setProto":{"type":0,"content":""}},"MessageTemplate":{"base":{"languageTemplates":[]}},"base":{"localeTemplates":{}}},"SendMessageResponse":{"setProto":{"messageId":""}},"GetMessageReadStateResponse":{"ReadState":{"base":{"readUserIds":[],"unreadUserIds":[],"mentionUserIds":[]},"setProto":{"unreadCount":0,"readCount":0,"showSearchBox":false,"showLimited":false,"columnCount":0}},"setProto":{"readState":null,"entity":null,"readCursor":"","unreadCursor":""}},"GetUnreadAtMessagesRequest":{"base":{"chatIds":[]},"setProto":{"ignoreBadged":false,"needResponse":false}},"RecallMessageResponse":{"setProto":{"message":"","content":null}}},"statistics":{"GetMobileCodeResponse":{"MobileCode":{"setProto":{"key":0,"name":"","enName":"","code":""}},"base":{"mobileCodes":[],"hotKeys":[]}},"PushHideChannelRequest":{"setProto":{"channel":0,"type":0}}},"onboarding":{"GetProductGuideResponse":{"base":{"guides":{}}},"PushProductGuide":{"base":{"guides":{}}},"GetIceBreakingStatusResponse":{"setProto":{"hasFinished":false,"welcomeIntroduction":"","userTourBotChat":null,"enable_Invite":false,"needChooseTeam":false,"chatId":0,"need_Play":false,"videoUrl":"","coversUrl":"","needAddMember":false,"userGuideChatId":"","userGuideChatType":0,"needSetTrustedMail":false,"mail":"","spotlightStep":null,"jumpStep":null,"source":""}},"SetIceBreakingActionResponse":{"setProto":{"userTourBotChat":null}},"GetTrustedMailInfoResponse":{"setProto":{"needSet":false,"mail":""}},"PutTrustedMailResponse":{"setProto":{"isSuccess":false,"statusCode":0,"statusMessage":""}},"PutUpdateTenantPackageResponse":{"setProto":{"isSuccess":false,"errMsg":"","statusCode":0}},"IceBreakingStep":{"setProto":{"stepType":0,"serializedParams":""}}},"settings":{"GetSettingsResponse":{"base":{"fieldGroups":{}}},"GetUserSecurityConfigResponse":{"setProto":{"hasWaterMark":false}}},"tool":{"GetFullFeatureGatingConfigResponse":{"base":{"features":{},"values":{}}}},"calendar":{"CalendarEventReminder":{"setProto":{"calendarEventId":"","minutes":0,"method":0}},"Calendar":{"base":{"defaultReminders":[]},"setProto":{"id":"","serverId":"","email":"","userId":"","summary":"","description":"","type":0,"defaultTimezone":"","defaultAccessRole":0,"dirtyType":0,"foregroundColor":0,"backgroundColor":0,"weight":0,"isDefault":false,"isSynced":false,"isVisible":false,"isPrimary":false,"isPublic":false,"isSubscriber":false,"createTime":0,"updateTime":0,"selfAccessRole":0,"selfStatus":0,"calColor":null,"source":0,"localizedSummary":"","note":"","owner":null,"resourceCapacity":0,"isAllStaff":false,"isActive":false,"isDisabled":false,"externalAccountEmail":"","workHourSetting":null,"isLoading":false,"visibilityProperty":0,"timezone":"","calendarEventSchema":null,"calendarSchema":null,"schemaExtraData":null}},"GetRemoteUserPrimaryCalendarResponse":{"setProto":{"calendar":null}},"ReplyCalendarEventInvitationResponse":{"setProto":{"isSuccess":false,"chatId":""}},"JoinCalendarEventResponse":{"setProto":{"calendarEvent":null}},"GetCalendarEventInfoResponse":{"setProto":{"calendarEvent":null}},"GetEventResponse":{"setProto":{"event":null}},"CalendarEventAttendee":{"User":{"setProto":{"userId":"","tenantId":"","tags":"","timezoneId":""}},"Group":{"base":{"members":[]},"setProto":{"groupId":"","tenantId":"","isCrossTenant":false,"openSecurity":false,"showMemberLimit":0}},"Resource":{"setProto":{"tenantId":"","isDisabled":false,"resourceStatus":0}},"ThirdPartyUser":{"setProto":{"email":""}},"setProto":{"id":"","key":"","originalTime":0,"displayName":"","attendeeCalendarId":"","isOrganizer":false,"isOptional":false,"status":0,"additionalGuestsCount":0,"isEditable":false,"inviterCalendarId":"","avatarKey":"","category":0,"avatarPath":"","attendeeSchema":null,"schemaExtraData":null,"user":null,"group":null,"resource":null,"thirdPartyUser":null}},"CalendarEvent":{"base":{"attendees":[],"reminders":[],"attachments":[]},"setProto":{"id":"","creatorCalendarId":"","calendarId":"","organizerCalendarId":"","serverId":"","selfAttendeeStatus":0,"key":"","originalTime":0,"originalEventKey":"","originalIsAllDay":false,"isFree":false,"lastDate":0,"createTime":0,"updateTime":0,"color":0,"source":0,"visibility":0,"importance":0,"dirtyType":0,"version":0,"needUpdate":false,"summary":"","description":"","isAllDay":false,"startTime":0,"startTimezone":"","endTime":0,"endTimezone":"","status":0,"rrule":"","guestCanInvite":false,"guestCanSeeOtherGuests":false,"guestCanModify":false,"audioUrl":"","url":"","location":null,"hasAlarm":false,"hasAttendee":false,"isScheduled":false,"creator":null,"organizer":null,"displayType":0,"eventColor":null,"calColor":null,"conflictType":0,"type":0,"meetingId":"","isEditable":false,"isDeletable":0,"sharability":0,"docsDescription":"","successorCalendarId":"","successor":null,"notificationType":0,"isCrossTenant":false,"willCreatorAttend":false,"willOrganizerAttend":false,"willSuccessorAttend":false,"videoMeeting":null,"meetingMinuteUrl":"","userInviteOperatorId":"","calendarEventDisplayInfo":null,"userInviteOperator":null,"attendeeSource":0,"schema":null}},"CalendarLocation":{"setProto":{"location":"","address":"","latitude":0,"longitude":0}},"VideoMeeting":{"setProto":{"uniqueId":"","meetingNumber":"","isExpired":false,"meetingUrl":"","videoMeetingType":0}}},"space":{"doc":{"MGetDocFeedsResponse":{"setProto":{"entity":null}},"CreateDocResponse":{"setProto":{"url":"","code":0,"msg":""}},"GetDocByURLsResponse":{"base":{"docs":{},"invalidUrls":[],"noPermUrls":[]}}}},"search":{"SetSearchInfoHistoryResponse":{"setProto":{"id":""}},"IntegrationSearchRequest":{"FilterParam":{"base":{"chatIds":[],"emailIds":[],"messageCreatorIds":[],"docCreatorIds":[],"docTypes":[],"threadIds":[],"modifiers":[],"messageToIds":[],"messageTags":[],"chatterFilterParams":[]},"setProto":{"messageStartTime":0,"messageEndTime":0,"needSearchOuterTenant":false,"lastCreateTime":0,"lastMessageId":"","count":0,"reverse":false,"docCreatorId":"","docType":0,"timeRange":0,"doNotSearchResignedUser":false,"isReadMessageId":"","externalId":"","chatFilterParam":null,"calendarFilterParam":null}}},"SearchHistoryInfo":{"MessageSubSource":{"setProto":{"type":0}},"ExternalSubSource":{"setProto":{"type":0}},"base":{"externalIds":[]},"setProto":{"query":"","filterParam":null,"id":"","source":0,"mainSubSource":null,"messageSubSource":null,"spaceSubSource":null,"externalSubSource":null}},"GetSearchInfosHistoryResponse":{"base":{"historyInfos":[]}},"SearchResult":{"base":{"titleHitTerms":[],"subtitleHitTerms":[],"avatarUrls":[],"tags":[]},"setProto":{"id":"","type":0,"imageUrl":"","imageKey":"","title":"","subtitle":"","avatarKey":"","avatarPath":"","icon":null}},"SearchChatterMeta":{"SubTitleInfo":{"base":{"hitTerms":[]},"setProto":{"title":""}},"base":{"inChatIds":[],"extraHitTerms":[],"subtitleInfos":[],"deniedPermissions":[],"tags":[],"deniedReason":{}},"setProto":{"id":"","type":0,"description":"","descriptionFlag":0,"isRegistered":false,"p2pChatId":"","newMessageCount":0,"noBadgedNewMessageCount":0,"isRemind":false,"withBotTag":"","inContacts":false,"canJoinGroup":false,"tenantId":"","workStatus":null,"readPosition":0,"readPositionBadgeCount":0,"lastMessagePosition":0,"lastMessagePositionBadgeCount":0,"mailAddress":"","doNotDisturbEndTime":0,"isReadMessage":false,"acceptSmsPhoneUrgent":false,"extraTitle":"","fullDepartmentPath":"","timezone":null,"atInfo":null}},"SearchOncallMeta":{"base":{"tagIds":[],"tags":[]},"setProto":{"id":"","localizedName":"","description":"","botId":"","chatId":"","isOfficialOncall":false}},"SearchChatMeta":{"base":{"tags":[]},"setProto":{"id":"","type":0,"memberCount":0,"userCount":0,"newMessageCount":0,"noBadgedNewMessageCount":0,"isRemind":false,"chatMode":0,"isDepartment":false,"isTenant":false,"isDelayed":false,"isCrossTenant":false,"oncallId":"","readPosition":0,"readPositionBadgeCount":0,"lastMessagePosition":0,"lastMessagePositionBadgeCount":0,"isCrypto":false,"isPublicV2":false,"isMember":false,"allowPost":false,"lastThreadPosition":0,"readThreadPosition":0,"readThreadPositionBadgeCount":0,"lastThreadPositionBadgeCount":0,"description":"","isMeeting":false,"isOfficialOncall":false,"atInfo":null}},"SearchMessageMeta":{"DocExtraInfo":{"setProto":{"type":0,"url":"","name":""}},"base":{"docExtraInfos":[]},"setProto":{"id":"","type":0,"updateTime":0,"position":0,"chatId":"","channelId":"","fileMeta":null,"fromId":"","isInMyNutStore":false,"fromName":"","threadPosition":0,"threadChatPosition":0,"threadId":"","fromAvatarKey":"","p2pBotId":""}},"SearchOpenAppMeta":{"BotAbility":{"setProto":{"botId":""}},"H5Ability":{"setProto":{"url":""}},"MicroAppAbility":{"setProto":{"url":""}},"OpenAppAbility":{"setProto":{"bot":null,"h5":null,"microApp":null}},"base":{"abilities":[],"tags":[]},"setProto":{"id":"","localizedName":"","state":0,"appId":"","newMessageCount":0,"notificationType":0}},"IntegrationSearchResponse":{"base":{"results":[],"chatters":{},"chats":{},"messages":{},"docs":{},"emails":{},"threads":{},"boxs":{},"oncalls":{},"cryptoP2pChats":{},"openApps":{},"links":{},"externals":{},"wikis":{},"mails":{},"departments":{},"docFeeds":{}},"setProto":{"total":0,"hasMore":false,"messageCount":"","imprId":"","extras":""}},"MultiIntegrationSearchResponse":{"base":{"responses":[]}},"GetSearchHistoryEntityResponse":{"FieldMeta":{"setProto":{"id":"","displayName":"","avatarKey":""}},"base":{"pairs":[],"chatterList":[],"chatList":[]},"setProto":{"entity":null}},"SearchDocMeta":{"base":{"tags":[]},"setProto":{"id":"","type":0,"updateTime":0,"url":"","ownerName":"","ownerId":"","messageId":"","position":0,"isCrossTenant":false,"createTime":0,"lastOpenTime":0,"editUserId":"","editUserName":"","strType":"","chatId":"","threadId":"","threadPosition":0,"threadChatPosition":0}}},"helpdesk":{"GetOncallsResponse":{"base":{"oncalls":[]},"setProto":{"hasMore":false}},"CreateOncallChatResponse":{"setProto":{"chatId":"","entity":null}}},"device":{"PushDeviceOnlineStatusResponse":{"setProto":{"device":null}},"SetDeviceSettingResponse":{"setProto":{"localeIdentifier":""}},"GetPhoneNumberInfoResponse":{"setProto":{"international":0,"national":0}}}}')},,function(e,t,i){"use strict";e.exports={At_EveryOne:"所有人",Bot_Calendar_Event_Cancelled:"取消了日程 “{{{event_summary}}}”",Bot_Calendar_Event_Invitation:"邀请你加入日程 “{{{event_summary}}}”",Bot_Calendar_Event_Reschedule:"更新了日程 “{{{event_summary}}}” 的时间",Bot_Calendar_Event_Update_Description:"更新了日程 “{{{event_summary}}}” 的描述",Bot_Calendar_Event_Update_Location:"更新了日程 “{{{event_summary}}}” 的地点",Box_new_message_more_than_one_hit:"{{{count}}}个会话有新消息",Box_no_new_message_hit:"[{{{chat_name}}}] {{{message}}}",Box_one_new_message_hit:"{{{chat_name}}} 有新消息",Calendar_Event_Expired:"[日程邀请](此分享已失效)",Calendar_Event_Invitation:"[日程邀请]{{{title}}}",Calendar_Event_No_Summary:"[日程邀请](无主题)",Calendar_Push_EventName:"[日程]{{{title}}}",Calendar_Push_EventNoName:"[日程](无主题)",Calendar_Transfer_Feed:"[日程转让]{{{title}}}",Calendar_Transfer_FeedNoTitle:"[日程转让] (无主题)",Calendar_Transfer_SuccessTransferBot:"{{{name}}}已将此日程转让给你",Docs_Comment_Reaction:"{{{from_user}}}回应了评论 |  {{{content}}}",Done:"完成",Invited_To_VirtualOffice:"邀请你加入线上办公室",Lark_Chat_DeleteTopicTip:"{{chat_identity}} {{from_user}} 删除了一个话题",Lark_Chat_Identity_Admin:"系统管理员",Lark_Chat_Identity_Owner:"群主",Lark_Chat_LocalTime:"{{{name}}}的当地时间为{{{time}}}",Lark_Chat_ReplyRecallTip:"{{chat_identity}} {{from_user}} 撤回了一条回复",Lark_Chat_TopicFilterFollowed:"订阅",Lark_Doc_Title_Symbol:"「{{{doc_title}}}」",Lark_Doc_Unsent_Comment:"[未发送评论]: {{{draft}}}",Lark_Emoji_18x_0:"18禁",Lark_Emoji_Angry_0:"发怒",Lark_Emoji_Applaud_0:"鼓掌",Lark_Emoji_Attention_0:"来看我",Lark_Emoji_Awesome_0:"666",Lark_Emoji_Bear_0:"熊吉",Lark_Emoji_Beer_0:"啤酒",Lark_Emoji_Betrayed_0:"绿帽子",Lark_Emoji_BigKiss_0:"如花",Lark_Emoji_BlackFace_0:"黑脸",Lark_Emoji_Blubber_0:"快哭了",Lark_Emoji_Blush_0:"脸红",Lark_Emoji_Bomb_0:"炸弹",Lark_Emoji_Cake_0:"蛋糕",Lark_Emoji_Chuckle_0:"偷笑",Lark_Emoji_Clap_0:"小鼓掌",Lark_Emoji_Cleaver_0:"刀",Lark_Emoji_Comfort_0:"摸头",Lark_Emoji_Crazy_0:"抓狂",Lark_Emoji_Cry_0:"泣不成声",Lark_Emoji_Cucumber_0:"胡瓜",Lark_Emoji_Detergent_0:"去污粉",Lark_Emoji_Dizzy_0:"晕",Lark_Emoji_DonnotGo_0:"紫薇别走",Lark_Emoji_Drool_0:"爱慕",Lark_Emoji_Drowsy_0:"困",Lark_Emoji_DullStare_0:"凝视",Lark_Emoji_Dull_0:"呆无辜",Lark_Emoji_Eating_0:"吃瓜群众",Lark_Emoji_Embarrassed_0:"尬笑",Lark_Emoji_Enough_0:"我想静静",Lark_Emoji_Errr_0:"黑线",Lark_Emoji_EyesClosed_0:"不看",Lark_Emoji_Facepalm_0:"捂脸",Lark_Emoji_Fighting_0:"加油",Lark_Emoji_FingerHeart_0:"比心",Lark_Emoji_FistBump_0:"碰拳",Lark_Emoji_FollowMe_0:"互粉",Lark_Emoji_Frown_0:"皱眉",Lark_Emoji_Gift_0:"礼物",Lark_Emoji_Glance_0:"看",Lark_Emoji_GoodJob_0:"给力",Lark_Emoji_Grin_0:"呲牙",Lark_Emoji_Hammer_0:"敲打",Lark_Emoji_Headset_0:"听歌",Lark_Emoji_HeartBroken_0:"伤心",Lark_Emoji_Heart_0:"爱心",Lark_Emoji_HighFive_0:"击掌",Lark_Emoji_Hug_0:"求抱抱",Lark_Emoji_Husky_0:"翻白眼",Lark_Emoji_InnocentSmile_0:"无辜笑",Lark_Emoji_Joyful_0:"笑",Lark_Emoji_Kiss_0:"吻",Lark_Emoji_Laugh_0:"大笑",Lark_Emoji_Lips_0:"kiss",Lark_Emoji_Lol_0:"笑哭",Lark_Emoji_LookDown_0:"鄙视",Lark_Emoji_Love_0:"送心",Lark_Emoji_Money_0:"钱",Lark_Emoji_NosePick_0:"抠鼻",Lark_Emoji_OK_0:"OK",Lark_Emoji_Obsessed_0:"舔屏",Lark_Emoji_Party_0:"撒花",Lark_Emoji_Petrified_0:"石化",Lark_Emoji_Poop_0:"屎",Lark_Emoji_Praise_0:"强",Lark_Emoji_Proud_0:"得意",Lark_Emoji_Puke_0:"吐",Lark_Emoji_RainbowPuke_0:"吐彩虹",Lark_Emoji_Rose_0:"玫瑰",Lark_Emoji_Scowl_0:"惊呆",Lark_Emoji_Shake_0:"握手",Lark_Emoji_Shhh_0:"嘘",Lark_Emoji_Shocked_0:"震惊",Lark_Emoji_ShowOff_0:"酷",Lark_Emoji_Shy_0:"害羞",Lark_Emoji_Sick_0:"雾霾",Lark_Emoji_Silent_0:"闭嘴",Lark_Emoji_Skull_0:"骷髅",Lark_Emoji_Slap_0:"打脸",Lark_Emoji_Sleep_0:"鼾睡",Lark_Emoji_Slight_0:"白眼",Lark_Emoji_Smart_0:"机智",Lark_Emoji_Smile_0:"微笑",Lark_Emoji_Smirk_0:"奸笑",Lark_Emoji_Smooch_0:"飞吻",Lark_Emoji_Smug_0:"撇嘴",Lark_Emoji_Sob_0:"流泪",Lark_Emoji_Speechless_0:"擦汗",Lark_Emoji_SpitBlood_0:"吐血",Lark_Emoji_Strive_0:"奋斗",Lark_Emoji_Sweat_0:"汗",Lark_Emoji_Tears_0:"泪奔",Lark_Emoji_Tease_0:"做鬼脸",Lark_Emoji_Terror_0:"恐惧",Lark_Emoji_Thanks_0:"谢谢",Lark_Emoji_Thinking_0:"思考",Lark_Emoji_Thumbsup_0:"赞",Lark_Emoji_Toasted_0:"衰",Lark_Emoji_Tongue_0:"吐舌",Lark_Emoji_Trick_0:"憨笑",Lark_Emoji_UpperLeft_0:"左上",Lark_Emoji_Wail_0:"大哭",Lark_Emoji_Wave_0:"再见",Lark_Emoji_WellDone_0:"V5",Lark_Emoji_What_0:"what",Lark_Emoji_Whimper_0:"可怜",Lark_Emoji_Wink_0:"可爱",Lark_Emoji_Witty_0:"灵光一闪",Lark_Emoji_Wow_0:"惊喜",Lark_Emoji_Wronged_0:"委屈",Lark_Emoji_Yawn_0:"哈欠",Lark_Emoji_Yeah_0:"耶",Lark_Emoji_haughty_0:"酷拽",Lark_Message_Bold:"粗体 (⌘B)",Lark_Message_Bullteted:"无序列表 (⌘+Shift+8)",Lark_Message_Code:"代码 (Ctrl+⌘+C)",Lark_Message_Codeblock:"[代码块]",Lark_Message_CodeblockTool:"代码块 (⌘+Option+C)",Lark_Message_DisableEmoji:"代码块内不支持表情",Lark_Message_DisableImage:"代码块内不支持插入图片",Lark_Message_DisableMention:"代码块内不支持选择成员",Lark_Message_Divider:"分隔线 (⌘+Option+S)",Lark_Message_HeadingOne:"一级标题 (⌘+Option+1)",Lark_Message_HeadingThree:"三级标题 (⌘+Option+3)",Lark_Message_HeadingTwo:"二级标题 (⌘+Option+2)",Lark_Message_Hyperlink:"链接",Lark_Message_Italic:"斜体 (⌘I)",Lark_Message_Numbered:"有序列表 (⌘+Shift+7)",Lark_Message_Reference:"引用 (⌘+Shift+>)",Lark_Message_Strikethrough:"删除线 (⌘+Shift+X)",Lark_Message_Underline:"下划线 (⌘U)",Lark_Secret_Receive_Message:"你收到了一条加密消息",Lark_Secret_Save_Message:"你保存了一条加密消息",Lark_Secret_Send_Message:"你发送了一条加密消息",Lark_Time_AM:"上午{{{time}}}",Lark_Time_PM:"下午{{{time}}}",MembershipRequestPushDescription:"{{{apply_count}}}位用户申请加入{{{group name}}}",MembershipRequestPushDescriptionSingular:"{{{apply_count}}}位用户申请加入{{{group name}}}",MembershipRequestPushTitle:"入群申请",RustSdk_Message_SendMessageTooFrequent:"发送消息太频繁啦，请稍后再试",Salute:"抱拳",ShareUserCard:"[个人名片]{{{name}}}",Start_A_VirtualOffice:"开启了线上办公室",UnknownShort:"收到一条未知类型的消息",Untitled_Mail:"无主题邮件",Video_chat_system_message:"[视频通话] {{{content}}}",View_C_VirtualOfficeCreated:"线上办公室已开启",View_VM_UntitledBase:"未命名数据表格",View_VM_UntitledDocument:"未命名文档",View_VM_UntitledDocumentGoogleDrive:"无标题文档",View_VM_UntitledFile:"未命名文件",View_VM_UntitledFileGoogleDrive:"无标题文件",View_VM_UntitledFolder:"未命名文件夹",View_VM_UntitledMindnote:"未命名思维笔记",View_VM_UntitledPresentationGoogleDrive:"无标题演示文档",View_VM_UntitledSheet:"未命名表格",View_VM_UntitledSlide:"未命名演示文档",View_VM_UntitledSpreadsheetGoogleDrive:"无标题电子表格",VoIP_system_message:"[网络电话] {{{content}}}",at_all:"@所有人",at_you:"@你",audio:"[语音]",buzz_you_have_received_a_message:"[⚡加急⚡]你收到了一条消息",buzz_you_have_received_a_message_in_a_group:"[⚡加急⚡]你收到了一条群消息",card_text:"[卡片消息]",card_video_chat:"发起了一个视频会议",change_email_member_to_cc:"修改{{{cc}}}为邮件抄送人",change_email_member_to_to:"修改{{{to}}}为邮件收件人",chat_administrator:"系统管理员",chat_application:"[你收到一条进群申请，点击查看]",chat_owner:"群主",comma:"，",comma_with_blank:"，",delete_mail:"{{{from_user}}} 删除了一封邮件",delete_message:"你删除了一条消息",deleted_message_content:"此消息已删除",doc_comment:"{{{from_user}}}: {{{content}}}",doc_mention:"{{{from_user}}}提及了你{{{content}}}",doc_reopen:"{{{from_user}}}重新打开了评论: {{{content}}}",doc_reply:"{{{from_user}}}: {{{content}}}",doc_share:"{{{from_user}}}分享文档给你{{{content}}}",doc_solve:"{{{from_user}}}解决了你的评论: {{{content}}}",email_add_cc:"添加{{{cc}}}为邮件抄送人",email_add_to:"添加{{{to}}}为邮件收件人",email_add_to_and_cc_member:"添加{{{to}}}为邮件收件人, 并添加{{{cc}}}为邮件抄送人",email_delete_member:"将{{{member}}}移出邮件参与者列表",email_modify_subject:"修改了邮件主题",file:"[文件]{{{name}}}",forward_card_video_chat:"邀请你加入一个视频会议",friend_application:"[你收到一条联系人申请]",grab_other_hongbao:"你领取了{send_user}的{hongbao}",group_chat_announcement:"群公告",hongbao_subject:"恭喜发财，步步高升",image:"[图片]",includes:"包含",last_hongbao_is_grabbed:"你的{hongbao}已被全部领取",location:"[位置]{{{name}}}",mail_title:"[邮件] {{{subject}}}",media_transcode_fail:"视频压缩失败，将以附件形式发送",merge_forward:"[会话记录]",mobile_hongbao:"[红包] {{{subject}}}",no_title:"无主题",oncall:"值班人",other_grab_my_hongbao:"{recv_user}领取了你的{hongbao}",pc_hongbao_received:"[你收到一个红包，请在手机上查看]",pc_hongbao_sent:"[你发送了一个红包]",reaction_content:"{{{from_user}}}回应: [{{{content}}}]",reaction_type_18x:"18禁",reaction_type_angry:"发怒",reaction_type_applause:"鼓掌",reaction_type_attention:"来看我",reaction_type_awesome:"666",reaction_type_bear:"熊吉",reaction_type_beer:"啤酒",reaction_type_betrayed:"绿帽子",reaction_type_bigkiss:"如花",reaction_type_blackface:"黑脸",reaction_type_blubber:"快哭了",reaction_type_blush:"呲牙",reaction_type_bomb:"炸弹",reaction_type_cake:"蛋糕",reaction_type_chuckle:"偷笑",reaction_type_clap:"小鼓掌",reaction_type_cleaver:"刀",reaction_type_comfort:"摸头",reaction_type_crazy:"抓狂",reaction_type_cry:"泣不成声",reaction_type_cucumber:"胡瓜",reaction_type_detergent:"去污粉",reaction_type_dizzy:"晕",reaction_type_done:"完成",reaction_type_donnotgo:"紫薇别走",reaction_type_drool:"爱慕",reaction_type_drowsy:"困",reaction_type_dull:"呆无辜",reaction_type_dullstare:"凝视",reaction_type_eating:"吃瓜群众",reaction_type_embarrassed:"尬笑",reaction_type_enough:"我想静静",reaction_type_error:"黑线",reaction_type_eyesclosed:"不看",reaction_type_facepalm:"捂脸",reaction_type_fingerheart:"比心",reaction_type_fistbump:"碰拳",reaction_type_followme:"互粉",reaction_type_frown:"皱眉",reaction_type_gift:"礼物",reaction_type_glance:"看",reaction_type_goodjob:"给力",reaction_type_hammer:"敲打",reaction_type_haughty:"酷拽",reaction_type_headset:"听歌",reaction_type_heart:"爱心",reaction_type_heartbroken:"伤心",reaction_type_highfive:"击掌",reaction_type_hug:"求抱抱",reaction_type_husky:"翻白眼",reaction_type_innocentsmile:"无辜笑",reaction_type_jiayi:"+1",reaction_type_joyful:"笑",reaction_type_kiss:"吻",reaction_type_laugh:"大笑",reaction_type_lips:"kiss",reaction_type_lol:"笑哭",reaction_type_lookdown:"鄙视",reaction_type_love:"送心",reaction_type_money:"钱",reaction_type_muscle:"加油",reaction_type_nosepick:"抠鼻",reaction_type_obsessed:"舔屏",reaction_type_ok:"OK",reaction_type_party:"撒花",reaction_type_petrified:"石化",reaction_type_poop:"屎",reaction_type_praise:"强",reaction_type_proud:"得意",reaction_type_puke:"吐",reaction_type_rainbowpuke:"吐彩虹",reaction_type_rose:"玫瑰",reaction_type_salute:"抱拳",reaction_type_scowl:"惊呆",reaction_type_shake:"握手",reaction_type_shhh:"嘘",reaction_type_shocked:"震惊",reaction_type_showoff:"酷",reaction_type_shy:"害羞",reaction_type_sick:"雾霾",reaction_type_silent:"闭嘴",reaction_type_skull:"骷髅",reaction_type_slap:"打脸",reaction_type_sleep:"鼾睡",reaction_type_slight:"白眼",reaction_type_smart:"机智",reaction_type_smile:"微笑",reaction_type_smirk:"奸笑",reaction_type_smooch:"飞吻",reaction_type_smug:"撇嘴",reaction_type_sob:"流泪",reaction_type_speechless:"擦汗",reaction_type_spitblood:"吐血",reaction_type_strive:"奋斗",reaction_type_sweat:"汗",reaction_type_tears:"泪奔",reaction_type_tease:"做鬼脸",reaction_type_terror:"恐惧",reaction_type_thanks:"谢谢",reaction_type_thinking:"思考",reaction_type_thumbs_up:"赞",reaction_type_toasted:"衰",reaction_type_tongue:"吐舌",reaction_type_trick:"憨笑",reaction_type_upperleft:"左上",reaction_type_wail:"大哭",reaction_type_wave:"再见",reaction_type_welldone:"V5",reaction_type_what:"what",reaction_type_whimper:"可怜",reaction_type_wink:"可爱",reaction_type_witty:"灵光一闪",reaction_type_wow:"惊喜",reaction_type_wronged:"委屈",reaction_type_xblush:"脸红",reaction_type_yawn:"哈欠",reaction_type_yeah:"耶",recall_group_message:"此消息已被{{{chat_identity}}}{{{from_user}}}撤回",recall_mail:"{{{from_user}}} 撤回了一封邮件",recall_message:"{{{from_user}}} 撤回了一条消息",replace_image:" [图片] ",send_hongbao_message_failed:"红包发送失败，金额将在1-3个工作日退回余额，可在{wallet}中查看",share_group_chat:"[群名片]{{{name}}}",share_user_card:"[个人名片]{{{name}}}",some_error_occurs:"糟糕...发生了一些错误，请稍后重试",someone_has_read_your_buzz_message:"你发出的加急消息, 对方已经阅读",someone_mentioned_you:"有人@你",someone_mentioned_you_in_a_group:"有人在群聊中@你",someone_reacted_to_your_message:"有人回应了你的消息",someone_reacted_to_your_message_in_a_group:"有人在群聊中回应了你的消息",sticker:"[表情]",this_message_was_recalled:"此消息已撤回",translate_message:"[译]",unknown:"收到一条未知类型的消息，请更新到最新版本",urgent_ack_content:"对方已经查看",urgent_ack_title:"你发给{{{to_user}}}的加急: {{{content}}}",urgent_content_no_flash:"[加急]{{{content}}}",urgent_content_with_flash:"[⚡加急⚡]{{{content}}}",user_oncall_name:"{{{user_name}}}的{{{oncall_name}}}",user_topic:"{{{from_user}}}的话题",video:"[视频]",vote:"[投票消息]",wallet:"钱包",whose_topic:"{{{localized_name}}}的话题",you:"你",you_have_a_message_not_sent:"你有消息未发送",you_have_received_a_group_message:"你收到了一条群消息",you_have_received_a_message:"你收到了一条消息",yourself:"自己"}},function(e,t,i){"use strict";e.exports={At_EveryOne:"All",Bot_Calendar_Event_Cancelled:" cancelled event “{{{event_summary}}}”",Bot_Calendar_Event_Invitation:" invites you to join event “{{{event_summary}}}”",Bot_Calendar_Event_Reschedule:" updated the time of event “{{{event_summary}}}”",Bot_Calendar_Event_Update_Description:" updated the description of event “{{{event_summary}}}”",Bot_Calendar_Event_Update_Location:" updated the location of event “{{{event_summary}}}”",Box_new_message_more_than_one_hit:"New in {{{count}}} chats",Box_no_new_message_hit:"[{{{chat_name}}}] {{{message}}}",Box_one_new_message_hit:"New in {{{chat_name}}}",Calendar_Event_Expired:"[Event Invitation](Invitation expired)",Calendar_Event_Invitation:"[Event Invitation]{{{title}}}",Calendar_Event_No_Summary:"[Event Invitation](No title)",Calendar_Push_EventName:"[Event]{{{title}}}",Calendar_Push_EventNoName:"[Event](No title)",Calendar_Transfer_Feed:"[Event transfer]{{{title}}}",Calendar_Transfer_FeedNoTitle:"[Event transfer] (No title)",Calendar_Transfer_SuccessTransferBot:"{{{name}}} transferred the event to you",Docs_Comment_Reaction:"{{{from_user}}} reacted your comment | {{{content}}}",Done:"Done",Invited_To_VirtualOffice:" wants you to join a virtual office",Lark_Chat_DeleteTopicTip:"{{from_user}} {{chat_identity}} deleted a topic.",Lark_Chat_Identity_Admin:"(system admin)",Lark_Chat_Identity_Owner:"(admin)",Lark_Chat_LocalTime:"It's {{{time}}} for {{{name}}}",Lark_Chat_ReplyRecallTip:"{{from_user}} {{chat_identity}} recalled a message.",Lark_Chat_TopicFilterFollowed:"Subscriptions",Lark_Doc_Title_Symbol:'"{{{doc_title}}}"',Lark_Doc_Unsent_Comment:"[Unsent comment]: {{{draft}}}",Lark_Emoji_18x_0:"18x",Lark_Emoji_Angry_0:"Angry",Lark_Emoji_Applaud_0:"Applaud",Lark_Emoji_Attention_0:"Attention",Lark_Emoji_Awesome_0:"Awesome",Lark_Emoji_Bear_0:"Bear",Lark_Emoji_Beer_0:"Beer",Lark_Emoji_Betrayed_0:"Betrayed",Lark_Emoji_BigKiss_0:"Big Kiss",Lark_Emoji_BlackFace_0:"New Moon Face",Lark_Emoji_Blubber_0:"Blubber",Lark_Emoji_Blush_0:"Blush",Lark_Emoji_Bomb_0:"Bomb",Lark_Emoji_Cake_0:"Cake",Lark_Emoji_Chuckle_0:"Chuckle",Lark_Emoji_Clap_0:"Clap",Lark_Emoji_Cleaver_0:"Cleaver",Lark_Emoji_Comfort_0:"Comfort",Lark_Emoji_Crazy_0:"Crazy",Lark_Emoji_Cry_0:"Cry",Lark_Emoji_Cucumber_0:"Cucumber",Lark_Emoji_Detergent_0:"Detergent",Lark_Emoji_Dizzy_0:"Dizzy",Lark_Emoji_DonnotGo_0:"Don't go",Lark_Emoji_Drool_0:"Drool",Lark_Emoji_Drowsy_0:"Drowsy",Lark_Emoji_DullStare_0:"DullStare",Lark_Emoji_Dull_0:"Dull",Lark_Emoji_Eating_0:"Eating",Lark_Emoji_Embarrassed_0:"Embarrassed",Lark_Emoji_Enough_0:"Enough",Lark_Emoji_Errr_0:"Errr",Lark_Emoji_EyesClosed_0:"EyesClosed",Lark_Emoji_Facepalm_0:"Facepalm",Lark_Emoji_Fighting_0:"Fighting",Lark_Emoji_FingerHeart_0:"FingerHeart",Lark_Emoji_FistBump_0:"FistBump",Lark_Emoji_FollowMe_0:"FollowMe",Lark_Emoji_Frown_0:"Frown",Lark_Emoji_Gift_0:"Gift",Lark_Emoji_Glance_0:"Glance",Lark_Emoji_GoodJob_0:"GoodJob",Lark_Emoji_Grin_0:"Grin",Lark_Emoji_Hammer_0:"Hammer",Lark_Emoji_Headset_0:"Headset",Lark_Emoji_HeartBroken_0:"HeartBroken",Lark_Emoji_Heart_0:"Heart",Lark_Emoji_HighFive_0:"HighFive",Lark_Emoji_Hug_0:"Hug",Lark_Emoji_Husky_0:"Husky",Lark_Emoji_InnocentSmile_0:"InnocentSmile",Lark_Emoji_Joyful_0:"Joyful",Lark_Emoji_Kiss_0:"Kiss",Lark_Emoji_Laugh_0:"Laugh",Lark_Emoji_Lips_0:"Lips",Lark_Emoji_Lol_0:"Lol",Lark_Emoji_LookDown_0:"LookDown",Lark_Emoji_Love_0:"Love",Lark_Emoji_Money_0:"Money",Lark_Emoji_NosePick_0:"NosePick",Lark_Emoji_OK_0:"OK",Lark_Emoji_Obsessed_0:"Obsessed",Lark_Emoji_Party_0:"Party",Lark_Emoji_Petrified_0:"Petrified",Lark_Emoji_Poop_0:"Poop",Lark_Emoji_Praise_0:"Praise",Lark_Emoji_Proud_0:"Proud",Lark_Emoji_Puke_0:"Puke",Lark_Emoji_RainbowPuke_0:"RainbowPuke",Lark_Emoji_Rose_0:"Rose",Lark_Emoji_Scowl_0:"Scowl",Lark_Emoji_Shake_0:"Shake",Lark_Emoji_Shhh_0:"Shhh",Lark_Emoji_Shocked_0:"Shocked",Lark_Emoji_ShowOff_0:"Cool",Lark_Emoji_Shy_0:"Shy",Lark_Emoji_Sick_0:"Sick",Lark_Emoji_Silent_0:"Silent",Lark_Emoji_Skull_0:"Skull",Lark_Emoji_Slap_0:"Slap",Lark_Emoji_Sleep_0:"Sleep",Lark_Emoji_Slight_0:"Slight",Lark_Emoji_Smart_0:"Smart",Lark_Emoji_Smile_0:"Smile",Lark_Emoji_Smirk_0:"Smirk",Lark_Emoji_Smooch_0:"Smooch",Lark_Emoji_Smug_0:"Smug",Lark_Emoji_Sob_0:"Sob",Lark_Emoji_Speechless_0:"Speechless",Lark_Emoji_SpitBlood_0:"SpitBlood",Lark_Emoji_Strive_0:"Strive",Lark_Emoji_Sweat_0:"Sweat",Lark_Emoji_Tears_0:"Tears",Lark_Emoji_Tease_0:"Tease",Lark_Emoji_Terror_0:"Terror",Lark_Emoji_Thanks_0:"Thanks",Lark_Emoji_Thinking_0:"Thinking",Lark_Emoji_Thumbsup_0:"Thumbsup",Lark_Emoji_Toasted_0:"Toasted",Lark_Emoji_Tongue_0:"Tongue",Lark_Emoji_Trick_0:"Trick",Lark_Emoji_UpperLeft_0:"UpperLeft",Lark_Emoji_Wail_0:"Wail",Lark_Emoji_Wave_0:"Wave",Lark_Emoji_WellDone_0:"WellDone",Lark_Emoji_What_0:"What",Lark_Emoji_Whimper_0:"Whimper",Lark_Emoji_Wink_0:"Wink",Lark_Emoji_Witty_0:"Witty",Lark_Emoji_Wow_0:"Wow",Lark_Emoji_Wronged_0:"Wronged",Lark_Emoji_Yawn_0:"Yawn",Lark_Emoji_Yeah_0:"Yeah",Lark_Emoji_haughty_0:"Haughty",Lark_Message_Bold:"Bold (⌘B)",Lark_Message_Bullteted:"Bulleted List (⌘+Shift+8)",Lark_Message_Code:"Code (Ctrl+⌘+C)",Lark_Message_Codeblock:"[Code block]",Lark_Message_CodeblockTool:"Code block (⌘+Option+C)",Lark_Message_Divider:"Divider (⌘+Option+S)",Lark_Message_HeadingOne:"Heading 1 (⌘+Option+1)",Lark_Message_HeadingThree:"Heading 3 (⌘+Option+3)",Lark_Message_HeadingTwo:"Heading 2 (⌘+Option+2)",Lark_Message_Hyperlink:"Hyperlink",Lark_Message_Italic:"Italic (⌘I)",Lark_Message_Numbered:"Numbered List (⌘+Shift+X)",Lark_Message_Reference:"Reference (⌘+Shift+>)",Lark_Message_Strikethrough:"Strikethrough (⌘+Shift+X)",Lark_Message_Underline:"Underline (⌘U)",Lark_Secret_Receive_Message:"You have received an encrypted message",Lark_Secret_Save_Message:"You have saved an encrypted message",Lark_Secret_Send_Message:"You have sent an encrypted message",Lark_Time_AM:"{{{time}}} AM",Lark_Time_PM:"{{{time}}} PM",MembershipRequestPushDescription:"{{{apply_count}}} users have sent requests to join {{{group name}}}.",MembershipRequestPushDescriptionSingular:"{{{apply_count}}} user has sent a request to join {{{group name}}}.",MembershipRequestPushTitle:"Membership Request",RustSdk_Message_SendMessageTooFrequent:"You're going too fast. Please wait a bit before sending more messages.",Salute:"Salute",ShareUserCard:"[Name Card]{{{name}}}",Start_A_VirtualOffice:" created a virtual office",UnknownShort:"Unknown message type",Untitled_Mail:"Untitled Mail",Video_chat_system_message:"[Video Chat] {{{content}}}",View_C_VirtualOfficeCreated:"Virtual office created.",View_VM_UntitledBase:"Untitled Base",View_VM_UntitledDocument:"Untitled document",View_VM_UntitledDocumentGoogleDrive:"Untitled document",View_VM_UntitledFile:"Untitled file",View_VM_UntitledFileGoogleDrive:"Untitled file",View_VM_UntitledFolder:"Untitled folder",View_VM_UntitledMindnote:"Untitled MindNote",View_VM_UntitledPresentationGoogleDrive:"Untitled presentation",View_VM_UntitledSheet:"Untitled Sheet",View_VM_UntitledSlide:"Untitled Slides",View_VM_UntitledSpreadsheetGoogleDrive:"Untitled spreadsheet",VoIP_system_message:"[VoIP] {{{content}}}",at_all:" mentioned all",at_you:" mentioned you",audio:"[Voice message]",buzz_you_have_received_a_message:"[⚡Buzz⚡]You've received a message",buzz_you_have_received_a_message_in_a_group:"[⚡Buzz⚡]You've received a group message",card_text:"[Card message]",card_video_chat:" started a video meeting",change_email_member_to_cc:"Made {{{cc}}} a cc recipient",change_email_member_to_to:"Made {{{to}}} a recipient",chat_administrator:"Admin",chat_application:"[You have received an application to join the group]",chat_owner:"admin",comma:",",comma_with_blank:", ",delete_mail:"{{{from_user}}} deleted a mail",delete_message:"you deleted a message",deleted_message_content:"This message has been deleted.",doc_comment:"{{{from_user}}}: {{{content}}}",doc_mention:"{{{from_user}}} mentioned you {{{content}}}",doc_reopen:"{{{from_user}}} reopened comment: {{{content}}}",doc_reply:"{{{from_user}}}: {{{content}}}",doc_share:"{{{from_user}}} shared with you {{{content}}}",doc_solve:"{{{from_user}}} resolved your comment: {{{content}}}",email_add_cc:"Added {{{cc}}} as a cc recipient",email_add_to:"Added {{{to}}} as a recipient",email_add_to_and_cc_member:"Added {{{to}}} as a recipient, and added {{{cc}}} as a Cc recipient",email_delete_member:"Removed {{{member}}} from the recipients",email_modify_subject:"Changed the subject",file:"[File]{{{name}}}",forward_card_video_chat:" wants you to join a video meeting",friend_application:"[You have received a friend application]",grab_other_hongbao:"Opened {hongbao} from {send_user}",group_chat_announcement:"Announcement",hongbao_subject:"Best wishes!",image:"[Image]",includes:"Includes",last_hongbao_is_grabbed:"The {hongbao} you sent is all received",location:"[Location]{{{name}}}",mail_title:"[Mail] {{{subject}}}",media_transcode_fail:"Video compression failed and will be sent as an attachment.",merge_forward:"[Chat History]",mobile_hongbao:"[Hongbao] {{{subject}}}",no_title:"No title",oncall:"Oncall",other_grab_my_hongbao:"{recv_user} opened your {hongbao}",pc_hongbao_received:"[You have received a Hongbao, please view on mobile]",pc_hongbao_sent:"[You have sent a Hongbao]",reaction_content:"{{{from_user}}} reacted: [{{{content}}}]",reaction_type_18x:"18x",reaction_type_angry:"Angry",reaction_type_applause:"Applaud",reaction_type_attention:"Attention",reaction_type_awesome:"Awesome",reaction_type_bear:"Bear",reaction_type_beer:"Beer",reaction_type_betrayed:"Betrayed",reaction_type_bigkiss:"Big Kiss",reaction_type_blackface:"New Moon Face",reaction_type_blubber:"Blubber",reaction_type_blush:"Grin",reaction_type_bomb:"Bomb",reaction_type_cake:"Cake",reaction_type_chuckle:"Chuckle",reaction_type_clap:"Clap",reaction_type_cleaver:"Cleaver",reaction_type_comfort:"Comfort",reaction_type_crazy:"Crazy",reaction_type_cry:"Cry",reaction_type_cucumber:"Cucumber",reaction_type_detergent:"Detergent",reaction_type_dizzy:"Dizzy",reaction_type_done:"Done",reaction_type_donnotgo:"Don't go",reaction_type_drool:"Drool",reaction_type_drowsy:"Drowsy",reaction_type_dull:"Dull",reaction_type_dullstare:"DullStare",reaction_type_eating:"Eating",reaction_type_embarrassed:"Embarrassed",reaction_type_enough:"Enough",reaction_type_error:"Errr",reaction_type_eyesclosed:"EyesClosed",reaction_type_facepalm:"Facepalm",reaction_type_fingerheart:"FingerHeart",reaction_type_fistbump:"FistBump",reaction_type_followme:"FollowMe",reaction_type_frown:"Frown",reaction_type_gift:"Gift",reaction_type_glance:"Glance",reaction_type_goodjob:"GoodJob",reaction_type_hammer:"Hammer",reaction_type_haughty:"Haughty",reaction_type_headset:"Headset",reaction_type_heart:"Heart",reaction_type_heartbroken:"HeartBroken",reaction_type_highfive:"HighFive",reaction_type_hug:"Hug",reaction_type_husky:"Husky",reaction_type_innocentsmile:"InnocentSmile",reaction_type_jiayi:"+1",reaction_type_joyful:"Joyful",reaction_type_kiss:"Kiss",reaction_type_laugh:"Laugh",reaction_type_lips:"Lips",reaction_type_lol:"Lol",reaction_type_lookdown:"LookDown",reaction_type_love:"Love",reaction_type_money:"Money",reaction_type_muscle:"Fighting",reaction_type_nosepick:"NosePick",reaction_type_obsessed:"Obsessed",reaction_type_ok:"OK",reaction_type_party:"Party",reaction_type_petrified:"Petrified",reaction_type_poop:"Poop",reaction_type_praise:"Praise",reaction_type_proud:"Proud",reaction_type_puke:"Puke",reaction_type_rainbowpuke:"RainbowPuke",reaction_type_rose:"Rose",reaction_type_salute:"Salute",reaction_type_scowl:"Scowl",reaction_type_shake:"Shake",reaction_type_shhh:"Shhh",reaction_type_shocked:"Shocked",reaction_type_showoff:"Cool",reaction_type_shy:"Shy",reaction_type_sick:"Sick",reaction_type_silent:"Silent",reaction_type_skull:"Skull",reaction_type_slap:"Slap",reaction_type_sleep:"Sleep",reaction_type_slight:"Slight",reaction_type_smart:"Smart",reaction_type_smile:"Smile",reaction_type_smirk:"Smirk",reaction_type_smooch:"Smooch",reaction_type_smug:"Smug",reaction_type_sob:"Sob",reaction_type_speechless:"Speechless",reaction_type_spitblood:"SpitBlood",reaction_type_strive:"Strive",reaction_type_sweat:"Sweat",reaction_type_tears:"Tears",reaction_type_tease:"Tease",reaction_type_terror:"Terror",reaction_type_thanks:"Thanks",reaction_type_thinking:"Thinking",reaction_type_thumbs_up:"Thumbsup",reaction_type_toasted:"Toasted",reaction_type_tongue:"Tongue",reaction_type_trick:"Trick",reaction_type_upperleft:"UpperLeft",reaction_type_wail:"Wail",reaction_type_wave:"Wave",reaction_type_welldone:"WellDone",reaction_type_what:"What",reaction_type_whimper:"Whimper",reaction_type_wink:"Wink",reaction_type_witty:"Witty",reaction_type_wow:"Wow",reaction_type_wronged:"Wronged",reaction_type_xblush:"Blush",reaction_type_yawn:"Yawn",reaction_type_yeah:"Yeah",recall_group_message:"This message has been recalled by the {{{chat_identity}}}{{{from_user}}}",recall_mail:"{{{from_user}}} recalled a mail",recall_message:"{{{from_user}}} recalled a message",replace_image:" [Image] ",send_hongbao_message_failed:"Failed to send your Hongbao. Money will be refunded to your {wallet} in 1-3 days.",share_group_chat:"[Group Invitation]{{{name}}}",share_user_card:"[Name Card]{{{name}}}",some_error_occurs:"Oops... Something is wrong. Please try again later.",someone_has_read_your_buzz_message:"Someone has read your buzz message",someone_mentioned_you:"Someone mentioned you",someone_mentioned_you_in_a_group:"Someone mentioned you in a group",someone_reacted_to_your_message:"Someone reacted to your message",someone_reacted_to_your_message_in_a_group:"Someone reacted to your message in a group",sticker:"[Sticker]",this_message_was_recalled:"This message was recalled",translate_message:"[Translation]",unknown:"Unknown message type. Please update your Lark to latest version.",urgent_ack_content:"She/he has already read",urgent_ack_title:"Buzzed {{{to_user}}}: {{{content}}}",urgent_content_no_flash:"[Buzzed]{{{content}}}",urgent_content_with_flash:"[⚡Buzzed⚡]{{{content}}}",user_oncall_name:"{{{user_name}}}'s {{{oncall_name}}}",user_topic:"{{{from_user}}}'s topic",video:"[Video]",vote:"[Poll message]",wallet:"Wallet",whose_topic:"{{{localized_name}}}'s topic",you:"You",you_have_a_message_not_sent:"You have an unsent message ",you_have_received_a_group_message:"You've received a group message",you_have_received_a_message:"You've received a message",yourself:"yourself"}},function(e,t,i){"use strict";e.exports={At_EveryOne:"全員",Bot_Calendar_Event_Cancelled:"はイベント“{{{event_summary}}}”を取り消しました ",Bot_Calendar_Event_Invitation:"からイベント招待状を受信しました“{{{event_summary}}}”",Bot_Calendar_Event_Reschedule:"はイベント“{{{event_summary}}}” の時間を更新しました",Bot_Calendar_Event_Update_Description:"はイベント “{{{event_summary}}}” の説明を更新しました",Bot_Calendar_Event_Update_Location:"はイベント “{{{event_summary}}}” の場所を更新しました",Box_new_message_more_than_one_hit:"{{{count}}}チャットに新着メッセージがあります",Box_no_new_message_hit:"[{{{chat_name}}}] {{{message}}}",Box_one_new_message_hit:"{{{chat_name}}} 新着メッセージ",Calendar_Event_Expired:"[イベント招待](この共有は無効です)",Calendar_Event_Invitation:"[イベントに招待]{{{title}}}",Calendar_Event_No_Summary:"[イベント招待](タイトル無し)",Calendar_Push_EventName:"[イベント]{{{title}}}",Calendar_Push_EventNoName:"[イベント](タイトル無し)",Calendar_Transfer_Feed:"[イベントを譲渡]{{{title}}}",Calendar_Transfer_FeedNoTitle:"[イベントを譲渡] (タイトル無し)",Calendar_Transfer_SuccessTransferBot:"{{{name}}}は既にこのイベントをあなたに譲渡しています",Docs_Comment_Reaction:"{{{from_user}}}がコメントに返信 |  {{{content}}}",Done:"完了",Invited_To_VirtualOffice:"からオンラインオフィスへの招待があります",Lark_Chat_DeleteTopicTip:"{{chat_identity}} {{from_user}} がトピックを削除しました",Lark_Chat_Identity_Admin:"システム管理者",Lark_Chat_Identity_Owner:"グループ管理者",Lark_Chat_LocalTime:"{{{name}}}の現地時間は {{{time}}} です",Lark_Chat_ReplyRecallTip:"{{chat_identity}} {{from_user}} がメッセージの送信を取り消しました",Lark_Chat_TopicFilterFollowed:"購読中",Lark_Doc_Title_Symbol:"「{{{doc_title}}}」",Lark_Doc_Unsent_Comment:"[未送信のコメント]: {{{draft}}}",Lark_Emoji_18x_0:"18禁",Lark_Emoji_Angry_0:"怒り",Lark_Emoji_Applaud_0:"拍手",Lark_Emoji_Attention_0:"私を見に来てください",Lark_Emoji_Awesome_0:"すごい",Lark_Emoji_Bear_0:"熊吉",Lark_Emoji_Beer_0:"ビール",Lark_Emoji_Betrayed_0:"裏切り",Lark_Emoji_BigKiss_0:"ビッグキス",Lark_Emoji_BlackFace_0:"不機嫌",Lark_Emoji_Blubber_0:"泣きそう",Lark_Emoji_Blush_0:"赤面",Lark_Emoji_Bomb_0:"爆弾",Lark_Emoji_Cake_0:"ケーキ",Lark_Emoji_Chuckle_0:"盗み笑い",Lark_Emoji_Clap_0:"小さく拍手",Lark_Emoji_Cleaver_0:"ナイフ",Lark_Emoji_Comfort_0:"頭をなでる",Lark_Emoji_Crazy_0:"キレそう",Lark_Emoji_Cry_0:"すすり泣き",Lark_Emoji_Cucumber_0:"きゅうり",Lark_Emoji_Detergent_0:"洗剤",Lark_Emoji_Dizzy_0:"眩暈",Lark_Emoji_DonnotGo_0:"行かないで",Lark_Emoji_Drool_0:"うらやましい",Lark_Emoji_Drowsy_0:"眠い",Lark_Emoji_DullStare_0:"凝視",Lark_Emoji_Dull_0:"呆然",Lark_Emoji_Eating_0:"お茶の間の皆さん",Lark_Emoji_Embarrassed_0:"照れ笑い",Lark_Emoji_Enough_0:"静かになりたい",Lark_Emoji_Errr_0:"縦線",Lark_Emoji_EyesClosed_0:"見ない",Lark_Emoji_Facepalm_0:"照れ臭い",Lark_Emoji_Fighting_0:"頑張れ",Lark_Emoji_FingerHeart_0:"手でハートを作る",Lark_Emoji_FistBump_0:"グータッチ",Lark_Emoji_FollowMe_0:"相互フォロー",Lark_Emoji_Frown_0:"眉をひそめる",Lark_Emoji_Gift_0:"プレゼント",Lark_Emoji_Glance_0:"見る",Lark_Emoji_GoodJob_0:"すごい",Lark_Emoji_Grin_0:"ニヤリ",Lark_Emoji_Hammer_0:"叩く",Lark_Emoji_Headset_0:"歌を聴く",Lark_Emoji_HeartBroken_0:"悲しい",Lark_Emoji_Heart_0:"ハート",Lark_Emoji_HighFive_0:"ハイタッチ",Lark_Emoji_Hug_0:"抱きしめて",Lark_Emoji_Husky_0:"白目をむく",Lark_Emoji_InnocentSmile_0:"無邪気な笑顔",Lark_Emoji_Joyful_0:"笑い",Lark_Emoji_Kiss_0:"キス",Lark_Emoji_Laugh_0:"大笑い",Lark_Emoji_Lips_0:"キス",Lark_Emoji_Lol_0:"笑い泣き",Lark_Emoji_LookDown_0:"軽蔑",Lark_Emoji_Love_0:"ハートを送る",Lark_Emoji_Money_0:"お金",Lark_Emoji_NosePick_0:"鼻をほじる",Lark_Emoji_OK_0:"OK",Lark_Emoji_Obsessed_0:"大好き",Lark_Emoji_Party_0:"祝福",Lark_Emoji_Petrified_0:"固まる",Lark_Emoji_Poop_0:"うんち",Lark_Emoji_Praise_0:"強い",Lark_Emoji_Proud_0:"満足",Lark_Emoji_Puke_0:"吐く",Lark_Emoji_RainbowPuke_0:"口から虹を出す",Lark_Emoji_Rose_0:"バラ",Lark_Emoji_Scowl_0:"驚いてぽかんとする",Lark_Emoji_Shake_0:"握手",Lark_Emoji_Shhh_0:"シーッ",Lark_Emoji_Shocked_0:"ショック",Lark_Emoji_ShowOff_0:"クール",Lark_Emoji_Shy_0:"恥ずかしい",Lark_Emoji_Sick_0:"スモッグ",Lark_Emoji_Silent_0:"黙る",Lark_Emoji_Skull_0:"ドクロ",Lark_Emoji_Slap_0:"ビンタする",Lark_Emoji_Sleep_0:"いびき",Lark_Emoji_Slight_0:"白い目",Lark_Emoji_Smart_0:"賢い",Lark_Emoji_Smile_0:"スマイル",Lark_Emoji_Smirk_0:"陰険に笑う",Lark_Emoji_Smooch_0:"投げキッス",Lark_Emoji_Smug_0:"口をゆがめる",Lark_Emoji_Sob_0:"涙",Lark_Emoji_Speechless_0:"汗を拭く",Lark_Emoji_SpitBlood_0:"吐血",Lark_Emoji_Strive_0:"頑張る",Lark_Emoji_Sweat_0:"汗",Lark_Emoji_Tears_0:"あふれる涙",Lark_Emoji_Tease_0:"あっかんべえをする",Lark_Emoji_Terror_0:"恐怖",Lark_Emoji_Thanks_0:"ありがとう",Lark_Emoji_Thinking_0:"思考",Lark_Emoji_Thumbsup_0:"いいね",Lark_Emoji_Toasted_0:"衰弱する",Lark_Emoji_Tongue_0:"あっかんべえ",Lark_Emoji_Trick_0:"馬鹿笑い",Lark_Emoji_UpperLeft_0:"左上",Lark_Emoji_Wail_0:"大泣き",Lark_Emoji_Wave_0:"さようなら",Lark_Emoji_WellDone_0:"V5",Lark_Emoji_What_0:"何？",Lark_Emoji_Whimper_0:"お願い",Lark_Emoji_Wink_0:"かわいい",Lark_Emoji_Witty_0:"ひらめき",Lark_Emoji_Wow_0:"驚き",Lark_Emoji_Wronged_0:"不満",Lark_Emoji_Yawn_0:"あくび",Lark_Emoji_Yeah_0:"Yes",Lark_Emoji_haughty_0:"クールでかっこいい",Lark_Message_Bold:"太字 (⌘B)",Lark_Message_Bullteted:"番号なしリスト (⌘+Shift+8)",Lark_Message_Code:"コード (Ctrl+⌘+C)",Lark_Message_Codeblock:"[コード ブロック]",Lark_Message_CodeblockTool:"コード ブロック (⌘+Option+C)",Lark_Message_Divider:"区切り線 (⌘+Option+S)",Lark_Message_HeadingOne:"第1レベルタイトル (⌘+Option+1)",Lark_Message_HeadingThree:"第3レベルタイトル (⌘+Option+3)",Lark_Message_HeadingTwo:"第2レベルタイトル (⌘+Option+2)",Lark_Message_Hyperlink:"リンク",Lark_Message_Italic:"斜体 (⌘I)",Lark_Message_Numbered:"番号付きリスト (⌘+Shift+X)",Lark_Message_Reference:"参照 (⌘+Shift+>)",Lark_Message_Strikethrough:"取り消し線 (⌘+Shift+X)",Lark_Message_Underline:"下線 (⌘U)",Lark_Secret_Receive_Message:"暗号化メッセージを受信しました",Lark_Secret_Save_Message:"暗号化されたメッセージを保存しました",Lark_Secret_Send_Message:"暗号化メッセージを送信しました",Lark_Time_AM:"午前{{{time}}}",Lark_Time_PM:"午後{{{time}}}",MembershipRequestPushDescription:"{{{apply_count}}}名のユーザー が{{{group name}}}への参加を申請しています",MembershipRequestPushDescriptionSingular:"{{{apply_count}}}名のユーザー が{{{group name}}}への参加を申請しています",MembershipRequestPushTitle:"グループ参加の申請",RustSdk_Message_SendMessageTooFrequent:"メッセージの送信頻度が高いです。しばらくしてから再試行してください",Salute:"礼",ShareUserCard:"[プロフィールカード]{{{name}}}",Start_A_VirtualOffice:"がオンラインオフィスを開始しました",UnknownShort:"種類が不明なメッセージを受信しました",Untitled_Mail:"件名のないメール",Video_chat_system_message:"[ビデオ通話] {{{content}}}",View_C_VirtualOfficeCreated:"オンラインオフィスが開始されました",View_VM_UntitledBase:"名称未設定データテーブル",View_VM_UntitledDocument:"名称未設定ドキュメント",View_VM_UntitledDocumentGoogleDrive:"名称未設定ドキュメント",View_VM_UntitledFile:"名称未設定ファイル",View_VM_UntitledFileGoogleDrive:"無題のファイル",View_VM_UntitledFolder:"名称未設定フォルダ",View_VM_UntitledMindnote:"名称未設定マインドノート",View_VM_UntitledPresentationGoogleDrive:"無題のプレゼンテーション",View_VM_UntitledSheet:"名称未設定シート",View_VM_UntitledSlide:"名称未設定スライド",View_VM_UntitledSpreadsheetGoogleDrive:"無題のスプレッドシート",VoIP_system_message:"[IP電話] {{{content}}}",at_all:"@全員",at_you:"@あなた",audio:"「音声」",buzz_you_have_received_a_message:"[⚡至急⚡]メッセージを受信しました",buzz_you_have_received_a_message_in_a_group:"[⚡至急⚡]グループメッセージを受信しました",card_text:"[カードメッセージ ]",card_video_chat:"のビデオ会議が開始しました",change_email_member_to_cc:"{{{cc}}}をメールのCCに変更します",change_email_member_to_to:"{{{to}}}をメッセージ受信者に変更します",chat_administrator:"オーナー",chat_application:"[グループチャットに参加する申請を受け取りました。クリックして表示]",chat_owner:"グループオーナー",comma:"、",comma_with_blank:"、",delete_mail:"{{{from_user}}} はメッセージを削除しました",delete_message:"あなたはメッセージを削除しました",deleted_message_content:"このメッセージは既に削除されています",doc_comment:"{{{from_user}}}: {{{content}}}",doc_mention:"{{{from_user}}}があなたを＠しました{{{content}}}",doc_reopen:"{{{from_user}}}がコメントを再開: {{{content}}}",doc_reply:"{{{from_user}}}: {{{content}}}",doc_share:"{{{from_user}}}があなたにドキュメントを共有{{{content}}}",doc_solve:"{{{from_user}}}があなたのコメントをアーカイブ: {{{content}}}",email_add_cc:"{{{cc}}}をメールのCCに追加する",email_add_to:"{{{to}}}をメール受信者として追加します",email_add_to_and_cc_member:"{{{to}}}をメール受信者に追加し、 {{{cc}}}をメールのCCに追加します",email_delete_member:"{{{member}}}をメールの参加者リストから削除します",email_modify_subject:"メッセージの件名を修正しました",file:"[ファイル]{{{name}}}",forward_card_video_chat:"があなたをビデオ会議に招待しています",friend_application:"[友達申請を受信しました]",grab_other_hongbao:"{send_user}の{hongbao}を受け取りました",group_chat_announcement:"お知らせ",hongbao_subject:"お金持ちになって、出世していけますように",image:"[画像]",includes:"含む",last_hongbao_is_grabbed:"あなたの{hongbao}は既にすべて受け取られました",location:"[ロケーション]{{{name}}}",mail_title:"[メール] {{{subject}}}",media_transcode_fail:"動画の圧縮ができませんでした。添付ファイル形式で送信します",merge_forward:"[チャット履歴]",mobile_hongbao:"[ラッキーマネー] {{{subject}}}",no_title:"件名なし",oncall:"当直者",other_grab_my_hongbao:"{recv_user}があなたの{hongbao}を受け取りました",pc_hongbao_received:"ラッキーマネーを受け取りました。携帯電話で確認してください。",pc_hongbao_sent:"[ラッキーマネーを送信]",reaction_content:"{{{from_user}}}の返信: [{{{content}}}]",reaction_type_18x:"18禁",reaction_type_angry:"怒り",reaction_type_applause:"拍手",reaction_type_attention:"私を見に来てください",reaction_type_awesome:"すごい",reaction_type_bear:"熊吉",reaction_type_beer:"ビール",reaction_type_betrayed:"裏切り",reaction_type_bigkiss:"ビッグキス",reaction_type_blackface:"不機嫌",reaction_type_blubber:"泣きそう",reaction_type_blush:"ニヤリ",reaction_type_bomb:"爆弾",reaction_type_cake:"ケーキ",reaction_type_chuckle:"盗み笑い",reaction_type_clap:"小さく拍手",reaction_type_cleaver:"ナイフ",reaction_type_comfort:"頭をなでる",reaction_type_crazy:"キレそう",reaction_type_cry:"すすり泣き",reaction_type_cucumber:"きゅうり",reaction_type_detergent:"洗剤",reaction_type_dizzy:"眩暈",reaction_type_done:"完了",reaction_type_donnotgo:"行かないで",reaction_type_drool:"うらやましい",reaction_type_drowsy:"眠い",reaction_type_dull:"呆然",reaction_type_dullstare:"凝視",reaction_type_eating:"お茶の間の皆さん",reaction_type_embarrassed:"照れ笑い",reaction_type_enough:"静かになりたい",reaction_type_error:"縦線",reaction_type_eyesclosed:"見ない",reaction_type_facepalm:"照れ臭い",reaction_type_fingerheart:"手でハートを作る",reaction_type_fistbump:"グータッチ",reaction_type_followme:"相互フォロー",reaction_type_frown:"眉をひそめる",reaction_type_gift:"プレゼント",reaction_type_glance:"見る",reaction_type_goodjob:"すごい",reaction_type_hammer:"叩く",reaction_type_haughty:"クールでかっこいい",reaction_type_headset:"歌を聴く",reaction_type_heart:"愛",reaction_type_heartbroken:"悲しい",reaction_type_highfive:"ハイタッチ",reaction_type_hug:"抱きしめて",reaction_type_husky:"白目をむく",reaction_type_innocentsmile:"無邪気な笑顔",reaction_type_jiayi:"+1",reaction_type_joyful:"笑い",reaction_type_kiss:"キス",reaction_type_laugh:"大笑い",reaction_type_lips:"キス",reaction_type_lol:"笑い泣き",reaction_type_lookdown:"軽蔑",reaction_type_love:"ハートを送る",reaction_type_money:"お金",reaction_type_muscle:"頑張れ",reaction_type_nosepick:"鼻をほじる",reaction_type_obsessed:"画面を舐めるように見る",reaction_type_ok:"OK",reaction_type_party:"祝福",reaction_type_petrified:"固まる",reaction_type_poop:"うんち",reaction_type_praise:"強い",reaction_type_proud:"満足",reaction_type_puke:"吐く",reaction_type_rainbowpuke:"口から虹を出す",reaction_type_rose:"バラ",reaction_type_salute:"礼",reaction_type_scowl:"驚いてぽかんとする",reaction_type_shake:"握手",reaction_type_shhh:"シーッ",reaction_type_shocked:"ショック",reaction_type_showoff:"クール",reaction_type_shy:"恥ずかしい",reaction_type_sick:"スモッグ",reaction_type_silent:"黙る",reaction_type_skull:"ドクロ",reaction_type_slap:"ビンタする",reaction_type_sleep:"いびき",reaction_type_slight:"白い目",reaction_type_smart:"賢い",reaction_type_smile:"スマイル",reaction_type_smirk:"陰険に笑う",reaction_type_smooch:"投げキッス",reaction_type_smug:"口をゆがめる",reaction_type_sob:"涙",reaction_type_speechless:"汗を拭く",reaction_type_spitblood:"吐血",reaction_type_strive:"頑張る",reaction_type_sweat:"汗",reaction_type_tears:"あふれる涙",reaction_type_tease:"あっかんべえをする",reaction_type_terror:"恐怖",reaction_type_thanks:"ありがとう",reaction_type_thinking:"思考",reaction_type_thumbs_up:"いいね",reaction_type_toasted:"衰弱する",reaction_type_tongue:"あっかんべえ",reaction_type_trick:"馬鹿笑い",reaction_type_upperleft:"左上",reaction_type_wail:"大泣き",reaction_type_wave:"さようなら",reaction_type_welldone:"V5",reaction_type_what:"何？",reaction_type_whimper:"お願い",reaction_type_wink:"かわいい",reaction_type_witty:"ひらめき",reaction_type_wow:"驚き",reaction_type_wronged:"不満",reaction_type_xblush:"赤面",reaction_type_yawn:"あくび",reaction_type_yeah:"Yes",recall_group_message:"このメッセージは{{{chat_identity}}}{{{from_user}}}により削除されています",recall_mail:"{{{from_user}}} はメッセージを取り消しました",recall_message:"{{{from_user}}} はメッセージを取り消しました",replace_image:" [画像] ",send_hongbao_message_failed:"ラッキーマネーが送信できませんでした。1～3営業日以内に残額が返金され、{wallet}に表示されます",share_group_chat:"[グループ名刺]{{{name}}}",share_user_card:"[Name Card]{{{name}}}",some_error_occurs:"エラーが発生しました。しばらくしてからもう一度お試しください。",someone_has_read_your_buzz_message:"送信した至急メッセージは、既読されています",someone_mentioned_you:"あなたは＠されました",someone_mentioned_you_in_a_group:"他のユーザーがグループチャットであなたに＠の通知をしました",someone_reacted_to_your_message:"誰かがあなたのメッセージに返信しました",someone_reacted_to_your_message_in_a_group:"誰かがグループチャット内であなたのメッセージに返信しました",sticker:"[スタンプ]",this_message_was_recalled:"このメッセージは取り消されました",translate_message:"[訳]",unknown:"種類が不明なメッセージを受信しました。最新バージョンに更新してください",urgent_ack_content:"相手は既に表示しています",urgent_ack_title:"{{{to_user}}}へ至急メッセージ送信: {{{content}}}",urgent_content_no_flash:"[至急]{{{content}}}",urgent_content_with_flash:"[⚡至急⚡]{{{content}}}",user_oncall_name:"{{{user_name}}}の{{{oncall_name}}}",user_topic:"{{{from_user}}}の話題",video:"[動画]",vote:"[投票メッセージ]",wallet:"ウォレット",whose_topic:"{{{localized_name}}}のトピック",you:"あなた",you_have_a_message_not_sent:"未送信のメッセージがあります",you_have_received_a_group_message:"グループメッセージを受信しました",you_have_received_a_message:"新着メッセージがあります",yourself:"自分"}},function(e){e.exports=JSON.parse('{"a":{"options":{"go_package":"git.byted.org/ee/lark/im-protobuf/improto/frame","java_package":"com.ss.android.lark.pb"},"nested":{"Frame":{"fields":{"seqid":{"rule":"required","type":"uint64","id":1},"logid":{"rule":"required","type":"uint64","id":2},"service":{"rule":"required","type":"int32","id":3},"method":{"rule":"required","type":"int32","id":4},"headers":{"rule":"repeated","type":"ExtendedEntry","id":5},"payloadEncoding":{"type":"string","id":6},"payloadType":{"type":"string","id":7},"payload":{"type":"bytes","id":8}},"nested":{"ExtendedEntry":{"fields":{"key":{"rule":"required","type":"string","id":1},"value":{"rule":"required","type":"string","id":2}}}}}}}}')},function(e){e.exports=JSON.parse('{"a":{"options":{"optimize_for":"LITE_RUNTIME","go_package":"git.byted.org/ee/lark/im-protobuf/improto/bots","java_package":"com.ss.android.lark.pb"},"nested":{"BotCollection":{"fields":{"type":{"rule":"required","type":"BotType","id":1},"bots":{"keyType":"string","type":"entities.Chatter","id":2},"orderedWeight":{"keyType":"string","type":"int64","id":3}},"nested":{"BotType":{"values":{"FUNCTIONAL":1,"CHAT_BOT":2,"ONCALL":3}}}},"I18nInf":{"fields":{"i18nNames":{"keyType":"string","type":"string","id":1},"i18nDescriptions":{"keyType":"string","type":"string","id":2}}},"FunctionalBot":{"fields":{"id":{"type":"string","id":1},"name":{"type":"string","id":2},"avatar":{"type":"entities.ImageSet","id":3},"description":{"type":"string","id":4},"enName":{"type":"string","id":5},"enDescription":{"type":"string","id":6},"i18nInf":{"type":"I18nInf","id":7}}},"PullChatBotsRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1},"notSubscribeChatters":{"type":"bool","id":2}}},"PullChatBotsResponse":{"fields":{"maxBotNum":{"rule":"required","type":"int32","id":1},"botCollection":{"rule":"repeated","type":"BotCollection","id":2},"maxAge":{"type":"int64","id":3}}},"PullChatCandidateBotsRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1}}},"PullChatCandidateBotsResponse":{"fields":{"botCollection":{"rule":"repeated","type":"BotCollection","id":1},"functionalBots":{"keyType":"string","type":"FunctionalBot","id":2},"functionalBotsOrderedWeight":{"keyType":"string","type":"int64","id":3}}},"BotGreeter":{"methods":{"get":{"requestType":"PullBotsRequest","responseType":"PullBotsResponse"},"pullChatBots":{"requestType":"PullChatBotsRequest","responseType":"PullChatBotsResponse"},"pullChatCandidateBots":{"requestType":"PullChatCandidateBotsRequest","responseType":"PullChatCandidateBotsResponse"}}},"PullBotsRequest":{"fields":{"offset":{"type":"int32","id":1,"options":{"default":0}},"count":{"type":"int32","id":2,"options":{"default":20}},"needBotInfo":{"type":"bool","id":3}}},"PullBotsResponse":{"fields":{"hasMore":{"type":"bool","id":1},"bots":{"rule":"repeated","type":"entities.Chatter","id":2},"maxAge":{"type":"int64","id":3},"botInfo":{"keyType":"int64","type":"entities.BotInfo","id":4}}},"PushLogUploadNotice":{"fields":{"uploadType":{"rule":"required","type":"UploadType","id":1},"days":{"type":"int32","id":2,"options":{"default":3}}},"nested":{"UploadType":{"values":{"UNKNOWN":0,"STREAM":1,"FILE":2}}}},"PushLogRequest":{"fields":{"pushType":{"rule":"required","type":"PushType","id":1},"logUpload":{"type":"LogUpload","id":2},"moduleLevel":{"type":"ModuleLevel","id":3},"deviceId":{"type":"string","id":4}},"nested":{"LogUpload":{"fields":{"uploadType":{"rule":"required","type":"UploadType","id":1},"days":{"type":"int32","id":2,"options":{"default":3}},"id":{"type":"int64","id":3},"fromTimestamp":{"type":"int64","id":4},"toTimestamp":{"type":"int64","id":5},"loggers":{"rule":"repeated","type":"string","id":6}},"nested":{"UploadType":{"values":{"UNKNOWN":0,"STREAM":1,"FILE":2}}}},"ModuleLevel":{"fields":{"members":{"rule":"repeated","type":"Member","id":1}},"nested":{"Member":{"fields":{"logLevel":{"rule":"required","type":"LogLevel","id":1},"modules":{"rule":"repeated","type":"string","id":2}},"nested":{"LogLevel":{"values":{"UNKNOWN":0,"OFF":1,"ERROR":2,"WARN":3,"INFO":4,"DEBUG":5,"TRACE":6}}}}}},"PushType":{"values":{"UNKNOWN":0,"LOG_UPLOAD":1,"MODULE_LEVEL":2}}}},"LogUploadError":{"fields":{"errorType":{"rule":"required","type":"ErrorType","id":1}},"nested":{"ErrorType":{"values":{"UNKNOWN":0,"IO":1,"NETWORK":2,"HTTP":3,"CANCELLED":4,"FREQUENCY_LIMITED":5,"FINISHED":6}}}}}}}')},function(e){e.exports=JSON.parse('{"a":{"options":{"optimize_for":"LITE_RUNTIME","go_package":"git.byted.org/ee/lark/im-protobuf/improto/searches","java_package":"com.ss.android.lark.pb"},"nested":{"SearchGreeter":{"methods":{"search":{"requestType":"SearchRequest","responseType":"SearchResponse"},"searchUser":{"requestType":"SearchChatterRequest","responseType":"SearchChatterResponse"},"searchGroup":{"requestType":"SearchGroupChatRequest","responseType":"SearchGroupChatResponse"},"searchMessage":{"requestType":"SearchMessageRequest","responseType":"SearchMessageResponse"}}},"SearchRequest":{"fields":{"query":{"type":"string","id":1},"begin":{"type":"int32","id":2,"options":{"default":0}},"end":{"type":"int32","id":3,"options":{"default":10}}}},"SearchResponse":{"fields":{"groupChats":{"type":"SearchGroupChatResponse","id":2},"messages":{"type":"SearchMessageResponse","id":3},"chatters":{"type":"SearchChatterResponse","id":4}}},"SearchChatterRequest":{"fields":{"query":{"type":"string","id":1},"begin":{"type":"int32","id":2,"options":{"default":0}},"end":{"type":"int32","id":3,"options":{"default":10}}}},"SearchChatterResponse":{"fields":{"chatters":{"rule":"repeated","type":"entities.Chatter","id":1},"total":{"type":"int32","id":2},"hasMore":{"type":"bool","id":3},"departments":{"keyType":"string","type":"entities.Department","id":4},"pairs":{"rule":"repeated","type":"Pair","id":5}},"nested":{"Pair":{"fields":{"chatterId":{"type":"string","id":1},"departmentId":{"type":"string","id":2}}}}},"SearchGroupChatRequest":{"fields":{"query":{"type":"string","id":1},"begin":{"type":"int32","id":2,"options":{"default":0}},"end":{"type":"int32","id":3,"options":{"default":10}}}},"SearchGroupChatResponse":{"fields":{"chats":{"rule":"repeated","type":"entities.Chat","id":1},"total":{"type":"int32","id":2},"hasMore":{"type":"bool","id":3}}},"SearchMessageRequest":{"fields":{"query":{"type":"string","id":1},"begin":{"type":"int32","id":2,"options":{"default":0}},"end":{"type":"int32","id":3,"options":{"default":10}},"chatId":{"type":"string","id":4},"fromId":{"type":"string","id":5},"startTime":{"type":"int64","id":6,"options":{"default":0}},"endTime":{"type":"int64","id":7,"options":{"default":0}}}},"SearchMessageResponse":{"fields":{"messages":{"rule":"repeated","type":"entities.Message","id":1},"total":{"type":"int32","id":2},"hasMore":{"type":"bool","id":3}}},"Scene":{"values":{"UNKNOWN_SCENE":0,"AT_USERS_SCENE":1,"ADD_CHATTERS_SCENE":2,"TRANSMIT_MESSAGES_SCENE":3,"SMART_SEARCH_SCENE":4,"SEARCH_MESSAGES_SCENE":5,"SEARCH_CHATS_SCENE":6,"SEARCH_CHATTERS_SCENE":7,"SEARCH_USERS_SCENE":8,"SEARCH_IN_CHAT_SCENE":9,"SEARCH_IN_EMAIL_SCENE":10,"SEARCH_MEMBER_IN_EMAIL_SCENE":11,"SEARCH_DOCS_SCENE":12,"SEARCH_EMAIL_MESSAGE_SCENE":13,"SEARCH_DOCS_IN_DIALOG_SCENE":14,"SEARCH_IN_CALENDAR_SCENE":15,"SEARCH_HAD_CHAT_HISTORY_SCENE":16,"SEARCH_MESSAGE_IN_CHAT_SCENE":17,"SEARCH_FILE_IN_CHAT_SCENE":18,"SEARCH_DOCS_IN_CHAT_SCENE":19,"PULL_FILE_IN_CHAT_SCENE":20,"PULL_DOCS_IN_CHAT_SCENE":21,"SEARCH_BOX_SCENE":22,"SEARCH_ONCALL_SCENE":23,"SEARCH_MESSAGE_COUNT":24,"SEARCH_THREAD_SCENE":25,"CHAT_MENTION_SCENE":26,"SEARCH_APPS_SCENE":27,"LARGE_GROUP_SEARCH_SCENE":28,"LARGE_GROUP_READ_SCENE":29,"SEARCH_URLS_SCENE":30,"SEARCH_FILE_SCENE":31,"SEARCH_EXTERNAL_SCENE":32,"SEARCH_WIKI_SCENE":33,"SEARCH_WIKI_IN_CHAT_SCENE":34,"ADVANCED_SEARCH_FILTER_SCENE":35,"SEARCH_CALENDAR_EVENT_SCENE":36,"SEARCH_CHATS_IN_ADVANCE_SCENE":37,"SEARCH_CHATTERS_IN_ADVANCE_SCENE":38,"SEARCH_DEPARTMENT_SCENE":39,"SEARCH_PANO_TAG_SCENE":40,"SEARCH_PANO_VIEW_SCENE":41,"SEARCH_SLASH_COMMAND_SCENE":42,"SEARCH_OPEN_SEARCH_SCENE":43,"SEARCH_DOCS_WIKI_IN_CHAT_SCENE":44,"PULL_DOCS_WIKI_IN_CHAT_SCENE":45}},"Expr":{"values":{"AND":0,"OR":1}},"SortType":{"values":{"DEFAULT":0,"DESC_BY_TAG_CREATE_TIME":1,"ASC_BY_TAG_CREATE_TIME":2,"DESC_BY_TAG_UPDATE_TIME":3,"ASC_BY_TAG_UPDATE_TIME":4,"DESC_BY_ENTITY_CREATE_TIME":5,"ASC_BY_ENTITY_CREATE_TIME":6,"DESC_BY_ENTITY_UPDATE_TIME":7,"ASC_BY_ENTITY_UPDATE_TIME":8}},"ViewType":{"values":{"TAG":1,"CUSTOM_VIEW":2}},"ViewPermission":{"values":{"DEFAULT_SCOPE":0,"PUBLIC_SCOPE":1,"PRIVATE_SCOPE":2}},"PanoViewUser":{"fields":{"id":{"type":"int64","id":1},"name":{"type":"string","id":2}}},"SceneVariable":{"fields":{"chatId":{"type":"string","id":1},"emailId":{"type":"string","id":2}}},"SlashCommandParam":{"fields":{"commandId":{"rule":"required","type":"string","id":1},"extras":{"rule":"repeated","type":"string","id":2}}},"SmartSearchRequest":{"fields":{"query":{"type":"string","id":1},"begin":{"type":"int32","id":2,"options":{"default":0}},"end":{"type":"int32","id":3,"options":{"default":10}},"isSearchBot":{"type":"bool","id":11,"options":{"default":true}},"isSearchChat":{"type":"bool","id":12,"options":{"default":true}},"isSearchUser":{"type":"bool","id":13,"options":{"default":true}},"scene":{"type":"Scene","id":14,"options":{"default":"SMART_SEARCH_SCENE"}},"sceneVariable":{"type":"SceneVariable","id":15}}},"EntityType":{"values":{"UNKNOWN_ENTITY":0,"CHATTER":1,"CHAT":2,"MESSAGE":3,"BEAR_DOC":4,"EMAIL":5,"APP":6,"ONCALL":7}},"EntityPair":{"fields":{"entityId":{"rule":"required","type":"string","id":1},"type":{"rule":"required","type":"EntityType","id":2},"departmentId":{"type":"string","id":3}}},"EntityContent":{"fields":{"title":{"type":"string","id":1},"text":{"type":"string","id":2}}},"DocExtra":{"fields":{"createTime":{"type":"int64","id":1},"updateTime":{"type":"int64","id":2},"docOwner":{"type":"string","id":3},"docToken":{"type":"string","id":4},"docUrl":{"type":"string","id":5},"docType":{"type":"entities.DocType","id":6},"iconKey":{"type":"string","id":7}}},"EntityMeta":{"fields":{"id":{"rule":"required","type":"string","id":1},"type":{"rule":"required","type":"EntityType","id":2},"icon":{"type":"entities.ImageSet","id":3},"content":{"type":"EntityContent","id":4},"docExtra":{"type":"DocExtra","id":5}}},"SmartSearchResponse":{"fields":{"chats":{"keyType":"string","type":"entities.Chat","id":1},"chatters":{"keyType":"string","type":"entities.Chatter","id":2},"departments":{"keyType":"string","type":"entities.Department","id":3},"hasMore":{"type":"bool","id":4},"total":{"type":"int32","id":5},"pairs":{"rule":"repeated","type":"EntityPair","id":6},"docs":{"keyType":"string","type":"entities.Doc","id":7},"emails":{"keyType":"string","type":"entities.Email","id":8},"docFeeds":{"keyType":"string","type":"entities.DocFeed","id":9}}},"PutSearchFeedbackRequest":{"fields":{"offset":{"type":"int32","id":1,"options":{"default":0}},"entityType":{"type":"EntityType","id":2},"entityId":{"type":"string","id":3},"query":{"type":"string","id":4},"scene":{"type":"Scene","id":5},"feedbacks":{"rule":"repeated","type":"Feedback","id":6},"sceneVariable":{"type":"SceneVariable","id":7},"searchSession":{"type":"string","id":8},"imprId":{"type":"string","id":9}},"nested":{"Feedback":{"fields":{"offset":{"type":"int32","id":1,"options":{"default":0}},"type":{"type":"EntityType","id":2},"id":{"type":"string","id":3}}}}},"PutSearchFeedbackResponse":{"fields":{}},"PullSearchHistoryEntitiesRequest":{"fields":{"localeIdentifier":{"type":"string","id":1,"options":{"default":"zh_CN"}},"scene":{"type":"Scene","id":2}}},"PullSearchHistoryEntitiesResponse":{"fields":{"chats":{"keyType":"string","type":"entities.Chat","id":1},"chatters":{"keyType":"string","type":"entities.Chatter","id":2},"pairs":{"rule":"repeated","type":"EntityPair","id":3},"departments":{"keyType":"string","type":"entities.Department","id":4},"apps":{"keyType":"string","type":"entities.AppStatusInfo","id":5},"oncalls":{"keyType":"string","type":"entities.Oncall","id":6},"chatterList":{"rule":"repeated","type":"FieldMeta","id":7},"chatList":{"rule":"repeated","type":"FieldMeta","id":8}},"nested":{"FieldMeta":{"fields":{"id":{"type":"string","id":1},"displayName":{"type":"string","id":2},"avatarKey":{"type":"string","id":3},"avatar":{"type":"entities.Image","id":4},"chatterId":{"type":"string","id":5}}}}},"DeleteSearchHistoryEntityRequest":{"fields":{"entityId":{"type":"string","id":1}}},"DeleteSearchHistoryEntityResponse":{"fields":{}},"SegmentTextRequest":{"fields":{"texts":{"rule":"repeated","type":"string","id":1}}},"SegmentTextResponse":{"fields":{"sentences":{"rule":"repeated","type":"Sentence","id":1}},"nested":{"Word":{"fields":{"cont":{"type":"string","id":1},"pos":{"type":"string","id":2}}},"Sentence":{"fields":{"text":{"type":"string","id":1},"words":{"rule":"repeated","type":"Word","id":2}}}}},"SearchEmailMessageRequest":{"fields":{"query":{"type":"string","id":1},"begin":{"type":"int32","id":2,"options":{"default":0}},"end":{"type":"int32","id":3,"options":{"default":10}}}},"SearchEmailMessageResponse":{"fields":{"messages":{"rule":"repeated","type":"entities.Message","id":1},"total":{"type":"int32","id":2},"hasMore":{"type":"bool","id":3}}},"SearchDocRequest":{"fields":{"query":{"type":"string","id":1},"begin":{"type":"int32","id":2,"options":{"default":0}},"end":{"type":"int32","id":3,"options":{"default":10}}}},"SearchDocResponse":{"fields":{"metas":{"keyType":"string","type":"EntityMeta","id":1},"pairs":{"rule":"repeated","type":"EntityPair","id":2},"total":{"type":"int32","id":3},"hasMore":{"type":"bool","id":4}}},"SearchResult":{"fields":{"id":{"rule":"required","type":"string","id":1},"type":{"type":"Type","id":2},"imageUrl":{"type":"string","id":3},"imageKey":{"type":"string","id":4},"title":{"type":"string","id":5},"subtitle":{"type":"string","id":6},"titleHitTerms":{"rule":"repeated","type":"string","id":7},"subtitleHitTerms":{"rule":"repeated","type":"string","id":8},"avatarKey":{"type":"string","id":9},"avatar":{"type":"entities.Image","id":10},"exactTitle":{"type":"string","id":11}},"nested":{"Type":{"values":{"UNKNOWN":0,"CHATTER":1,"CHAT":2,"MESSAGE":3,"DOC_FEED":4,"EMAIL":5,"DOC":6,"EMAIL_MESSAGE":7,"THREAD_FEED":8,"CHAT_BOX":9,"ONCALL":10,"CRYPTO_P2P_CHAT":11,"APP":12,"URL":13,"EXTERNAL":14,"WIKI":15,"MAIL_CONTACT":16,"DEPARTMENT":17,"QA":18,"PANO_TAG":19,"PANO_VIEW":20,"SLASH_COMMAND":21,"SECTION":22}}}},"SearchChatterMeta":{"fields":{"id":{"rule":"required","type":"string","id":1},"type":{"type":"entities.ChatterType","id":2},"description":{"type":"string","id":3},"descriptionFlag":{"type":"entities.Chatter.DescriptionFlag","id":4},"isRegistered":{"type":"bool","id":5},"name":{"type":"string","id":6},"botConfig":{"type":"entities.BotConfig","id":7},"enUsName":{"type":"string","id":8},"tenantId":{"type":"string","id":9},"email":{"type":"string","id":10},"inChatIds":{"rule":"repeated","type":"string","id":11},"isReadMessage":{"type":"bool","id":12},"donotDisturbBeforeMs":{"type":"int64","id":13},"acceptSmsPhoneUrgent":{"type":"bool","id":14},"extraTitle":{"type":"string","id":15},"extraHitTerms":{"rule":"repeated","type":"string","id":16},"fullDepartmentPath":{"type":"string","id":17},"subtitleInfos":{"rule":"repeated","type":"SubTitleInfo","id":18},"hasPermission":{"type":"bool","id":19},"timezone":{"type":"entities.TimeZone","id":20},"p2pChatId":{"type":"string","id":21},"cryptoP2pChatId":{"type":"string","id":22},"workStatus":{"type":"entities.WorkStatus","id":23}},"nested":{"SubTitleInfo":{"fields":{"title":{"type":"string","id":1},"hitTerms":{"rule":"repeated","type":"string","id":2}}}}},"SearchCryptoP2PChatMeta":{"fields":{"id":{"rule":"required","type":"string","id":1},"type":{"type":"entities.ChatterType","id":2},"description":{"type":"string","id":3},"descriptionFlag":{"type":"entities.Chatter.DescriptionFlag","id":4},"isRegistered":{"type":"bool","id":5},"name":{"type":"string","id":6},"botConfig":{"type":"entities.BotConfig","id":7},"enUsName":{"type":"string","id":8},"tenantId":{"type":"string","id":9},"chatterId":{"type":"string","id":10},"newMessageCount":{"type":"int32","id":11},"noBadgedNewMessageCount":{"type":"int32","id":12},"isRemind":{"type":"bool","id":13},"readPosition":{"type":"int32","id":14},"readPositionBadgeCount":{"type":"int32","id":15},"lastMessagePosition":{"type":"int32","id":16},"lastMessagePositionBadgeCount":{"type":"int32","id":17},"Tags":{"rule":"repeated","type":"int32","id":18,"options":{"packed":false}},"oncallId":{"type":"int64","id":19},"isCrossTenant":{"type":"bool","id":20},"isMeeting":{"type":"bool","id":21},"isTenant":{"type":"bool","id":22},"isPublic":{"type":"bool","id":23},"isDepartment":{"type":"bool","id":24},"isCrypto":{"type":"bool","id":25}}},"SearchP2PChatMeta":{"fields":{"id":{"rule":"required","type":"string","id":1},"type":{"type":"entities.ChatterType","id":2},"tenantId":{"type":"string","id":3},"chatterId":{"type":"string","id":4},"newMessageCount":{"type":"int32","id":5},"noBadgedNewMessageCount":{"type":"int32","id":6},"isRemind":{"type":"bool","id":7},"readPosition":{"type":"int32","id":8},"readPositionBadgeCount":{"type":"int32","id":9},"lastMessagePosition":{"type":"int32","id":10},"lastMessagePositionBadgeCount":{"type":"int32","id":11},"Tags":{"rule":"repeated","type":"int32","id":12,"options":{"packed":false}},"oncallId":{"type":"int64","id":13},"isCrossTenant":{"type":"bool","id":14},"isMeeting":{"type":"bool","id":15},"isTenant":{"type":"bool","id":16},"isPublic":{"type":"bool","id":17},"isDepartment":{"type":"bool","id":18},"isCrypto":{"type":"bool","id":19},"isRegistered":{"type":"bool","id":20}}},"SearchChatMeta":{"fields":{"id":{"rule":"required","type":"string","id":1},"type":{"type":"entities.Chat.Type","id":2},"memberCount":{"type":"int32","id":3},"userCount":{"type":"int32","id":4},"newMessageCount":{"type":"int32","id":5},"noBadgedNewMessageCount":{"type":"int32","id":6},"isRemind":{"type":"bool","id":7},"name":{"type":"string","id":8},"isDepartment":{"type":"bool","id":9},"isTenant":{"type":"bool","id":10},"oncallId":{"type":"string","id":11},"lastMessagePosition":{"type":"int32","id":12},"readPosition":{"type":"int32","id":13},"readPositionBadgeCount":{"type":"int32","id":14},"lastMessagePositionBadgeCount":{"type":"int32","id":15},"isCrypto":{"type":"bool","id":16},"isPublicV2":{"type":"bool","id":17},"isMember":{"type":"bool","id":18},"allowPost":{"type":"bool","id":19},"lastThreadPosition":{"type":"int32","id":20},"readThreadPosition":{"type":"int32","id":21},"readThreadPositionBadgeCount":{"type":"int32","id":22},"lastThreadPositionBadgeCount":{"type":"int32","id":23},"description":{"type":"string","id":24},"isMeeting":{"type":"bool","id":25},"tags":{"rule":"repeated","type":"int32","id":26,"options":{"packed":false}},"mode":{"type":"entities.Chat.ChatMode","id":27},"isCrossTenant":{"type":"bool","id":28},"isPublic":{"type":"bool","id":29},"isCrossWithKa":{"type":"bool","id":30},"ownerId":{"type":"string","id":31}}},"SearchMessageMeta":{"fields":{"id":{"rule":"required","type":"string","id":1},"type":{"type":"entities.Message.Type","id":2},"updateTime":{"type":"int64","id":3},"position":{"type":"int32","id":4},"chatId":{"type":"string","id":5},"channelId":{"type":"string","id":6},"threadId":{"type":"string","id":7},"fileMeta":{"type":"entities.FileContent","id":8},"fromId":{"type":"string","id":9},"fromName":{"type":"string","id":10},"threadPosition":{"type":"int32","id":11},"threadChatPosition":{"type":"int32","id":12},"docExtraInfos":{"rule":"repeated","type":"DocExtraInfo","id":13},"fromAvatarKey":{"type":"string","id":14},"message":{"type":"entities.Message","id":15},"fromAvatar":{"type":"entities.Image","id":16},"p2pBotId":{"type":"int64","id":17},"p2pChatterId":{"type":"int64","id":18},"isP2pChat":{"type":"bool","id":19}},"nested":{"DocExtraInfo":{"fields":{"type":{"type":"entities.DocType","id":1},"url":{"type":"string","id":2},"name":{"type":"string","id":3}}}}},"SearchDocMeta":{"fields":{"id":{"rule":"required","type":"string","id":1},"type":{"type":"entities.DocType","id":2},"updateTime":{"type":"int64","id":3},"url":{"type":"string","id":4},"ownerName":{"type":"string","id":5},"ownerId":{"type":"string","id":6},"messageId":{"type":"string","id":7},"position":{"type":"int32","id":8},"isCrossTenant":{"type":"bool","id":9},"createTime":{"type":"int64","id":10},"lastOpenTime":{"type":"int64","id":11},"editUserId":{"type":"string","id":12},"editUserName":{"type":"string","id":13},"strType":{"type":"string","id":14},"chatId":{"type":"string","id":15},"threadId":{"type":"string","id":16},"threadPosition":{"type":"int32","id":17},"threadChatPosition":{"type":"int32","id":18},"icon":{"type":"entities.Icon","id":19},"wikiInfo":{"rule":"repeated","type":"WikiInfo","id":20}}},"WikiInfo":{"fields":{"wikiToken":{"type":"string","id":1},"spaceId":{"type":"int64","id":2},"spaceName":{"type":"string","id":3},"url":{"type":"string","id":4}}},"SearchEmailMeta":{"fields":{"id":{"rule":"required","type":"string","id":1},"newMessageCount":{"type":"int32","id":2}}},"SearchThreadMeta":{"fields":{"id":{"rule":"required","type":"string","id":1},"channelId":{"type":"string","id":2},"channelType":{"type":"entities.ChannelType","id":3},"topic":{"type":"string","id":4},"newMessageCount":{"type":"int32","id":5},"noBadgedNewMessageCount":{"type":"int32","id":6},"updateTime":{"type":"int64","id":7}}},"SearchOncallMeta":{"fields":{"id":{"rule":"required","type":"string","id":1},"name":{"type":"string","id":2},"enName":{"type":"string","id":3},"description":{"type":"string","id":4},"tagIds":{"rule":"repeated","type":"string","id":5},"botId":{"rule":"required","type":"string","id":6},"tenantId":{"type":"string","id":7},"tags":{"rule":"repeated","type":"int32","id":8,"options":{"packed":false}},"faqId":{"type":"string","id":9},"faqTitle":{"type":"string","id":10},"crossTagInfo":{"type":"string","id":11}}},"SearchAppMeta":{"fields":{"appStatusInfo":{"type":"entities.AppStatusInfo","id":1},"newMessageCount":{"type":"int32","id":2},"notificationType":{"type":"int32","id":3}}},"SearchUnAvailableAppMeta":{"fields":{"unavailableAppStatusInfo":{"type":"entities.UnavailableIsvStatusInfo","id":1}}},"SearchURLMeta":{"fields":{"id":{"rule":"required","type":"string","id":1},"chatId":{"type":"string","id":2},"messageId":{"type":"string","id":3},"fromId":{"type":"string","id":4},"createTime":{"type":"int64","id":5},"url":{"type":"string","id":6},"fromName":{"type":"string","id":7},"position":{"type":"int32","id":8},"threadId":{"type":"string","id":9},"threadPosition":{"type":"int32","id":10},"threadChatPosition":{"type":"int32","id":11}}},"SearchExternalMeta":{"fields":{"id":{"rule":"required","type":"string","id":1},"url":{"type":"string","id":2},"updateTime":{"type":"int64","id":3},"source":{"type":"string","id":4}}},"SearchWikiMeta":{"fields":{"id":{"rule":"required","type":"string","id":1},"spaceId":{"rule":"required","type":"string","id":2},"spaceName":{"rule":"required","type":"string","id":3},"url":{"type":"string","id":4},"docId":{"rule":"required","type":"string","id":5}}},"SearchPanoTagMeta":{"fields":{}},"SearchPanoViewMeta":{"fields":{"viewId":{"rule":"required","type":"int64","id":1},"viewType":{"type":"ViewType","id":2},"name":{"type":"string","id":3},"appId":{"type":"string","id":4},"tenantId":{"type":"int64","id":5},"description":{"type":"string","id":6},"owners":{"rule":"repeated","type":"PanoViewUser","id":7},"createdAt":{"type":"int64","id":8},"updatedAt":{"type":"int64","id":9},"isAvailable":{"type":"bool","id":10},"permission":{"type":"ViewPermission","id":11}}},"SlashCommandMeta":{"fields":{"slashCommandType":{"rule":"required","type":"SlashCommandType","id":1},"appLink":{"type":"string","id":2},"description":{"type":"string","id":3},"tag":{"rule":"repeated","type":"SlashCommandTag","id":4},"extra":{"type":"string","id":6}},"nested":{"SlashCommandType":{"values":{"ENTITY":0,"FILTER":1}},"SlashCommandTag":{"fields":{"type":{"rule":"required","type":"int32","id":1},"text":{"rule":"required","type":"string","id":2}}}}},"SearchQaMeta":{"fields":{"id":{"rule":"required","type":"string","id":1},"name":{"type":"string","id":2},"description":{"type":"string","id":3},"sourceType":{"type":"SourceType","id":4},"sourceId":{"type":"string","id":5},"faqId":{"type":"string","id":6},"sourceUrl":{"type":"string","id":7},"categoryName":{"type":"string","id":8},"categoryDesc":{"type":"string","id":9},"updateTime":{"type":"int64","id":10},"avatarKey":{"type":"string","id":11},"avatar":{"type":"entities.Image","id":12},"userId":{"type":"string","id":13},"sourceAnchorUrl":{"type":"string","id":14},"docType":{"type":"entities.DocType","id":15}},"nested":{"SourceType":{"values":{"UNKNOWN_SOURCE":0,"ONCALL":1,"DOC":2,"APP":3,"WIKI":4}}}},"ChatFilterParam":{"fields":{"chatTypes":{"rule":"repeated","type":"ChatType","id":1,"options":{"packed":false}},"chatMemberIds":{"rule":"repeated","type":"string","id":2},"chatMessageKey":{"type":"string","id":3},"chatModes":{"rule":"repeated","type":"ChatMode","id":4,"options":{"packed":false}},"sortType":{"type":"SortType","id":5},"excludeIds":{"rule":"repeated","type":"string","id":6}},"nested":{"ChatType":{"values":{"UNKNOWNTAB":0,"PRIVATE":1,"OUTER":2,"PUBLIC_JOIN":3,"PUBLIC_ABSENT":4}},"ChatMode":{"values":{"UNLIMITED":0,"NORMAL":1,"THREAD":2}}}},"MessageFilterParam":{"fields":{"chatAtUserIds":{"rule":"repeated","type":"string","id":1},"mustFromTypes":{"rule":"repeated","type":"MessageFromType","id":2,"options":{"packed":false}},"mustNotFromTypes":{"rule":"repeated","type":"MessageFromType","id":3,"options":{"packed":false}},"sortType":{"type":"SortType","id":4},"excludeIds":{"rule":"repeated","type":"string","id":5},"messageType":{"type":"entities.Message.Type","id":6},"messageTypes":{"rule":"repeated","type":"entities.Message.Type","id":7,"options":{"packed":false}}},"nested":{"MessageFromType":{"values":{"BOT":0,"USER":1}}}},"DocFilterParam":{"fields":{"docSearchType":{"rule":"repeated","type":"DocSearchType","id":1,"options":{"packed":false}}},"nested":{"DocSearchType":{"values":{"UNKNOWN":0,"TITLE":1,"FULL_TEXT":2,"MATCH_COMMENT":3}}}},"ChatterFilterParam":{"fields":{"fieldKey":{"rule":"required","type":"string","id":1},"filters":{"rule":"repeated","type":"string","id":2}}},"CalendarFilterParam":{"fields":{"searchMeetingChat":{"type":"bool","id":1},"removeChatIds":{"rule":"repeated","type":"string","id":2}}},"PanoTagFilterParam":{"fields":{"tagIds":{"rule":"repeated","type":"string","id":1},"tagIdsExpr":{"type":"Expr","id":2},"tagIdValues":{"rule":"repeated","type":"string","id":3},"tagIdValuesExpr":{"type":"Expr","id":4},"tagIdsAndTagIdValuesExpr":{"type":"Expr","id":5},"tagTypes":{"rule":"repeated","type":"int64","id":6,"options":{"packed":false}},"creatorIds":{"rule":"repeated","type":"int64","id":7,"options":{"packed":false}},"descriptionKey":{"type":"string","id":8},"owners":{"rule":"repeated","type":"int64","id":9,"options":{"packed":false}},"createTimeBefore":{"type":"int64","id":10},"createTimeAfter":{"type":"int64","id":11},"sortType":{"type":"SortType","id":12}}},"IntegrationSearchRequest":{"fields":{"query":{"rule":"required","type":"string","id":1},"localeIdentifier":{"type":"string","id":2,"options":{"default":"zh_CN"}},"begin":{"type":"int32","id":3,"options":{"default":0}},"end":{"type":"int32","id":4,"options":{"default":10}},"scene":{"rule":"required","type":"Scene","id":5},"filterParam":{"type":"FilterParam","id":6},"searchSession":{"type":"string","id":7},"queryState":{"type":"QueryState","id":8},"extras":{"type":"string","id":9},"extraParam":{"type":"SearchExtraParam","id":10},"imprId":{"type":"string","id":11},"slashCommandParam":{"type":"SlashCommandParam","id":12}},"nested":{"FilterParam":{"fields":{"chatIds":{"rule":"repeated","type":"string","id":1},"emailIds":{"rule":"repeated","type":"string","id":2},"messageCreatorIds":{"rule":"repeated","type":"string","id":3},"messageStartTime":{"type":"int64","id":4,"options":{"default":0}},"messageEndTime":{"type":"int64","id":5,"options":{"default":0}},"needSearchOuterTenant":{"type":"bool","id":6},"lastCreateTime":{"type":"int64","id":7,"options":{"default":0}},"lastMessageId":{"type":"string","id":8},"count":{"type":"int32","id":9,"options":{"default":10}},"reverse":{"type":"bool","id":10,"options":{"default":false}},"docCreatorId":{"type":"string","id":11},"docType":{"type":"entities.DocType","id":12},"docCreatorIds":{"rule":"repeated","type":"string","id":13},"docTypes":{"rule":"repeated","type":"string","id":14},"timeRange":{"type":"TimeLabel","id":15},"doNotSearchResignedUser":{"type":"bool","id":16},"isReadMessageId":{"type":"string","id":17},"externalId":{"type":"string","id":18},"threadIds":{"rule":"repeated","type":"string","id":19},"modifiers":{"rule":"repeated","type":"Modifier","id":20},"messageToIds":{"rule":"repeated","type":"string","id":21},"messageTags":{"rule":"repeated","type":"MessageTag","id":22,"options":{"packed":false}},"chatFilterParam":{"type":"ChatFilterParam","id":23},"chatterFilterParams":{"rule":"repeated","type":"ChatterFilterParam","id":24},"calendarFilterParam":{"type":"CalendarFilterParam","id":25},"docFilterParam":{"type":"DocFilterParam","id":26},"messageFilterParam":{"type":"MessageFilterParam","id":27},"panoTagFilterParam":{"type":"PanoTagFilterParam","id":28},"docSharerIds":{"rule":"repeated","type":"string","id":29}},"nested":{"TimeLabel":{"values":{"UNLIMITED":0,"YESTERDAY":1,"LAST_7_DAYS":2,"LAST_30_DAYS":3,"LAST_90_DAYS":4}},"MessageTag":{"values":{"UNKNOWN":0,"PIN":1}}}},"QueryState":{"values":{"Expand":0,"Shrink":1}},"SearchExtraParam":{"fields":{"chatterPermissonsRequest":{"type":"bytes","id":1}}}}},"SearchResultSummary":{"fields":{"type":{"rule":"required","type":"SearchResult.Type","id":1},"recallNums":{"type":"int32","id":2},"haveErr":{"rule":"required","type":"bool","id":3},"errMsg":{"type":"string","id":4}}},"SearchTabName":{"values":{"UNKNOWN_TAB":0,"MESSAGE_TAB":1,"DOCS_TAB":2,"WIKI_TAB":3,"CHAT_TAB":4,"CALENDAR_TAB":5,"APP_TAB":6,"EMAIL_TAB":7,"CHATTER_TAB":8,"PANO_TAB":9,"HELPDESK_TAB":10,"OPEN_SEARCH_TAB":255}},"SuggestJumpTabInfo":{"fields":{"formattedText":{"type":"string","id":1},"searchTab":{"type":"SearchTabName","id":2}}},"IntegrationSearchResponse":{"fields":{"results":{"rule":"repeated","type":"SearchResult","id":1},"total":{"type":"int32","id":2},"hasMore":{"type":"bool","id":3},"chatters":{"keyType":"string","type":"SearchChatterMeta","id":4},"chats":{"keyType":"string","type":"SearchChatMeta","id":5},"messages":{"keyType":"string","type":"SearchMessageMeta","id":6},"docs":{"keyType":"string","type":"SearchDocMeta","id":7},"emails":{"keyType":"string","type":"SearchEmailMeta","id":8},"threads":{"keyType":"string","type":"SearchThreadMeta","id":9},"oncalls":{"keyType":"string","type":"SearchOncallMeta","id":10},"messageCount":{"type":"string","id":11},"cryptoP2pChats":{"keyType":"string","type":"SearchCryptoP2PChatMeta","id":12},"apps":{"keyType":"string","type":"SearchAppMeta","id":13},"urls":{"keyType":"string","type":"SearchURLMeta","id":14},"imprId":{"type":"string","id":15},"externals":{"keyType":"string","type":"SearchExternalMeta","id":16},"extras":{"type":"string","id":17},"wikis":{"keyType":"string","type":"SearchWikiMeta","id":18},"extraFields":{"type":"SearchExtraFields","id":19},"p2pChats":{"keyType":"string","type":"SearchP2PChatMeta","id":20},"summary":{"rule":"repeated","type":"SearchResultSummary","id":21},"unavailableApps":{"keyType":"string","type":"SearchUnAvailableAppMeta","id":22},"Qas":{"keyType":"string","type":"SearchQaMeta","id":23},"suggestJumpTabs":{"rule":"repeated","type":"SearchTabName","id":24,"options":{"packed":false}},"panoTags":{"keyType":"string","type":"SearchPanoTagMeta","id":25},"panoViews":{"keyType":"string","type":"SearchPanoViewMeta","id":26},"slashCommands":{"keyType":"string","type":"SlashCommandMeta","id":27},"sections":{"rule":"repeated","type":"SectionMeta","id":28,"options":{"deprecated":true}},"resultWithSections":{"rule":"repeated","type":"SearchResult","id":29},"sectionPortions":{"keyType":"string","type":"SectionMeta","id":30},"sideCard":{"type":"SideCard","id":31},"suggestJumpTabInfos":{"rule":"repeated","type":"SuggestJumpTabInfo","id":32}},"nested":{"SearchExtraFields":{"fields":{"chatterPermissonsResponse":{"type":"bytes","id":1}}}}},"SearchHistoryInfo":{"fields":{"query":{"rule":"required","type":"string","id":1},"filterParam":{"type":"IntegrationSearchRequest.FilterParam","id":2},"tabIndex":{"type":"int32","id":3},"id":{"type":"string","id":4},"src":{"type":"Source","id":5},"tabType":{"type":"TabType","id":6,"options":{"default":"ALL"}},"externalType":{"type":"ExternalType","id":7,"options":{"default":"MAINTAB"}},"externalIds":{"rule":"repeated","type":"string","id":8}},"nested":{"Source":{"values":{"UNKNOWN":0,"MAIN":1,"MESSAGE":2,"SPACE":3,"EXTERNAL":4,"WIKI":5,"CHAT":6,"USER":7}},"TabType":{"values":{"UNKNOWNTAB":0,"ALL":1,"FILE":2,"LINK":3}},"ExternalType":{"values":{"UNKNOWNTYPE":0,"MAINTAB":1,"SUBTAB":2}}}},"PutSearchHistoryRequest":{"fields":{"entry":{"type":"SearchHistoryInfo","id":1}}},"PutSearchHistoryResponse":{"fields":{"id":{"type":"string","id":1}}},"PullSearchHistoryRequest":{"fields":{}},"PullSearchHistoryResponse":{"fields":{"entries":{"rule":"repeated","type":"SearchHistoryInfo","id":1}}},"DeleteSearchHistoryRequest":{"fields":{"id":{"rule":"required","type":"string","id":1},"deleteAll":{"type":"bool","id":2}}},"DeleteSearchHistoryResponse":{"fields":{}},"Modifier":{"fields":{"key":{"type":"string","id":1},"values":{"rule":"repeated","type":"string","id":2},"modifierValues":{"rule":"repeated","type":"ModifierValue","id":3}}},"ModifierValue":{"fields":{"value":{"rule":"required","type":"string","id":1},"query":{"type":"string","id":2},"entity":{"type":"SearchResult.Type","id":3}}},"PullSearchSettingRequest":{"fields":{}},"PullSearchSettingResponse":{"fields":{"modifiers":{"rule":"repeated","type":"Modifier","id":1}}},"VideoChatSearchRequest":{"fields":{"query":{"rule":"required","type":"string","id":1},"localeIdentifier":{"type":"string","id":2,"options":{"default":"zh_CN"}},"begin":{"type":"int32","id":3,"options":{"default":0}},"end":{"type":"int32","id":4,"options":{"default":10}},"vendorType":{"type":"VendorType","id":5}},"nested":{"VendorType":{"values":{"UNKNOWN":0,"ZOOM":1,"RTC":2}}}},"VideoChatSearchResponse":{"fields":{"results":{"rule":"required","type":"IntegrationSearchResponse","id":1},"status":{"keyType":"string","type":"entities.ChatterMeetingStatus","id":2},"versionSupport":{"keyType":"string","type":"bool","id":3},"executiveMode":{"keyType":"string","type":"entities.UserConfig","id":4}}},"PullSearchFiltersRequest":{"fields":{}},"PullSearchFiltersResponse":{"fields":{"filters":{"rule":"repeated","type":"FilterMeta","id":1}},"nested":{"FilterMeta":{"fields":{"fieldKey":{"rule":"required","type":"string","id":1},"isCustmizedFiled":{"type":"bool","id":2},"filterName":{"type":"string","id":3},"searchScene":{"type":"Scene","id":4}}}}},"CustomizeFieldSearchRequest":{"fields":{"query":{"rule":"required","type":"string","id":1},"fieldKey":{"rule":"required","type":"string","id":2},"begin":{"type":"int32","id":3,"options":{"default":0}},"end":{"type":"int32","id":4,"options":{"default":10}}}},"CustomizeFieldSearchResponse":{"fields":{"results":{"rule":"repeated","type":"string","id":1},"total":{"type":"int32","id":2},"hasMore":{"type":"bool","id":3}}},"SectionMeta":{"fields":{"id":{"type":"string","id":1},"header":{"type":"section.SectionHeader","id":2},"footer":{"type":"section.SectionFooter","id":3},"items":{"rule":"repeated","type":"SearchResult","id":4},"extras":{"type":"string","id":5}}},"SideCard":{"fields":{"entityCards":{"rule":"repeated","type":"EntityCard","id":1}}},"EntityCard":{"fields":{"id":{"rule":"required","type":"string","id":1}}},"SearchTab":{"fields":{"label":{"rule":"required","type":"string","id":1},"type":{"rule":"required","type":"SearchTabName","id":2},"appId":{"type":"string","id":3},"iconUrl":{"type":"string","id":4}}},"PullUserSearchTabsRequest":{"fields":{}},"PullUserSearchTabsResponse":{"fields":{"searchTabs":{"rule":"repeated","type":"SearchTab","id":1}}},"PutUserSearchTabsRequest":{"fields":{"searchTabs":{"rule":"repeated","type":"SearchTab","id":1}}},"PutUserSearchTabsResponse":{"fields":{}},"PullAvailableSearchTabsRequest":{"fields":{}},"PullAvailableSearchTabsResponse":{"fields":{"searchTabs":{"rule":"repeated","type":"SearchTab","id":1}}}}}}')},,function(e){e.exports=JSON.parse('{"a":{"options":{"optimize_for":"LITE_RUNTIME","go_package":"git.byted.org/ee/lark/im-protobuf/improto/messages","java_package":"com.ss.android.lark.pb"},"nested":{"MessageGreeter":{"methods":{"send":{"requestType":"PutMessageRequest","responseType":"PutMessageResponse"},"transmit":{"requestType":"PutTransmitMessageRequest","responseType":"PutTransmitMessageResponse"},"get":{"requestType":"PullMessagesByIdsRequest","responseType":"PullMessagesByIdsResponse"},"getByPositions":{"requestType":"PullMessagesByPositionsRequest","responseType":"PullMessagesByPositionsResponse"},"delete":{"requestType":"DeleteMessageRequest","responseType":"DeleteMessageResponse"},"getReadState":{"requestType":"PullMessageReadStateRequest","responseType":"PullMessageReadStateResponse"},"getChatMessages":{"requestType":"PullChatMessagesRequest","responseType":"PullChatMessagesResponse"}}},"PutMessageRequest":{"fields":{"type":{"type":"entities.Message.Type","id":1},"content":{"type":"Content","id":2},"chatId":{"type":"string","id":3,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"rootId":{"type":"string","id":4},"parentId":{"type":"string","id":5},"cid":{"type":"string","id":6},"isNotified":{"type":"bool","id":7,"options":{"default":true}},"sendToChat":{"type":"bool","id":8,"options":{"default":true}},"version":{"type":"int32","id":9,"options":{"default":0}},"isThreadGroupTopic":{"type":"bool","id":10},"isAnonymous":{"type":"bool","id":11},"leftStaticResourceKeys":{"rule":"repeated","type":"string","id":101},"thriftMessage":{"type":"bytes","id":102}},"nested":{"Content":{"fields":{"text":{"type":"string","id":1},"imageKey":{"type":"string","id":2},"isOriginSource":{"type":"bool","id":31},"title":{"type":"string","id":3},"attachments":{"rule":"repeated","type":"string","id":4},"isNotified":{"type":"bool","id":5},"audioKey":{"type":"string","id":7},"audioDuration":{"type":"int32","id":8},"chatId":{"type":"string","id":9},"cryptoToken":{"type":"string","id":10},"fileKey":{"type":"string","id":6},"fileName":{"type":"string","id":11},"fileMime":{"type":"string","id":12},"fileSize":{"type":"int64","id":13},"fileTransMode":{"type":"FileTransMode","id":28},"senderDeviceId":{"type":"string","id":29},"richText":{"type":"entities.RichText","id":14},"duration":{"type":"int32","id":15},"calendarEvent":{"type":"entities.CalendarEvent","id":16},"attendeesCount":{"type":"int32","id":17},"isGroupAnnouncement":{"type":"bool","id":18},"audioRecognition":{"type":"entities.AudioRecognition","id":19},"cardType":{"type":"entities.CardContent.Type","id":20},"actions":{"keyType":"string","type":"entities.CardAction","id":21},"cardExtra":{"type":"entities.CardContent.ExtraType","id":22},"cardMinVersion":{"type":"entities.MinVersion","id":26},"location":{"type":"entities.LocationContent","id":23},"stickerSetId":{"type":"string","id":24},"stickerId":{"type":"string","id":25},"shareUserId":{"type":"string","id":27},"todoOperationContent":{"type":"entities.TodoOperationContent","id":30}},"nested":{"FileTransMode":{"values":{"UNKNOWN":0,"LAN_TRANS":1}}}}}},"PutMessageResponse":{"fields":{"message":{"rule":"required","type":"entities.Message","id":1},"positions":{"keyType":"string","type":"int32","id":2},"thread":{"type":"entities.Thread","id":3},"feedCard":{"type":"entities.FeedCard","id":4},"feedCards":{"keyType":"string","type":"entities.FeedCard","id":5}}},"BatchPutP2PChatMessageRequest":{"fields":{"toUserIds":{"rule":"repeated","type":"string","id":1},"content":{"rule":"required","type":"PutMessageRequest.Content","id":2},"toChatIds":{"rule":"repeated","type":"string","id":3,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"type":{"type":"entities.Message.Type","id":4}}},"BatchPutP2PChatMessageResponse":{"fields":{}},"FileUpdateLanTransStatusRequest":{"fields":{"messageId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=msg"}},"transStatus":{"rule":"required","type":"entities.TransStatus","id":2},"receiverDeviceId":{"type":"string","id":3}}},"FileUpdateLanTransStatusResponse":{"fields":{"message":{"type":"entities.Message","id":1}}},"FileUpdateToOfflineModeRequest":{"fields":{"messageId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=msg"}},"fileKey":{"rule":"required","type":"string","id":2},"chatId":{"type":"string","id":3}}},"FileUpdateToOfflineModeResponse":{"fields":{"message":{"type":"entities.Message","id":1}}},"PatchMessageRequest":{"fields":{"content":{"rule":"required","type":"Content","id":1},"id":{"rule":"required","type":"string","id":2}},"nested":{"Content":{"fields":{"text":{"type":"string","id":1},"title":{"type":"string","id":2}}}}},"PatchMessageResponse":{"fields":{"message":{"rule":"required","type":"entities.Message","id":1}}},"DeleteMessageRequest":{"fields":{"id":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=msg"}}}},"DeleteMessageResponse":{"fields":{"message":{"rule":"required","type":"string","id":1}}},"DeleteGroupMessageRequest":{"fields":{"id":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=msg"}}}},"DeleteGroupMessageResponse":{"fields":{"removerType":{"type":"entities.Message.RemoverType","id":1}}},"PullChatMessagesRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"position":{"type":"int32","id":2,"options":{"default":0}},"count":{"type":"int32","id":3,"options":{"default":20}},"type":{"rule":"required","type":"Type","id":4,"options":{"default":"LATEST"}}},"nested":{"Type":{"values":{"BEFORE":1,"AFTER":2,"LATEST":3}}}},"PullChatMessagesResponse":{"fields":{"messages":{"keyType":"string","type":"entities.Message","id":1}}},"PutReadMessagesRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"messageIds":{"rule":"repeated","type":"string","id":2},"maxPosition":{"rule":"required","type":"int32","id":3,"options":{"default":-1}},"threadId":{"type":"string","id":4},"threadMaxPosition":{"type":"int32","id":5}}},"PutReadMessagesResponse":{"fields":{"lastMessagePosition":{"type":"int32","id":1},"newMessageCount":{"type":"int32","id":2},"readTimes":{"keyType":"string","type":"int64","id":3},"threadLastMessagePosition":{"type":"int32","id":4},"threadNewMessageCount":{"type":"int32","id":5},"threadReadPosition":{"type":"int32","id":8},"threadReadPositionBadgeCount":{"type":"int32","id":9},"readPosition":{"type":"int32","id":6},"readPositionBadgedCount":{"type":"int32","id":7}}},"PushMessageReadCountNotice":{"fields":{"pairs":{"rule":"repeated","type":"Pair","id":1}},"nested":{"Pair":{"fields":{"chatId":{"type":"string","id":1},"messageId":{"type":"string","id":2},"count":{"type":"int32","id":3},"chatterIds":{"rule":"repeated","type":"string","id":4},"unreadCount":{"type":"int32","id":5},"readCount":{"type":"int32","id":6},"type":{"type":"Type","id":7,"options":{"default":"CHAT"}},"lastUserReadInfo":{"type":"UserReadInfo","id":8}},"nested":{"Type":{"values":{"CHAT":1,"EMAIL":2}},"UserReadInfo":{"fields":{"userId":{"type":"string","id":1},"readTime":{"type":"int64","id":2}}}}}}},"PullMessageReadStateRequest":{"fields":{"pairs":{"rule":"repeated","type":"Pair","id":1},"needUsers":{"type":"bool","id":2,"options":{"default":true,"deprecated":true}}},"nested":{"Pair":{"fields":{"chatId":{"type":"string","id":1},"messageId":{"type":"string","id":2},"filterUserIds":{"rule":"repeated","type":"string","id":3},"enableFilter":{"type":"bool","id":4,"options":{"default":false}}}}}},"PullMessageReadStateResponse":{"fields":{"readStates":{"keyType":"string","type":"ReadState","id":1}},"nested":{"ReadState":{"fields":{"readUserIds":{"rule":"repeated","type":"string","id":1},"unreadUserIds":{"rule":"repeated","type":"string","id":2},"unreadCount":{"type":"int32","id":3},"readCount":{"type":"int32","id":4},"lastUserReadInfo":{"type":"UserReadInfo","id":5}},"nested":{"UserReadInfo":{"fields":{"userId":{"type":"string","id":1},"readTime":{"type":"int64","id":2}}}}}}},"PullMessageReadUsersRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"messageId":{"rule":"required","type":"string","id":2},"offset":{"rule":"required","type":"string","id":3},"limit":{"rule":"required","type":"int32","id":4},"needTotalCount":{"type":"bool","id":5,"options":{"default":false}}}},"PullMessageReadUsersResponse":{"fields":{"chatters":{"rule":"repeated","type":"entities.Chatter","id":1},"nextOffset":{"rule":"required","type":"string","id":2},"totalCount":{"type":"int32","id":3}}},"PullMessageIReadStateRequest":{"fields":{"messageIds":{"rule":"repeated","type":"string","id":1}}},"PullMessageIReadStateResponse":{"fields":{"readStatus":{"keyType":"string","type":"bool","id":1}}},"PullMessageMeReadStateRequest":{"fields":{"messageIds":{"rule":"repeated","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=msg"}},"needReadTime":{"type":"bool","id":2,"options":{"default":false}}}},"PullMessageMeReadStateResponse":{"fields":{"readStatus":{"keyType":"string","type":"bool","id":1},"readTimes":{"keyType":"string","type":"int64","id":2}}},"ChannelInvisibleMessages":{"fields":{"channelId":{"rule":"required","type":"string","id":1},"channelType":{"type":"entities.ChannelType","id":2},"invisibleMessages":{"rule":"repeated","type":"entities.InvisibleMessage","id":3}}},"PushMessagesRequest":{"fields":{"messages":{"keyType":"string","type":"entities.Message","id":1},"notices":{"keyType":"string","type":"entities.Notice","id":2},"participatedMessageIds":{"keyType":"string","type":"bool","id":3},"threads":{"keyType":"string","type":"entities.Thread","id":4},"feedCards":{"keyType":"string","type":"entities.FeedCard","id":5},"channelInvisibleMessages":{"rule":"repeated","type":"ChannelInvisibleMessages","id":6},"feedCardsV2":{"keyType":"string","type":"entities.FeedCard","id":7},"forcePush":{"keyType":"string","type":"bool","id":8},"messagesAtMe":{"keyType":"string","type":"bool","id":9}}},"PushMessagesResponse":{"fields":{"messageIds":{"rule":"repeated","type":"string","id":1}}},"PushMessageStaticResourceDeleted":{"fields":{"messageId":{"rule":"required","type":"int64","id":1},"subMessagesMap":{"keyType":"int64","type":"SubMessageIDs","id":2},"staticResourceKeys":{"rule":"repeated","type":"string","id":3}},"nested":{"SubMessageIDs":{"fields":{"subMessageIds":{"rule":"repeated","type":"int64","id":1,"options":{"packed":false}}}}}},"PushBatchCopyMessages":{"fields":{"messageIds":{"rule":"repeated","type":"int64","id":1,"options":{"packed":false}},"feedCard":{"rule":"required","type":"entities.FeedCard","id":2},"lastMessage":{"rule":"required","type":"entities.Message","id":3}}},"PushTopicMessages":{"fields":{"messages":{"keyType":"string","type":"entities.Message","id":1},"threads":{"keyType":"string","type":"entities.Thread","id":2},"feedCards":{"keyType":"string","type":"entities.FeedCard","id":3},"channelInvisibleMessages":{"rule":"repeated","type":"ChannelInvisibleMessages","id":4},"forcePush":{"keyType":"string","type":"bool","id":5},"messagesAtMe":{"keyType":"string","type":"bool","id":6}}},"PullMessagesByIdsRequest":{"fields":{"messageIds":{"rule":"repeated","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=msg"}}}},"PullMessagesByIdsResponse":{"fields":{"messages":{"keyType":"string","type":"entities.Message","id":1}}},"PullMessagesByPositionsRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"positions":{"rule":"repeated","type":"int32","id":2,"options":{"packed":false}},"type":{"type":"Type","id":3,"options":{"default":"CHAT"}},"id":{"type":"string","id":4},"maxRelativeTime":{"type":"int64","id":5},"onlyVisibleMessages":{"type":"bool","id":6,"options":{"default":false}},"direction":{"type":"Direction","id":7},"upPositions":{"rule":"repeated","type":"int32","id":8,"options":{"packed":false}},"downPositions":{"rule":"repeated","type":"int32","id":9,"options":{"packed":false}},"upFilterOutPositions":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"downFilterOutPositions":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}}},"nested":{"Type":{"values":{"CHAT":1,"EMAIL":2}},"Direction":{"values":{"UNKNOWN":1,"UP":2,"DOWN":3,"BIDIRECTIONAL":4}}}},"PullMessagesByPositionsResponse":{"fields":{"messages":{"keyType":"int32","type":"entities.Message","id":1},"cryptoChatFirstPosition":{"type":"int32","id":2},"readTimeMs":{"keyType":"int64","type":"int64","id":3},"invisibleMessages":{"keyType":"int32","type":"entities.InvisibleMessage","id":4},"cryptoChatInfo":{"type":"entities.CryptoChatInfo","id":5},"channelId":{"type":"string","id":6},"channelType":{"type":"entities.ChannelType","id":7},"burnedMessages":{"rule":"repeated","type":"int32","id":8,"options":{"packed":false}},"expiredMessages":{"rule":"repeated","type":"int32","id":9,"options":{"packed":false}}}},"ForwardTargetType":{"values":{"UNKNOWN_FORWARD_TARGET_TYPE":0,"CHAT_ONLY":1,"TOPIC_ONLY":2,"CHAT_AND_TOPIC":3}},"ForwardTarget":{"fields":{"targetType":{"rule":"required","type":"ForwardTargetType","id":1},"threadIdsCidsMap":{"keyType":"string","type":"string","id":2}}},"ForwardResponseInfo":{"fields":{"chatId":{"type":"string","id":1},"message":{"type":"entities.Message","id":2},"feedCard":{"type":"entities.FeedCard","id":3},"failed":{"type":"bool","id":4},"cid":{"type":"string","id":5}}},"StaticResourceTransmit":{"fields":{"resourceType":{"rule":"required","type":"ResourceType","id":1},"fileKey":{"rule":"required","type":"string","id":2}},"nested":{"ResourceType":{"values":{"UNKNOWN":0,"IMAGE":1,"MEDIA":2,"STICKER":3}}}},"PutTransmitMessageRequest":{"fields":{"chatIds":{"rule":"repeated","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"messageId":{"rule":"required","type":"string","id":2},"cids":{"keyType":"string","type":"string","id":3},"version":{"type":"int32","id":4,"options":{"default":0}},"staticResourceTransmit":{"type":"StaticResourceTransmit","id":8,"options":{"deprecated":true}},"thriftMessage":{"type":"bytes","id":5},"targets":{"keyType":"string","type":"ForwardTarget","id":6},"copiedThriftMessages":{"type":"CopiedMessages","id":7},"originMergeForwardId":{"type":"string","id":9}}},"PutTransmitMessageResponse":{"fields":{"messages":{"keyType":"string","type":"entities.Message","id":1},"feedCards":{"keyType":"string","type":"entities.FeedCard","id":2},"threadMessages":{"keyType":"string","type":"ForwardResponseInfo","id":3}}},"PutMergeForwardMessageRequest":{"fields":{"messageIds":{"rule":"repeated","type":"string","id":1},"toChatIds":{"rule":"repeated","type":"string","id":2,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"cids":{"keyType":"string","type":"string","id":3},"type":{"type":"Type","id":9,"options":{"default":"MESSAGE"}},"isLimited":{"type":"bool","id":10,"options":{"default":false}},"threadId":{"type":"string","id":11},"targets":{"keyType":"string","type":"ForwardTarget","id":12},"locale":{"type":"string","id":4},"thriftMessages":{"keyType":"int64","type":"bytes","id":5},"thriftFromChat":{"type":"bytes","id":6},"thriftChatters":{"keyType":"int64","type":"bytes","id":7},"p2pChatMembers":{"rule":"repeated","type":"int64","id":8,"options":{"packed":false}},"needCopyReaction":{"type":"bool","id":13},"originMergeForwardId":{"type":"string","id":14},"copiedThriftMessages":{"type":"CopiedMessages","id":101},"copiedMessageReaction":{"rule":"repeated","type":"bytes","id":102},"thread":{"type":"bytes","id":103}},"nested":{"Type":{"values":{"MESSAGE":1,"THREAD":2}}}},"PutMergeForwardMessageResponse":{"fields":{"messages":{"keyType":"string","type":"entities.Message","id":1},"failChatIds":{"keyType":"string","type":"string","id":2},"feedCards":{"keyType":"string","type":"entities.FeedCard","id":3},"threadMessages":{"keyType":"string","type":"ForwardResponseInfo","id":4}}},"PullUnreadAtMessageIdsRequest":{"fields":{"version":{"type":"int32","id":1},"messageIds":{"rule":"repeated","type":"int64","id":2,"options":{"(fieldinfo.FieldInfo)":"split,type=msg","packed":false}}}},"PullUnreadAtMessageIdsResponse":{"fields":{"messageIds":{"rule":"repeated","type":"string","id":1},"messageThreadIds":{"keyType":"string","type":"string","id":2}}},"RemoveMessagesFromUserRequest":{"fields":{"messageIds":{"rule":"repeated","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=msg"}}}},"RemoveMessagesFromUserResponse":{"fields":{}},"NoTraceRemoveMessageRequest":{"fields":{"messageId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=msg"}}}},"NoTraceRemoveMessageResponse":{"fields":{}},"PushMessageNoTraceRemoved":{"fields":{"messages":{"keyType":"string","type":"entities.Message","id":1}}},"PullChatNoTraceRemovedPositionsRequest":{"fields":{"channelIds":{"rule":"repeated","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}}}},"PullChatNoTraceRemovedPositionsResponse":{"fields":{"positions":{"keyType":"string","type":"PositionList","id":1}},"nested":{"PositionList":{"fields":{"positions":{"rule":"repeated","type":"int32","id":1,"options":{"packed":false}}}}}},"PushGroupMessageReadStateNotice":{"fields":{"groupId":{"type":"string","id":1},"newMessageCount":{"type":"int32","id":2,"options":{"deprecated":true}},"lastMessagePosition":{"type":"int32","id":3},"messageIds":{"rule":"repeated","type":"string","id":4},"noBadgedNewMessageCount":{"type":"int32","id":5,"options":{"deprecated":true}},"type":{"type":"Type","id":6,"options":{"default":"CHAT"}},"readTimes":{"keyType":"string","type":"int64","id":7},"lastMessageId":{"type":"string","id":9},"threadNotice":{"type":"PushThreadMessageReadStateNotice","id":10},"lastVisibleMessageId":{"type":"string","id":11,"options":{"deprecated":true}},"lastVisibleMessagePosition":{"type":"int32","id":12,"options":{"deprecated":true}},"lastVisibleMessageNoBadgedCount":{"type":"int32","id":13,"options":{"deprecated":true}},"readPosition":{"type":"int32","id":14},"readPositionBadgeCount":{"type":"int32","id":15},"lastMessagePositionBadgeCount":{"type":"int32","id":16}},"nested":{"Type":{"values":{"CHAT":1,"EMAIL":2}}}},"PushMultiGroupMessageReadStateNotice":{"fields":{"notices":{"rule":"repeated","type":"PushGroupMessageReadStateNotice","id":1}}},"PushThreadMessageReadStateNotice":{"fields":{"threadId":{"rule":"required","type":"string","id":1},"newMessageCount":{"type":"int32","id":2,"options":{"deprecated":true}},"lastMessagePosition":{"type":"int32","id":3},"noBadgedNewMessageCount":{"type":"int32","id":4,"options":{"deprecated":true}},"lastMessageId":{"type":"string","id":5},"lastVisibleMessageId":{"type":"string","id":6,"options":{"deprecated":true}},"lastVisibleMessagePosition":{"type":"int32","id":7,"options":{"deprecated":true}},"readPosition":{"type":"int32","id":8},"readPositionBadgeCount":{"type":"int32","id":9},"lastMessagePositionBadgeCount":{"type":"int32","id":10}}},"UrlPreview":{"fields":{"messageId":{"rule":"required","type":"string","id":1},"sequenceId":{"rule":"required","type":"int32","id":2,"options":{"default":0}}}},"DeleteMessageUrlPreviewRequest":{"fields":{"previews":{"rule":"repeated","type":"UrlPreview","id":1}}},"DeleteMessageUrlPreviewResponse":{"fields":{"previews":{"rule":"repeated","type":"UrlPreview","id":1}}},"PullVideoInfoRequest":{"fields":{"urls":{"rule":"repeated","type":"string","id":1},"isPc":{"type":"bool","id":2}}},"PullVideoInfoResponse":{"fields":{"videoInfos":{"keyType":"string","type":"entities.VideoInfo","id":1}}},"HideAudioRecognitionResultRequest":{"fields":{"messageId":{"rule":"repeated","type":"int64","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=msg","packed":false}}}},"HideAudioRecognitionResultResponse":{"fields":{"hiddenStatus":{"keyType":"int64","type":"bool","id":1}}},"PullSystemMessageTemplateRequest":{"fields":{"localeIdentifier":{"type":"string","id":1,"options":{"default":"zh_CN"}},"isPullAll":{"type":"bool","id":2,"options":{"default":false}},"version":{"type":"int32","id":3,"options":{"default":0}},"templateEtag":{"type":"string","id":4}}},"PullSystemMessageTemplateResponse":{"fields":{"localeTemplates":{"keyType":"string","type":"MessageTemplate","id":1},"isUpdated":{"type":"bool","id":2},"templateEtag":{"type":"string","id":3}},"nested":{"LanguageTemplate":{"fields":{"type":{"type":"entities.SystemContent.Type","id":1,"options":{"deprecated":true}},"content":{"type":"string","id":2,"options":{"deprecated":true}},"contents":{"keyType":"string","type":"string","id":3},"systemMessageType":{"type":"int32","id":4}}},"MessageTemplate":{"fields":{"langTemps":{"rule":"repeated","type":"LanguageTemplate","id":1,"options":{"deprecated":true}},"languageTemplates":{"rule":"repeated","type":"LanguageTemplate","id":2}}}}},"PutCryptoMessageRequest":{"fields":{"type":{"type":"entities.Message.Type","id":1},"content":{"keyType":"string","type":"UserContent","id":2},"chatId":{"type":"string","id":3,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"rootId":{"type":"string","id":4},"parentId":{"type":"string","id":5},"cid":{"type":"string","id":6},"isNotified":{"type":"bool","id":7,"options":{"default":true}},"cryptoType":{"type":"entities.CryptoInfo.CryptoType","id":8},"secretVersion":{"type":"string","id":9},"burnedSeconds":{"type":"int32","id":10},"fallbackContent":{"keyType":"string","type":"FallbackUserContent","id":11},"senderPublicKey":{"type":"bytes","id":12},"fileKeys":{"rule":"repeated","type":"string","id":13},"imageKeys":{"rule":"repeated","type":"string","id":14}},"nested":{"UserContent":{"fields":{"contents":{"keyType":"string","type":"bytes","id":1}}},"FallbackUserContent":{"fields":{"contents":{"keyType":"string","type":"FallbackContent","id":1}},"nested":{"FallbackContent":{"fields":{"content":{"type":"bytes","id":1},"nonce":{"type":"bytes","id":2},"additionalData":{"type":"bytes","id":3}}}}}}},"PutCryptoMessageResponse":{"fields":{"message":{"rule":"required","type":"entities.Message","id":1},"feedCard":{"type":"entities.FeedCard","id":2},"feedCards":{"keyType":"string","type":"entities.FeedCard","id":3}}},"PullCryptoMessageDetailByIdsRequest":{"fields":{"messageIds":{"rule":"repeated","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=msg"}},"requiredMessages":{"rule":"repeated","type":"ChatMessages","id":2}},"nested":{"ChatMessages":{"fields":{"chatId":{"rule":"required","type":"int64","id":1},"messageIds":{"rule":"repeated","type":"int64","id":2,"options":{"packed":false}}}}}},"PullCryptoMessageDetailByIdsResponse":{"fields":{"details":{"keyType":"string","type":"entities.CryptoMessageDetail","id":1},"fallbackDetails":{"keyType":"string","type":"entities.CryptoMessageDetail","id":2}}},"AckCryptoMessagesRequest":{"fields":{"messageIds":{"rule":"repeated","type":"string","id":1}}},"AckCryptoMessagesResponse":{"fields":{}},"PutTransmitObjectRequest":{"fields":{"chatIds":{"rule":"repeated","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"id":{"rule":"required","type":"string","id":2},"type":{"rule":"required","type":"Type","id":3},"cids":{"keyType":"string","type":"string","id":4},"targets":{"keyType":"string","type":"ForwardTarget","id":5},"thriftMessage":{"type":"bytes","id":100}},"nested":{"Type":{"values":{"UNKNOWN":0,"MESSAGE":1,"FAVORITE":2}}}},"PutTransmitObjectResponse":{"fields":{"messages":{"keyType":"string","type":"entities.Message","id":1},"feedCards":{"keyType":"string","type":"entities.FeedCard","id":2},"threadMessages":{"keyType":"string","type":"ForwardResponseInfo","id":3}}},"BatchCopyMessagesRequest":{"fields":{"messageIds":{"rule":"repeated","type":"string","id":1},"toChatIds":{"rule":"repeated","type":"string","id":2,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"cids":{"keyType":"string","type":"string","id":3,"options":{"deprecated":true}},"thriftMessages":{"keyType":"int64","type":"bytes","id":4},"copiedThriftMessages":{"type":"CopiedMessages","id":5},"originMergeForwardId":{"type":"string","id":6}}},"BatchCopyMessagesResponse":{"fields":{}},"TranslateFeedback":{"fields":{"comment":{"type":"string","id":1},"evaluation":{"type":"Evaluation","id":2}},"nested":{"Evaluation":{"values":{"UNKNOWN":0,"VERY_GOOD":1,"CANNOT_UNDERSTAND":2}}}},"PutTranslateFeedbacksRequest":{"fields":{"feedbacks":{"keyType":"string","type":"TranslateFeedback","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=msg"}}}},"PutTranslateFeedbacksResponse":{"fields":{}},"PullChatResourceRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1},"lastCreateTime":{"type":"int64","id":2,"options":{"default":0}},"lastMessageId":{"type":"string","id":3},"count":{"type":"int32","id":4,"options":{"default":10}},"reverse":{"type":"bool","id":5,"options":{"default":false}},"messageTypes":{"rule":"repeated","type":"MessageType","id":6,"options":{"packed":false}}},"nested":{"MessageType":{"values":{"PICTURE":1,"VIDEO":2}}}},"PullChatResourceResponse":{"fields":{"messages":{"rule":"repeated","type":"entities.Message","id":1},"total":{"type":"int32","id":2},"hasMore":{"type":"bool","id":3}}},"PushBadgeToRelatedUsersRequest":{"fields":{"userId":{"type":"string","id":1},"badge":{"type":"int32","id":2}}},"PullRelatedUsersBadgeRequest":{"fields":{}},"PullRelatedUsersBadgeResponse":{"fields":{"badges":{"keyType":"string","type":"int32","id":1}}},"PutSystemMessageForScreenshotsRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"cid":{"type":"string","id":2}}},"PutSystemMessageForScreenshotsResponse":{"fields":{}},"PutURLPreviewRequest":{"fields":{"messageId":{"type":"string","id":1},"previews":{"rule":"repeated","type":"URLPreview","id":2}},"nested":{"URLPreview":{"fields":{"url":{"type":"string","id":1},"title":{"type":"string","id":3},"abstract":{"type":"string","id":4},"iconUrl":{"type":"string","id":2}}}}},"PutURLPreviewResponse":{"fields":{}},"ListOfMessages":{"fields":{"thriftMessages":{"rule":"repeated","type":"bytes","id":1},"thriftI18n_Template":{"rule":"repeated","type":"bytes","id":2}}},"CopiedMessages":{"fields":{"toChatMessages":{"keyType":"int64","type":"ListOfMessages","id":1},"toThreadMessages":{"keyType":"int64","type":"ListOfMessages","id":2}}},"TransmitNode":{"fields":{"messageId":{"rule":"required","type":"string","id":1},"chatterId":{"rule":"required","type":"string","id":2}}},"TransmitChain":{"fields":{"transmitChain":{"rule":"repeated","type":"TransmitNode","id":1}}},"PullMessageTransmitChainRequest":{"fields":{"messageIds":{"rule":"repeated","type":"string","id":1}}},"PullMessageTransmitChainResponse":{"fields":{"messageTransmitChain":{"keyType":"string","type":"TransmitChain","id":1}}},"PullMessageIDsByPositionRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"startPosition":{"rule":"required","type":"int32","id":2},"count":{"type":"int32","id":3}}},"PullMessageIDsByPositionResponse":{"fields":{"messageIds":{"keyType":"int32","type":"string","id":1},"messageIdTypes":{"keyType":"string","type":"entities.Message.Type","id":2}}},"ShareObject":{"oneofs":{"object":{"oneof":["fileManagerObject"]}},"fields":{"fileManagerObject":{"type":"FileManagerObject","id":1}},"nested":{"FileManagerObject":{"fields":{"fileKey":{"rule":"required","type":"string","id":1},"originMessageId":{"type":"string","id":2}}}}},"ShareTarget":{"oneofs":{"target":{"oneof":["toChat","toThread"]}},"fields":{"toChat":{"type":"Chat","id":1},"toThread":{"type":"Thread","id":2},"extraInfo":{"type":"ExtraInfo","id":50}},"nested":{"Chat":{"fields":{"chatId":{"rule":"required","type":"string","id":1}}},"Thread":{"fields":{"threadId":{"rule":"required","type":"string","id":1},"chatId":{"rule":"required","type":"string","id":2}}},"ExtraInfo":{"fields":{"cid":{"type":"string","id":1}}}}},"ShareResponseInfo":{"oneofs":{"ShareResponse":{"oneof":["toChat","toThread"]}},"fields":{"toChat":{"type":"ShareToChatInfo","id":1},"toThread":{"type":"ShareToThreadInfo","id":2}},"nested":{"ShareToChatInfo":{"fields":{"chatId":{"rule":"required","type":"string","id":1},"message":{"type":"entities.Message","id":2},"feedCard":{"type":"entities.FeedCard","id":3},"thread":{"type":"entities.Thread","id":4}}},"ShareToThreadInfo":{"fields":{"chatId":{"rule":"required","type":"string","id":1},"threadId":{"rule":"required","type":"string","id":2},"message":{"type":"entities.Message","id":3},"feedCard":{"type":"entities.FeedCard","id":4}}}}},"PutShareAsMessageRequest":{"fields":{"shareObject":{"rule":"required","type":"ShareObject","id":1},"targets":{"rule":"repeated","type":"ShareTarget","id":2},"copiedThriftMessages":{"type":"CopiedMessages","id":100}}},"PutShareAsMessageResponse":{"fields":{"shareResponse":{"rule":"repeated","type":"ShareResponseInfo","id":1}}},"PreviewEntityPair":{"fields":{"previewEntity":{"keyType":"string","type":"entities.UrlPreviewEntity","id":1}}},"PullMessagePreviewsRequest":{"fields":{"messagePreviewMap":{"keyType":"string","type":"PreviewPair","id":1},"locale":{"type":"string","id":2}},"nested":{"PreviewPair":{"fields":{"previewIds":{"rule":"repeated","type":"string","id":1}}}}},"PullMessagePreviewResponse":{"fields":{"previewEntities":{"keyType":"string","type":"PreviewEntityPair","id":1}}},"PushMessagePreviews":{"fields":{"previewEntities":{"keyType":"string","type":"PreviewEntityPair","id":1}}},"PullMessagePreviewChattersRequest":{"fields":{"previewId":{"rule":"required","type":"string","id":1}}},"PullMessagePreviewChattersResponse":{"fields":{"chatterIds":{"rule":"repeated","type":"string","id":1}}},"PutCryptoMessageMainRequest":{"fields":{"type":{"type":"entities.Message.Type","id":1},"chatId":{"type":"string","id":2,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"rootId":{"type":"string","id":3},"parentId":{"type":"string","id":4},"cid":{"type":"string","id":5},"isNotified":{"type":"bool","id":6,"options":{"default":true}},"cryptoType":{"type":"entities.CryptoInfo.CryptoType","id":7},"secretVersion":{"type":"string","id":8},"burnedSeconds":{"type":"int32","id":9},"senderPublicKey":{"type":"bytes","id":10},"fallbackContent":{"keyType":"string","type":"entities.CryptoMessageFallbackUserContent","id":21},"fileKeys":{"rule":"repeated","type":"string","id":25},"imageKeys":{"rule":"repeated","type":"string","id":26}}},"PutCryptoMessageMainResponse":{"fields":{"message":{"type":"entities.Message","id":1},"feedCards":{"keyType":"string","type":"entities.FeedCard","id":2},"missingInfo":{"type":"entities.CryptoMessageMissingDevicesInfo","id":3}}},"PutCryptoMessageMissingContentRequest":{"fields":{"messageId":{"type":"string","id":1},"chatId":{"type":"string","id":2,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"fallbackContent":{"keyType":"string","type":"entities.CryptoMessageFallbackUserContent","id":4}}},"PutCryptoMessageMissingContentResponse":{"fields":{"message":{"type":"entities.Message","id":1},"feedCards":{"keyType":"string","type":"entities.FeedCard","id":2}}}}}}')},function(e){e.exports=JSON.parse('{"a":{"options":{"optimize_for":"LITE_RUNTIME","go_package":"git.byted.org/ee/lark/im-protobuf/improto/replies","java_package":"com.ss.android.lark.pb"},"nested":{"RepliesGreeter":{"methods":{"getReplies":{"requestType":"PullRepliesReqeust","responseType":"PullRepliesResponse"}}},"PullRepliesReqeust":{"fields":{"rootId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=msg"}}}},"PullRepliesResponse":{"fields":{"rootId":{"rule":"required","type":"string","id":1},"childIds":{"rule":"repeated","type":"string","id":2}}}}}}')},function(e){e.exports=JSON.parse('{"a":{"options":{"optimize_for":"LITE_RUNTIME","go_package":"git.byted.org/ee/lark/im-protobuf/improto/i18n","java_package":"com.ss.android.lark.pb"},"nested":{"PullMessageI18NTemplatesRequest":{"fields":{"locale":{"rule":"required","type":"string","id":1,"options":{"default":"zh_cn"}},"i18nKeys":{"rule":"repeated","type":"string","id":2}}},"PullMessageI18NTemplatesResponse":{"fields":{"templates":{"keyType":"string","type":"string","id":1},"maxAge":{"rule":"required","type":"int64","id":2}}}}}}')},function(e){e.exports=JSON.parse('{"a":{"options":{"optimize_for":"LITE_RUNTIME","go_package":"git.byted.org/ee/lark/im-protobuf/improto/misc","java_package":"com.ss.android.lark.pb"},"nested":{"PushSyncDevicesRequest":{"fields":{"payload":{"rule":"required","type":"bytes","id":1}}},"PushSyncDevicesResponse":{"fields":{}},"PullGeoInfoByIpRequest":{"fields":{"ip":{"type":"string","id":1}}},"PullGeoInfoByIpResponse":{"fields":{"country":{"type":"Country","id":1}},"nested":{"Country":{"fields":{"geoNameId":{"type":"int64","id":1},"isoCode":{"type":"string","id":2}}}}},"ActionType":{"values":{"UNKNOWN_ACTION":0,"CREATE_P2P_CHAT":1,"INVITE_SAME_CHAT":2,"SEND_URGENT":3,"SEND_MESSAGE":4,"MAKE_PHONE_CALL":5,"CRATE_P2P_CRYPTO_CHAT":6,"VIEW_PERSONAL_STATUS":7,"VOIP_CALL":8,"CREATE_SINGLE_VIDEOCHAT":9,"INVITE_VIDEO_CHAT":10,"SHARE_VIDEO_CHAT":11,"INVITE_EVENT":12,"SHARE_EVENT":13,"TRANSFER_EVENT":14,"CCM_SEND_MESSAGE":15,"CCM_BOT_MESSAGE":16,"CCM_FEED_MESSAGE":17,"INVITE_SAME_CRYPTO_CHAT":18,"SHARE_MESSAGE_SELECT_USER":19,"DOC_SHARE_OR_CREATE":20,"SHARE_NAME_CARD":21,"CALENDAR_PRIVATE_CHECK":22,"ADD_CONTACT":23,"JOIN_CHAT_VIA_SHARE":24,"INVITE_SAME_CROSS_TENANT_CHAT":25,"BLOCK":30,"COOPERATION":31}},"ChatterPermissionsRequest":{"fields":{"actions":{"rule":"repeated","type":"ActionType","id":1,"options":{"packed":false}}}},"DeniedReason":{"values":{"UNKNOWN_REASON":0,"BE_BLOCKED":1,"CROSS_TENANT_DENY":2,"SAME_TENANT_DENY":3,"CRYPTO_CHAT_DENY":4,"BLOCKED":5,"NO_FRIENDSHIP":6,"PRIVACY_SETTING":7,"TARGET_PRIVACY_SETTING":8,"PRIVATE_CALENDAR":9,"EXTERNAL_COORDINATE_CTL":10,"TARGET_EXTERNAL_COORDINATE_CTL":11}},"ChattersPermissionResult":{"fields":{"action":{"rule":"required","type":"ActionType","id":1},"permissions":{"keyType":"int64","type":"bool","id":2},"allowChatters":{"rule":"repeated","type":"string","id":3},"deniedReasons":{"keyType":"string","type":"DeniedReason","id":4}}},"ChatterPermissionsResponse":{"fields":{"results":{"rule":"repeated","type":"ChattersPermissionResult","id":1}}},"ChattersAuthResult":{"fields":{"deniedReasons":{"keyType":"string","type":"DeniedReason","id":1}}},"FetchKeyRequest":{"fields":{"pkid":{"type":"bytes","id":1},"ephemeralPublickey":{"type":"bytes","id":2},"nonce":{"type":"bytes","id":3}}},"FetchKeyResponse":{"fields":{"key":{"type":"bytes","id":1}}},"PutChatMemberSuppRoleApprovalRequest":{"fields":{"chatId":{"rule":"required","type":"int64","id":1},"applyUpperLimit":{"rule":"required","type":"int32","id":2},"description":{"rule":"required","type":"string","id":3}}},"PutChatMemberSuppRoleApprovalResponse":{"fields":{}},"PullChatMemberSuppRoleApprovalSettingRequest":{"fields":{"tenantId":{"rule":"required","type":"int64","id":1}}},"PullChatMemberSuppRoleApprovalSettingResponse":{"fields":{"approverIds":{"rule":"repeated","type":"int64","id":1,"options":{"packed":false}},"applyUpperLimitOptions":{"rule":"repeated","type":"int32","id":2,"options":{"packed":false}},"approvalDescLink":{"type":"string","id":3}}}}}}')},function(e){e.exports=JSON.parse('{"a":{"options":{"optimize_for":"LITE_RUNTIME","java_package":"com.ss.android.lark.pb","go_package":"git.byted.org/ee/lark/im-protobuf/improto/keyserver"},"nested":{"IdentityRequest":{"fields":{"identityPublicKey":{"rule":"required","type":"bytes","id":1},"identityKeyVersion":{"rule":"required","type":"string","id":2},"signedPrekeyPublic":{"rule":"required","type":"bytes","id":3},"signedPrekeySignature":{"rule":"required","type":"bytes","id":4},"signedPrekeyVersion":{"rule":"required","type":"string","id":5},"signedPrekeyId":{"rule":"required","type":"uint32","id":6}}},"Response":{"fields":{"success":{"type":"bool","id":1}}},"PrekeySimple":{"fields":{"prekeyId":{"rule":"required","type":"int32","id":1},"prekeyPublic":{"rule":"required","type":"bytes","id":2}}},"PrekeyRequest":{"fields":{"prekeys":{"rule":"repeated","type":"PrekeySimple","id":1}}},"PrekeyRequestPair":{"fields":{"userId":{"rule":"required","type":"string","id":1},"deviceId":{"rule":"required","type":"string","id":2}}},"PrekeyListRequest":{"fields":{"requestPairs":{"rule":"repeated","type":"PrekeyRequestPair","id":1}}},"PrekeyComplex":{"fields":{"identityPublicKey":{"type":"bytes","id":1},"signedPrekeyPublic":{"type":"bytes","id":2},"signedPrekeySignature":{"type":"bytes","id":3},"signedPrekeyId":{"type":"uint32","id":6},"prekeyId":{"type":"int32","id":4},"prekeyPublic":{"type":"bytes","id":5}}},"PrekeyListResponse":{"fields":{"userPrekeys":{"keyType":"string","type":"DevicePreKey","id":1}},"nested":{"DevicePreKey":{"fields":{"devicePerKeys":{"keyType":"string","type":"PrekeyComplex","id":1}}}}},"DeviceListRequest":{"fields":{"userIds":{"rule":"repeated","type":"string","id":1}}},"DeviceListResponse":{"fields":{"userDevices":{"keyType":"string","type":"Devices","id":1},"chatDeviceVersion":{"type":"int32","id":2}},"nested":{"DeviceInfo":{"fields":{"deviceId":{"rule":"required","type":"string","id":1},"createTime":{"rule":"required","type":"int64","id":2},"publicKey":{"type":"bytes","id":3}}},"Devices":{"fields":{"deviceIds":{"rule":"repeated","type":"string","id":1},"deviceInfos":{"rule":"repeated","type":"DeviceInfo","id":2}}}}},"PrekeyAvaliableResponse":{"fields":{"total":{"rule":"required","type":"int32","id":1},"prekeyIdBegin":{"type":"int32","id":2},"prekeyIdEnd":{"type":"int32","id":3}}},"SessionInitialMessage":{"fields":{"receiverUserId":{"rule":"required","type":"string","id":1},"receiverDeviceId":{"rule":"required","type":"string","id":2},"ratchetKey":{"rule":"required","type":"string","id":3},"message":{"rule":"required","type":"bytes","id":4}}},"SessionInitialRequest":{"fields":{"initialMessages":{"rule":"repeated","type":"SessionInitialMessage","id":1}}},"SessionFetch":{"fields":{"ratchetKey":{"rule":"required","type":"string","id":1},"senderUserId":{"rule":"required","type":"string","id":2},"senderDeviceId":{"rule":"required","type":"string","id":3}}},"SessionFetchRequest":{"fields":{"sessionsFetch":{"rule":"repeated","type":"SessionFetch","id":1}}},"SessionFetchMessage":{"fields":{"senderUserId":{"rule":"required","type":"string","id":1},"senderDeviceId":{"rule":"required","type":"string","id":2},"ratchetKey":{"rule":"required","type":"string","id":3},"message":{"rule":"required","type":"bytes","id":4}}},"SessionFetchResponse":{"fields":{"messages":{"rule":"repeated","type":"SessionFetchMessage","id":1}}},"ChatUserDevicesFetchRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1},"chatDeviceVersion":{"type":"int32","id":2}}}}}}')},function(e){e.exports=JSON.parse('{"a":{"options":{"optimize_for":"LITE_RUNTIME","java_package":"com.ss.android.lark.pb","go_package":"git.byted.org/ee/lark/im-protobuf/improto/users"},"nested":{"ProfileBrief":{"fields":{"id":{"type":"string","id":1},"name":{"type":"string","id":2},"enName":{"type":"string","id":3},"internationalName":{"keyType":"string","type":"string","id":4}}},"AdminInfo":{"fields":{"isAdmin":{"rule":"required","type":"bool","id":1},"adminUrl":{"type":"string","id":2},"isTopicGroupAdmin":{"type":"bool","id":3}}},"PullUserProfileRequest":{"fields":{"targetUserId":{"type":"int64","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=user"}},"contactToken":{"type":"string","id":2,"options":{"(fieldinfo.FieldInfo)":"split,type=token"}},"isSelf":{"type":"bool","id":3},"preData":{"type":"PullUserProfilePreProcessData","id":4}}},"FriendRelationData":{"fields":{"id":{"rule":"required","type":"int64","id":1},"fromUserId":{"rule":"required","type":"int64","id":2},"toUserId":{"rule":"required","type":"int64","id":3},"createTime":{"rule":"required","type":"int64","id":4},"status":{"rule":"required","type":"ContactRequestStatus","id":5},"extra":{"rule":"required","type":"string","id":6},"updateTime":{"rule":"required","type":"int64","id":7},"isRead":{"rule":"required","type":"bool","id":8}},"nested":{"ContactRequestStatus":{"values":{"PENDING":1,"AGREED":2,"REFUSED":3,"DELETED":4,"EXPIRED":5}}}},"PullUserProfilePreProcessData":{"fields":{"fromUserId":{"type":"int64","id":1},"fromUserTenantId":{"type":"int64","id":2},"isFromUserFound":{"type":"bool","id":3},"friendRelationData":{"type":"FriendRelationData","id":4},"isNewExpired":{"type":"bool","id":5},"isExist":{"type":"bool","id":6},"targetUserAlias":{"type":"string","id":7},"extra":{"keyType":"string","type":"string","id":8},"fromUserEmail":{"type":"string","id":9},"targetUserMemo":{"type":"Memo","id":10},"targetUserId":{"type":"int64","id":11},"isSpecialFocus":{"type":"bool","id":12}},"nested":{"Memo":{"fields":{"memeText":{"type":"string","id":1},"memePictureKey":{"type":"string","id":2}}}}},"ProfileField":{"fields":{"key":{"rule":"required","type":"string","id":1},"i18nNames":{"keyType":"string","type":"string","id":2},"visible":{"rule":"required","type":"bool","id":3},"fieldType":{"rule":"required","type":"FieldType","id":4},"defaultLocale":{"rule":"required","type":"string","id":5},"fieldValueType":{"type":"FieldValueType","id":6}},"nested":{"FieldType":{"values":{"UNKNOWN":0,"DEFAULT":1,"CUSTOM":2}},"FieldValueType":{"values":{"UNKNOWN_FIELD_VALUE_TYPE":0,"TEXT":1,"HREF":2}}}},"PullUserProfileResponse":{"fields":{"departmentName":{"type":"string","id":1},"tenantName":{"type":"string","id":2},"description":{"type":"string","id":3},"descriptionFlag":{"type":"int32","id":4},"email":{"type":"string","id":5},"leaderProfile":{"type":"ProfileBrief","id":6},"name":{"type":"string","id":7},"malaitaUrl":{"type":"string","id":8},"city":{"type":"string","id":9},"employeeId":{"type":"string","id":10},"enName":{"type":"string","id":11},"isFriend":{"type":"bool","id":12},"requestUserApply":{"type":"bool","id":13},"targetUserApply":{"type":"bool","id":14},"contactToken":{"type":"string","id":15},"contactApplicationId":{"type":"int64","id":16},"applicationReason":{"type":"string","id":17},"targetUserId":{"type":"int64","id":18},"avatarTosKey":{"type":"string","id":19},"isResigned":{"type":"bool","id":20},"enableAddContact":{"type":"bool","id":21},"tenantId":{"type":"string","id":22},"adminInfo":{"type":"AdminInfo","id":23},"alias":{"type":"string","id":24},"userConfig":{"type":"entities.UserConfig","id":25},"i18nInfo":{"type":"I18nInf","id":26},"microappProfileUrl":{"type":"string","id":27},"customFields":{"keyType":"string","type":"string","id":28},"isRegistered":{"type":"bool","id":29},"gender":{"type":"entities.Gender","id":30},"avatarKey":{"type":"string","id":31},"avatarFsUnit":{"type":"string","id":32},"avatar":{"type":"entities.Image","id":33},"orgUnit":{"type":"OrgUnit","id":34},"departments":{"type":"DepartmentList","id":35},"mainPost":{"type":"Position","id":36},"customFieldsI18n":{"keyType":"string","type":"CustomFieldVal","id":37},"tenantI18nName":{"type":"I18nVal","id":38},"cityI18nName":{"type":"I18nVal","id":39},"profileFieldsOrder":{"rule":"repeated","type":"ProfileField","id":50}},"nested":{"I18nInf":{"fields":{"internationalName":{"keyType":"string","type":"string","id":1},"i18nDescriptions":{"keyType":"string","type":"string","id":2}}},"I18nVal":{"fields":{"defaultVal":{"rule":"required","type":"string","id":1},"i18nVals":{"keyType":"string","type":"string","id":2}}},"OrgUnit":{"fields":{"name":{"rule":"required","type":"I18nVal","id":1}}},"DepartmentMeta":{"fields":{"ID":{"rule":"required","type":"int64","id":1},"name":{"rule":"required","type":"I18nVal","id":2}}},"DepartmentList":{"fields":{"deptMetas":{"rule":"repeated","type":"DepartmentMeta","id":1}}},"Position":{"fields":{"name":{"rule":"required","type":"I18nVal","id":1}}},"CustomFieldVal":{"fields":{"text":{"type":"I18nVal","id":1},"defaultHref":{"type":"Href","id":2},"pcHref":{"type":"Href","id":3}},"nested":{"Href":{"fields":{"text":{"type":"I18nVal","id":1},"url":{"type":"string","id":2}}}}}}},"I18nVal":{"fields":{"defaultVal":{"rule":"required","type":"string","id":1},"i18nVals":{"keyType":"string","type":"string","id":2}}},"Profile":{"fields":{"userInfo":{"type":"UserInfo","id":1},"ctas":{"rule":"repeated","type":"CTA","id":2},"fields":{"rule":"repeated","type":"Field","id":3},"tabs":{"rule":"repeated","type":"TabInfo","id":4}},"nested":{"Field":{"fields":{"key":{"rule":"required","type":"string","id":1},"i18nNames":{"rule":"required","type":"I18nVal","id":2},"visible":{"rule":"required","type":"bool","id":3},"fieldValueType":{"rule":"required","type":"FieldValueType","id":5},"fieldVal":{"type":"bytes","id":6,"options":{"deprecated":true}},"strFieldVal":{"type":"string","id":7}},"nested":{"FieldValueType":{"values":{"UNKNOWN":0,"TEXT":1,"LINK":2,"TEXT_LIST":3,"LINK_LIST":4,"ENUMERATION":5,"GENERIC_USER":6,"C_ALIAS":50,"S_DEPARTMENT":100,"S_PHONE_NUMBER":101,"S_FRIEND_LINK":102,"CUSTOM_FIELD_IMAGE":103,"ALIAS_AND_MEMO":104,"MEMO_DESCRIPTION":105}}}},"CTA":{"fields":{"key":{"rule":"required","type":"string","id":1},"i18nNames":{"rule":"required","type":"I18nVal","id":2},"enable":{"rule":"required","type":"bool","id":3},"ctaType":{"rule":"required","type":"CTAType","id":4},"icon":{"type":"entities.Image","id":5},"link":{"type":"string","id":6},"denyReason":{"type":"DeniedReason","id":7},"deniedReason":{"type":"misc.DeniedReason","id":8},"deniedDescription":{"type":"I18nVal","id":9}},"nested":{"CTAType":{"values":{"UNKNOWN":0,"LINK":1,"S_CHAT":10,"S_CRYPTO_CHAT":11,"S_VOICE":12,"S_VIDEO":13,"S_USER_CARD":14,"S_BLOCK_SETTING":15,"S_COLLABORATION_PERMISSION_SETTING":16}},"DeniedReason":{"values":{"UNKNOWN_REASON":0,"CROSS_TENANT_BLOCKED":1,"CROSS_TENANT_DENY":2,"SAME_TENANT_DENY":3}}}},"Style":{"fields":{"maxLines":{"type":"int32","id":1},"expandable":{"type":"bool","id":2},"color":{"type":"string","id":3}}},"Href":{"fields":{"title":{"type":"I18nVal","id":1},"link":{"type":"I18nVal","id":2},"style":{"type":"Style","id":3}}},"Text":{"fields":{"text":{"type":"I18nVal","id":1},"style":{"type":"Style","id":2}}},"HrefList":{"fields":{"hrefList":{"rule":"repeated","type":"Href","id":1}}},"TextList":{"fields":{"textList":{"rule":"repeated","type":"Text","id":1}}},"PhoneNumber":{"fields":{"number":{"type":"string","id":1},"countryCode":{"type":"string","id":2},"rateLimited":{"type":"bool","id":3},"isPlain":{"type":"bool","id":4}}},"Department":{"fields":{"departmentPaths":{"rule":"repeated","type":"DepartmentPath","id":1}},"nested":{"DepartmentPath":{"fields":{"departmentNodes":{"rule":"repeated","type":"DepartmentNode","id":1}},"nested":{"DepartmentNode":{"fields":{"departmentName":{"type":"I18nVal","id":1},"departmentId":{"type":"string","id":2}}}}}}},"CustomImage":{"fields":{"resourceKey":{"type":"string","id":1},"fsUnit":{"type":"string","id":2},"resourceUrl":{"type":"string","id":3}}},"ShareInfo":{"fields":{"enable":{"type":"bool","id":1},"i18nNames":{"type":"I18nVal","id":2},"deniedDescription":{"type":"I18nVal","id":3}}},"FriendStatus":{"values":{"UNKNOWN":0,"Double":1,"Forward":2,"Reverse":3,"None":4}},"BlockStatus":{"values":{"B_UNKNOWN":0,"B_None":1,"B_Forward":2,"B_Reverse":3,"B_Double":4}},"UserTag":{"values":{"U_Default":0,"U_Student":1,"U_Parent":2}},"Medal":{"fields":{"image":{"type":"entities.ImageSetPassThrough","id":1},"i18nName":{"type":"I18nVal","id":2}}},"MedalList":{"fields":{"medalMeta":{"rule":"repeated","type":"Medal","id":1},"totalNum":{"type":"int32","id":2}}},"MemoDescription":{"fields":{"memoText":{"type":"string","id":1},"memoPicture":{"type":"entities.ImageSetPassThrough","id":2}}},"UserInfo":{"fields":{"friendStatus":{"rule":"required","type":"FriendStatus","id":1},"gender":{"type":"entities.Gender","id":2},"tenantName":{"type":"I18nVal","id":3},"contactToken":{"type":"string","id":4},"contactApplicationId":{"type":"int64","id":5},"enableAddByContactToken":{"type":"bool","id":6},"leaderId":{"type":"string","id":7},"isBlocked":{"type":"bool","id":8},"blockStatus":{"type":"BlockStatus","id":9},"userTag":{"type":"UserTag","id":10},"isTenantCertification":{"type":"bool","id":11},"tenantCertificationUrl":{"type":"string","id":12},"customTagFields":{"rule":"repeated","type":"Field","id":13},"topImage":{"type":"entities.ImageSetPassThrough","id":14},"shareInfo":{"type":"ShareInfo","id":15},"showDescription":{"type":"bool","id":16},"medalList":{"type":"MedalList","id":17},"isSpecialFocus":{"type":"bool","id":18}}},"TabType":{"values":{"F_UNKNOWN":0,"F_COMMON_INFO":1,"F_COMMUNITY":2,"F_SINGLE_FIELD":3}},"TabInfo":{"fields":{"key":{"type":"string","id":1},"name":{"type":"I18nVal","id":2},"tabType":{"type":"TabType","id":3},"content":{"type":"string","id":4}}},"SingleFieldTabInfo":{"fields":{"singleField":{"type":"Field","id":1}}}}},"PullUserProfileV2Request":{"fields":{"scene":{"rule":"required","type":"Scene","id":1},"userId":{"type":"string","id":2,"options":{"(fieldinfo.FieldInfo)":"split,type=user"}},"contactToken":{"type":"string","id":3,"options":{"(fieldinfo.FieldInfo)":"split,type=token"}},"chatId":{"type":"string","id":4},"source":{"type":"Source","id":5},"preData":{"type":"PullUserProfilePreProcessData","id":10},"isSupportOnewayRelation":{"type":"bool","id":11},"useNewLayout":{"type":"bool","id":12}},"nested":{"Scene":{"values":{"UNKNOWN":0,"BY_USER_ID":1,"BY_CONTACT_TOKEN":2}},"Source":{"values":{"UNKNOWN_SOURCE":0,"LINK":1,"CHAT":2,"CALENDAR":3,"DOCS":4,"VC":5,"EMAIL":6,"NAME_CARD":7,"SEARCH_PHONE":8,"SEARCH_EMAIL":9,"SEARCH_CONTACT":10,"COMMUNITY":11,"EXTERNAL_CONTACT":17,"NEW_CONTACT":18,"NMAECARD_LIST":1000}}}},"PullUserProfileV2Response":{"fields":{"profile":{"type":"Profile","id":1},"chatter":{"type":"entities.Chatter","id":2},"chatChatter":{"type":"chats.GroupChatterMeta","id":3},"permission":{"type":"Permission","id":4}},"nested":{"Permission":{"fields":{"canFindMe":{"type":"bool","id":1},"canFind":{"type":"bool","id":2},"canNotFind":{"type":"bool","id":3}}}}},"BatchPullUserProfileV2Request":{"fields":{"targetUserIds":{"rule":"repeated","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=user"}},"useNewLayout":{"type":"bool","id":2},"preData":{"type":"PullUserProfilePreProcessData","id":10}}},"BatchPullUserProfileV2Response":{"fields":{"userProfiles":{"keyType":"string","type":"Profile","id":1}}},"BatchPullUserProfileRequest":{"fields":{"targetUserIds":{"rule":"repeated","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=user"}},"preData":{"type":"PullUserProfilePreProcessData","id":2}}},"BatchPullUserProfileResponse":{"fields":{"userProfiles":{"keyType":"string","type":"PullUserProfileResponse","id":1}}},"ContactPointType":{"values":{"UNKNOWN_CONTACT_POINT_TYPE":0,"MOBILE":1,"EMAIL":2}},"PutUserInvitationRequest":{"fields":{"type":{"rule":"required","type":"ContactPointType","id":1},"contactContent":{"rule":"required","type":"string","id":2}}},"PutUserInvitationResponse":{"fields":{"success":{"type":"bool","id":1},"profile":{"type":"PullUserProfileResponse","id":2}}},"SearchUsersByContactPointRequest":{"fields":{"contactContent":{"rule":"required","type":"string","id":1},"preData":{"type":"PullUserProfilePreProcessData","id":100}}},"SearchUsersByContactPointResponse":{"fields":{"userProfiles":{"rule":"repeated","type":"PullUserProfileResponse","id":1},"searchToken":{"keyType":"string","type":"bytes","id":100}}},"PushAccountUserListRequest":{"fields":{"users":{"rule":"repeated","type":"entities.Chatter","id":1},"version":{"rule":"required","type":"int64","id":2}}},"UpdateAccountUserListOrderRequest":{"fields":{"userIds":{"rule":"repeated","type":"string","id":1}}},"UpdateAccountUserListOrderResponse":{"fields":{}},"ServiceData":{"fields":{"passportServiceUrl":{"type":"string","id":1},"deviceServiceUrl":{"type":"string","id":2},"captchaServiceUrl":{"type":"string","id":3},"rootDomain":{"type":"string","id":4}}},"PullAccountUserListRequest":{"fields":{"queryScope":{"type":"string","id":1},"apiVersion":{"type":"string","id":2}}},"PullAccountUserListResponse":{"fields":{"accountUsers":{"rule":"repeated","type":"entities.AccountUser","id":1},"envServiceData":{"keyType":"string","type":"ServiceData","id":2},"allRegionSuccess":{"type":"bool","id":3},"pendingUsers":{"rule":"repeated","type":"entities.PendingUser","id":4}}},"PullUserNamesRequest":{"fields":{"userIds":{"rule":"repeated","type":"int64","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=user","packed":false}}}},"PullUserNamesResponse":{"fields":{"userNames":{"keyType":"int64","type":"entities.UserName","id":1}}},"PutUserAliasRequest":{"fields":{"targetId":{"rule":"required","type":"int64","id":1},"name":{"type":"string","id":2},"targetToken":{"type":"string","id":3}}},"PutUserAliasResponse":{"fields":{}},"PushUserAlias":{"fields":{"targetId":{"rule":"required","type":"int64","id":1},"name":{"type":"string","id":2}}},"PushAccountUpdateUserEvent":{"fields":{"type":{"rule":"required","type":"Type","id":1},"accountUser":{"rule":"required","type":"entities.AccountUser","id":2}},"nested":{"Type":{"values":{"UNKNOWN":0,"ADD":1,"DELETE":2,"UPDATE":3}}}},"PushAccountUnregisterUserEvent":{"fields":{"userId":{"rule":"required","type":"int64","id":1}}},"PullMyPromotionLinkRequest":{"fields":{}},"PullMyPromotionLinkResponse":{"fields":{"url":{"type":"string","id":1}}},"PullPromotionRuleRequest":{"fields":{}},"PullPromotionRuleResponse":{"fields":{"displayContent":{"type":"entities.RichText","id":1},"text":{"type":"string","id":2}}},"PutBusinessInvitationRequest":{"fields":{"type":{"rule":"required","type":"ContactPointType","id":1},"contactContent":{"rule":"required","type":"string","id":2}}},"PutBusinessInvitationResponse":{"fields":{"success":{"type":"bool","id":1},"url":{"type":"string","id":2}}},"BannerStatus":{"values":{"MustShowBanner":0,"CanClosedBanner":1,"ClosedBanner":2}},"PullInvitationLinkRequest":{"fields":{"invitationPlatform":{"rule":"required","type":"entities.PlatformType","id":3},"isRefresh":{"type":"bool","id":4},"isSameDepartment":{"type":"bool","id":5},"departmentId":{"type":"int64","id":6},"extraInfo":{"keyType":"string","type":"string","id":7}}},"PullInvitationLinkResponse":{"fields":{"success":{"rule":"required","type":"bool","id":1},"invitationUrl":{"type":"string","id":2},"expiredTimestamp":{"type":"int64","id":3},"invitationQrUrl":{"type":"string","id":4},"teamCode":{"type":"string","id":5},"shareToken":{"type":"string","id":6}}},"InviteInfo":{"fields":{"statusMessage":{"type":"string","id":1},"statusCode":{"type":"int32","id":2}}},"PutAdminInvitationRequest":{"fields":{"type":{"rule":"required","type":"ContactPointType","id":3},"invitationPlatform":{"rule":"required","type":"entities.PlatformType","id":4},"mobiles":{"rule":"repeated","type":"string","id":5},"emails":{"rule":"repeated","type":"string","id":6},"names":{"rule":"repeated","type":"string","id":7},"departments":{"rule":"repeated","type":"int64","id":8,"options":{"packed":false}}}},"PutAdminInvitationResponse":{"fields":{"success":{"rule":"required","type":"bool","id":1},"mobile":{"keyType":"string","type":"InviteInfo","id":2},"email":{"keyType":"string","type":"InviteInfo","id":3},"needApproval":{"type":"bool","id":4}}},"PullUserInvitationMessageRequest":{"fields":{"invitationPlatform":{"rule":"required","type":"entities.PlatformType","id":3}}},"PullUserInvitationMessageResponse":{"fields":{"enableShow":{"rule":"required","type":"bool","id":1},"bannerStatus":{"type":"BannerStatus","id":2}}},"PutBannerBeginTimeRequest":{"fields":{}},"PutBannerBeginTimeResponse":{"fields":{"success":{"rule":"required","type":"bool","id":1}}},"PutUserNameRequest":{"fields":{"name":{"type":"string","id":1}}},"PutUserNameResponse":{"fields":{"chatter":{"type":"entities.Chatter","id":1}}},"GetUserUpdateNamePermissionRequest":{"fields":{}},"GetUserUpdateNamePermissionResponse":{"fields":{"enable":{"type":"bool","id":1}}},"PushUserListUpdateRequest":{"fields":{}},"PushUserListUpdateResponse":{"fields":{}},"PushUserMigrateSwitchRequest":{"fields":{"changeEnv":{"type":"string","id":1},"userId":{"type":"int64","id":2},"deadLine":{"type":"int64","id":3},"timeInterval":{"type":"int64","id":4},"envServiceData":{"keyType":"string","type":"ServiceData","id":5}}},"PushUserMigrateSwitchEvent":{"fields":{"changeToBrand":{"type":"string","id":1},"changeToUnit":{"type":"string","id":2},"changeToEnv":{"type":"string","id":3}}},"PushUserSidebarUpdateRequest":{"fields":{}},"PushUserSidebarUpdateResponse":{"fields":{}},"PushUserLogoutRequest":{"fields":{}},"PushUserLogoutResponse":{"fields":{}},"PullUserSidebarRequest":{"fields":{}},"PullUserSidebarResponse":{"fields":{"sidebarInfos":{"rule":"repeated","type":"entities.SidebarInfo","id":1}}},"CheckContactIsLinkedToUserRequest":{"fields":{"mobiles":{"rule":"repeated","type":"string","id":1},"emails":{"rule":"repeated","type":"string","id":2}}},"CheckContactIsLinkedToUserResponse":{"fields":{"contactIsLinkedToUser":{"keyType":"string","type":"bool","id":1}}},"PatchSelfUserProfileRequest":{"fields":{"updateProperties":{"rule":"repeated","type":"SelfUserProfileUpdateProperty","id":1,"options":{"packed":false}},"topImageKey":{"type":"string","id":2}},"nested":{"SelfUserProfileUpdateProperty":{"values":{"UNKNOWN":0,"TOP_IMAGE":1}}}},"PatchSelfUserProfileResponse":{"fields":{}},"CheckUserPhoneNumberRequest":{"fields":{"targetUserId":{"type":"int64","id":1}}},"CheckUserPhoneNumberResponse":{"fields":{"status":{"type":"int32","id":1},"phoneNumber":{"type":"string","id":2},"announcement":{"type":"string","id":3},"leaderId":{"type":"int64","id":4},"todayCallCount":{"type":"int64","id":5}}},"PullUsersProfileAssignedFieldsRequest":{"fields":{"userIds":{"rule":"repeated","type":"string","id":1}}},"ProfileFields":{"fields":{"profileFields":{"rule":"repeated","type":"Profile.Field","id":1}}},"PullUsersProfileAssignedFieldsResponse":{"fields":{"usersProfileFields":{"keyType":"string","type":"ProfileFields","id":1}}},"PatchUserMemoRequest":{"fields":{"targetUserId":{"type":"string","id":1},"alias":{"type":"string","id":2},"memoText":{"type":"string","id":3},"memoPictureKey":{"type":"string","id":4}}},"PatchUserMemoResponse":{"fields":{}}}}}')},function(e){e.exports=JSON.parse('{"a":{"options":{"optimize_for":"LITE_RUNTIME","java_package":"com.ss.android.lark.pb","go_package":"git.byted.org/ee/lark/im-protobuf/improto/chatters"},"nested":{"ChatterGreeter":{"methods":{"get":{"requestType":"PullChattersByIdsRequest","responseType":"PullChattersByIdsResponse"},"getChattersResignStatus":{"requestType":"PullChattersResignStatusRequest","responseType":"PullChattersResignStatusResponse"}}},"PullChattersRequest":{"fields":{"chatterIds":{"rule":"repeated","type":"string","id":1}}},"PullChattersResponse":{"fields":{"chatters":{"keyType":"string","type":"entities.Chatter","id":1}}},"PullChattersByIdsRequest":{"fields":{"chatterIds":{"rule":"repeated","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=user"}},"needBotInfo":{"type":"bool","id":2},"notSubscribeChatters":{"type":"bool","id":3}}},"PullChattersByIdsResponse":{"fields":{"chatters":{"keyType":"string","type":"entities.Chatter","id":1},"maxAge":{"type":"int64","id":2,"options":{"(fieldinfo.FieldInfo)":"skip_validate"}},"botInfo":{"keyType":"int64","type":"entities.BotInfo","id":3}}},"PushChatterResignNotice":{"fields":{"chatterId":{"rule":"required","type":"string","id":1},"organizationId":{"type":"string","id":2}}},"PullChattersResignStatusRequest":{"fields":{"chatterIds":{"rule":"repeated","type":"string","id":1}}},"PullChattersResignStatusResponse":{"fields":{"chatterResignStatus":{"keyType":"string","type":"bool","id":1}}},"PullWantedAtChatterRequest":{"fields":{"chatIds":{"rule":"repeated","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}}}},"PullWantedAtChatterResponse":{"fields":{"wantedChatters":{"keyType":"string","type":"WantedChatter","id":1},"wantedChatterIds":{"keyType":"string","type":"ChatterIds","id":2},"wantedChatterTags":{"keyType":"string","type":"ChatterTags","id":3}},"nested":{"WantedChatter":{"fields":{"chatters":{"rule":"repeated","type":"entities.Chatter","id":1}}},"ChatterIds":{"fields":{"chatterIds":{"rule":"repeated","type":"string","id":1}}},"ChatterTags":{"fields":{"tag":{"keyType":"string","type":"string","id":1}}}}},"PushChattersRequest":{"fields":{"chatters":{"keyType":"string","type":"entities.Chatter","id":1},"maxAge":{"type":"int64","id":2},"chatterIds":{"rule":"repeated","type":"string","id":3}}},"PushChattersResponse":{"fields":{}},"PatchChatterRequest":{"fields":{"iconData":{"type":"string","id":1},"status":{"type":"entities.WorkStatus","id":2},"updateFields":{"rule":"repeated","type":"UpdateFields","id":999,"options":{"packed":false}}},"nested":{"UpdateFields":{"values":{"UNKNOWN":0,"ICON_KEY":1,"WORK_STATUS":2}}}},"PatchChatterResponse":{"fields":{}},"PatchChatterProfileRequest":{"fields":{"iconKey":{"type":"string","id":1},"status":{"type":"entities.WorkStatus","id":2},"timeZone":{"type":"string","id":3},"updateFields":{"rule":"repeated","type":"UpdateFields","id":999,"options":{"packed":false}}},"nested":{"UpdateFields":{"values":{"UNKNOWN":0,"ICON_KEY":1,"WORK_STATUS":2,"TIME_ZONE":3}}}},"PatchChatterProfileResponse":{"fields":{}},"PullUpdateChattersRequest":{"fields":{"updateTimes":{"keyType":"string","type":"int64","id":1}}},"PullUpdateChattersResponse":{"fields":{"updateChatters":{"keyType":"string","type":"entities.Chatter","id":1}}},"PullNewestPoliciesRequest":{"fields":{"localeIdentifier":{"type":"string","id":1}}},"PullNewestPoliciesResponse":{"fields":{"needSign":{"type":"bool","id":1},"version":{"type":"string","id":2},"title":{"type":"string","id":3},"displayContent":{"type":"entities.RichText","id":4},"hasUpdated":{"type":"bool","id":5},"terms":{"type":"string","id":6},"privacy":{"type":"string","id":7}}},"PutNewestPoliciesRequest":{"fields":{"version":{"type":"string","id":1}}},"PutNewestPoliciesResponse":{"fields":{}},"PutGroupNicknameRequest":{"fields":{"chatId":{"rule":"required","type":"int64","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"nickname":{"type":"string","id":2}}},"PutGroupNicknameResponse":{"fields":{"nicknamePinyin":{"type":"string","id":1}}},"PushGroupNickname":{"fields":{"userId":{"rule":"required","type":"int64","id":1},"chatId":{"rule":"required","type":"int64","id":2},"nickname":{"type":"string","id":3},"nicknamePinyin":{"type":"string","id":4}}},"PullWorkStatusRequest":{"fields":{"userIds":{"rule":"repeated","type":"int64","id":1,"options":{"packed":false}}}},"PullWorkStatusResponse":{"fields":{"workStatus":{"keyType":"int64","type":"entities.WorkStatus","id":1}}},"DeleteWorkStatusRequest":{"fields":{}},"DeleteWorkStatusResponse":{"fields":{}},"PullSpecialFocusRequest":{"fields":{}},"PullSpecialFocusResponse":{"fields":{"focusChatterIds":{"rule":"repeated","type":"int64","id":1,"options":{"packed":false}}}},"UpdateSpecialFocusRequest":{"fields":{"chatterIds":{"rule":"repeated","type":"int64","id":1,"options":{"packed":false}},"operate":{"type":"Operate","id":2}},"nested":{"Operate":{"values":{"ADD":1,"DELETE":2}}}},"UpdateSpecialFocusResponse":{"fields":{"focusChatterIds":{"rule":"repeated","type":"int64","id":1,"options":{"packed":false}}}},"PushUserSpecialFocusRequest":{"fields":{"addFocusChatterIds":{"rule":"repeated","type":"int64","id":1,"options":{"packed":false}},"deleteFocusChatterIds":{"rule":"repeated","type":"int64","id":2,"options":{"packed":false}}}}}}}')},function(e){e.exports=JSON.parse('{"a":{"options":{"optimize_for":"LITE_RUNTIME","go_package":"git.byted.org/ee/lark/im-protobuf/improto/docs","java_package":"com.ss.android.lark.pb"},"nested":{"PatchDocPermRequest":{"fields":{"pairs":{"rule":"repeated","type":"Pair","id":1}},"nested":{"PermType":{"values":{"UNKNOWN":0,"READ":1,"EDIT":4,"FORBIDDEN":501}},"Pair":{"fields":{"messageId":{"type":"string","id":1},"perm":{"type":"PermType","id":2},"token":{"type":"string","id":3}}}}},"PatchDocPermResponse":{"fields":{"messageIds":{"rule":"repeated","type":"string","id":1}}},"PullDocFeedsByIdsRequest":{"fields":{"docFeedIds":{"rule":"repeated","type":"string","id":1}}},"PullDocFeedsByIdsResponse":{"fields":{"docFeeds":{"keyType":"string","type":"entities.DocFeed","id":1},"docMessages":{"keyType":"string","type":"entities.DocMessage","id":2}}},"PushDocFeedRequest":{"fields":{"status":{"rule":"required","type":"Status","id":1,"options":{"default":"NEW"}},"docFeed":{"type":"entities.DocFeed","id":2},"docMessages":{"keyType":"string","type":"entities.DocMessage","id":3}},"nested":{"Status":{"values":{"UNKNOWN_STATUS":0,"NEW":1,"UPDATE":2,"DELETE":3,"READ":4,"CREATE":5}}}},"PushDocFeedResponse":{"fields":{}},"PushDocRequest":{"fields":{"doc":{"type":"entities.Doc","id":1},"docCard":{"type":"entities.DocCard","id":2},"messageIds":{"rule":"repeated","type":"string","id":3}}},"PushDocResponse":{"fields":{}},"PushDoc2Request":{"fields":{"doc":{"type":"entities.Doc","id":1},"docCard":{"type":"entities.DocCard","id":2}}},"PushDoc2Response":{"fields":{}},"PushDocsRequest":{"fields":{"docCards":{"keyType":"string","type":"entities.DocCard","id":1},"docs":{"keyType":"string","type":"entities.Doc","id":2},"docCards2":{"rule":"repeated","type":"entities.DocCard","id":3}}},"PushDocsResponse":{"fields":{}},"PullDocsRequest":{"fields":{"messageIds":{"rule":"repeated","type":"string","id":1},"version":{"type":"int64","id":2}}},"PullDocsResponse":{"fields":{"docCards":{"keyType":"string","type":"entities.DocCard","id":1},"docs":{"keyType":"string","type":"entities.Doc","id":2},"docCards2":{"rule":"repeated","type":"entities.DocCard","id":3}}},"PullDocPermsRequest":{"fields":{"docUrls":{"rule":"repeated","type":"string","id":1}}},"PullDocPermsResponse":{"fields":{"perms":{"rule":"repeated","type":"Pair","id":1}},"nested":{"Pair":{"fields":{"docUrl":{"type":"string","id":1},"perm":{"type":"entities.DocPermission","id":2}}}}},"PutDocFeedRequest":{"fields":{"token":{"rule":"required","type":"string","id":1},"type":{"rule":"required","type":"entities.DocType","id":2}}},"PutDocFeedResponse":{"fields":{"docFeed":{"type":"entities.DocFeed","id":1},"docMessages":{"keyType":"string","type":"entities.DocMessage","id":2}}},"DocHistory":{"fields":{"url":{"type":"string","id":1},"docType":{"type":"entities.DocType","id":2},"title":{"type":"string","id":3},"createUid":{"type":"int64","id":4},"editUid":{"type":"int64","id":5},"updateTime":{"type":"int64","id":6},"openTime":{"type":"int64","id":7},"docId":{"type":"string","id":8},"isCrossTenant":{"type":"bool","id":9},"strDocType":{"type":"string","id":10},"icon":{"type":"entities.Icon","id":11},"wikiSubtype":{"type":"entities.DocType","id":12}}},"PullDocsHistoryRequest":{"fields":{"beginTime":{"rule":"required","type":"int64","id":1},"count":{"rule":"required","type":"int64","id":2}}},"PullDocsHistoryResponse":{"fields":{"docs":{"rule":"repeated","type":"DocHistory","id":1},"total":{"rule":"required","type":"int64","id":2},"hasMore":{"rule":"required","type":"bool","id":3},"nextTime":{"rule":"required","type":"int64","id":4}}},"PullConvertTokenRequest":{"fields":{"fileKey":{"type":"string","id":1},"messageId":{"type":"string","id":2}}},"PullConvertTokenResponse":{"fields":{"token":{"type":"string","id":1},"chatToken":{"type":"string","id":2}}},"PatchDocFeedSettingRequest":{"fields":{"docFeedId":{"rule":"required","type":"int64","id":1},"docFeedSetting":{"rule":"required","type":"entities.DocFeedSetting","id":2},"patchDocFeedSettingFields":{"rule":"repeated","type":"entities.DocFeedSetting.Field","id":3,"options":{"packed":false}}}},"PatchDocFeedSettingResponse":{"fields":{"docFeedId":{"rule":"required","type":"int64","id":1},"docFeedSetting":{"rule":"required","type":"entities.DocFeedSetting","id":2}}},"PushDocFeedSetting":{"fields":{"docFeedId":{"rule":"required","type":"int64","id":1},"docFeedSetting":{"rule":"required","type":"entities.DocFeedSetting","id":2}}},"PullDocFeedSettingsRequest":{"fields":{"docFeedIds":{"rule":"repeated","type":"int64","id":1,"options":{"packed":false}}}},"PullDocFeedSettingsResponse":{"fields":{"docFeedSettings":{"keyType":"int64","type":"entities.DocFeedSetting","id":1}}},"PutReadDocMessagesRequest":{"fields":{"messageIds":{"rule":"repeated","type":"int64","id":1,"options":{"packed":false}},"token":{"type":"string","id":2},"type":{"type":"entities.DocType","id":3}}},"PutReadDocMessagesResponse":{"fields":{}},"PullDocByURLsRequest":{"fields":{"urls":{"rule":"repeated","type":"string","id":1}}},"PullDocByURLsResponse":{"fields":{"docs":{"keyType":"string","type":"entities.Doc","id":1},"invalidUrls":{"rule":"repeated","type":"string","id":2},"noPermUrls":{"rule":"repeated","type":"string","id":3},"noPermUrlsV2":{"rule":"repeated","type":"string","id":4},"deletedUrlsV2":{"rule":"repeated","type":"string","id":5}}},"DocObj":{"fields":{"token":{"type":"string","id":1},"type":{"type":"entities.DocType","id":2}}},"PullDocMessageReadStatusRequest":{"fields":{"DocObjs":{"rule":"repeated","type":"DocObj","id":1}}},"PullDocMessageReadStatusResponse":{"fields":{"readStatuses":{"keyType":"string","type":"ReadStatus","id":1}},"nested":{"ReadStatus":{"fields":{"unreadMessageIds":{"rule":"repeated","type":"int64","id":1,"options":{"packed":false}},"readMessageIds":{"rule":"repeated","type":"int64","id":2,"options":{"packed":false}}}}}},"PushDocImageRelayRequest":{"fields":{"title":{"type":"string","id":1},"content":{"type":"string","id":2},"createTime":{"rule":"required","type":"int64","id":3},"body":{"rule":"required","type":"string","id":4},"key":{"rule":"required","type":"string","id":5}}}}}}')},function(e){e.exports=JSON.parse('{"a":{"options":{"optimize_for":"LITE_RUNTIME","go_package":"git.byted.org/ee/lark/im-protobuf/improto/thread","java_package":"com.ss.android.lark.pb"},"nested":{"PushThreadReplyCountRequest":{"fields":{"threadId":{"rule":"required","type":"string","id":1},"replyCount":{"rule":"required","type":"int32","id":2}}},"PushMultiThreadReplyCountRequest":{"fields":{"requests":{"rule":"repeated","type":"PushThreadReplyCountRequest","id":1}}},"PushThreadReplyCountResponse":{"fields":{}},"PullThreadsSettingRequest":{"fields":{"threadId":{"rule":"repeated","type":"string","id":3,"options":{"(fieldinfo.FieldInfo)":"split,type=msg"}}}},"PullThreadsSettingResponse":{"fields":{"setting":{"keyType":"string","type":"entities.ThreadSetting","id":1}}},"PatchThreadSettingRequest":{"fields":{"setting":{"type":"entities.ThreadSetting","id":1},"needClearUnread":{"type":"bool","id":2,"options":{"default":true}}}},"PatchThreadSettingResponse":{"fields":{}},"PushThreadSettingNotice":{"fields":{"threadSetting":{"type":"entities.ThreadSetting","id":1},"feedCard":{"type":"entities.FeedCard","id":2},"thread":{"type":"entities.Thread","id":3}}},"PatchThreadRequest":{"fields":{"threadId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=msg"}},"topic":{"type":"string","id":2},"state":{"type":"entities.ThreadState","id":3}}},"PatchThreadResponse":{"fields":{"updateTime":{"type":"int64","id":1}}},"PutReadThreadsRequest":{"fields":{"channelId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"threadIds":{"rule":"repeated","type":"string","id":2},"readPosition":{"type":"int32","id":3}}},"PutReadThreadsResponse":{"fields":{"lastThreadPosition":{"type":"int32","id":1},"newThreadCount":{"type":"int32","id":2},"noBadgedThreadCount":{"type":"int32","id":3},"readPosition":{"type":"int32","id":4},"readPositionBadgedCount":{"type":"int32","id":5}}},"PushThreadReadStateNotice":{"fields":{"channelId":{"rule":"required","type":"string","id":1},"newThreadCount":{"type":"int32","id":2,"options":{"deprecated":true}},"noBadgedNewThreadCount":{"type":"int32","id":3,"options":{"deprecated":true}},"lastThreadPosition":{"type":"int32","id":4},"lastThreadId":{"type":"string","id":5},"threadIds":{"rule":"repeated","type":"string","id":6},"readThreadPosition":{"type":"int32","id":7},"lastThreadPositionBadgeCount":{"type":"int32","id":8},"readThreadPositionBadgeCount":{"type":"int32","id":9},"lastVisibleThreadId":{"type":"string","id":10,"options":{"deprecated":true}},"lastVisibleThreadPosition":{"type":"int32","id":11,"options":{"deprecated":true}}}},"PullThreadsByPositionsRequest":{"fields":{"channelId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"type":{"type":"entities.ChannelType","id":2,"options":{"default":"CHAT_CHANNEL"}},"positions":{"rule":"repeated","type":"int32","id":3,"options":{"packed":false}},"onlyVisibleThreads":{"type":"bool","id":4,"options":{"default":false}},"direction":{"type":"entities.ChannelDataDirection","id":5},"upPositions":{"rule":"repeated","type":"int32","id":6,"options":{"packed":false}},"downPositions":{"rule":"repeated","type":"int32","id":7,"options":{"packed":false}},"upFilterOutPositions":{"rule":"repeated","type":"int32","id":8,"options":{"packed":false}},"downFilterOutPositions":{"rule":"repeated","type":"int32","id":9,"options":{"packed":false}},"lastMessageCount":{"type":"int32","id":10,"options":{"default":2}}}},"PullThreadsByPositionsResponse":{"fields":{"threads":{"keyType":"int32","type":"entities.Thread","id":1},"rootMessages":{"keyType":"string","type":"entities.Message","id":2},"lastReplyMessages":{"keyType":"string","type":"entities.Message","id":3},"channelId":{"type":"string","id":4},"channelType":{"type":"entities.ChannelType","id":5,"options":{"default":"CHAT_CHANNEL"}},"invisibleThreads":{"keyType":"int32","type":"entities.InvisibleThread","id":6},"threadMessages":{"keyType":"string","type":"entities.MessageWithThread","id":7},"settings":{"keyType":"string","type":"entities.ThreadSetting","id":8}}},"PullThreadMessagesByPositionsRequest":{"fields":{"threadId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=msg"}},"positions":{"rule":"repeated","type":"int32","id":2,"options":{"packed":false}},"onlyVisibleMessages":{"type":"bool","id":3,"options":{"default":false}},"direction":{"type":"entities.ChannelDataDirection","id":4},"upPositions":{"rule":"repeated","type":"int32","id":5,"options":{"packed":false}},"downPositions":{"rule":"repeated","type":"int32","id":6,"options":{"packed":false}},"upFilterOutPositions":{"rule":"repeated","type":"int32","id":7,"options":{"packed":false}},"downFilterOutPositions":{"rule":"repeated","type":"int32","id":8,"options":{"packed":false}},"channelId":{"type":"string","id":9},"channelType":{"type":"entities.ChannelType","id":10,"options":{"default":"CHAT_CHANNEL"}}}},"PullThreadMessagesByPositionsResponse":{"fields":{"messages":{"keyType":"int32","type":"entities.Message","id":1},"channelId":{"type":"string","id":2},"channelType":{"type":"entities.ChannelType","id":3,"options":{"default":"CHAT_CHANNEL"}},"invisibleMessages":{"keyType":"int32","type":"entities.InvisibleMessage","id":4}}},"PushThreadUpdatedNotice":{"fields":{"threadId":{"type":"string","id":1},"lastMessagePosition":{"type":"int32","id":2},"replyCount":{"type":"int32","id":3},"lastMessageId":{"type":"string","id":4},"lastVisibleMessagePosition":{"type":"int32","id":5,"options":{"deprecated":true}},"lastVisibleMessageId":{"type":"string","id":6,"options":{"deprecated":true}},"readPosition":{"type":"int32","id":7,"options":{"deprecated":true}},"readPositionBadgeCount":{"type":"int32","id":8,"options":{"deprecated":true}},"lastMessagePositionBadgeCount":{"type":"int32","id":9,"options":{"deprecated":true}},"noReplyCount":{"type":"int32","id":10}}},"PushThreadNoReplyCountUpdatedNotice":{"fields":{"threadId":{"type":"string","id":1},"lastMessagePosition":{"type":"int32","id":2},"replyCount":{"type":"int32","id":3},"noReplyCount":{"type":"int32","id":4}}},"PullThreadsByIDsRequest":{"fields":{"threadIds":{"rule":"repeated","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=msg"}},"lastMessageCount":{"type":"int32","id":2,"options":{"default":2}}}},"PullThreadsByIDsResponse":{"fields":{"threads":{"keyType":"string","type":"entities.Thread","id":1},"rootMessages":{"keyType":"string","type":"entities.Message","id":2},"lastReplyMessages":{"keyType":"string","type":"entities.Message","id":3},"threadMessages":{"keyType":"string","type":"entities.MessageWithThread","id":4},"settings":{"keyType":"string","type":"entities.ThreadSetting","id":5}}},"PullThreadCardRequest":{"fields":{"channelId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"threadId":{"rule":"required","type":"string","id":2}}},"PullThreadCardResponse":{"fields":{"threadCard":{"type":"entities.CardContent","id":1}}},"ShareTarget":{"oneofs":{"target":{"oneof":["toChat","toThread"]}},"fields":{"toChat":{"type":"Chat","id":1},"toThread":{"type":"Thread","id":2}},"nested":{"Chat":{"fields":{"chatId":{"rule":"required","type":"string","id":1}}},"Thread":{"fields":{"threadId":{"rule":"required","type":"string","id":1},"chatId":{"rule":"required","type":"string","id":2}}}}},"PutThreadShareRequest":{"fields":{"channelId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"threadId":{"rule":"required","type":"string","id":2},"targets":{"rule":"repeated","type":"ShareTarget","id":3}}},"PutThreadShareResponse":{"fields":{"messages":{"keyType":"string","type":"entities.Message","id":1},"feedCards":{"keyType":"string","type":"entities.FeedCard","id":2}}},"PushThreadRemoved":{"fields":{"threadIds":{"rule":"repeated","type":"string","id":1},"threadPosition":{"keyType":"string","type":"int32","id":2},"updateTime":{"type":"int64","id":3},"channelIds":{"keyType":"string","type":"string","id":4}}},"ThreadMutableInfo":{"fields":{"threadId":{"rule":"required","type":"string","id":1},"topic":{"type":"string","id":2}}},"PushThreadMutableInfo":{"fields":{"operatorId":{"type":"string","id":1},"threadMuteInfo":{"type":"ThreadMutableInfo","id":2}}},"PushThreadStateInfo":{"fields":{"threadId":{"rule":"required","type":"string","id":1},"stateInfo":{"type":"entities.ThreadStateInfo","id":2}}},"PullFilteredThreadsByChatRequest":{"fields":{"channelId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"pullAllFilters":{"type":"bool","id":2},"options":{"keyType":"int64","type":"FilterOptions","id":3}},"nested":{"FilterOptions":{"fields":{"cursor":{"type":"int64","id":1},"threadCount":{"type":"int32","id":2,"options":{"default":25}}}}}},"PullFilteredThreadsByChatResponse":{"fields":{"filterOutcomes":{"keyType":"int64","type":"FilterOutcome","id":1}},"nested":{"FilterOutcome":{"fields":{"filter":{"rule":"required","type":"entities.ThreadFilter","id":1},"threadIdCursors":{"keyType":"string","type":"int64","id":2},"nextCursor":{"type":"int64","id":3},"hasMore":{"type":"bool","id":4},"position":{"type":"int32","id":5}}}}},"PushThreadFilterUpdatedNotice":{"fields":{"updatedFilters":{"keyType":"string","type":"UpdatedFilters","id":1}},"nested":{"UpdateInfo":{"fields":{"cursor":{"rule":"required","type":"int64","id":1}}},"UpdatedFilters":{"fields":{"updateInfo":{"keyType":"int64","type":"UpdateInfo","id":1},"channelId":{"type":"string","id":2}}}}},"RecommendationType":{"values":{"UNKNOWN_RECOMMENDATION_TYPE":0,"THREAD":1,"GROUPS":2}},"RelatedUser":{"fields":{"userId":{"rule":"required","type":"string","id":1},"avatarUrl":{"type":"string","id":2},"avatar":{"type":"entities.ImageSet","id":3},"avatarImage":{"type":"entities.Image","id":4}}},"Recommendation":{"fields":{"threadId":{"type":"string","id":1},"rank":{"type":"int64","id":2},"recommendationType":{"type":"RecommendationType","id":3},"topicGroups":{"rule":"repeated","type":"TopicGroupItem","id":4},"hasMoreRecommendedTopicGroups":{"type":"bool","id":5},"topicGroupType":{"type":"entities.TopicGroup.Type","id":6}},"nested":{"TopicGroupItem":{"fields":{"topicGroupId":{"rule":"required","type":"string","id":1},"topicGroupName":{"type":"string","id":2},"avatar":{"type":"entities.Image","id":3},"topicGroupMemberCount":{"type":"int32","id":4},"i18nTopicGroupNames":{"keyType":"string","type":"string","id":5},"relatedUsers":{"rule":"repeated","type":"RelatedUser","id":6},"joinStatus":{"type":"topic_group.TopicGroupJoinStatus","id":7}}}}},"PullRecommendationsByUserRequest":{"fields":{"cursor":{"type":"int64","id":1},"threadCount":{"type":"int32","id":2,"options":{"default":20}},"refresh":{"type":"bool","id":3},"recommendationTypes":{"rule":"repeated","type":"RecommendationType","id":4,"options":{"packed":false}}}},"PullRecommendationsByUserResponse":{"fields":{"recommendations":{"rule":"repeated","type":"Recommendation","id":1},"nextCursor":{"type":"int64","id":2},"hasMore":{"type":"bool","id":3},"impressionId":{"type":"int64","id":4},"refreshed":{"type":"bool","id":5,"options":{"default":true}}}},"ThreadChatterChange":{"fields":{"channelID":{"rule":"required","type":"int64","id":1},"threadID":{"rule":"required","type":"int64","id":2},"userIDs":{"rule":"repeated","type":"int64","id":3,"options":{"packed":false}},"updateTimeNs":{"rule":"required","type":"int64","id":4},"action":{"type":"Action","id":5,"options":{"default":"UNKNOWN"}},"usersToActionTypes":{"keyType":"int64","type":"ActionType","id":6},"retryTimes":{"type":"int32","id":7,"options":{"default":0}},"LastMessagePosition":{"type":"int32","id":8},"locale":{"type":"string","id":9},"LastMessageID":{"type":"int64","id":10},"isMention":{"type":"bool","id":11},"operatorID":{"type":"int64","id":12},"atUserIDs":{"rule":"repeated","type":"int64","id":13,"options":{"packed":false}}},"nested":{"Action":{"values":{"UNKNOWN":0,"FOLLOW":1,"UNFOLLOW":2,"CREATE":3,"REPLAY":4,"MENTION":5,"REMOVE_THREAD":6}},"ActionType":{"values":{"MessageActive":0,"MessagePassive":1,"FlagActive":2,"LeaveThreadGroup":3}}}},"UserOperationInThread":{"fields":{"userID":{"rule":"required","type":"int64","id":1},"threadID":{"rule":"required","type":"int64","id":2},"channelID":{"rule":"required","type":"int64","id":3},"operationTimeMs":{"rule":"required","type":"int64","id":4},"operation":{"type":"Operation","id":5,"options":{"default":"UNKNOWN"}}},"nested":{"Operation":{"values":{"UNKNOWN":0,"CREATE":1,"REPLY":2,"REMOVE_THREAD":3}}}},"ThreadPacket":{"oneofs":{"event":{"oneof":["ThreadSub","UserOperationInThread"]}},"fields":{"ThreadSub":{"type":"ThreadChatterChange","id":1},"UserOperationInThread":{"type":"UserOperationInThread","id":2}}},"UserTopicImpression":{"fields":{"userID":{"rule":"required","type":"int64","id":1},"topicIDs":{"rule":"repeated","type":"int64","id":2,"options":{"packed":false}}}},"PutReadMyThreadsRequest":{"fields":{"channelId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"readTimestamp":{"type":"int64","id":3}}},"PutReadMyThreadsResponse":{"fields":{"myThreadsLastTimestamp":{"type":"int64","id":1}}},"PushMyThreadsReadState":{"fields":{"channelId":{"rule":"required","type":"string","id":1},"readTimestamp":{"type":"int64","id":2},"lastTimestamp":{"type":"int64","id":3},"feedCard":{"type":"entities.FeedCard","id":4},"unreadCount":{"type":"int32","id":5},"lastDisplayMessageId":{"type":"int64","id":6}}},"PullThreadAnonymousQuotaRequest":{"fields":{}},"PullThreadAnonymousQuotaResponse":{"fields":{"leftQuota":{"rule":"required","type":"int64","id":1},"totalQuota":{"type":"int64","id":2},"expireTime":{"type":"int64","id":3}}},"PushThreadAnonymousQuotaRequest":{"fields":{"leftQuota":{"rule":"required","type":"int64","id":1},"totalQuota":{"type":"int64","id":2},"expireTime":{"type":"int64","id":3}}},"ChatTemplate":{"fields":{"templateId":{"rule":"required","type":"string","id":1},"bannerType":{"rule":"required","type":"BannerType","id":2},"name":{"type":"string","id":3},"nameI18n":{"keyType":"string","type":"string","id":4},"extra":{"type":"TemplateExtra","id":20}},"nested":{"BannerType":{"values":{"UNKNOWN":0,"CREATE_CHAT":1,"JOIN_CHAT":2}},"TemplateExtra":{"fields":{"joinChatId":{"type":"string","id":1},"avatar":{"type":"entities.Image","id":2},"joinToken":{"type":"string","id":3}}}}},"PullChatTemplateBannerRequest":{"fields":{}},"PullChatTemplateBannerResponse":{"fields":{"enable":{"rule":"required","type":"bool","id":1},"bannerType":{"type":"ChatTemplate.BannerType","id":2},"title":{"type":"string","id":3},"titleI18n":{"keyType":"string","type":"string","id":4},"templates":{"rule":"repeated","type":"ChatTemplate","id":10}}},"PutChatTemplateBannerStatusRequest":{"fields":{"showBanner":{"type":"bool","id":1}}},"PutChatTemplateBannerStatusResponse":{"fields":{}},"PushThreadUpdateInfo":{"fields":{"Threads":{"rule":"repeated","type":"ThreadUpdateInfo","id":1}},"nested":{"ThreadUpdateInfo":{"fields":{"threadId":{"type":"string","id":1},"lastMessagePosition":{"type":"int32","id":2},"replyCount":{"type":"int32","id":3},"lastMessageId":{"type":"string","id":4},"noReplyCount":{"type":"int32","id":5}}}}}}}}')},function(e){e.exports=JSON.parse('{"a":{"options":{"optimize_for":"LITE_RUNTIME","go_package":"git.byted.org/ee/lark/im-protobuf/improto/tenant","java_package":"com.ss.android.lark.pb"},"nested":{"PullTenantsByIDsRequest":{"fields":{"tenantIds":{"rule":"repeated","type":"string","id":2,"options":{"(fieldinfo.FieldInfo)":"split,type=tenant"}}}},"PullTenantsByIDsResponse":{"fields":{"tenants":{"keyType":"string","type":"entities.Tenant","id":1}}}}}}')},function(e){e.exports=JSON.parse('{"a":{"options":{"optimize_for":"LITE_RUNTIME","go_package":"git.byted.org/ee/lark/im-protobuf/improto/calendarentities","java_package":"com.ss.android.lark.pb"},"nested":{"ResourceCustomizationInfo":{"fields":{"startTime":{"type":"int64","id":1},"roomName":{"type":"string","id":2},"createdUserId":{"type":"int64","id":3},"comment":{"type":"string","id":4},"createdTime":{"type":"int64","id":5}}},"SearchEventInstance":{"fields":{"eventRefId":{"rule":"required","type":"string","id":1},"startTime":{"rule":"required","type":"int64","id":2},"endTime":{"rule":"required","type":"int64","id":3},"crossDayNo":{"type":"int32","id":4},"crossDaySum":{"type":"int32","id":5},"crossDayStartTime":{"type":"int64","id":6},"crossDayEndTime":{"type":"int64","id":7}}},"EventHighLight":{"fields":{"tag":{"rule":"required","type":"Tag","id":1},"highlights":{"rule":"repeated","type":"string","id":2}},"nested":{"Tag":{"values":{"UNKNOWN":0,"SUMMARY":1,"DESCRIPTION":2,"LOCATION":3,"ATTENDEE":4,"MEETING_ROOM":5,"CHAT":6}}}},"SearchEventContent":{"fields":{"calendarId":{"rule":"required","type":"string","id":1},"uid":{"rule":"required","type":"string","id":2},"originalTime":{"rule":"required","type":"int64","id":3},"summary":{"rule":"required","type":"string","id":4},"attendee":{"type":"string","id":5},"organizer":{"type":"string","id":6},"resource":{"type":"string","id":7},"location":{"type":"string","id":8},"description":{"type":"string","id":9},"eventHighlights":{"rule":"repeated","type":"EventHighLight","id":10},"owner":{"type":"string","id":11,"options":{"deprecated":true}},"selfAttendeeStatus":{"type":"entities.CalendarEvent.SelfAttendeeStatus","id":12,"options":{"default":"ATTENDEE_STATUS_ACCEPT"}},"eventColor":{"type":"int32","id":13},"isAllDay":{"type":"bool","id":14},"calendarType":{"type":"entities.Calendar.Type","id":15},"startTimezone":{"type":"string","id":16},"isCrossTenant":{"type":"bool","id":17},"creator":{"type":"string","id":18}}},"CalendarEventAttachmentExtra":{"fields":{"fileSize":{"type":"string","id":1},"name":{"type":"string","id":2},"position":{"type":"int32","id":3},"docUrls":{"rule":"repeated","type":"string","id":4}}},"PrimaryCalendarExtra":{"fields":{"workHourSetting":{"type":"entities.WorkHourSetting","id":1},"timezone":{"type":"string","id":2,"options":{"default":""}},"owner":{"type":"WebCalendarMember","id":3}}},"OtherCalendarExtra":{"fields":{}},"ResourceCalendarExtra":{"fields":{"resourceInfo":{"type":"entities.CalendarResourceInfo","id":1}}},"GoogleCalendarExtra":{"fields":{"externalAccount":{"type":"entities.ExternalAccount","id":1}}},"ExchangeCalendarExtra":{"fields":{"externalAccount":{"type":"entities.ExternalAccount","id":1}}},"WebCalendar":{"oneofs":{"extra":{"oneof":["primaryCalendarInfo","otherCalendarInfo","resourceCalendarInfo","googleCalendarInfo","exchangeCalendarInfo"]}},"fields":{"id":{"type":"string","id":1,"options":{"default":"0"}},"creatorUserId":{"type":"string","id":2,"options":{"default":"0"}},"defaultTimezone":{"type":"string","id":3,"options":{"default":""}},"defaultAccessRole":{"type":"entities.Calendar.AccessRole","id":4,"options":{"default":"FREE_BUSY_READER"}},"type":{"type":"entities.Calendar.Type","id":5,"options":{"default":"OTHER"}},"selfAccessRole":{"type":"entities.Calendar.AccessRole","id":6,"options":{"default":"FREE_BUSY_READER"}},"foregroundColor":{"type":"int32","id":7,"options":{"default":0}},"backgroundColor":{"type":"int32","id":8,"options":{"default":0}},"isPrimary":{"type":"bool","id":10,"options":{"default":false}},"isDeleted":{"type":"bool","id":11,"options":{"default":false}},"isPublic":{"type":"bool","id":12,"options":{"default":false}},"isAllStaff":{"type":"bool","id":13,"options":{"default":false}},"visibilityProperty":{"type":"int32","id":14,"options":{"default":0}},"summary":{"type":"string","id":15,"options":{"default":""}},"note":{"type":"string","id":16,"options":{"default":""}},"description":{"type":"string","id":17,"options":{"default":""}},"members":{"rule":"repeated","type":"WebCalendarMember","id":18},"createTime":{"type":"int64","id":19,"options":{"default":0}},"updateTime":{"type":"int64","id":20,"options":{"default":0}},"calendarSchema":{"type":"bytes","id":22},"schemaExtraData":{"type":"bytes","id":23},"calendarEventSchemaV2":{"type":"bytes","id":24},"primaryCalendarInfo":{"type":"PrimaryCalendarExtra","id":101},"otherCalendarInfo":{"type":"OtherCalendarExtra","id":102},"resourceCalendarInfo":{"type":"ResourceCalendarExtra","id":103},"googleCalendarInfo":{"type":"GoogleCalendarExtra","id":104},"exchangeCalendarInfo":{"type":"ExchangeCalendarExtra","id":105}}},"WebCalendarMember":{"oneofs":{"extra":{"oneof":["individual","group"]}},"fields":{"type":{"type":"Type","id":1,"options":{"default":"INDIVIDUAL"}},"accessRole":{"type":"entities.Calendar.AccessRole","id":2,"options":{"default":"FREE_BUSY_READER"}},"isDeleted":{"type":"bool","id":3,"options":{"default":false}},"name":{"type":"string","id":4,"options":{"default":""}},"avatarKey":{"type":"string","id":5,"options":{"default":""}},"fsUnit":{"type":"string","id":6,"options":{"default":""}},"individual":{"type":"Individual","id":101},"group":{"type":"Group","id":102}},"nested":{"Type":{"values":{"INDIVIDUAL":1,"GROUP":2}},"Individual":{"fields":{"userId":{"type":"string","id":1,"options":{"default":"0"}}}},"Group":{"fields":{"chatId":{"type":"string","id":1,"options":{"default":"0"}}}}}},"WebCalendarEvent":{"fields":{"id":{"type":"string","id":1,"options":{"default":"0"}},"key":{"type":"string","id":2,"options":{"default":""}},"originalTime":{"type":"int64","id":3,"options":{"default":0}},"calendarId":{"type":"string","id":4,"options":{"default":"0"}},"organizerCalendarId":{"type":"string","id":5,"options":{"default":"0"}},"creatorCalendarId":{"type":"string","id":6,"options":{"default":"0"}},"successorCalendarId":{"type":"string","id":7,"options":{"default":"0"}},"originalEventKey":{"type":"string","id":8,"options":{"default":""}},"originalIsAllDay":{"type":"bool","id":9,"options":{"default":false}},"isFree":{"type":"bool","id":10,"options":{"default":false}},"isAllDay":{"type":"bool","id":11,"options":{"default":false}},"isCrossTenant":{"type":"bool","id":12,"options":{"default":false}},"isDeleted":{"type":"bool","id":13,"options":{"default":false}},"lastDate":{"type":"int64","id":14,"options":{"default":0}},"source":{"type":"entities.CalendarEvent.Source","id":15,"options":{"default":"UNKNOWN"}},"color":{"type":"int32","id":16,"options":{"default":-1}},"visibility":{"type":"entities.CalendarEvent.Visibility","id":17,"options":{"default":"DEFAULT"}},"version":{"type":"int64","id":18,"options":{"default":0}},"status":{"type":"entities.CalendarEvent.Status","id":19,"options":{"default":"TENTATIVE"}},"rrule":{"type":"string","id":20,"options":{"default":""}},"guestCanInvite":{"type":"bool","id":21,"options":{"default":true}},"guestCanSeeOtherGuests":{"type":"bool","id":22,"options":{"default":true}},"guestCanModify":{"type":"bool","id":23,"options":{"default":false}},"selfAttendeeStatus":{"type":"entities.CalendarEvent.SelfAttendeeStatus","id":24,"options":{"default":"ATTENDEE_STATUS_NEEDS_ACTION"}},"startTime":{"type":"int64","id":25,"options":{"default":0}},"startTimezone":{"type":"string","id":26,"options":{"default":""}},"endTime":{"type":"int64","id":27,"options":{"default":0}},"endTimezone":{"type":"string","id":28,"options":{"default":""}},"summary":{"type":"string","id":29,"options":{"default":""}},"description":{"type":"string","id":30,"options":{"default":""}},"docsDescription":{"type":"string","id":31,"options":{"default":""}},"locations":{"rule":"repeated","type":"entities.CalendarEventLocation","id":32},"attendees":{"rule":"repeated","type":"WebCalendarEventAttendee","id":33},"reminders":{"rule":"repeated","type":"entities.Reminder","id":34},"createTime":{"type":"int64","id":35,"options":{"default":0}},"updateTime":{"type":"int64","id":36,"options":{"default":0}},"organizer":{"type":"WebCalendarEventAttendee","id":37},"creator":{"type":"WebCalendarEventAttendee","id":38},"successor":{"type":"WebCalendarEventAttendee","id":39},"type":{"type":"entities.CalendarEvent.Type","id":40},"attachments":{"rule":"repeated","type":"entities.CalendarEventAttachment","id":41},"attendeeInfo":{"type":"WebCalendarEventAttendeeInfo","id":42},"schema":{"type":"entities.CalendarSchemaCollection","id":43},"attendeeSource":{"type":"AttendeeSource","id":44,"options":{"default":"LARK"}},"meetingMinuteUrl":{"type":"string","id":45,"options":{"default":""}},"inviteOperatorId":{"type":"string","id":46,"options":{"default":""}},"videoMeeting":{"type":"entities.Vchat","id":47},"schemaV2":{"type":"bytes","id":48},"videoConfig":{"type":"entities.EventVChatConfig","id":49}},"nested":{"AttendeeSource":{"values":{"LARK":1,"MAIL":2,"EXCHANGE_SYNC":3}}}},"WebCalendarEventAttendee":{"oneofs":{"dependency":{"oneof":["user","group","resource","thirdPartyUser"]}},"fields":{"id":{"type":"string","id":1,"options":{"default":""}},"key":{"type":"string","id":2,"options":{"default":""}},"originalTime":{"type":"int64","id":3,"options":{"default":0}},"displayName":{"type":"string","id":4,"options":{"default":""}},"attendeeCalendarId":{"type":"string","id":5,"options":{"default":"0"}},"isOrganizer":{"type":"bool","id":6,"options":{"default":false}},"isOptional":{"type":"bool","id":7,"options":{"default":false}},"status":{"type":"entities.CalendarEventAttendee.Status","id":8,"options":{"default":"NEEDS_ACTION"}},"inviterCalendarId":{"type":"string","id":9,"options":{"default":""}},"avatarKey":{"type":"string","id":10,"options":{"default":""}},"category":{"type":"Category","id":11,"options":{"default":"USER"}},"fsUnit":{"type":"string","id":12,"options":{"default":""}},"attendeeSchema":{"type":"bytes","id":13},"schemaExtraData":{"type":"bytes","id":14},"user":{"type":"User","id":100},"group":{"type":"Group","id":101},"resource":{"type":"Resource","id":102},"thirdPartyUser":{"type":"ThirdPartyUser","id":103}},"nested":{"Category":{"values":{"USER":1,"GROUP":2,"RESOURCE":3,"THIRD_PARTY_USER":4}},"User":{"fields":{"userId":{"type":"string","id":1,"options":{"default":"0"}},"tenantId":{"type":"string","id":2,"options":{"default":"0"}},"tags":{"rule":"repeated","type":"entities.CalendarEventAttendeeTag","id":3}}},"Group":{"fields":{"groupId":{"type":"string","id":1,"options":{"default":"0"}},"members":{"rule":"repeated","type":"WebCalendarEventAttendee","id":2},"tenantId":{"type":"string","id":3,"options":{"default":"0"}},"isCrossTenant":{"type":"bool","id":4,"options":{"default":false}},"openSecurity":{"type":"bool","id":5,"options":{"default":false}},"showMemberLimit":{"type":"int32","id":6,"options":{"default":0}},"memberCount":{"type":"int32","id":7,"options":{"default":0}},"hasRemovedMembers":{"type":"bool","id":8,"options":{"default":false}},"isSelfInGroup":{"type":"bool","id":9,"options":{"default":false}}}},"Resource":{"fields":{"tenantId":{"type":"string","id":1,"options":{"default":""}},"isDisabled":{"type":"bool","id":2,"options":{"default":false}}}},"ThirdPartyUser":{"fields":{"email":{"type":"string","id":1}}}}},"WebCalendarEventAttendeeInfo":{"fields":{"totalCount":{"type":"int32","id":1,"options":{"default":0}},"acceptCount":{"type":"int32","id":2,"options":{"default":0}},"declineCount":{"type":"int32","id":3,"options":{"default":0}},"tentativeCount":{"type":"int32","id":4,"options":{"default":0}},"needActionCount":{"type":"int32","id":5,"options":{"default":0}}}},"ResourceApprovalExtra":{"fields":{"approverUserIds":{"rule":"repeated","type":"int64","id":1,"options":{"packed":false}},"reason":{"type":"string","id":2},"form":{"type":"string","id":3}}},"ExternalApp":{"values":{"UNKNOWN_EXTERNAL_APP":0,"ExternalAppApproval":1,"ExternalAppConditionalApproval":2}},"SchemaExtraData":{"fields":{"bizData":{"rule":"repeated","type":"BizData","id":1}},"nested":{"Type":{"values":{"UNKNOWN":0,"RESOURCE_APPROVAL_INFO":1,"APPROVAL_REQUEST":2,"RESOURCE_STRATEGY":3,"RESOURCE_REQUISITION":4,"RESOURCE_CUSTOMIZATION":5}},"ResourceApprovalInfo":{"fields":{"approverUserIds":{"rule":"repeated","type":"string","id":1},"trigger":{"type":"ApprovalTrigger","id":2},"adminOnOff":{"type":"bool","id":3}}},"CustomizationType":{"values":{"SingleSelect":1,"MultipleSelect":2,"Input":3}},"ResourceCustomization":{"fields":{"customizationData":{"rule":"repeated","type":"CustomizationData","id":1},"contactIds":{"rule":"repeated","type":"string","id":2},"preparationTime":{"type":"int64","id":3}}},"CustomizationData":{"fields":{"customizationType":{"type":"CustomizationType","id":1},"isRequired":{"type":"bool","id":2},"label":{"type":"string","id":3},"indexKey":{"type":"string","id":4},"options":{"rule":"repeated","type":"CustomizationOption","id":5},"conditions":{"rule":"repeated","type":"OptionCondition","id":6},"inputContent":{"type":"string","id":7},"placeHolder":{"type":"string","id":8}}},"CustomizationOption":{"fields":{"isOthers":{"type":"bool","id":1},"othersContent":{"type":"string","id":2},"optionLabel":{"type":"string","id":3},"optionImageUrl":{"type":"string","id":4},"optionKey":{"type":"string","id":5},"isSelected":{"type":"bool","id":6}}},"OptionCondition":{"fields":{"customKey":{"type":"string","id":1},"optionKeys":{"rule":"repeated","type":"string","id":2}}},"ResourceStrategy":{"fields":{"singleMaxDuration":{"type":"int32","id":1},"untilMaxDuration":{"type":"int32","id":2},"dailyStartTime":{"type":"int32","id":3},"dailyEndTime":{"type":"int32","id":4},"timezone":{"type":"string","id":5}}},"ApprovalRequest":{"fields":{"reason":{"type":"string","id":1},"approverUserIds":{"rule":"repeated","type":"string","id":2},"createChatterId":{"type":"string","id":3},"trigger":{"type":"ApprovalTrigger","id":4}}},"ApprovalTrigger":{"fields":{"durationTrigger":{"type":"int64","id":1}}},"ResourceRequisition":{"fields":{"startTime":{"type":"int64","id":1},"endTime":{"type":"int64","id":2},"contactIds":{"rule":"repeated","type":"string","id":3},"reason":{"type":"string","id":4}}},"BizData":{"oneofs":{"data":{"oneof":["resourceApprovalInfo","approvalRequest","resourceStrategy","resourceRequisition","resourceCustomization"]}},"fields":{"type":{"rule":"required","type":"Type","id":1},"resourceApprovalInfo":{"type":"ResourceApprovalInfo","id":100},"approvalRequest":{"type":"ApprovalRequest","id":101},"resourceStrategy":{"type":"ResourceStrategy","id":102},"resourceRequisition":{"type":"ResourceRequisition","id":103},"resourceCustomization":{"type":"ResourceCustomization","id":104}}}}},"TimeoffExtra":{"fields":{"title":{"type":"string","id":1},"description":{"type":"string","id":2}}},"MeetingRoomInformation":{"fields":{"capacity":{"rule":"required","type":"int64","id":1,"options":{"default":0}},"equipments":{"rule":"repeated","type":"entities.Equipment","id":2},"resourceStrategy":{"type":"entities.ResourceStrategy","id":3,"options":{"deprecated":true}},"isApproval":{"type":"bool","id":4},"remark":{"type":"string","id":5},"picture":{"type":"string","id":6},"resourceRequisitions":{"type":"SchemaExtraData.ResourceRequisition","id":7,"options":{"deprecated":true}},"shouldShowSummary":{"type":"bool","id":8}}},"InstanceCheckInInfo":{"fields":{"instanceId":{"type":"string","id":1},"checkInTimestampSecond":{"type":"int64","id":2},"checkInStatus":{"type":"CheckInType","id":3}},"nested":{"CheckInType":{"values":{"UNKNOWN":0,"ALREADY_CHECK_IN":1,"NOT_CHECK_IN":2,"USER_NOT_AUTHORIZED":3}}}},"ResourceCheckInStrategy":{"fields":{"durationBeforeStartCheckIn":{"type":"int64","id":1},"durationAfterStartCheckIn":{"type":"int64","id":2},"qrStatus":{"type":"QRCodeStatus","id":3},"isQrCheckInEnable":{"type":"bool","id":4}},"nested":{"QRCodeStatus":{"values":{"UNKNOWN":0,"ACTIVATED":1,"INACTIVATED":2,"FIRSTACTIVATED":3}}}},"ResourceApprovalConfig":{"fields":{"onOff":{"type":"bool","id":1},"duration":{"type":"int64","id":2},"approvers":{"rule":"repeated","type":"int64","id":3,"options":{"packed":false}}}},"LevelContent":{"fields":{"name":{"type":"string","id":1},"levelId":{"type":"string","id":2}}},"LevelRelatedInfo":{"fields":{"sonLevelInfos":{"rule":"repeated","type":"LevelContent","id":1},"sonResources":{"rule":"repeated","type":"entities.CalendarResource","id":2},"parentLevelId":{"type":"string","id":3},"resourceWeight":{"keyType":"string","type":"int64","id":4},"levelWeight":{"keyType":"string","type":"int64","id":5}}}}}}')},function(e){e.exports=JSON.parse('{"a":{"options":{"optimize_for":"LITE_RUNTIME","go_package":"git.byted.org/ee/lark/im-protobuf/improto/calendarevents","java_package":"com.ss.android.lark.pb"},"nested":{"SyncCalendarEventsRequest":{"fields":{"calendarIdVersions":{"keyType":"string","type":"int64","id":1},"calendarEvents":{"rule":"repeated","type":"entities.CalendarEvent","id":2},"needDeleted":{"type":"bool","id":3,"options":{"default":true}},"eventsCountLimit":{"type":"int32","id":4,"options":{"default":1000}},"shouldReturnLatestAttendees":{"type":"bool","id":5,"options":{"default":false}}}},"SyncCalendarEventsResponse":{"fields":{"calendarIdRequireMoreMap":{"keyType":"string","type":"bool","id":1},"calendarEventCores":{"rule":"repeated","type":"entities.CalendarEventCore","id":2},"calendarChatterMap":{"keyType":"string","type":"string","id":3},"meetings":{"rule":"repeated","type":"entities.Meeting","id":4},"calendarBriefMap":{"keyType":"string","type":"entities.CalendarBriefInfo","id":5},"vchats":{"rule":"repeated","type":"entities.Vchat","id":6}}},"OptimizedSyncCalendarEventsRequest":{"fields":{"dirtyCalendarEvents":{"rule":"repeated","type":"entities.CalendarEvent","id":1},"eventsCountLimit":{"type":"int32","id":2,"options":{"default":1000}},"calendarParams":{"rule":"repeated","type":"EventSyncCalendarParams","id":3},"enableRecurrenceEventsSyncOptimize":{"type":"bool","id":4},"eventAttendeeCommits":{"rule":"repeated","type":"entities.EventAttendeeCommits","id":5},"needsBriefEvents":{"type":"bool","id":6,"options":{"default":false}},"dirtyEventCommitInfo":{"rule":"repeated","type":"DirtyEventCommitInfo","id":7},"useAttendeePageToken":{"type":"bool","id":8,"options":{"default":false}}},"nested":{"EventSyncCalendarParams":{"fields":{"calId":{"rule":"required","type":"string","id":1},"calEventMaxVersion":{"rule":"required","type":"int64","id":2},"firstSyncOptimization":{"type":"bool","id":3,"options":{"default":false}},"anchorTime":{"type":"int64","id":4,"options":{"default":0}},"serverEventMaxVersion":{"type":"int64","id":5,"options":{"default":-1}}}},"DirtyEventCommitInfo":{"fields":{"calId":{"type":"string","id":1},"key":{"type":"string","id":2},"originalTime":{"type":"int64","id":3},"dirtyEventCommitId":{"type":"string","id":4}}}}},"OptimizedSyncCalendarEventsResponse":{"fields":{"calendarEventCores":{"rule":"repeated","type":"entities.CalendarEventCore","id":1},"calendarChatterMap":{"keyType":"string","type":"string","id":2},"meetings":{"rule":"repeated","type":"entities.Meeting","id":3},"calendarBriefMap":{"keyType":"string","type":"entities.CalendarBriefInfo","id":4},"calendarInfos":{"rule":"repeated","type":"EventSyncCalendarInfo","id":5},"vchats":{"rule":"repeated","type":"entities.Vchat","id":6},"eventAttendeeCommits":{"rule":"repeated","type":"entities.EventAttendeeCommits","id":7}},"nested":{"EventSyncCalendarInfo":{"fields":{"calId":{"rule":"required","type":"string","id":1},"requireMore":{"rule":"required","type":"bool","id":2},"serverEventMaxVersion":{"type":"int64","id":3,"options":{"default":-1}}}}}},"SwitchEventCalendarRequest":{"fields":{"calendarId":{"type":"int64","id":1},"uid":{"type":"string","id":2},"originalTime":{"type":"int64","id":3},"destinationCalendarId":{"type":"int64","id":4}}},"SwitchEventCalendarResponse":{"fields":{"calendarEvents":{"rule":"repeated","type":"entities.CalendarEvent","id":1}}},"TransferCalendarEventRequest":{"fields":{"calendarEventKey":{"rule":"required","type":"entities.CalendarEventKey","id":1},"userId":{"rule":"required","type":"int64","id":2},"needsBriefEvents":{"type":"bool","id":3,"options":{"default":false}},"needsRemoveOriginalOrganizer":{"type":"bool","id":4,"options":{"default":true}},"useAttendeePageToken":{"type":"bool","id":5,"options":{"default":false}}}},"TransferCalendarEventResponse":{"fields":{"calendarEvents":{"rule":"repeated","type":"entities.CalendarEvent","id":1}}},"MGetCalendarEventsRequest":{"fields":{"ids":{"rule":"repeated","type":"string","id":1},"needsBriefEvents":{"type":"bool","id":2,"options":{"default":false}},"useAttendeePageToken":{"type":"bool","id":3,"options":{"default":false}},"refidCalendarMap":{"keyType":"string","type":"string","id":4}}},"MGetCalendarEventsResponse":{"fields":{"calendarEvents":{"rule":"repeated","type":"entities.CalendarEvent","id":1},"calendarChatterMap":{"keyType":"string","type":"string","id":2},"calendarBriefMap":{"keyType":"string","type":"entities.CalendarBriefInfo","id":3},"eventSuccessorMap":{"keyType":"string","type":"string","id":4},"meetings":{"rule":"repeated","type":"entities.Meeting","id":5},"meetingEventRefs":{"rule":"repeated","type":"entities.MeetingEventRef","id":6},"resources":{"rule":"repeated","type":"entities.CalendarResource","id":7},"buildings":{"rule":"repeated","type":"entities.CalendarBuilding","id":8},"inMeetingChatMap":{"keyType":"string","type":"bool","id":9},"vchats":{"rule":"repeated","type":"entities.Vchat","id":10}}},"MGetCalendarEventsWithKeyRequest":{"fields":{"keys":{"rule":"repeated","type":"entities.CalendarEventKey","id":1},"needsBriefEvents":{"type":"bool","id":2,"options":{"default":false}},"useAttendeePageToken":{"type":"bool","id":3,"options":{"default":false}}}},"MGetIsJoinedEventStatusRequest":{"fields":{"keys":{"rule":"repeated","type":"entities.CalendarEventKey","id":1}}},"GetCalendarEventFromApplinkRequest":{"fields":{"keys":{"rule":"repeated","type":"entities.CalendarEventKey","id":1}}},"GetCalendarEventFromApplinkResponse":{"fields":{"calendarEvents":{"rule":"repeated","type":"entities.CalendarEvent","id":1},"calendarChatterMap":{"keyType":"string","type":"string","id":2},"calendarBriefMap":{"keyType":"string","type":"entities.CalendarBriefInfo","id":3},"eventSuccessorMap":{"keyType":"string","type":"string","id":4},"resources":{"rule":"repeated","type":"entities.CalendarResource","id":5},"buildings":{"rule":"repeated","type":"entities.CalendarBuilding","id":6},"vchats":{"rule":"repeated","type":"entities.Vchat","id":7}}},"MGetIsJoinedEventStatusResponse":{"fields":{"keys":{"rule":"repeated","type":"entities.CalendarEventKey","id":1},"isJoined":{"rule":"repeated","type":"bool","id":2,"options":{"packed":false}}}},"MGetCalendarEventsWithKeyResponse":{"fields":{"calendarEvents":{"rule":"repeated","type":"entities.CalendarEvent","id":1},"calendarChatterMap":{"keyType":"string","type":"string","id":2},"calendarBriefMap":{"keyType":"string","type":"entities.CalendarBriefInfo","id":3},"eventSuccessorMap":{"keyType":"string","type":"string","id":4},"meetings":{"rule":"repeated","type":"entities.Meeting","id":5},"meetingEventRefs":{"rule":"repeated","type":"entities.MeetingEventRef","id":6},"resources":{"rule":"repeated","type":"entities.CalendarResource","id":7},"buildings":{"rule":"repeated","type":"entities.CalendarBuilding","id":8},"vchats":{"rule":"repeated","type":"entities.Vchat","id":9}}},"PushCalendarEventReminder":{"fields":{"title":{"rule":"required","type":"string","id":1},"eventId":{"rule":"required","type":"string","id":2},"startTime":{"rule":"required","type":"int64","id":3},"location":{"type":"string","id":4,"options":{"default":""}},"endTime":{"type":"int64","id":5},"meetingRooms":{"rule":"repeated","type":"string","id":6},"isAllDay":{"type":"bool","id":7,"options":{"default":false}},"calendarId":{"type":"string","id":8,"options":{"default":""}},"uid":{"type":"string","id":9,"options":{"default":""}},"originalTime":{"type":"int64","id":10,"options":{"default":0}},"minutes":{"type":"int32","id":11,"options":{"default":0}},"calendarResourceInfos":{"rule":"repeated","type":"entities.CalendarResourceInfo","id":12}}},"PushChangedMeetingChatId":{"fields":{"chatId":{"type":"string","id":1},"scrollType":{"type":"entities.ScrollType","id":2,"options":{"default":"EVENT_INFO"}}}},"MarkMeetingEnteredRequest":{"fields":{"meetingId":{"rule":"required","type":"string","id":1}}},"MarkMeetingEnteredResponse":{"fields":{}},"MarkScrollClickedRequest":{"fields":{"meetingId":{"rule":"required","type":"string","id":1},"scrollType":{"type":"entities.ScrollType","id":2,"options":{"default":"EVENT_INFO"}}}},"MarkScrollClickedResponse":{"fields":{}},"DisplayTransferChatScrollCheckRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1}}},"DisplayTransferChatScrollCheckResponse":{"fields":{"shouldShowScroll":{"rule":"required","type":"bool","id":1}}},"PushScrollClosedNotification":{"fields":{"scrollType":{"rule":"required","type":"entities.ScrollType","id":1},"chatId":{"rule":"required","type":"string","id":2}}},"CloseEventReminderCardRequest":{"fields":{"calendarId":{"rule":"required","type":"string","id":1},"uid":{"rule":"required","type":"string","id":2},"originalTime":{"rule":"required","type":"int64","id":3},"startTime":{"rule":"required","type":"int64","id":4},"minutes":{"rule":"required","type":"int32","id":5}}},"CloseEventReminderCardResponse":{"fields":{}},"PushReminderClosedNotification":{"fields":{"calendarId":{"rule":"required","type":"string","id":1},"uid":{"rule":"required","type":"string","id":2},"originalTime":{"rule":"required","type":"int64","id":3},"startTime":{"rule":"required","type":"int64","id":4},"minutes":{"rule":"required","type":"int32","id":5}}},"UpgradeToMeetingRequest":{"fields":{"calendarEvent":{"rule":"required","type":"entities.CalendarEvent","id":1},"shouldAddToAttendeeList":{"type":"bool","id":2,"options":{"default":false}},"needsBriefEvents":{"type":"bool","id":3,"options":{"default":false}},"useAttendeePageToken":{"type":"bool","id":4,"options":{"default":false}}}},"UpgradeToMeetingResponse":{"fields":{"meeting":{"type":"entities.Meeting","id":1},"eventMeetingMap":{"keyType":"string","type":"string","id":2},"calendarEvent":{"type":"entities.CalendarEvent","id":3},"meetingEventRefs":{"rule":"repeated","type":"entities.MeetingEventRef","id":4}}},"JoinMeetingChatRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1}}},"JoinMeetingChatResponse":{"fields":{"isSuccess":{"rule":"required","type":"bool","id":1}}},"UpgradeToChatRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1}}},"UpgradeToChatResponse":{"fields":{}},"PushCalendarEventSyncNotification":{"fields":{}},"ReplyCalendarEventInvitationRequest":{"fields":{"calendarEventKey":{"rule":"required","type":"entities.CalendarEventKey","id":1},"replyType":{"type":"ReplyType","id":2,"options":{"default":"ACCEPT"}},"quitMeeting":{"type":"bool","id":3,"options":{"default":false}},"rsvpCommentInfo":{"type":"entities.RSVPCommentInfo","id":4},"needsBriefEvents":{"type":"bool","id":5,"options":{"default":false}},"useAttendeePageToken":{"type":"bool","id":6,"options":{"default":false}}},"nested":{"ReplyType":{"values":{"ACCEPT":1,"DECLINE":2,"TENTATIVE":3,"DELETE":4,"NEEDS_ACTION":5}}}},"ReplyCalendarEventInvitationResponse":{"fields":{"calendarEvent":{"type":"entities.CalendarEvent","id":1}}},"PushCalendarEventInvitationRequest":{"fields":{"calendarEventKey":{"rule":"required","type":"entities.CalendarEventKey","id":1}}},"PushCalendarEvent":{"fields":{"calendarEvent":{"rule":"required","type":"entities.CalendarEvent","id":1},"meeting":{"type":"entities.Meeting","id":2}}},"PushCalendarEvents":{"fields":{"calendarEvents":{"rule":"repeated","type":"PushCalendarEvent","id":1}}},"PushMeetingMinuteEditors":{"fields":{"chatters":{"rule":"repeated","type":"entities.Chatter","id":1},"chatId":{"rule":"required","type":"string","id":2},"meetingMinuteUrl":{"rule":"required","type":"string","id":3},"expireTime":{"type":"int64","id":4,"options":{"default":10}}}},"PushSharedCalendarEvent":{"fields":{"calendarEvent":{"rule":"required","type":"entities.CalendarEvent","id":1},"messageIds":{"rule":"repeated","type":"string","id":2}}},"PushCalendarEventVChatChanges":{"fields":{"changes":{"rule":"repeated","type":"entities.CalendarEventVChatChange","id":1}}},"QueryInstanceRequest":{"fields":{"calendarIds":{"rule":"repeated","type":"string","id":1},"startTime":{"type":"int64","id":2},"endTime":{"type":"int64","id":3},"workHourCalendarIds":{"rule":"repeated","type":"string","id":4},"deviceSettingCalendarIds":{"rule":"repeated","type":"string","id":5},"needsBriefEvents":{"type":"bool","id":6,"options":{"default":false}},"useAttendeePageToken":{"type":"bool","id":7,"options":{"default":false}}}},"QueryInstanceResponse":{"fields":{"calendarEventInstance":{"rule":"repeated","type":"entities.CalendarEventInstance","id":1},"events":{"keyType":"string","type":"entities.CalendarEvent","id":2},"eventCreator":{"keyType":"string","type":"entities.EventCreator","id":3},"originalEventCreator":{"keyType":"string","type":"entities.EventCreator","id":4},"privateCalendarIds":{"keyType":"string","type":"bool","id":5},"workHourSettings":{"keyType":"string","type":"entities.WorkHourSetting","id":6},"calendarIdDeviceSettings":{"keyType":"string","type":"entities.CalendarUserDeviceSettings","id":7}}},"GetResourceCheckInInfoWithTokenRequest":{"fields":{"resourceCheckInToken":{"type":"string","id":1}}},"GetResourceCheckInInfoWithTokenResponse":{"fields":{"resource":{"type":"entities.CalendarResource","id":1},"currentTimestampSecond":{"type":"int64","id":2},"authCreateEvent":{"type":"CreateEventAuth","id":3},"calendarEventInstance":{"rule":"repeated","type":"entities.CalendarEventInstance","id":4},"events":{"keyType":"string","type":"entities.CalendarEvent","id":5},"eventCreators":{"keyType":"string","type":"entities.EventCreator","id":6},"originalEventCreators":{"keyType":"string","type":"entities.EventCreator","id":7},"instanceCheckInInfo":{"keyType":"string","type":"calendar_entities.InstanceCheckInInfo","id":8},"resourceCheckInStrategy":{"type":"calendar_entities.ResourceCheckInStrategy","id":9},"building":{"type":"entities.CalendarBuilding","id":10},"extraContactIds":{"rule":"repeated","type":"string","id":11}},"nested":{"CreateEventAuth":{"values":{"UNKNOWN":0,"AUTHORIZED":1,"LIMITED_BY_USER_STRATEGY":2}}}},"CheckInByQRCodeRequest":{"fields":{"resourceId":{"type":"string","id":1},"refId":{"type":"string","id":2},"eventStartTime":{"type":"int64","id":3},"eventEndTime":{"type":"int64","id":4}}},"CheckInByQRCodeResponse":{"fields":{"checkInResp":{"type":"Status","id":1}},"nested":{"Status":{"values":{"UNKNOWN":0,"SUCCESS":1,"RELEASED":2,"UNAUTHORIZED":3,"INACTIVATED":4}}}},"GetResourceWithTokenRequest":{"fields":{"resourceToken":{"rule":"required","type":"string","id":1},"startTime":{"rule":"required","type":"int64","id":2},"endTime":{"rule":"required","type":"int64","id":3},"needsBriefEvents":{"type":"bool","id":4,"options":{"default":false}},"useAttendeePageToken":{"type":"bool","id":5,"options":{"default":false}}}},"GetResourceWithTokenResponse":{"fields":{"resource":{"type":"entities.CalendarResource","id":1},"building":{"type":"entities.CalendarBuilding","id":2},"calendarEventInstance":{"rule":"repeated","type":"entities.CalendarEventInstance","id":3},"events":{"keyType":"string","type":"entities.CalendarEvent","id":4},"eventCreator":{"keyType":"string","type":"entities.EventCreator","id":5},"originalEventCreator":{"keyType":"string","type":"entities.EventCreator","id":6},"currentTimestamp":{"type":"int64","id":7},"needPopUp":{"type":"bool","id":8,"options":{"default":true}}}},"SeizeResourceRequest":{"fields":{"resourceCalendarId":{"rule":"required","type":"string","id":1},"startTime":{"rule":"required","type":"int64","id":2},"endTime":{"rule":"required","type":"int64","id":3},"needsBriefEvents":{"type":"bool","id":4,"options":{"default":false}},"useAttendeePageToken":{"type":"bool","id":5,"options":{"default":false}}}},"SeizeResourceResponse":{"fields":{"calendarEvent":{"type":"entities.CalendarEvent","id":1}}},"GetBusyUserRequest":{"fields":{"calendarIds":{"rule":"repeated","type":"string","id":1},"startTime":{"rule":"required","type":"int64","id":2},"endTime":{"rule":"required","type":"int64","id":3},"uid":{"type":"string","id":4},"originalTime":{"type":"int64","id":5}}},"GetBusyUserResponse":{"fields":{"calendarBusyMap":{"keyType":"string","type":"bool","id":1}}},"BatchQueryInstanceRequest":{"fields":{"calendarIdMap":{"keyType":"string","type":"entities.StartEndTime","id":1},"needsBriefEvents":{"type":"bool","id":2,"options":{"default":false}},"useAttendeePageToken":{"type":"bool","id":3,"options":{"default":false}}}},"BatchQueryInstanceResponse":{"fields":{"instancesMap":{"keyType":"string","type":"entities.CalendarInstanceSet","id":1},"calendarMaxVersionMap":{"keyType":"string","type":"int64","id":2}}},"BatchQueryEventsDiffRequest":{"fields":{"calendarVersionMap":{"keyType":"string","type":"entities.CalendarEventVersionSet","id":1}}},"BatchQueryEventsDiffResponse":{"fields":{"calendarEvents":{"rule":"repeated","type":"entities.CalendarEvent","id":1}}},"PullMeetingRoomsInfoRequest":{"fields":{"startTime":{"type":"int64","id":1,"options":{"default":0}},"endTime":{"type":"int64","id":2,"options":{"default":0}}}},"PullMeetingRoomsInfoResponse":{"fields":{"resources":{"keyType":"string","type":"entities.CalendarResource","id":1},"buildings":{"keyType":"string","type":"entities.CalendarBuilding","id":2}}},"PullResourcesByIdsRequest":{"fields":{"ids":{"rule":"repeated","type":"string","id":1},"startTime":{"type":"int64","id":2,"options":{"default":0}},"endTime":{"type":"int64","id":3,"options":{"default":0}}}},"PullResourcesByIdsResponse":{"fields":{"resources":{"keyType":"string","type":"entities.CalendarResource","id":1}}},"PullBuildingsRequest":{"fields":{}},"PullBuildingsResponse":{"fields":{"buildings":{"keyType":"string","type":"entities.CalendarBuilding","id":1}}},"PullMeetingRoomsInBuildingRequest":{"fields":{"startTime":{"type":"int64","id":1,"options":{"default":0}},"endTime":{"type":"int64","id":2,"options":{"default":0}},"buildingIds":{"rule":"repeated","type":"string","id":3},"rrule":{"type":"string","id":4,"options":{"default":""}},"needDisabledResource":{"type":"bool","id":5,"options":{"default":false}},"startTimezone":{"type":"string","id":6,"options":{"default":"UTC"}},"meetingRoomFilter":{"type":"entities.MeetingRoomFilter","id":7},"meetingRoomFloorFilter":{"rule":"repeated","type":"entities.MeetingRoomFloorFilter","id":8}}},"PullMeetingRoomsInBuildingResponse":{"fields":{"resources":{"keyType":"string","type":"entities.CalendarResource","id":1}}},"PullAllMeetingRoomsInTenantRequest":{"fields":{"startTime":{"type":"int64","id":1,"options":{"default":0}},"endTime":{"type":"int64","id":2,"options":{"default":0}},"startTimezone":{"type":"string","id":3,"options":{"default":"UTC"}},"resourceIndex":{"type":"string","id":4},"limit":{"type":"int64","id":5}}},"PullAllMeetingRoomsInTenantResponse":{"fields":{"resources":{"keyType":"string","type":"entities.CalendarResource","id":1},"resourceIndex":{"type":"string","id":2}}},"PullMeetingRoomAndLevelInfoRequest":{"fields":{"startTime":{"type":"int64","id":1,"options":{"default":0}},"endTime":{"type":"int64","id":2,"options":{"default":0}},"levelIds":{"rule":"repeated","type":"string","id":3},"rrule":{"type":"string","id":4,"options":{"default":""}},"needDisabledResource":{"type":"bool","id":5,"options":{"default":false}},"startTimezone":{"type":"string","id":6,"options":{"default":"UTC"}}}},"PullMeetingRoomAndLevelInfoResponse":{"fields":{"levelInfo":{"keyType":"string","type":"calendar_entities.LevelRelatedInfo","id":1}}},"PullAllMeetingRoomAndLevelInfoRequest":{"fields":{"levelId":{"type":"string","id":1,"options":{"default":""}},"cursor":{"type":"string","id":2,"options":{"default":"-1"}},"startTime":{"type":"int64","id":3,"options":{"default":0}},"endTime":{"type":"int64","id":4,"options":{"default":0}},"startTimezone":{"type":"string","id":5,"options":{"default":"UTC"}}}},"PullAllMeetingRoomAndLevelInfoResponse":{"fields":{"levelInfos":{"keyType":"string","type":"calendar_entities.LevelRelatedInfo","id":1},"cursor":{"type":"string","id":2,"options":{"default":"-1"}},"isFinished":{"type":"bool","id":3}}},"SearchMeetingRoomsV2Request":{"fields":{"startTime":{"type":"int64","id":1,"options":{"default":0}},"endTime":{"type":"int64","id":2,"options":{"default":0}},"keyword":{"type":"string","id":3,"options":{"default":""}},"count":{"type":"int32","id":4,"options":{"default":50}},"rrule":{"type":"string","id":5,"options":{"default":""}},"needDisabledResource":{"type":"bool","id":6,"options":{"default":false}},"startTimezone":{"type":"string","id":7,"options":{"default":"UTC"}},"cursor":{"type":"int32","id":8},"meetingRoomFilter":{"type":"entities.MeetingRoomFilter","id":9}}},"SearchMeetingRoomsV2Response":{"fields":{"resources":{"rule":"repeated","type":"entities.CalendarResource","id":1},"cursor":{"type":"int32","id":2},"hasMore":{"type":"bool","id":3}}},"SearchMeetingRoomsRequest":{"fields":{"startTime":{"type":"int64","id":1,"options":{"default":0}},"endTime":{"type":"int64","id":2,"options":{"default":0}},"keyword":{"type":"string","id":3,"options":{"default":""}},"count":{"type":"int32","id":4,"options":{"default":50}},"rrule":{"type":"string","id":5,"options":{"default":""}},"needDisabledResource":{"type":"bool","id":6,"options":{"default":false}},"startTimezone":{"type":"string","id":7,"options":{"default":"UTC"}},"meetingRoomFilter":{"type":"entities.MeetingRoomFilter","id":8}}},"SearchMeetingRoomsResponse":{"fields":{"buildings":{"rule":"repeated","type":"entities.CalendarBuilding","id":1},"hasMore":{"type":"bool","id":2,"options":{"default":false}}}},"PullMeetingRoomsSubscriberRequest":{"fields":{"startTime":{"type":"int64","id":1,"options":{"default":0}},"endTime":{"type":"int64","id":2,"options":{"default":0}},"resourceIds":{"rule":"repeated","type":"string","id":3},"calendarIds":{"rule":"repeated","type":"string","id":4}}},"PullMeetingRoomsSubscriberResponse":{"fields":{"meetingRoomsSubscriptionInformation":{"keyType":"string","type":"entities.MeetingSubscriptionInformation","id":1},"calendarResourceMap":{"keyType":"string","type":"string","id":2}}},"PullMeetingRoomStatusInformationRequest":{"fields":{"startTime":{"type":"int64","id":1,"options":{"default":0}},"endTime":{"type":"int64","id":2,"options":{"default":0}},"resourceIds":{"rule":"repeated","type":"string","id":3,"options":{"deprecated":true}},"calendarIds":{"rule":"repeated","type":"string","id":4},"eventRrule":{"type":"string","id":5},"needSubscriberInfo":{"type":"bool","id":6,"options":{"deprecated":true}},"startTimeZone":{"type":"string","id":7}}},"PullMeetingRoomsStatusInformationResponse":{"fields":{"meetingRoomsInformation":{"keyType":"string","type":"calendar_entities.MeetingRoomInformation","id":1},"meetingRoomsSubscriptionInformation":{"keyType":"string","type":"entities.MeetingSubscriptionInformation","id":2},"calendarResourceMap":{"keyType":"string","type":"string","id":3,"options":{"deprecated":true}},"calendarResourceExtraMap":{"keyType":"string","type":"extra","id":4}},"nested":{"extra":{"fields":{"status":{"type":"entities.CalendarResource.Status","id":1,"options":{"deprecated":true}},"meetingRoomUnusableReasons":{"rule":"repeated","type":"entities.MeetingRoomUnusableReasonType","id":2,"options":{"packed":false}}}}}},"PullMeetingsByChatIdsRequest":{"fields":{"chatIds":{"rule":"repeated","type":"string","id":1}}},"PullMeetingsByChatIdsResponse":{"fields":{"meetings":{"rule":"repeated","type":"entities.Meeting","id":1},"eventMeetingMap":{"keyType":"string","type":"string","id":2},"meetingEventRefs":{"rule":"repeated","type":"entities.MeetingEventRef","id":3},"refidCalendarMap":{"keyType":"string","type":"string","id":4}}},"QuitMeetingRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1}}},"QuitMeetingResponse":{"fields":{}},"JoinCalendarEventRequest":{"fields":{"calendarId":{"rule":"required","type":"string","id":1},"uid":{"rule":"required","type":"string","id":2},"originalTime":{"rule":"required","type":"int64","id":3},"needsBriefEvents":{"type":"bool","id":4,"options":{"default":false}},"sharingUserId":{"type":"int64","id":5},"messageId":{"type":"string","id":6},"token":{"type":"string","id":7},"useAttendeePageToken":{"type":"bool","id":8,"options":{"default":false}}}},"JoinCalendarEventResponse":{"fields":{"calendarEvent":{"type":"entities.CalendarEvent","id":1},"calendarChatterMap":{"keyType":"string","type":"string","id":2},"calendarBriefMap":{"keyType":"string","type":"entities.CalendarBriefInfo","id":3},"resources":{"rule":"repeated","type":"entities.CalendarResource","id":4},"buildings":{"rule":"repeated","type":"entities.CalendarBuilding","id":5},"vchat":{"type":"entities.Vchat","id":6}}},"GetCalendarEventInfoRequest":{"fields":{"calendarId":{"rule":"required","type":"string","id":1},"uid":{"rule":"required","type":"string","id":2},"originalTime":{"rule":"required","type":"int64","id":3},"needsBriefEvents":{"type":"bool","id":4,"options":{"default":false}},"messageId":{"type":"string","id":5},"sharingUserId":{"type":"int64","id":6},"needFullCalendarEventInfo":{"type":"bool","id":7,"options":{"default":false}},"token":{"type":"string","id":8},"useAttendeePageToken":{"type":"bool","id":9,"options":{"default":false}}}},"GetCalendarEventInfoResponse":{"fields":{"calendarEvent":{"type":"entities.CalendarEvent","id":1},"calendarChatterMap":{"keyType":"string","type":"string","id":2},"calendarBriefMap":{"keyType":"string","type":"entities.CalendarBriefInfo","id":3},"resources":{"rule":"repeated","type":"entities.CalendarResource","id":4},"buildings":{"rule":"repeated","type":"entities.CalendarBuilding","id":5},"vchat":{"type":"entities.Vchat","id":6},"userCanJoinEvent":{"type":"bool","id":7}}},"GetAuthorizedCalendarEventWithKeyRequest":{"fields":{"uid":{"rule":"required","type":"string","id":1},"originalTime":{"rule":"required","type":"int64","id":2}}},"GetAuthorizedCalendarEventWithKeyResponse":{"fields":{"calendarEvent":{"type":"entities.CalendarEvent","id":1},"calendarChatterMap":{"keyType":"string","type":"string","id":2},"calendarBriefMap":{"keyType":"string","type":"entities.CalendarBriefInfo","id":3},"resources":{"rule":"repeated","type":"entities.CalendarResource","id":4},"buildings":{"rule":"repeated","type":"entities.CalendarBuilding","id":5},"vchat":{"type":"entities.Vchat","id":6}}},"GetResourcesByCalendarIdsRequest":{"fields":{"calendarIds":{"rule":"repeated","type":"string","id":1}}},"GetResourcesByCalendarIdsResponse":{"fields":{"resources":{"keyType":"string","type":"entities.CalendarResource","id":1},"buildings":{"keyType":"string","type":"entities.CalendarBuilding","id":2}}},"CreateMeetingMinuteRequest":{"fields":{"calendarId":{"rule":"required","type":"string","id":1},"uid":{"rule":"required","type":"string","id":2},"originalTime":{"rule":"required","type":"int64","id":3}}},"CreateMeetingMinuteResponse":{"fields":{"meetingMinuteUrl":{"rule":"required","type":"string","id":1}}},"MeetingMinuteUpdateCheckRequest":{"fields":{"uid":{"rule":"required","type":"string","id":1},"originalTime":{"rule":"required","type":"int64","id":2}}},"MeetingMinuteUpdateCheckResponse":{"fields":{"isUpdate":{"rule":"required","type":"bool","id":1}}},"GetVchatByEventRequest":{"fields":{"calendarId":{"rule":"required","type":"string","id":1},"uid":{"rule":"required","type":"string","id":2},"originalTime":{"rule":"required","type":"int64","id":3},"forceRenew":{"type":"bool","id":4,"options":{"default":false}}}},"GetVchatByEventResponse":{"fields":{"vchat":{"type":"entities.Vchat","id":1}}},"GetVchatStatusRequest":{"fields":{"vchatUniqueIds":{"rule":"repeated","type":"string","id":1}}},"GetVchatStatusResponse":{"fields":{"uniqueIdStatusMap":{"keyType":"string","type":"entities.VchatLiveStatus","id":1}}},"GetEventInfoByVchatIdRequest":{"fields":{"calendarId":{"rule":"required","type":"string","id":1},"vchatUniqueId":{"rule":"required","type":"string","id":2},"startTime":{"type":"int64","id":3,"options":{"default":0}},"needsBriefEvents":{"type":"bool","id":4,"options":{"default":false}},"useAttendeePageToken":{"type":"bool","id":5,"options":{"default":false}}}},"GetEventInfoByVchatIdResponse":{"fields":{"calendarEvent":{"type":"entities.CalendarEvent","id":1},"calendarChatterMap":{"keyType":"string","type":"string","id":2},"calendarBriefMap":{"keyType":"string","type":"entities.CalendarBriefInfo","id":3},"resources":{"rule":"repeated","type":"entities.CalendarResource","id":4},"buildings":{"rule":"repeated","type":"entities.CalendarBuilding","id":5},"vchat":{"type":"entities.Vchat","id":6},"instanceTime":{"type":"entities.StartEndTime","id":7}}},"GetCalendarEventShareLinkRequest":{"fields":{"calendarId":{"rule":"required","type":"string","id":1},"uid":{"rule":"required","type":"string","id":2},"originalTime":{"rule":"required","type":"int64","id":3},"needImg":{"type":"bool","id":4,"options":{"default":false}}}},"GetCalendarEventShareLinkResponse":{"fields":{"linkAddress":{"rule":"required","type":"string","id":1},"imageData":{"type":"bytes","id":2},"shareCopy":{"type":"string","id":3}}},"CalendarMessageType":{"values":{"REPLY_ACCEPT":1,"REPLY_DECLINE":2,"REPLY_TENTATIVE":3,"EVENT_INVITE":4,"EVENT_DELETE":5,"EVENT_UPDATE":6,"EVENT_RESCHEDULE":7,"CALENDAR_UPDATE":8,"EVENT_UPDATE_LOCATION":9,"SELF_ATTENDEE_STATUS_CHANGE":10,"ADJUST_SHARE_CALENDAR_MEMBER":11,"REMOVE_SHARE_CALENDAR_MEMBER":12,"DELETE_SHARE_CALENDAR":13,"EVENT_UPDATE_DESCRIPTION":14,"REPLY_ACCEPT_AFTER_DECLINE":15}},"SearchCalendarEventRequest":{"fields":{"query":{"rule":"required","type":"string","id":1},"eventSearchScene":{"rule":"required","type":"EventSearchScene","id":2},"eventFilter":{"rule":"required","type":"EventFilter","id":3},"localeIdentifier":{"rule":"required","type":"string","id":4}},"nested":{"EventSearchScene":{"values":{"UNKNOWN":0,"QUICK_SEARCH":1,"ADVANCED_SEARCH":2}},"EventFilter":{"fields":{"calendarIds":{"rule":"repeated","type":"string","id":1},"attendeeCalendarIds":{"rule":"repeated","type":"string","id":2},"resourceCalendarIds":{"rule":"repeated","type":"string","id":3},"chatIds":{"rule":"repeated","type":"string","id":4},"startTime":{"type":"int64","id":5},"endTime":{"type":"int64","id":6}}}}},"SearchCalendarEventResponse":{"fields":{"instances":{"rule":"repeated","type":"calendar_entities.SearchEventInstance","id":1},"contents":{"keyType":"string","type":"calendar_entities.SearchEventContent","id":2},"searchResultCount":{"type":"int64","id":3}}},"EmailCalendarEventInfo":{"fields":{"id":{"type":"string","id":1},"mailId":{"rule":"required","type":"string","id":2},"infoType":{"rule":"required","type":"CalendarMailMessageType","id":3},"senderEmail":{"rule":"required","type":"string","id":4},"calendarId":{"rule":"required","type":"string","id":5},"uniqueKey":{"rule":"required","type":"string","id":6},"originalTime":{"rule":"required","type":"int64","id":7},"interType":{"type":"InteroperabilityType","id":8,"options":{"default":"EXTERNAL"}},"isAllDay":{"type":"bool","id":9},"summary":{"type":"string","id":10},"location":{"type":"string","id":11},"startTime":{"rule":"required","type":"int64","id":12},"startTimezone":{"rule":"required","type":"string","id":13},"endTime":{"rule":"required","type":"int64","id":14},"endTimezone":{"type":"string","id":15},"rrule":{"type":"string","id":16,"options":{"default":""}},"isSelfAttendeeOptional":{"type":"bool","id":17,"options":{"default":true}},"organizerEmail":{"type":"string","id":18},"attendeeEmails":{"rule":"repeated","type":"string","id":19},"selfAttendeeStatus":{"type":"SelfAttendeeStatus","id":20},"outdatedType":{"type":"OutDatedType","id":21,"options":{"default":"ONTIME"}},"latestReply":{"type":"bool","id":22,"options":{"default":true}},"timeStamp":{"type":"int64","id":23}},"nested":{"InteroperabilityType":{"values":{"EXTERNAL":1}},"CalendarMailMessageType":{"values":{"REPLY_ACCEPT":1,"REPLY_DECLINE":2,"REPLY_TENTATIVE":3,"EVENT_INVITE":4,"EVENT_DELETE":5,"EVENT_RESCHEDULE":7,"EVENT_UPDATE":9,"EVENT_NOT_FOUND":10}},"OutDatedType":{"values":{"ONTIME":1,"CANCEL":2,"UPDATE":3}},"SelfAttendeeStatus":{"values":{"ATTENDEE_STATUS_NEEDS_ACTION":1,"ATTENDEE_STATUS_ACCEPT":2,"ATTENDEE_STATUS_TENTATIVE":3,"ATTENDEE_STATUS_DECLINE":4,"ATTENDEE_STATUS_REMOVED":5}}}},"MGetEmailEventInfoRequest":{"fields":{"mailIds":{"rule":"repeated","type":"string","id":1}}},"MGetEmailEventInfoResponse":{"fields":{"infos":{"keyType":"string","type":"EmailCalendarEventInfo","id":1}}},"PullEventGroupAttendeeMembersRequest":{"fields":{"eventServerId":{"rule":"required","type":"string","id":1},"chatId":{"rule":"required","type":"string","id":2},"pullAllAttendee":{"type":"bool","id":3,"options":{"default":false}},"isNewGroupAttendee":{"type":"bool","id":4,"options":{"default":false}},"pageOffset":{"type":"string","id":5},"pageCount":{"type":"int32","id":6},"calendarId":{"type":"string","id":7}}},"PullEventGroupAttendeeMembersResponse":{"fields":{"members":{"rule":"repeated","type":"entities.CalendarEventAttendee","id":1},"hasMorePage":{"type":"bool","id":2},"pageOffset":{"type":"string","id":3},"calendarChatterMap":{"keyType":"int64","type":"int64","id":4}}},"PullEventGroupsSimpleMembersRequest":{"fields":{"eventServerId":{"rule":"required","type":"string","id":1},"chatIds":{"rule":"repeated","type":"string","id":2},"newGroupAttendeeIds":{"rule":"repeated","type":"string","id":3},"calendarId":{"type":"string","id":4}}},"PullEventGroupsSimpleMembersResponse":{"fields":{"groupMembers":{"keyType":"string","type":"entities.SimpleMembers","id":1}}},"PullResourceCustomizationByContactIDRequest":{"fields":{"startTime":{"type":"int64","id":1},"endTime":{"type":"int64","id":2},"limit":{"type":"int64","id":3},"pageOffset":{"type":"int64","id":4}}},"PullResourceCustomizationByContactIDResponse":{"fields":{"resourceCustomizationInfos":{"rule":"repeated","type":"calendar_entities.ResourceCustomizationInfo","id":1},"totalCount":{"type":"int64","id":2}}},"GetRoomViewInstancesRequest":{"fields":{"resourceCalendarIds":{"rule":"repeated","type":"string","id":1},"startTime":{"type":"int64","id":2},"endTime":{"type":"int64","id":3}}},"GetRoomViewInstancesResponse":{"fields":{"roomViewInstances":{"rule":"repeated","type":"RoomViewInstance","id":1}}},"RoomViewInstance":{"fields":{"resourceCalendarId":{"type":"string","id":1},"resourceContactPerson":{"type":"ResourceContactPerson","id":2},"currentUserAccessibility":{"type":"UserAccessibility","id":3},"eventKey":{"type":"string","id":4},"originalTime":{"type":"int64","id":5},"startTime":{"type":"int64","id":6},"startTimezone":{"type":"string","id":7},"endTime":{"type":"int64","id":8},"endTimezone":{"type":"string","id":9},"summary":{"type":"string","id":10,"options":{"default":""}},"isAllDay":{"type":"bool","id":11},"category":{"type":"entities.CalendarEvent.Category","id":12},"currentUserAccessibleCalendarId":{"type":"string","id":13}},"nested":{"UserAccessibility":{"values":{"LIMITED":0,"SUMMARY_VISIBLE":1,"EVENT_VISIBLE":2,"JOINED":3}}}},"ResourceContactPerson":{"fields":{"contactPersonType":{"type":"ContactPersonType","id":1},"eventCreator":{"type":"entities.EventCreator","id":2}},"nested":{"ContactPersonType":{"values":{"DEFAULT":0,"NO_SUBSCRIBER":1,"RESOURCE_SUBSCRIBER":2,"ORGANIZER":3,"SUCCESSOR":4,"CREATOR":5}}}},"GetIndividualAttendeesByPageRequest":{"fields":{"eventServerId":{"rule":"required","type":"string","id":1},"pagingMode":{"type":"PagingType","id":2,"options":{"default":"SNAPSHOT"}},"pageToken":{"type":"string","id":3},"pageSize":{"type":"int32","id":4},"needsRemoved":{"type":"bool","id":5}},"nested":{"PagingType":{"values":{"SNAPSHOT":0,"SYNC":1}}}},"GetIndividualAttendeesByPageResponse":{"fields":{"attendees":{"rule":"repeated","type":"entities.CalendarEventAttendee","id":1},"calendarChatterMap":{"keyType":"string","type":"string","id":2},"nextPageToken":{"type":"string","id":3},"hasMore":{"type":"bool","id":4}}},"PullCalendarInstancesRequest":{"fields":{"calendarId":{"type":"string","id":1},"beginTime":{"type":"int64","id":2},"typeA1":{"type":"PullType","id":3},"lastMinTimespan":{"type":"int32","id":4},"lastEventId":{"type":"string","id":5}},"nested":{"PullType":{"values":{"PastTime":1,"FutureTime":2}}}},"PullCalendarInstancesResponse":{"fields":{"calendarInstances":{"rule":"repeated","type":"entities.EventInfoInstances","id":1},"calendarIdToResource":{"keyType":"string","type":"entities.CalendarResource","id":2},"nextBeginTime":{"type":"int64","id":3},"nextMinTimespan":{"type":"int32","id":4},"nextEventId":{"type":"string","id":5}}}}}}')},function(e){e.exports=JSON.parse('{"a":{"options":{"optimize_for":"LITE_RUNTIME","java_package":"com.ss.android.lark.pb","go_package":"git.byted.org/ee/lark/im-protobuf/improto/calendars"},"nested":{"SyncCalendarsRequest":{"fields":{"calendars":{"rule":"repeated","type":"entities.Calendar","id":1},"lastUpdateTime":{"type":"int64","id":2},"calendarMemberSupportType":{"type":"entities.CalendarMember.CalendarMemberSupportType","id":3,"options":{"default":"SUPPORT_INDIVIDUAL"}},"isResourceCalendarNoteSupported":{"type":"bool","id":4,"options":{"default":false}},"isMultiGoogleAccountSupported":{"type":"bool","id":5,"options":{"default":false}},"visibilityMask":{"rule":"repeated","type":"entities.Calendar.VisibilityProperty","id":6,"options":{"packed":false}},"isExchangeCalendarSupported":{"type":"bool","id":7,"options":{"default":false}}}},"SyncCalendarsResponse":{"fields":{"calendars":{"rule":"repeated","type":"entities.Calendar","id":1},"meetingRoomViewCalendars":{"rule":"repeated","type":"entities.Calendar","id":2},"calendarResources":{"rule":"repeated","type":"entities.CalendarResource","id":3},"calendarBuildings":{"rule":"repeated","type":"entities.CalendarBuilding","id":4}}},"GetMeetingRoomViewCalendarsRequest":{"fields":{"calendarIds":{"rule":"repeated","type":"int64","id":1,"options":{"packed":false}}}},"GetUserPrimaryCalendarRequest":{"fields":{}},"GetUserPrimaryCalendarResponse":{"fields":{"calendar":{"type":"entities.Calendar","id":1}}},"GetMeetingRoomViewCalendarsResponse":{"fields":{"meetingRoomViewCalendars":{"rule":"repeated","type":"entities.Calendar","id":1}}},"PullAllCalendarsRequest":{"fields":{}},"PullAllCalendarsResponse":{"fields":{"calendars":{"keyType":"string","type":"int64","id":1}}},"PullCalendarsByIdsRequest":{"fields":{"ids":{"rule":"repeated","type":"string","id":1}}},"PullCalendarsByIdsResponse":{"fields":{"calendars":{"rule":"repeated","type":"entities.Calendar","id":1}}},"PullCalendarUserIdRolesRequest":{"fields":{"calnedarId":{"type":"string","id":1}}},"PullCalendarUserIdRolesResponse":{"fields":{"userIdRoles":{"keyType":"string","type":"entities.Calendar.AccessRole","id":1}}},"PullMeetingRoomViewCalendarsRequest":{"fields":{"defaultMeetingRoomCount":{"type":"int32","id":1,"options":{"default":3}}}},"PullMeetingRoomViewCalendarsResponse":{"fields":{"calendars":{"rule":"repeated","type":"entities.Calendar","id":1}}},"PushChangedCalendarIds":{"fields":{"calendarIds":{"rule":"repeated","type":"string","id":1}}},"PushCalendar":{"fields":{"calendar":{"type":"entities.Calendar","id":1},"deviceId":{"type":"string","id":2,"options":{"default":""}}}},"PushCalendarSetting":{"fields":{"calendarSetting":{"type":"string","id":1,"options":{"default":""}}}},"PushGoogleSync":{"fields":{"externalAccountEmail":{"rule":"required","type":"string","id":1}}},"PushExternalSyncNotification":{"fields":{"externalType":{"type":"ExternalType","id":1},"externalAccountEmail":{"type":"string","id":2}}},"ExternalType":{"values":{"EXTERNAL_EXCHANGE":1,"EXTERNAL_GOOGLE":2}},"PullChatterCalendarMapRequest":{"fields":{"calendarIds":{"rule":"repeated","type":"string","id":1},"chatterIds":{"rule":"repeated","type":"string","id":2}}},"PullChatterCalendarMapResponse":{"fields":{"chatterIdCalendarIds":{"keyType":"string","type":"string","id":1},"calendarIdChatterIds":{"keyType":"string","type":"string","id":2}}},"SaveCalendarsRequest":{"fields":{"calendars":{"rule":"repeated","type":"entities.Calendar","id":1}}},"SaveCalendarsResponse":{"fields":{"calendars":{"rule":"repeated","type":"entities.Calendar","id":1}}},"SearchCalendarContactsRequest":{"fields":{"query":{"rule":"required","type":"string","id":1},"offset":{"type":"int32","id":2,"options":{"default":0}},"count":{"type":"int32","id":3,"options":{"default":10}}}},"SearchCalendarContactsResponse":{"fields":{"calendarContacts":{"rule":"repeated","type":"entities.CalendarContact","id":1},"departments":{"keyType":"string","type":"entities.Department","id":2},"calendarChatterMap":{"keyType":"string","type":"string","id":3},"chatterMap":{"keyType":"string","type":"entities.Chatter","id":4}}},"MultiCalendarSearchRequest":{"fields":{"query":{"rule":"required","type":"string","id":1},"offset":{"type":"int32","id":2,"options":{"default":0}},"count":{"type":"int32","id":3,"options":{"default":10}},"needSearchMeetingRoom":{"type":"bool","id":4,"options":{"default":true}},"needSearchSharedCalendar":{"type":"bool","id":5,"options":{"default":true}},"needSearchPrimaryCalendar":{"type":"bool","id":6,"options":{"default":true}},"needSearchExternalPrimaryCalendar":{"type":"bool","id":7,"options":{"default":false}}}},"MultiCalendarSearchResponse":{"fields":{"contents":{"rule":"repeated","type":"entities.MultiCalendarSearchContent","id":1},"calendarChatterMap":{"keyType":"string","type":"string","id":2},"chatterMap":{"keyType":"string","type":"entities.Chatter","id":3},"calendarBriefMap":{"keyType":"string","type":"entities.CalendarBriefInfo","id":4}}},"ActionType":{"values":{"UNKNOWN_ACTION":0,"CREATE_P2P_CHAT":1,"INVITE_SAME_CHAT":2,"SEND_URGENT":3,"SEND_MESSAGE":4,"MAKE_PHONE_CALL":5,"CRATE_P2P_CRYPTO_CHAT":6,"VIEW_PERSONAL_STATUS":7,"VOIP_CALL":8,"CREATE_SINGLE_VIDEOCHAT":9,"INVITE_VIDEO_CHAT":10,"SHARE_VIDEO_CHAT":11,"INVITE_EVENT":12,"SHARE_EVENT":13,"TRANSFER_EVENT":14,"CCM_SEND_MESSAGE":15,"CCM_BOT_MESSAGE":16,"CCM_FEED_MESSAGE":17,"BLOCK":30,"COOPERATION":31}},"DeniedReason":{"values":{"UNKNOWN_REASON":0,"BE_BLOCKED":1,"CROSS_TENANT_DENY":2,"SAME_TENANT_DENY":3}},"ChatterPermissionsRequest":{"fields":{"actions":{"rule":"repeated","type":"ActionType","id":1,"options":{"packed":false}},"actionsV2":{"rule":"repeated","type":"misc.ActionType","id":2,"options":{"packed":false}}}},"SearchGuestsRequest":{"fields":{"query":{"rule":"required","type":"string","id":1},"offset":{"type":"int32","id":2,"options":{"default":0}},"count":{"type":"int32","id":3,"options":{"default":10}},"needSearchGroup":{"type":"bool","id":4,"options":{"default":true}},"localeIdentifier":{"type":"string","id":5,"options":{"default":"zh_CN"}},"startTime":{"type":"int64","id":6,"options":{"default":0}},"endTime":{"type":"int64","id":7,"options":{"default":0}},"searchLastInvitedGuests":{"type":"bool","id":8,"options":{"default":false}},"needSearchExternalGuests":{"type":"bool","id":9,"options":{"default":false}},"priorChatIds":{"rule":"repeated","type":"string","id":10},"isListChat":{"type":"bool","id":11},"needFilterChatIds":{"rule":"repeated","type":"string","id":12},"needSearchMeetingChat":{"type":"bool","id":13},"extraParam":{"type":"SearchExtraParam","id":14},"needExcludeB2bMember":{"type":"bool","id":15}},"nested":{"SearchExtraParam":{"fields":{"chatterPermissionsRequest":{"type":"ChatterPermissionsRequest","id":1}}}}},"SearchEntityMetaInfo":{"fields":{"deniedPermissions":{"rule":"repeated","type":"ActionType","id":1,"options":{"packed":false}},"deniedReason":{"keyType":"int32","type":"DeniedReason","id":2},"deniedPermissionsV2":{"rule":"repeated","type":"misc.ActionType","id":3,"options":{"packed":false}},"deniedReasonV2":{"keyType":"int32","type":"misc.DeniedReason","id":4}}},"SearchGuestsResponse":{"fields":{"contents":{"rule":"repeated","type":"entities.SearchContent","id":1},"calendarChatterMap":{"keyType":"string","type":"string","id":2},"chatterMap":{"keyType":"string","type":"entities.Chatter","id":3},"calendarBriefMap":{"keyType":"string","type":"entities.CalendarBriefInfo","id":4},"userBusyMap":{"keyType":"string","type":"bool","id":5},"freeBusyAccessibleUserMap":{"keyType":"string","type":"bool","id":6},"chatMap":{"keyType":"string","type":"entities.Chat","id":7},"entityMap":{"keyType":"string","type":"SearchEntityMetaInfo","id":8}}},"SearchAttendeesInChatRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1},"eventId":{"rule":"required","type":"string","id":2},"query":{"rule":"required","type":"string","id":3},"offset":{"type":"int32","id":4,"options":{"default":0}},"count":{"type":"int32","id":5,"options":{"default":10}}}},"SearchAttendeesInChatResponse":{"fields":{"chatters":{"rule":"repeated","type":"entities.Chatter","id":1},"chatterAttendeeMap":{"keyType":"string","type":"entities.CalendarEventAttendee","id":2}}},"PullGroupsChattersRequest":{"fields":{"ids":{"rule":"repeated","type":"string","id":1},"pageToken":{"type":"string","id":2},"count":{"type":"int64","id":3}}},"PullGroupsChattersResponse":{"fields":{"groupsMembersContact":{"keyType":"string","type":"entities.GroupMembersContact","id":1},"calendarChatterMap":{"keyType":"string","type":"string","id":2},"chatterMap":{"keyType":"string","type":"entities.Chatter","id":3},"calendarBriefMap":{"keyType":"string","type":"entities.CalendarBriefInfo","id":4},"freeBusyAccessibleUserMap":{"keyType":"string","type":"bool","id":5},"nextPageToken":{"type":"string","id":6},"needsMore":{"type":"bool","id":7}}},"PullDepartmentsChattersRequest":{"fields":{"departmentIds":{"rule":"repeated","type":"string","id":1},"pageToken":{"type":"string","id":2},"count":{"type":"int64","id":3}}},"PullDepartmentsChattersResponse":{"fields":{"departmentMembersContact":{"keyType":"string","type":"entities.GroupMembersContact","id":1},"calendarChatterMap":{"keyType":"string","type":"string","id":2},"chatterMap":{"keyType":"string","type":"entities.Chatter","id":3},"calendarBriefMap":{"keyType":"string","type":"entities.CalendarBriefInfo","id":4},"freeBusyAccessibleUserMap":{"keyType":"string","type":"bool","id":5},"nextPageToken":{"type":"string","id":6},"needsMore":{"type":"bool","id":7}}},"MGetDepartmentsMemberCountRequest":{"fields":{"ids":{"rule":"repeated","type":"string","id":1}}},"MGetDepartmentsMemberCountResponse":{"fields":{"departMemberCountMap":{"keyType":"string","type":"int64","id":6}}},"SubscribeCalendarRequest":{"fields":{"calendarId":{"rule":"required","type":"string","id":1},"visibilityMask":{"rule":"repeated","type":"entities.Calendar.VisibilityProperty","id":2,"options":{"packed":false}}}},"SubscribeCalendarResponse":{"fields":{"calendar":{"rule":"required","type":"entities.Calendar","id":1}}},"SubscribeAndGetLatestUpdatedCalendarsRequest":{"fields":{"calendarId":{"rule":"required","type":"string","id":1},"lastUpdateTime":{"type":"int64","id":2},"isMultiGoogleAccountSupported":{"type":"bool","id":3,"options":{"default":false}},"visibilityMask":{"rule":"repeated","type":"entities.Calendar.VisibilityProperty","id":4,"options":{"packed":false}},"syncToken":{"type":"string","id":5}}},"SubscribeAndGetLatestUpdatedCalendarsResponse":{"fields":{"calendars":{"rule":"repeated","type":"entities.Calendar","id":1}}},"MSubscribeCalendarsRequest":{"fields":{"calendarIds":{"rule":"repeated","type":"string","id":1},"lastUpdateTime":{"type":"int64","id":2,"options":{"default":0}},"isMultiGoogleAccountSupported":{"type":"bool","id":3,"options":{"default":false}},"visibilityMask":{"rule":"repeated","type":"entities.Calendar.VisibilityProperty","id":4,"options":{"packed":false}}}},"MSubscribeCalendarsResponse":{"fields":{"calendars":{"rule":"repeated","type":"entities.Calendar","id":1}}},"UnSubscribeCalendarRequest":{"fields":{"calendarId":{"rule":"required","type":"string","id":1}}},"UnSubscribeCalendarResponse":{"fields":{}},"MUnSubscribeCalendarsRequest":{"fields":{"calendarIds":{"rule":"repeated","type":"string","id":1}}},"MUnSubscribeCalendarsResponse":{"fields":{"failedCalendarIds":{"rule":"repeated","type":"string","id":1}}},"SubscribeMeetingRoomViewCalendarsRequest":{"fields":{"startTime":{"rule":"required","type":"int64","id":1},"endTime":{"rule":"required","type":"int64","id":2},"calendarIds":{"rule":"repeated","type":"string","id":3},"lastUpdateTime":{"type":"int64","id":4,"options":{"default":0}},"hasInstance":{"type":"bool","id":5,"options":{"default":true}},"isMultiGoogleAccountSupported":{"type":"bool","id":6,"options":{"default":false}},"syncToken":{"type":"string","id":7}}},"SubscribeMeetingRoomViewCalendarsResponse":{"fields":{"calendars":{"rule":"repeated","type":"entities.Calendar","id":1},"instancesMap":{"keyType":"string","type":"entities.CalendarInstanceSet","id":2}}},"UnSubscribeMeetingRoomViewCalendarsRequest":{"fields":{"calendarIds":{"rule":"repeated","type":"string","id":1}}},"UnSubscribeMeetingRoomViewCalendarsResponse":{"fields":{}},"GetGoogleAuthURLRequest":{"fields":{"platform":{"type":"string","id":1,"options":{"default":""}},"localeIdentifier":{"type":"string","id":2,"options":{"default":""}},"isMultiGoogleAccountSupported":{"type":"bool","id":3,"options":{"default":false}},"mailEntry":{"type":"bool","id":4,"options":{"default":false}},"needGmailScope":{"type":"bool","id":5,"options":{"default":false}},"forceEnableMailInvitation":{"type":"bool","id":6,"options":{"default":false}}}},"GetGoogleAuthURLResponse":{"fields":{"authUrl":{"type":"string","id":1},"tokenExist":{"rule":"required","type":"bool","id":2}}},"GetExternalMailAccountListRequest":{"fields":{}},"GetExternalMailAccountListResponse":{"fields":{"externalAccounts":{"rule":"repeated","type":"entities.ExternalMailAccount","id":1}}},"GetExternalMailAccountByMailRequest":{"fields":{"mailAddress":{"rule":"required","type":"string","id":1}}},"GetExternalMailAccountByMailResponse":{"fields":{"externalAccount":{"type":"entities.ExternalMailAccount","id":1}}},"SaveExternalMailAccountSettingRequest":{"fields":{"account":{"rule":"required","type":"string","id":1},"setting":{"rule":"required","type":"entities.ExternalMailAccountSetting","id":2}}},"SaveExternalMailAccountSettingResponse":{"fields":{}},"MarkLarkServerMailSelectedRequest":{"fields":{}},"MarkLarkServerMailSelectedResponse":{"fields":{}},"RevokeGoogleTokenRequest":{"fields":{"accounts":{"rule":"repeated","type":"string","id":1}}},"RevokeGoogleTokenResponse":{"fields":{"accounts":{"rule":"repeated","type":"string","id":1}}},"SaveCalendarSettingRequest":{"fields":{"calendarSetting":{"rule":"required","type":"string","id":1}}},"SaveCalendarSettingResponse":{"fields":{}},"PullCalendarSettingRequest":{"fields":{}},"PullCalendarSettingResponse":{"fields":{"calendarSetting":{"type":"string","id":1,"options":{"default":""}}}},"SaveCalendarSettingPbRequest":{"fields":{"calendarSetting":{"rule":"required","type":"entities.CalendarSetting","id":1},"editOtherTimezones":{"type":"bool","id":2,"options":{"default":false}}}},"SaveCalendarSettingPbResponse":{"fields":{}},"SaveCalendarUserDeviceSettingRequest":{"fields":{"calendarUserDeviceSetting":{"rule":"required","type":"entities.CalendarUserDeviceSetting","id":1}}},"SaveCalendarUserDeviceSettingResponse":{"fields":{}},"MGetCalendarUserDeviceSettingRequest":{"fields":{"userIds":{"rule":"repeated","type":"string","id":1},"latest":{"type":"bool","id":2,"options":{"default":false}}}},"MGetCalendarUserDeviceSettingResponse":{"fields":{"userIdDeviceSettings":{"keyType":"string","type":"entities.CalendarUserDeviceSettings","id":1}}},"PullCalendarSettingPbRequest":{"fields":{}},"PullCalendarSettingPbResponse":{"fields":{"calendarSetting":{"rule":"required","type":"entities.CalendarSetting","id":1}}},"PushCalendarSettingPb":{"fields":{"calendarSetting":{"rule":"required","type":"entities.CalendarSetting","id":1}}},"GenPwdForCalDAVUserRequest":{"fields":{"userName":{"rule":"required","type":"string","id":1,"options":{"default":""}},"passwordName":{"rule":"required","type":"string","id":2,"options":{"default":""}}}},"GenPwdForCalDAVUserResponse":{"fields":{"userName":{"rule":"required","type":"string","id":1},"password":{"rule":"required","type":"string","id":2,"options":{"default":""}},"serverAddress":{"rule":"required","type":"string","id":3,"options":{"default":""}},"serverPort":{"type":"string","id":4,"options":{"default":""}},"passwordName":{"type":"string","id":5,"options":{"default":""}}}},"DeleteCalDAVUserPasswordRequest":{"fields":{"itemId":{"rule":"required","type":"string","id":1}}},"DeleteCalDAVUserPasswordResponse":{"fields":{"caldavPasswordItems":{"rule":"repeated","type":"entities.CaldavPasswordItem","id":1}}},"GetCalDAVPasswordListRequest":{"fields":{}},"GetCalDAVPasswordListResponse":{"fields":{"caldavPasswordItems":{"rule":"repeated","type":"entities.CaldavPasswordItem","id":1}}},"ChangePwdForCalDAVUserRequest":{"fields":{"userName":{"type":"string","id":1,"options":{"default":""}},"newPassword":{"rule":"required","type":"string","id":2}}},"ChangePwdForCalDAVUserResponse":{"fields":{}},"GetLastUsedResourcesRequest":{"fields":{"count":{"type":"int32","id":1,"options":{"default":3}}}},"GetLastUsedResourcesResponse":{"fields":{"resources":{"rule":"repeated","type":"entities.CalendarResource","id":1}}},"GetLastInvitedGuestsRequest":{"fields":{"count":{"type":"int32","id":1,"options":{"default":3}}}},"GetLastInvitedGuestsResponse":{"fields":{"guests":{"rule":"repeated","type":"entities.CalendarContact","id":1}}},"MGetCalendarsWithIDsRequest":{"fields":{"calendarIds":{"rule":"repeated","type":"int64","id":1,"options":{"packed":false}},"calendarMemberSupportType":{"type":"entities.CalendarMember.CalendarMemberSupportType","id":2,"options":{"default":"SUPPORT_INDIVIDUAL_GROUP"}}}},"MGetCalendarsWithIDsResponse":{"fields":{"calendars":{"keyType":"int64","type":"entities.Calendar","id":1},"meetingRoomViewCalendars":{"keyType":"int64","type":"entities.Calendar","id":2}}},"GetFreeBusyAccessibleUserMapRequest":{"fields":{"userIds":{"rule":"repeated","type":"int64","id":1,"options":{"packed":false}}}},"GetFreeBusyAccessibleUserMapResponse":{"fields":{"freeBusyAccessibleUserMap":{"keyType":"string","type":"bool","id":1}}},"PushShowSubscribedCalendars":{"fields":{"calendars":{"rule":"repeated","type":"entities.Calendar","id":1}}},"Place":{"fields":{"id":{"rule":"required","type":"string","id":1},"name":{"rule":"required","type":"string","id":2},"location":{"rule":"required","type":"string","id":3},"district":{"rule":"required","type":"string","id":4},"address":{"rule":"required","type":"string","id":5}}},"GetPlaceTipsRequest":{"fields":{"keywords":{"rule":"required","type":"string","id":1},"language":{"rule":"required","type":"string","id":2}}},"GetPlaceTipsResponse":{"fields":{"placeTips":{"rule":"repeated","type":"Place","id":1}}},"GetPlaceByIdRequest":{"fields":{"id":{"rule":"required","type":"string","id":1},"language":{"rule":"required","type":"string","id":2}}},"GetPlaceByIdResponse":{"fields":{"place":{"rule":"required","type":"Place","id":1}}},"SetWhetherPopUpRequest":{"fields":{"needPopUp":{"rule":"required","type":"bool","id":1}}},"SetWhetherPopUpResponse":{"fields":{}},"GetUserCalendarIdsRequest":{"fields":{}},"GetUserCalendarIdsResponse":{"fields":{"normalViewCalendarIdVersionMap":{"keyType":"string","type":"int64","id":1},"meetingRoomViewCalendarIdVersionMap":{"keyType":"string","type":"int64","id":2}}},"SetInstanceImportanceScoreFeedbackRequest":{"fields":{"calendarId":{"rule":"required","type":"int64","id":1},"uid":{"rule":"required","type":"string","id":2},"originalTime":{"rule":"required","type":"int64","id":3},"startTime":{"rule":"required","type":"int64","id":4},"currentScore":{"type":"int32","id":5,"options":{"default":0}},"feedback":{"rule":"required","type":"Feedback","id":6}},"nested":{"Feedback":{"values":{"LOW":1,"PROPER":2,"HIGH":3}}}},"SetInstanceImportanceScoreFeedbackResponse":{"fields":{}},"GetInstanceImportanceScoreRequest":{"fields":{}},"GetInstanceImportanceScoreResponse":{"fields":{"instanceScores":{"rule":"repeated","type":"entities.InstanceImportanceScore","id":1}}},"MGetChatFreeBusyFavorRequest":{"fields":{"chatIds":{"rule":"repeated","type":"string","id":1}}},"MGetChatFreeBusyFavorResponse":{"fields":{"favorChatters":{"rule":"repeated","type":"entities.FavorChattersInChat","id":1}}},"SetChatFreeBusyFavorRequest":{"fields":{"favorChatters":{"rule":"repeated","type":"entities.FavorChattersInChat","id":1}}},"SetChatFreeBusyFavorResponse":{"fields":{}},"GetUser2CalendarBotChatIDRequest":{"fields":{}},"GetUser2CalendarBotChatIDResponse":{"fields":{"chatId":{"rule":"required","type":"string","id":1}}},"PushExternalAccountSettingSync":{"fields":{}},"PushGoogleBindSetting":{"fields":{"externalAccountEmail":{"rule":"required","type":"string","id":1},"setting":{"type":"entities.ExternalMailAccountSetting","id":2}}},"UploadCalendarCommit":{"fields":{"calendarID":{"rule":"required","type":"int64","id":1},"visibilityProperty":{"type":"int32","id":2}}},"UploadCalendarsWithCommitRequest":{"fields":{"visibilityMask":{"rule":"repeated","type":"entities.Calendar.VisibilityProperty","id":1,"options":{"packed":false}},"uploadCalendarCommits":{"rule":"repeated","type":"UploadCalendarCommit","id":2}}},"UploadCalendarsWithCommitResponse":{"fields":{"uploadCalendarCommits":{"rule":"repeated","type":"UploadCalendarCommit","id":1}}},"ListCalendarListRequest":{"fields":{"lastUpdateTime":{"type":"int64","id":1},"syncToken":{"type":"string","id":2}}},"ListCalendarListResponse":{"fields":{"calendars":{"rule":"repeated","type":"entities.Calendar","id":1},"meetingRoomViewCalendars":{"rule":"repeated","type":"entities.Calendar","id":2},"calendarResources":{"rule":"repeated","type":"entities.CalendarResource","id":3},"calendarBuildings":{"rule":"repeated","type":"entities.CalendarBuilding","id":4},"syncToken":{"type":"string","id":5},"requireMore":{"type":"bool","id":6}}},"SaveCalendarWithMembersRequest":{"fields":{"calendars":{"rule":"repeated","type":"entities.Calendar","id":1}}},"SaveCalendarWithMembersResponse":{"fields":{"calendars":{"rule":"repeated","type":"entities.Calendar","id":1}}},"Equipment":{"fields":{"defaultName":{"type":"string","id":1},"i18nName":{"keyType":"string","type":"string","id":2}}},"GetResourceEquipmentsRequest":{"fields":{}},"GetResourceEquipmentsResponse":{"fields":{"equipments":{"keyType":"string","type":"Equipment","id":1,"options":{"deprecated":true}},"equipmentList":{"keyType":"string","type":"entities.Equipment","id":2},"equipmentIds":{"rule":"repeated","type":"string","id":3}}},"FilterMRViewResourceCalendarRequest":{"fields":{"meetingRoomFilter":{"type":"entities.MeetingRoomFilter","id":2},"resourceCalendarIdList":{"rule":"repeated","type":"string","id":3},"resourceCalendarIds":{"rule":"repeated","type":"int64","id":1,"options":{"packed":false}}}},"FilterMRViewResourceCalendarResponse":{"fields":{"resourceCalendarIdList":{"rule":"repeated","type":"string","id":2},"resourceCalendarIds":{"rule":"repeated","type":"int64","id":1,"options":{"packed":false}}}},"BindingExchangeAccountRequest":{"fields":{"serverUrl":{"type":"string","id":1},"exchangeAccount":{"type":"string","id":2},"exchangePassword":{"type":"string","id":3}}},"BindingExchangeAccountResponse":{"fields":{"respState":{"type":"State","id":1}},"nested":{"State":{"values":{"BINDING_SUCCESS":1,"NEED_SERVER_URL":2,"COMMUNICATION_FAILED":3,"UNAUTHORIZED":4,"ALREADY_BINDING_SELF":5,"UNKNOWN_ERROR":6,"FORBIDDENT_ERROR":7}}}},"RevokeExchangeAccountRequest":{"fields":{"accounts":{"rule":"repeated","type":"string","id":1}}},"RevokeExchangeAccountResponse":{"fields":{"respState":{"type":"State","id":1}},"nested":{"State":{"values":{"REVOKE_SUCCESS":1,"REVOKE_FAILED":2}}}},"VerifyCalendarListRequest":{"fields":{"larkCalendarIdMd5":{"type":"string","id":1},"googleCalendarIdMd5":{"type":"string","id":2},"exchangeCalendarIdMd5":{"type":"string","id":3},"calendarSyncToken":{"type":"string","id":4}}},"VerifyCalendarListResponse":{"fields":{"needSyncCalendar":{"type":"bool","id":1,"options":{"default":false}},"needReloadLarkCalendars":{"type":"bool","id":2,"options":{"default":false}},"needReloadGoogleCalendars":{"type":"bool","id":3,"options":{"default":false}},"needReloadExchangeCalendars":{"type":"bool","id":4,"options":{"default":false}}}},"GetCalendarInfosRequest":{"fields":{"calendarIds":{"rule":"repeated","type":"string","id":1},"needMembers":{"type":"bool","id":2},"needShareInfo":{"type":"bool","id":3}}},"GetCalendarInfosResponse":{"fields":{"calendars":{"rule":"repeated","type":"entities.Calendar","id":1},"calendarTenantInfoMap":{"keyType":"string","type":"entities.CalendarTenantInfo","id":2}}},"CreateCalendarRequest":{"fields":{"calendarSaveInfos":{"rule":"repeated","type":"entities.CalendarSaveInfo","id":1}}},"CreateCalendarResponse":{"fields":{"calendars":{"rule":"repeated","type":"entities.Calendar","id":1}}},"PatchCalendarRequest":{"fields":{"calendarSaveInfos":{"rule":"repeated","type":"entities.CalendarSaveInfo","id":1}}},"PatchCalendarResponse":{"fields":{"calendars":{"rule":"repeated","type":"entities.Calendar","id":1}}},"ShareCalendarRequest":{"fields":{"calendarId":{"type":"string","id":1},"userIds":{"rule":"repeated","type":"string","id":2},"groupIds":{"rule":"repeated","type":"string","id":3}}},"ShareCalendarResponse":{"fields":{}},"GetCalendarIDByShareTokenRequest":{"fields":{"shareToken":{"type":"string","id":1}}},"GetCalendarIDByShareTokenResponse":{"fields":{"calendarId":{"type":"string","id":1}}}}}}')},function(e){e.exports=JSON.parse('{"a":{"options":{"optimize_for":"LITE_RUNTIME","go_package":"git.byted.org/ee/lark/im-protobuf/improto/reactions","java_package":"com.ss.android.lark.pb"},"nested":{"ReactionGreeter":{"methods":{"send":{"requestType":"PutReactionRequest","responseType":"PutReactionResponse"},"delete":{"requestType":"DeleteReactionRequest","responseType":"DeleteReactionResponse"},"getReactions":{"requestType":"PullReactionsRequest","responseType":"PullReactionsResponse"}}},"PullReactionsRequest":{"fields":{"messageIds":{"rule":"repeated","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=msg"}},"fetchUsers":{"type":"bool","id":2,"options":{"default":false}},"fetchChatters":{"type":"bool","id":3,"options":{"default":false}}}},"PullReactionsResponse":{"fields":{"messageReactions":{"rule":"repeated","type":"entities.MessageReaction","id":1},"selfReactionStatus":{"rule":"repeated","type":"ReactionStatus","id":2}}},"ReactionStatus":{"fields":{"userId":{"type":"string","id":1},"messageId":{"type":"string","id":2},"reactionType":{"type":"string","id":3},"isCancelled":{"type":"bool","id":4},"nanoUpdateTime":{"type":"int64","id":5}}},"ReactionStatusWithReactionUsers":{"fields":{"reactionStatus":{"type":"ReactionStatus","id":1},"nanoUpdateTimes":{"keyType":"string","type":"int64","id":2},"count":{"type":"int32","id":3}}},"PushReactionStatus":{"fields":{"userReactionStatus":{"rule":"repeated","type":"ReactionStatus","id":1,"options":{"deprecated":true}},"reactionStatusWithUsers":{"type":"ReactionStatusWithReactionUsers","id":2}}},"PutReactionRequest":{"fields":{"messageId":{"type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=msg"}},"reactionType":{"type":"string","id":2},"reactionStrategyVersion":{"type":"int32","id":3},"isFromMigration":{"type":"bool","id":4}}},"PutReactionResponse":{"fields":{"count":{"type":"int32","id":1}}},"DeleteReactionRequest":{"fields":{"messageId":{"type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=msg"}},"reactionType":{"type":"string","id":2},"reactionStrategyVersion":{"type":"int32","id":3}}},"DeleteReactionResponse":{"fields":{"count":{"type":"int32","id":1}}},"PushReactions":{"fields":{"messageReactions":{"rule":"repeated","type":"entities.MessageReaction","id":1},"reactionExtraInfos":{"keyType":"string","type":"ReactionExtraInfo","id":2}},"nested":{"ReactionExtraInfo":{"fields":{"isCancelled":{"type":"bool","id":1},"notice":{"type":"entities.Notice","id":2},"reactionChatterId":{"type":"string","id":3},"type":{"type":"string","id":4}}}}},"PullReactionsResourceRequest":{"fields":{"reactionsType":{"rule":"repeated","type":"string","id":1}}},"PullReactionsResourceResponse":{"fields":{"reactionsResource":{"keyType":"string","type":"string","id":1}}},"UserReactions":{"fields":{"reactionStrategyVersion":{"type":"int32","id":1},"reactionsType":{"rule":"repeated","type":"string","id":2},"extendReactionTypes":{"rule":"repeated","type":"string","id":3}}},"PushUserReactions":{"fields":{"userReactions":{"type":"UserReactions","id":1},"ts":{"type":"int64","id":2}}},"PullUserReactionsRequest":{"fields":{"reactionStrategyVersion":{"type":"int32","id":1}}},"PullUserReactionsResponse":{"fields":{"userReactions":{"type":"UserReactions","id":1},"ts":{"type":"int64","id":2}}},"UsedReaction":{"fields":{"reactionKey":{"rule":"required","type":"string","id":1},"order":{"rule":"required","type":"int32","id":2}}},"PullUsedReactionsRequest":{"fields":{"version":{"type":"int32","id":1},"usedReactionsVersion":{"type":"int32","id":2}}},"PullUsedReactionsResponse":{"fields":{"UsedReactions":{"rule":"repeated","type":"UsedReaction","id":1},"usedReactionsVersion":{"type":"int32","id":2},"ts":{"type":"int64","id":3}}},"PushUsedReactions":{"fields":{"UsedReactions":{"rule":"repeated","type":"UsedReaction","id":1},"usedReactionsVersion":{"type":"int32","id":2},"ts":{"type":"int64","id":3}}},"UpdateUserRecentlyUsedReactionRequest":{"fields":{"reactionKey":{"type":"string","id":1}}},"UpdateUserRecentlyUsedReactionResponse":{"fields":{}},"EmojiResource":{"fields":{"key":{"rule":"required","type":"string","id":1},"i18nText":{"type":"I18nText","id":2},"imageKey":{"type":"string","id":3},"isDeleted":{"type":"bool","id":4,"options":{"default":false}}},"nested":{"I18nText":{"fields":{"defaultText":{"rule":"required","type":"string","id":1},"i18nTexts":{"keyType":"string","type":"string","id":2}}}}},"PullEmojiResourcesRequest":{"fields":{"currentVersion":{"type":"int32","id":1,"options":{"default":0}}}},"PullEmojiResourcesResponse":{"fields":{"latestVersion":{"type":"int32","id":1,"options":{"default":0}},"emojiResources":{"rule":"repeated","type":"EmojiResource","id":2},"expireTimeSeconds":{"type":"int32","id":3}}},"RecommendStatusIconResource":{"fields":{"key":{"rule":"required","type":"string","id":1}}},"PullRecommendStatusIconResourcesRequest":{"fields":{}},"PullRecommendStatusIconResourcesResponse":{"fields":{"recommendStatusIconResources":{"rule":"repeated","type":"RecommendStatusIconResource","id":1}}}}}}')},function(e){e.exports=JSON.parse('{"a":{"options":{"optimize_for":"LITE_RUNTIME","go_package":"git.byted.org/ee/lark/im-protobuf/improto/urgent","java_package":"com.ss.android.lark.pb"},"nested":{"PutUrgentRequest":{"fields":{"messageId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=msg"}},"chatterIds":{"rule":"repeated","type":"string","id":2},"urgentType":{"type":"entities.Urgent.Type","id":3},"strictMode":{"type":"bool","id":4,"options":{"default":true}},"urgentChatterGroups":{"rule":"repeated","type":"UrgentChatterGroup","id":5},"preProcessInfo":{"type":"PreProcessInfo","id":6},"urgentMessage":{"type":"string","id":7}},"nested":{"UrgentChatterGroup":{"fields":{"chatterIds":{"rule":"repeated","type":"string","id":1},"urgentType":{"type":"entities.Urgent.Type","id":2}}},"PreProcessInfo":{"fields":{"message":{"type":"bytes","id":1},"quotaChecked":{"type":"bool","id":2}}}}},"PutUrgentResponse":{"fields":{"urgent":{"type":"entities.Urgent","id":1},"chatterIds":{"rule":"repeated","type":"string","id":2},"urgentAckIds":{"keyType":"string","type":"string","id":3},"invisibleChatterIds":{"rule":"repeated","type":"string","id":4}}},"PutUrgentAckRequest":{"fields":{"messageId":{"rule":"required","type":"string","id":1},"urgentAckId":{"type":"string","id":2}}},"PutUrgentAckResponse":{"fields":{"messageId":{"type":"string","id":1}}},"ConfirmUrgentAckByIdRequest":{"fields":{"urgentAckId":{"type":"string","id":1},"pushToFromUser":{"type":"bool","id":2,"options":{"default":true}}}},"ConfirmUrgentAckByIdResponse":{"fields":{}},"PushUrgentRequest":{"fields":{"messageId":{"rule":"required","type":"string","id":1},"sendChatterId":{"type":"string","id":2},"sendTime":{"type":"int64","id":3},"chatId":{"type":"string","id":4},"urgentAckIds":{"keyType":"string","type":"string","id":5},"urgentAckId":{"type":"string","id":6},"urgent":{"type":"entities.Urgent","id":7},"urgentAck":{"type":"entities.UrgentAck","id":8}}},"PushUrgentAckRequest":{"fields":{"messageId":{"rule":"required","type":"string","id":1},"ackChatterId":{"type":"string","id":2},"urgentType":{"type":"entities.Urgent.Type","id":3},"chatId":{"type":"string","id":4},"urgentAckId":{"type":"string","id":5},"urgentAck":{"type":"entities.UrgentAck","id":6}}},"PullUrgentWaitingAckRequest":{"fields":{}},"PullUrgentWaitingAckResponse":{"fields":{"urgents":{"rule":"repeated","type":"entities.Urgent","id":1},"urgentAcks":{"rule":"repeated","type":"entities.UrgentAck","id":2}}},"PullUrgentsAckStatusRequest":{"fields":{"messageIds":{"rule":"repeated","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=msg"}}}},"PullUrgentsAckStatusResponse":{"fields":{"urgentStatus":{"keyType":"string","type":"UrgentStatus","id":1},"phoneStatus":{"keyType":"string","type":"PhoneStatus","id":2},"urgentAcks":{"keyType":"string","type":"UrgentAckList","id":3}},"nested":{"UrgentStatus":{"fields":{"type":{"type":"Type","id":1},"initChatterIds":{"rule":"repeated","type":"string","id":2},"ackChatterIds":{"rule":"repeated","type":"string","id":3},"isAck":{"type":"bool","id":4}},"nested":{"Type":{"values":{"FROM_ME":1,"TO_ME":2}}}},"PhoneStatus":{"fields":{"successChatterIds":{"rule":"repeated","type":"string","id":1},"failedChatterIds":{"rule":"repeated","type":"string","id":2}}},"UrgentAckList":{"fields":{"urgentAckList":{"rule":"repeated","type":"entities.UrgentAck","id":1}}}}},"PullUrgentPhoneNumberRequest":{"fields":{}},"PullUrgentPhoneNumberResponse":{"fields":{"phoneNumbers":{"rule":"repeated","type":"string","id":1}}},"NotifyStatusCode":{"values":{"UnKnown":0,"MobileIsEmpty":1,"ChatterNameNotFound":2,"TooFrequency":3,"SysErr":4,"TimeOut":5,"MultiFailed":6,"NotAnswer":7}},"PushFailedUrgentNotifyResult":{"fields":{"messageId":{"rule":"required","type":"string","id":1},"urgentType":{"type":"entities.Urgent.Type","id":2},"urgentId":{"type":"int64","id":3},"failedChatterIds":{"rule":"repeated","type":"string","id":4},"notifyStatusCode":{"type":"NotifyStatusCode","id":5}}}}}}')},function(e){e.exports=JSON.parse('{"a":{"options":{"optimize_for":"LITE_RUNTIME","go_package":"git.byted.org/ee/lark/im-protobuf/improto/pin"},"nested":{"Pin":{"fields":{"id":{"rule":"required","type":"int64","id":1},"chatId":{"type":"int64","id":2},"messageId":{"type":"int64","id":3},"chatterId":{"type":"int64","id":4},"createTime":{"type":"int64","id":5},"deletedTime":{"type":"int64","id":6}}},"SubscribeSetting":{"fields":{"subscribe":{"type":"bool","id":1},"notifyTime":{"type":"int32","id":2}}},"PutPinRequest":{"fields":{"chatId":{"type":"int64","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"messageId":{"type":"int64","id":2}}},"PutPinResponse":{"fields":{"pin":{"type":"Pin","id":1}}},"PullPinsByMessageIDsRequest":{"fields":{"messageIds":{"rule":"repeated","type":"int64","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=msg","packed":false}}}},"PullPinsByMessageIDsResponse":{"fields":{"pins":{"keyType":"int64","type":"Pin","id":1}}},"PullChatPinsRequest":{"fields":{"chatId":{"type":"int64","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"cursor":{"type":"int64","id":2},"count":{"type":"int32","id":3},"isPullUserAllPin":{"type":"bool","id":4},"withMessages":{"type":"bool","id":5}}},"PullChatPinsResponse":{"fields":{"pins":{"rule":"repeated","type":"Pin","id":1},"pinCount":{"type":"int32","id":2},"hasMore":{"type":"bool","id":3},"lastReadTime":{"type":"int64","id":4},"pinedMessages":{"keyType":"int64","type":"entities.Message","id":5}}},"DeletePinRequest":{"fields":{"id":{"type":"int64","id":1},"chatId":{"type":"int64","id":2,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}}}},"DeletePinResponse":{"fields":{}},"PushPinRequst":{"fields":{"pin":{"type":"Pin","id":1},"type":{"type":"Type","id":2,"options":{"default":"ADD"}},"addPins":{"rule":"repeated","type":"Pin","id":3},"delPins":{"rule":"repeated","type":"Pin","id":4}},"nested":{"Type":{"values":{"UNKNOWN":0,"ADD":1,"DELETE":2}}}},"PushPinResponse":{"fields":{}},"PushPinRead":{"fields":{"chatId":{"rule":"required","type":"int64","id":1}}},"PullPinReadStatusRequest":{"fields":{"chatId":{"rule":"required","type":"int64","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}}}},"PullPinReadStatusResponse":{"fields":{"hasUnreadPin":{"rule":"required","type":"bool","id":1}}},"PutPinReadRequest":{"fields":{"chatId":{"rule":"required","type":"int64","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}}}},"PutPinReadResponse":{"fields":{}},"PullPinByChatUpdateTimeRequest":{"fields":{"chatId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=channel"}},"chatPinUpdateTime":{"type":"int64","id":2},"count":{"type":"int32","id":3}}},"PullPinByChatUpdateTimeResponse":{"fields":{"pins":{"rule":"repeated","type":"Pin","id":1},"pinedMessages":{"keyType":"int64","type":"entities.Message","id":2},"chatPinUpdateTime":{"type":"int64","id":3}}},"PutAllPinSettingRequest":{"fields":{"subscribe":{"type":"SubscribeSetting","id":1}}},"PutAllPinSettingResponse":{"fields":{}},"PullAllPinSettingRequest":{"fields":{}},"PullAllPinSettingResponse":{"fields":{"subscribe":{"type":"SubscribeSetting","id":1}}},"PushAllPinSetting":{"fields":{"subscribe":{"type":"SubscribeSetting","id":1}}}}}}')},,function(e){e.exports=JSON.parse('{"a":{"options":{"optimize_for":"LITE_RUNTIME","go_package":"git.byted.org/ee/lark/im-protobuf/improto/feed","java_package":"com.ss.android.lark.pb"},"nested":{"PullType":{"values":{"REFRESH":1,"LOAD_MORE":2}},"PullFeedCardsRequest":{"fields":{"type":{"rule":"required","type":"entities.FeedType","id":1,"options":{"default":"INBOX","deprecated":true}},"pullType":{"rule":"required","type":"PullType","id":2},"cursor":{"type":"int64","id":3},"count":{"type":"int32","id":4,"options":{"default":20}},"parentCardId":{"type":"int64","id":5},"existMessageIds":{"keyType":"string","type":"int64","id":6},"useMsCursor":{"type":"bool","id":7,"options":{"default":false}},"pullFeedType":{"type":"PullFeedType","id":8},"businessType":{"type":"BusinessType","id":9,"options":{"default":"LARK"}},"withMessageEntity":{"type":"bool","id":10,"options":{"default":true}},"ceilingTime":{"type":"int64","id":11},"stopCursor":{"type":"int64","id":12}},"nested":{"PullFeedType":{"values":{"ALL":1,"INBOX":2,"DONE":3}},"BusinessType":{"values":{"LARK":1,"CCM":2}}}},"PullFeedCardsResponse":{"fields":{"cards":{"rule":"repeated","type":"entities.FeedCard","id":3},"chats":{"keyType":"string","type":"entities.Chat","id":1},"messages":{"keyType":"string","type":"entities.Message","id":2},"nextCursor":{"type":"int64","id":4,"options":{"default":0}},"emails":{"keyType":"string","type":"entities.Email","id":5,"options":{"deprecated":true}},"docFeeds":{"keyType":"string","type":"entities.DocFeed","id":6},"docMessages":{"keyType":"string","type":"entities.DocMessage","id":7},"threads":{"keyType":"string","type":"entities.Thread","id":8},"cryptoChatFirstPositions":{"keyType":"string","type":"int32","id":9},"cryptoChatInfos":{"keyType":"string","type":"entities.CryptoChatInfo","id":10},"firstCardCursor":{"type":"int64","id":11,"options":{"default":0}},"openAppFeeds":{"keyType":"string","type":"entities.OpenAppFeed","id":12},"topicGroups":{"keyType":"string","type":"entities.TopicGroup","id":13},"chatMutableInfos":{"keyType":"string","type":"entities.ChatMutableInfo","id":14},"subscriptionFeeds":{"keyType":"string","type":"entities.SubscriptionFeed","id":15}}},"PullFeedCardsFeedTypesRequest":{"fields":{"feedCards":{"keyType":"string","type":"entities.FeedCard.Type","id":1}}},"PullFeedCardsFeedTypesResponse":{"fields":{"feedCards":{"keyType":"string","type":"entities.FeedType","id":1}}},"PushFeedCardsRequest":{"fields":{"type":{"rule":"required","type":"entities.FeedType","id":1,"options":{"default":"DONE"}},"cards":{"rule":"repeated","type":"entities.FeedCard","id":2}}},"PatchFeedCardsRequest":{"fields":{"type":{"rule":"required","type":"entities.FeedType","id":1,"options":{"default":"DONE"}},"ids":{"rule":"repeated","type":"string","id":2,"options":{"deprecated":true}},"cards":{"rule":"repeated","type":"entities.FeedCard","id":3}}},"PatchFeedCardsResponse":{"fields":{}},"PeakFeedCardRequest":{"fields":{"card":{"rule":"required","type":"entities.FeedCard","id":1}}},"PeakFeedCardResponse":{"fields":{"card":{"rule":"required","type":"entities.FeedCard","id":1}}},"PutFeedCardDelayedRequest":{"fields":{"card":{"rule":"required","type":"entities.FeedCard","id":1},"type":{"rule":"required","type":"entities.FeedType","id":2,"options":{"default":"INBOX"}}}},"PutFeedCardDelayedResponse":{"fields":{"card":{"rule":"required","type":"entities.FeedCard","id":1}}},"PullFeedCardsDelayedRequest":{"fields":{}},"PullFeedCardsDelayedResponse":{"fields":{"inboxCards":{"rule":"repeated","type":"entities.FeedCard","id":1},"doneCards":{"rule":"repeated","type":"entities.FeedCard","id":2}}},"PullFeedCardsByIdsRequest":{"fields":{"cardIds":{"rule":"repeated","type":"string","id":1}}},"PullFeedCardsByIdsResponse":{"fields":{"cards":{"keyType":"string","type":"entities.FeedCard","id":1}}},"Shortcut":{"fields":{"id":{"rule":"required","type":"string","id":1},"type":{"rule":"required","type":"Type","id":2},"position":{"type":"int32","id":3}},"nested":{"Type":{"values":{"UNKNOWN_TYPE":0,"CHAT":1,"EMAIL":2,"DOC":3,"OPENAPP":4,"APP_CHAT":5,"SUBSCRIPTION":10},"reserved":[[6,9]]}}},"PutShortcutsRequest":{"fields":{"shortcuts":{"rule":"repeated","type":"Shortcut","id":1}}},"PutShortcutsResponse":{"fields":{"originalVersion":{"type":"int64","id":1},"currentVersion":{"type":"int64","id":2}}},"DeleteShortcutsRequest":{"fields":{"shortcuts":{"rule":"repeated","type":"Shortcut","id":1}}},"DeleteShortcutsResponse":{"fields":{"originalVersion":{"type":"int64","id":1},"currentVersion":{"type":"int64","id":2}}},"PatchShortcutsRequest":{"fields":{"shortcuts":{"rule":"repeated","type":"Shortcut","id":1}}},"PatchShortcutsResponse":{"fields":{"originalVersion":{"type":"int64","id":1},"currentVersion":{"type":"int64","id":2}}},"PullShortcutsRequest":{"fields":{"position":{"type":"int32","id":1,"options":{"default":0}},"count":{"type":"int32","id":2,"options":{"default":50}},"version":{"type":"int64","id":3}}},"PullShortcutsResponse":{"fields":{"shortcuts":{"rule":"repeated","type":"Shortcut","id":1},"hasMore":{"rule":"required","type":"bool","id":2},"currentVersion":{"type":"int64","id":3}}},"PushShortcutsRequest":{"fields":{"operation":{"type":"Operation","id":1},"shortcuts":{"rule":"repeated","type":"Shortcut","id":2},"originalVersion":{"type":"int64","id":3},"currentVersion":{"type":"int64","id":4}},"nested":{"Operation":{"values":{"ADD":1,"DELETE":2,"MODIFY":3}}}},"PutFeedCardsIntoBoxRequest":{"fields":{"feedCards":{"keyType":"string","type":"entities.FeedCard.Type","id":1}}},"PutFeedCardsIntoBoxResponse":{"fields":{"boxId":{"rule":"required","type":"int64","id":1}}},"DeleteFeedCardsFromBoxRequest":{"fields":{"feedCards":{"keyType":"string","type":"entities.FeedCard.Type","id":1}}},"DeleteFeedCardsFromBoxResponse":{"fields":{}},"PutUserColdBootRequest":{"fields":{}},"PutUserColdBootResponse":{"fields":{}},"CleanNewBoxFeedCardsRequest":{"fields":{"isNoticeHidden":{"type":"bool","id":1,"options":{"default":false}}}},"CleanNewBoxFeedCardsResponse":{"fields":{}},"PushCleanNewBoxFeedCards":{"fields":{}},"PullNewBoxFeedCardsRequest":{"fields":{}},"PullNewBoxFeedCardsResponse":{"fields":{"cards":{"rule":"repeated","type":"entities.FeedCard","id":1}}},"MutePopupShowType":{"values":{"UNKNOWN":0,"START":1,"MUTE":2}},"PullMutePopupInfoRequest":{"fields":{"showType":{"type":"MutePopupShowType","id":1}}},"PullMutePopupInfoResponse":{"fields":{"show":{"type":"bool","id":1},"text":{"type":"Text","id":2},"cards":{"rule":"repeated","type":"entities.FeedCardIdentity","id":3},"version":{"type":"int64","id":4}},"nested":{"Text":{"fields":{"title":{"type":"string","id":1},"desc":{"type":"string","id":2},"confirmBtn":{"type":"string","id":3}}}}},"PutShowMutePopupRequest":{"fields":{"showType":{"type":"MutePopupShowType","id":1},"version":{"type":"int64","id":2}}},"PutShowMutePopupResponse":{"fields":{}},"PutBatchMuteFeedCardsRequest":{"fields":{"cards":{"rule":"repeated","type":"entities.FeedCardIdentity","id":1},"version":{"type":"int64","id":2},"needAddToBox":{"type":"bool","id":3}}},"PutBatchMuteFeedCardsResponse":{"fields":{"successPrompt":{"type":"string","id":1}}},"TFeedCard":{"fields":{"userId":{"type":"int64","id":1},"cardId":{"type":"int64","id":2},"type":{"type":"Type","id":3,"options":{"default":"CHAT"}},"updateTime":{"type":"int64","id":4},"lastVisibleMessageId":{"type":"int64","id":5},"subtype":{"type":"Subtype","id":6},"cardStatus":{"type":"CardStatus","id":7},"rankTime":{"type":"int64","id":8}},"nested":{"Type":{"values":{"UNKNOWN_TYPE":0,"DOC":1,"SHEET":2,"CHAT":3,"EMAIL":4,"THREAD":5,"OPENAPP":6,"TOPIC":7}},"Subtype":{"values":{"UNKNOWN_SUBTYPE":0,"P2P_CHAT":1,"GROUP_CHAT":2,"CRYPTO_P2P_CHAT":3,"CRYPTO_GROUP_CHAT":4}},"CardStatus":{"values":{"INBOX":1,"DONE":2}}}},"AsyncUpdateFeedCard":{"fields":{"feedCard":{"rule":"required","type":"TFeedCard","id":1,"options":{"deprecated":true}},"requestId":{"type":"string","id":2},"startTime":{"rule":"required","type":"int64","id":3},"feedCardBytes":{"type":"bytes","id":4}}},"KeywordGroupData":{"fields":{"keywords":{"rule":"repeated","type":"string","id":1},"excludeFeedCards":{"rule":"repeated","type":"entities.FeedCardIdentity","id":2},"cancelExcludeFeedCards":{"rule":"repeated","type":"entities.FeedCardIdentity","id":3}}},"FeedGroup":{"fields":{"id":{"type":"int64","id":1},"type":{"type":"FeedGroupType","id":2},"isDefault":{"type":"bool","id":3},"name":{"type":"string","id":4},"pos":{"type":"int64","id":5},"keywordGroupData":{"type":"KeywordGroupData","id":6},"updateTime":{"type":"int64","id":7}},"nested":{"FeedGroupType":{"values":{"UNKNOWN":0,"NORMAL":1,"KEYWORD":2}}}},"FeedGroupItem":{"fields":{"feedCardId":{"type":"int64","id":1},"feedCardType":{"type":"entities.FeedCard.Type","id":2},"groupId":{"type":"int64","id":3},"pos":{"type":"int64","id":4},"exclude":{"type":"bool","id":6},"updateTime":{"type":"int64","id":5}}},"CreateFeedGroupRequest":{"fields":{"feedGroup":{"type":"FeedGroup","id":1},"feedGroupItems":{"rule":"repeated","type":"FeedGroupItem","id":2}}},"CreateFeedGroupResponse":{"fields":{"feedGroup":{"type":"FeedGroup","id":1},"feedGroupItems":{"rule":"repeated","type":"FeedGroupItem","id":2}}},"PullKeywordsFeedCardsRequest":{"fields":{"keywords":{"rule":"repeated","type":"string","id":1},"cursor":{"type":"string","id":2},"count":{"type":"int64","id":3},"groupId":{"type":"int64","id":4}}},"PullKeywordsFeedCardsResponse":{"fields":{"feedCards":{"rule":"repeated","type":"entities.FeedCardIdentity","id":1},"hasMore":{"type":"bool","id":2},"nextCursor":{"type":"string","id":3},"excludeFeedCards":{"rule":"repeated","type":"entities.FeedCardIdentity","id":5},"chats":{"keyType":"string","type":"entities.Chat","id":4}}},"PullFeedGroupsRequest":{"fields":{"cursor":{"type":"string","id":1},"count":{"type":"int64","id":2}}},"PullFeedGroupsResponse":{"fields":{"feedGroups":{"rule":"repeated","type":"FeedGroup","id":1},"deletedGroups":{"rule":"repeated","type":"FeedGroup","id":2},"hasMore":{"type":"bool","id":3},"nextCursor":{"type":"string","id":4}}},"PullItemChangedGroupsRequest":{"fields":{"cursor":{"type":"string","id":1},"count":{"type":"int64","id":2}}},"PullItemChangedGroupsResponse":{"fields":{"groupIds":{"rule":"repeated","type":"int64","id":1,"options":{"packed":false}},"hasMore":{"type":"bool","id":2},"nextCursor":{"type":"string","id":3}}},"PullFeedGroupItemsRequest":{"fields":{"args":{"keyType":"int64","type":"PullItemArgs","id":1}},"nested":{"PullItemArgs":{"fields":{"cursor":{"type":"string","id":1},"count":{"type":"int64","id":2}}}}},"PullFeedGroupItemsResponse":{"fields":{"data":{"keyType":"int64","type":"PullItemsData","id":1}},"nested":{"PullItemsData":{"fields":{"feedGroupItems":{"rule":"repeated","type":"FeedGroupItem","id":1},"deletedFeedGroupItems":{"rule":"repeated","type":"FeedGroupItem","id":2},"hasMore":{"type":"bool","id":3},"nextCursor":{"type":"string","id":4}}}}},"UpdateFeedGroupsRequest":{"fields":{"feedGroups":{"rule":"repeated","type":"FeedGroup","id":1},"deletedGroups":{"rule":"repeated","type":"FeedGroup","id":2},"feedGroupItems":{"rule":"repeated","type":"FeedGroupItem","id":3},"deletedFeedGroupItems":{"rule":"repeated","type":"FeedGroupItem","id":4}}},"UpdateFeedGroupsResponse":{"fields":{}},"PushFeedGroupsRequest":{"fields":{"feedGroups":{"rule":"repeated","type":"FeedGroup","id":1},"deletedGroups":{"rule":"repeated","type":"FeedGroup","id":2},"feedGroupItems":{"rule":"repeated","type":"FeedGroupItem","id":3},"deletedFeedGroupItems":{"rule":"repeated","type":"FeedGroupItem","id":4}}}}}}')},function(e){e.exports=JSON.parse('{"a":{"options":{"optimize_for":"LITE_RUNTIME","go_package":"git.byted.org/ee/lark/im-protobuf/improto/multipipe","java_package":"com.ss.android.lark.pb"},"nested":{"PipeType":{"values":{"UNKNOWN":0,"USER":1,"CHAT":2,"DOC":3,"MAIL":4,"MESSAGE":5,"FEED":6}},"PipeVersion":{"values":{"UNKNOWN_VERSION":0,"PIPE_V2":1}},"PullPipeListRequest":{"fields":{"pipeType":{"rule":"required","type":"string","id":1},"cursor":{"rule":"required","type":"int64","id":2},"pipeVersion":{"type":"PipeVersion","id":3}}},"PullPipeListResponse":{"fields":{"pipeItems":{"keyType":"int64","type":"Item","id":1},"lastCursor":{"rule":"required","type":"int64","id":2},"hasMore":{"type":"bool","id":3,"options":{"default":false}}},"nested":{"Item":{"fields":{"lastSid":{"rule":"required","type":"int64","id":1}}}}},"PipeTypeInfo":{"fields":{"pipeType":{"rule":"required","type":"string","id":1},"cursorSid":{"rule":"required","type":"int64","id":2}}},"PullMultiPipePacketsByTypesRequest":{"fields":{"unsupportPipeInfos":{"rule":"repeated","type":"PipeTypeInfo","id":1},"supportTypes":{"rule":"repeated","type":"string","id":2},"pipeVersion":{"type":"PipeVersion","id":3}}},"PullMultiPipePacketsByTypesResponse":{"fields":{"unsupportPipePackets":{"rule":"repeated","type":"Packets","id":1},"hasMore":{"rule":"required","type":"bool","id":2,"options":{"default":false}}},"nested":{"Packets":{"fields":{"pipeType":{"rule":"required","type":"string","id":1},"packets":{"rule":"repeated","type":"improto.Packet","id":2},"lastSid":{"type":"int64","id":3}}}}},"PullMultiPipePacketsBySupportTypesRequest":{"fields":{"supportTypeInfos":{"rule":"repeated","type":"PipeTypeInfo","id":1},"pipeVersion":{"type":"PipeVersion","id":2}}},"PullMultiPipePacketsBySupportTypesResponse":{"fields":{"packets":{"rule":"repeated","type":"Packets","id":1}},"nested":{"Packets":{"fields":{"pipeType":{"rule":"required","type":"string","id":1},"packets":{"rule":"repeated","type":"improto.Packet","id":2},"hasMore":{"rule":"required","type":"bool","id":3,"options":{"default":false}},"lastSid":{"type":"int64","id":4}}}}},"PullMultiPipePacketsByIDsRequest":{"fields":{"pipeInfos":{"rule":"repeated","type":"Info","id":1},"pipeVersion":{"type":"PipeVersion","id":2}},"nested":{"Info":{"fields":{"pipeEntity":{"rule":"required","type":"improto.PipeEntity","id":1},"cursorSid":{"rule":"required","type":"int64","id":2}}}}},"PullMultiPipePacketsByIDsResponse":{"fields":{"pipePackets":{"rule":"repeated","type":"Packets","id":1}},"nested":{"Packets":{"fields":{"pipeEntity":{"rule":"required","type":"improto.PipeEntity","id":1},"packets":{"rule":"repeated","type":"improto.Packet","id":2},"hasMore":{"rule":"required","type":"bool","id":3,"options":{"default":false}},"lastSid":{"type":"int64","id":4}}}}},"PullUnsupportPipeTypeInfosRequest":{"fields":{"supportTypes":{"rule":"repeated","type":"string","id":1}}},"PullUnsupportPipeTypeInfosResponse":{"fields":{"infos":{"rule":"repeated","type":"Info","id":1}},"nested":{"Info":{"fields":{"pipeType":{"rule":"required","type":"string","id":1},"lastSid":{"rule":"required","type":"int64","id":2}}}}},"PullChatChangeListsRequest":{"fields":{"chatLocalSids":{"keyType":"int64","type":"int64","id":1}}},"PullChatChangeListsResponse":{"fields":{"chatChangeLists":{"keyType":"int64","type":"ChangeList","id":1}},"nested":{"ChangeList":{"fields":{"messageLastSid":{"keyType":"int64","type":"int64","id":1},"chatChatterChanged":{"type":"bool","id":2},"packets":{"rule":"repeated","type":"improto.Packet","id":3},"chatLastSid":{"rule":"required","type":"int64","id":4},"hasMore":{"type":"bool","id":5,"options":{"default":false}}}}}},"PullMultiPipePacketsRequest":{"fields":{"pipeInfos":{"rule":"repeated","type":"Info","id":1}},"nested":{"Info":{"fields":{"pipeEntity":{"rule":"required","type":"improto.PipeEntity","id":1},"cursorSid":{"rule":"required","type":"int64","id":2}}}}},"PullMultiPipePacketsResponse":{"fields":{"pipePackets":{"rule":"repeated","type":"Packets","id":1}},"nested":{"Packets":{"fields":{"pipeEntity":{"rule":"required","type":"improto.PipeEntity","id":1},"packets":{"rule":"repeated","type":"improto.Packet","id":2},"hasMore":{"rule":"required","type":"bool","id":3,"options":{"default":false}},"lastSid":{"type":"int64","id":4},"sidIsTimeOut":{"type":"bool","id":5,"options":{"default":false}}}}}},"ChangeListIdentity":{"fields":{"changeListType":{"type":"string","id":1},"belongType":{"type":"string","id":2},"belongId":{"type":"int64","id":3}}},"PullChangeListsRequest":{"fields":{"infos":{"rule":"repeated","type":"ChangeListInfo","id":1}},"nested":{"ChangeListInfo":{"fields":{"changeListIdentity":{"type":"ChangeListIdentity","id":1},"cursor":{"type":"int64","id":2}}}}},"PullChangeListsResponse":{"fields":{"changeLists":{"rule":"repeated","type":"ChangeList","id":1}},"nested":{"SubChangeList":{"fields":{"subChangeListIdentity":{"type":"ChangeListIdentity","id":1},"subListLastCursor":{"type":"int64","id":2}}},"ChangeList":{"fields":{"changeListIdentity":{"type":"ChangeListIdentity","id":1},"lastCursor":{"type":"int64","id":2},"hasMore":{"type":"bool","id":3},"pipeLastSid":{"keyType":"int64","type":"int64","id":4},"subChangeListLastCursor":{"rule":"repeated","type":"SubChangeList","id":5},"sidIsTimeOut":{"type":"bool","id":6,"options":{"default":false}}}}}},"CheckPipeTimeOutRequest":{"fields":{"pipeInfos":{"rule":"repeated","type":"Info","id":1}},"nested":{"Info":{"fields":{"pipeEntity":{"rule":"required","type":"improto.PipeEntity","id":1},"cursorSid":{"rule":"required","type":"int64","id":2}}}}},"CheckPipeTimeOutResponse":{"fields":{"infos":{"rule":"repeated","type":"Info","id":1}},"nested":{"Info":{"fields":{"pipeEntity":{"rule":"required","type":"improto.PipeEntity","id":1},"isTimeOut":{"rule":"required","type":"bool","id":2}}}}}}}}')},,function(e){e.exports=JSON.parse('{"a":{"options":{"optimize_for":"LITE_RUNTIME","go_package":"git.byted.org/ee/lark/im-protobuf/improto/spm","java_package":"com.ss.android.lark.pb"},"nested":{"ParticipantType":{"values":{"UNKNOW":0,"LARK_USER":1,"ROOM":2,"DOC_USER":3,"NEO_USER":4,"NEO_GUEST_USER":5,"PSTN_USER":6,"SIP_USER":7,"SHAREBOX_USER":8,"RESERVED_USER_2":9,"RESERVED_USER_3":10,"STANDALONE_VC_USER":11,"RESERVED_USER_5":12,"RESERVED_USER_6":13,"RESERVED_USER_7":14,"RESERVED_USER_8":15,"RESERVED_USER_9":16,"RESERVED_USER_10":17,"RESERVED_USER_11":18,"RESERVED_USER_12":19,"RESERVED_USER_13":20,"RESERVED_USER_14":21,"RESERVED_USER_15":22,"RESERVED_USER_16":23,"RESERVED_USER_17":24,"RESERVED_USER_18":25,"RESERVED_USER_19":26,"RESERVED_USER_20":27}},"ByteviewUser":{"fields":{"userId":{"rule":"required","type":"string","id":1},"deviceId":{"rule":"required","type":"string","id":2},"userType":{"rule":"required","type":"ParticipantType","id":3}}},"ParticipantSettings":{"fields":{"isMicrophoneMuted":{"type":"bool","id":1},"isCameraMuted":{"type":"bool","id":2},"microphoneStatus":{"type":"EquipmentStatus","id":3},"cameraStatus":{"type":"EquipmentStatus","id":4},"rtcMode":{"type":"RtcMode","id":15},"playEnterExitChimes":{"type":"bool","id":5},"followingStatus":{"type":"bool","id":6},"followTypes":{"rule":"repeated","type":"FollowAction.Type","id":7,"options":{"packed":false}},"isTranslationOn":{"type":"bool","id":8},"subtitleLanguage":{"type":"string","id":9},"spokenLanguage":{"type":"string","id":10},"nickname":{"type":"string","id":11},"enableSubtitleRecord":{"type":"bool","id":12},"appliedSpokenLanguage":{"type":"string","id":13},"handsStatus":{"type":"HandsStatus","id":14},"interpreterSetting":{"type":"InterpreterSetting","id":16}},"nested":{"EquipmentStatus":{"values":{"UNKNOWN":0,"NOT_EXIST":1,"NO_PERMISSION":2,"UNAVAILABLE":3,"NORMAL":4}},"HandsStatus":{"values":{"UNKNOWN_HANDS_STATUS":0,"PUT_UP":1,"PUT_DOWN":2,"APPROVED":3,"REJECT":4,"NO_NEED_PUT_UP":5}},"RtcMode":{"values":{"RTCMODE_UNKNOWN":0,"RTCMODE_NORMAL":1,"RTCMODE_AUDIENCE":2}}}},"IDType":{"values":{"UNKNOWN_ID_TYPE":0,"GROUP_ID":1,"MEETING_ID":2,"UNIQUE_ID":3,"INTERVIEW_UID":4,"RESERVATION_ID":5}},"ParticipantRole":{"values":{"UNKNOW_ROLE":0,"INTERVIEWER":1,"INTERVIEWEE":2}},"TenantTag":{"values":{"STANDARD":0,"UNDEFINED":1,"SIMPLE":2}},"Participant":{"fields":{"id":{"rule":"required","type":"string","id":1},"status":{"rule":"required","type":"Status","id":2},"isHost":{"rule":"required","type":"bool","id":3},"ringingReceived":{"type":"bool","id":4,"options":{"deprecated":true}},"offlineReason":{"type":"OfflineReason","id":5},"deviceType":{"type":"DeviceType","id":6},"settings":{"type":"ParticipantSettings","id":7},"joinTime":{"type":"int64","id":8},"interactiveId":{"type":"string","id":9},"type":{"type":"ParticipantType","id":10,"options":{"default":"LARK_USER"}},"capabilities":{"type":"VideoChatCapabilities","id":11},"inviterId":{"type":"string","id":12},"inviterType":{"type":"ParticipantType","id":13},"deviceId":{"type":"string","id":14},"inviterDeviceId":{"type":"string","id":15},"ongoingMeetingId":{"type":"string","id":16},"ongoingMeetingInteractiveId":{"type":"string","id":17},"role":{"type":"ParticipantRole","id":18},"seqId":{"type":"int64","id":19},"pstnInfo":{"type":"PSTNInfo","id":21},"isLarkGuest":{"type":"bool","id":22},"participantRoleSettings":{"type":"ParticipantRoleSettings","id":23},"handsUpTime":{"type":"int64","id":24},"userTenantId":{"type":"string","id":25},"tenantTag":{"type":"TenantTag","id":26},"globalSeqId":{"type":"int64","id":27},"rtcJoinId":{"type":"string","id":28},"breakoutRoomId":{"type":"string","id":29}},"reserved":[[20,20]],"nested":{"Status":{"values":{"UNKNOWN":0,"CALLING":1,"ON_THE_CALL":2,"RINGING":3,"IDLE":4}},"OfflineReason":{"values":{"UNKNOWN_OFFLINE_REASON":0,"BUSY":1,"REFUSE":2,"RING_TIMEOUT":3,"KICK_OUT":4,"LEAVE":5,"END":6,"CANCEL":7,"OVERTIME":8,"ACCEPT_OTHER":9,"FORBIDDEN_TARGET":12,"JOIN_LOBBY":13,"CALL_EXCEPTION":14,"AUTO_END":15}},"DeviceType":{"values":{"UNKNOWN_DEVICE_TYPE":0,"DESKTOP":1,"MOBILE":2,"WEB":3}},"VideoChatCapabilities":{"fields":{"shareScreen":{"type":"bool","id":1},"upgradeMeeting":{"type":"bool","id":2},"follow":{"type":"bool","id":3},"earlyJoin":{"type":"bool","id":4},"followPresenter":{"type":"bool","id":5},"remoteControl":{"type":"bool","id":6},"followConsumeStrategyIds":{"rule":"repeated","type":"string","id":7},"followProduceStrategyIds":{"rule":"repeated","type":"string","id":8},"joinLobby":{"type":"bool","id":9},"supportHandsUp":{"type":"bool","id":10},"becomeInterpreter":{"type":"bool","id":11},"canMoveToBreakoutRoomId":{"type":"bool","id":12},"canBeHost":{"type":"bool","id":13},"canBeCoHost":{"type":"bool","id":14}}},"ParticipantMeetingRole":{"values":{"PARTICIPANT":0,"HOST":1,"CO_HOST":2}},"ParticipantRoleSettings":{"fields":{"meetingRole":{"type":"ParticipantMeetingRole","id":1},"isMeetingOwner":{"type":"bool","id":2}}}}},"FeatureConfig":{"fields":{"liveEnable":{"type":"bool","id":1},"defaultLayout":{"type":"LayoutType","id":2},"recordEnable":{"type":"bool","id":3},"hostControlEnable":{"type":"bool","id":4},"pstn":{"type":"Pstn","id":5},"shareMeeting":{"type":"ShareMeeting","id":6},"sip":{"type":"Sip","id":7},"magicShare":{"type":"MagicShare","id":8},"relationChain":{"type":"RelationChain","id":9},"interpretationEnable":{"type":"bool","id":10}},"nested":{"LayoutType":{"values":{"UNKNOWN":0,"Squared":1,"Sidebar":2,"Float":3}},"Sip":{"fields":{"outGoingCallEnable":{"type":"bool","id":1},"incomingCallEnable":{"type":"bool","id":2}}},"ShareMeeting":{"fields":{"inviteEnable":{"type":"bool","id":1},"copyMeetingLinkEnable":{"type":"bool","id":2},"shareCardEnable":{"type":"bool","id":3}}},"Pstn":{"fields":{"outGoingCallEnable":{"type":"bool","id":1},"incomingCallEnable":{"type":"bool","id":2}}},"MagicShare":{"fields":{"startCcmEnable":{"type":"bool","id":10},"startUniversalEnable":{"type":"bool","id":11},"uploadFileEnable":{"type":"bool","id":12},"startGoogleDriveEnable":{"type":"bool","id":13},"newCcmEnable":{"type":"bool","id":14}}},"RelationChain":{"fields":{"browseUserProfileEnable":{"type":"bool","id":8},"enterGroupEnable":{"type":"bool","id":9}}}}},"VCManageCapabilities":{"fields":{"vcLobby":{"type":"bool","id":1},"forceMuteMicrophone":{"type":"bool","id":2},"sharePermission":{"type":"bool","id":3},"forceGetSharePermission":{"type":"bool","id":4},"onlyPresenterCanAnnotate":{"type":"bool","id":5}}},"RTCProxy":{"fields":{"status":{"rule":"required","type":"bool","id":1},"proxyType":{"rule":"required","type":"ProxyType","id":2},"proxyIp":{"rule":"required","type":"string","id":3},"proxyPort":{"rule":"required","type":"int64","id":4},"userName":{"type":"string","id":5},"passport":{"type":"string","id":6}},"nested":{"ProxyType":{"values":{"NONE":0,"HTTPS":1,"SOCKS5":2,"HTTP":3,"UNKNOWN":4}}}},"VideoChatSettings":{"fields":{"topic":{"type":"string","id":1},"isMicrophoneMuted":{"type":"bool","id":2},"isCameraMuted":{"type":"bool","id":3},"subType":{"type":"SubType","id":4},"maxParticipantNum":{"type":"int32","id":5},"maxVideochatDuration":{"type":"int32","id":6},"planType":{"type":"PlanType","id":7,"options":{"default":"PLAN_FREE"}},"shouldEarlyJoin":{"type":"bool","id":8},"isLocked":{"type":"bool","id":9},"isMuteOnEntry":{"type":"bool","id":10},"planTimeLimit":{"type":"int32","id":11},"securitySetting":{"type":"VideoChatSecuritySetting","id":12},"pstnSetting":{"type":"VideoChatPSTNSetting","id":13},"i18nDefaultTopic":{"type":"entities.VideoChatI18nDefaultTopic","id":14},"featureConfig":{"type":"FeatureConfig","id":15},"allowPartiUnmute":{"type":"bool","id":16},"sipSetting":{"type":"VideoChatSIPSetting","id":17},"isOwnerJoinedMeeting":{"type":"bool","id":18},"onlyHostCanShare":{"type":"bool","id":19},"manageCapabilities":{"type":"VCManageCapabilities","id":20},"onlyHostCanReplaceShare":{"type":"bool","id":21},"maxSoftRtcNormalMode":{"type":"int32","id":22},"rtcProxy":{"type":"RTCProxy","id":23},"isMeetingOpenInterpretation":{"type":"bool","id":24},"meetingSupportLanguages":{"rule":"repeated","type":"LanguageType","id":25},"isBoxSharing":{"type":"bool","id":26},"onlyPresenterCanAnnotate":{"type":"bool","id":27},"countdownDuration":{"type":"int32","id":28},"isOpenBreakoutRoom":{"type":"bool","id":29},"h323Setting":{"type":"VideoChatH323Setting","id":30}},"nested":{"SubType":{"values":{"DEFAULT":0,"SCREEN_SHARE":1,"WIRED_SCREEN_SHARE":2,"FOLLOW_SHARE":3,"CHAT_ROOM":4,"SAME_PAGE_MEETING":5}},"PlanType":{"values":{"PLAN_UNKNOWN":0,"PLAN_FREE":1,"PLAN_BASIC":2,"PLAN_BUSINESS":3,"PLAN_ENTERPRISE":4,"PLAN_NEW_STANDARD":5,"PLAN_NEW_CERT_STANDARD":6,"PLAN_NEW_BUSINESS":7,"PLAN_NEW_ENTERPRISE":8}}}},"I18nKeyInfo":{"fields":{"key":{"type":"string","id":1},"params":{"keyType":"string","type":"string","id":2},"type":{"type":"Type","id":3},"jumpScheme":{"type":"string","id":4},"newKey":{"type":"string","id":5},"i18nParams":{"keyType":"string","type":"I18nParam","id":6}},"nested":{"Type":{"values":{"UNKNOWN":0,"NORMAL":1,"SCHEME_JUMP":2,"UPGRADE_JUMP":3,"CUSTOMER_JUMP":4,"SUBTITLE_SETTING_JUMP":5}},"I18nParam":{"fields":{"type":{"type":"Type","id":1},"val":{"type":"string","id":2}},"nested":{"Type":{"values":{"UNKNOWN":0,"RAW_TEXT":1,"USER_ID":2}}}}}},"MsgInfo":{"fields":{"type":{"type":"Type","id":1},"expire":{"type":"int32","id":2},"message":{"type":"string","id":3},"isShow":{"type":"bool","id":4},"isOverride":{"type":"bool","id":5},"msgI18nKey":{"type":"I18nKeyInfo","id":6},"msgTitleI18nKey":{"type":"I18nKeyInfo","id":7},"popUpType":{"type":"Popup_Type","id":8},"alert":{"type":"Alert","id":9}},"nested":{"Type":{"values":{"UNKNOWN":0,"TIPS":1,"TOAST":2,"POPUP":3,"ALERT":4}},"Popup_Type":{"values":{"Popup_UNKNOWN":0,"Popup_INFO":1,"Popup_WARNING":2,"Popup_ERROR":3}},"Alert":{"fields":{"title":{"type":"Text","id":1},"body":{"type":"Text","id":2},"footer":{"type":"Button","id":3},"footer2":{"type":"Button","id":4}},"nested":{"Button_Color":{"values":{"BLACK":0,"RED":1,"BLUE":2,"GREY":3}},"Text":{"fields":{"i18nKey":{"type":"string","id":1}}},"Button":{"fields":{"text":{"type":"Text","id":1},"waitTime":{"type":"int32","id":2},"color":{"type":"Button_Color","id":3}}}}}}},"VideoChatInfoExtraCommand":{"fields":{"type":{"rule":"required","type":"Type","id":1}},"nested":{"Type":{"values":{"UNKNOWN":0,"LEAVE_MEETING":1}}}},"BreakoutRoomInfo":{"fields":{"breakoutRoomId":{"rule":"required","type":"string","id":1},"topic":{"type":"string","id":2},"startTime":{"type":"int64","id":3},"settings":{"type":"BreakoutRoomInfoSettings","id":4},"channelId":{"type":"string","id":5},"status":{"type":"Status","id":6},"countDownFromStartTime":{"type":"int64","id":7},"sortId":{"type":"int64","id":8}},"nested":{"Status":{"values":{"UNKNWON":0,"ON_THE_CALL":1,"COUNT_DOWN":2,"IDLE":3}},"BreakoutRoomInfoSettings":{"fields":{"muteOnEntry":{"type":"bool","id":1},"participantUnmuteDeny":{"type":"bool","id":2},"snapshotUsers":{"rule":"repeated","type":"ByteviewUser","id":3},"onlyPresenterCanAnnotate":{"type":"bool","id":4}}}}},"VideoChatInfo":{"fields":{"id":{"rule":"required","type":"string","id":1},"hostId":{"rule":"required","type":"string","id":2},"type":{"rule":"required","type":"Type","id":3},"participants":{"rule":"repeated","type":"Participant","id":4},"groupId":{"type":"string","id":5},"info":{"rule":"required","type":"string","id":6},"inviterId":{"rule":"required","type":"string","id":7},"force":{"type":"bool","id":8,"options":{"default":false}},"token":{"type":"string","id":9},"endReason":{"type":"EndReason","id":10},"actionTime":{"type":"ActionTime","id":11},"seqId":{"type":"int64","id":12},"settings":{"type":"VideoChatSettings","id":13},"vendorType":{"type":"VendorType","id":14},"trackInfo":{"keyType":"string","type":"string","id":15},"startTime":{"type":"int64","id":16},"hostType":{"type":"ParticipantType","id":17,"options":{"default":"LARK_USER"}},"inviterType":{"type":"ParticipantType","id":18,"options":{"default":"LARK_USER"}},"meetNumber":{"type":"string","id":19},"msg":{"type":"MsgInfo","id":20},"meetingSource":{"type":"MeetingSource","id":21},"hostDeviceId":{"type":"string","id":22},"isVoiceCall":{"type":"bool","id":23},"sponsor":{"type":"ByteviewUser","id":24},"tenantId":{"type":"string","id":25},"isLarkMeeting":{"type":"bool","id":27},"meetingOwner":{"type":"ByteviewUser","id":28},"isExternalMeetingWhenRing":{"type":"bool","id":29},"pushSid":{"type":"string","id":31},"extraCommand":{"type":"VideoChatInfoExtraCommand","id":32},"breakoutRoomInfos":{"rule":"repeated","type":"BreakoutRoomInfo","id":33},"expireTimeInSecond":{"type":"int64","id":34}},"reserved":[[26,26],[30,30]],"nested":{"Type":{"values":{"UNKNOWN":0,"CALL":1,"MEET":2}},"EndReason":{"values":{"UNKNOWN_END_REASON":0,"HANG_UP":1,"CONNECTION_FAILED":2,"RING_TIMEOUT":3,"SDK_EXCEPTION":4,"CANCEL":5,"REFUSE":6,"ACCEPT_OTHER":7,"TRIAL_TIMEOUT":8,"CALL_EXCEPTION":9,"AUTO_END":10}},"VendorType":{"values":{"UNKNOWN_VENDOR_TYPE":0,"ZOOM":1,"RTC":2,"LARK_RTC":3,"LARK_PRE_RTC":4,"LARK_RTC_TEST_PRE":240,"LARK_RTC_TEST_GAUSS":241,"LARK_RTC_TEST":255}},"MeetingSource":{"values":{"VC_UNKNOWN_SOURCE_TYPE":0,"VC_FROM_USER":1,"VC_FROM_CALENDAR":2,"VC_FROM_INTERVIEW":3,"VC_FROM_DOC":5}}}},"RegisterClientInfoRequest":{"fields":{"status":{"type":"Participant.Status","id":1},"syncResponse":{"type":"bool","id":2,"options":{"default":false}},"meetingId":{"type":"string","id":3},"sourceType":{"type":"SourceType","id":4},"meetingIds":{"rule":"repeated","type":"string","id":5}},"nested":{"SourceType":{"values":{"UNKNOWN":0,"LONG_CONNECTION_LOSS":1,"CRASHED_STARTUP":2,"KILLED_STARTUP":3,"DUAL_CHANNEL_POLL":4,"EXPIRE_CHECK":5}}}},"RegisterClientInfoResponse":{"fields":{"info":{"type":"VideoChatInfo","id":1},"status":{"type":"StatusCode","id":2},"meetingId":{"type":"string","id":3},"infos":{"rule":"repeated","type":"VideoChatInfo","id":4},"prompts":{"rule":"repeated","type":"VideoChatPrompt","id":5}},"nested":{"StatusCode":{"values":{"UNKNOWN":0,"ACTIVE":1,"INACTIVE":2,"MEETING_END":3,"OTHER_DEV_ACTIVE":4}}}},"CreateVideoChatRequest":{"fields":{"participantIds":{"rule":"repeated","type":"string","id":1},"type":{"rule":"required","type":"VideoChatInfo.Type","id":2},"topic":{"type":"string","id":3},"groupId":{"type":"string","id":4},"force":{"type":"bool","id":5,"options":{"default":false}},"pushHost":{"type":"bool","id":6,"options":{"default":false}},"share":{"type":"bool","id":7,"options":{"default":false}},"actionTime":{"type":"ActionTime","id":8},"meetingSettings":{"type":"VideoChatSettings","id":9},"hostSettings":{"type":"ParticipantSettings","id":10},"vendorType":{"type":"VideoChatInfo.VendorType","id":11},"roomIds":{"rule":"repeated","type":"string","id":12},"isVoiceCall":{"type":"bool","id":13},"reservationId":{"type":"string","id":16}},"reserved":[[14,14],[15,15]]},"UpdateVideoChatRequest":{"fields":{"action":{"rule":"required","type":"Action","id":1},"id":{"rule":"required","type":"string","id":2},"actionTime":{"type":"ActionTime","id":3},"participantSettings":{"type":"ParticipantSettings","id":4},"larkUserIds":{"rule":"repeated","type":"string","id":5},"roomIds":{"rule":"repeated","type":"string","id":6},"interactiveId":{"type":"string","id":7},"pstnIds":{"rule":"repeated","type":"string","id":8},"sdkExceptionReason":{"type":"string","id":9},"isRejectJoinLobby":{"type":"bool","id":10},"users":{"rule":"repeated","type":"ByteviewUser","id":11},"globalSeqId":{"type":"int64","id":12}},"nested":{"Action":{"values":{"UNKNOWN":0,"ACCEPT":1,"REFUSE":2,"CANCEL":3,"LEAVE":4,"END":5,"RECEIVED_INVITATION":6,"SDK_EXCEPTION":7,"TERMINATE":8,"TRIAL_TIMEOUT":9,"LEAVE_LOBBY":10,"MUTE_PUSH_ACK":11,"AUTO_END":12}}}},"VCLobbyParticipant":{"fields":{"user":{"type":"ByteviewUser","id":1},"meetingId":{"type":"string","id":2},"isMicrophoneMuted":{"type":"bool","id":3},"isCameraMuted":{"type":"bool","id":4},"isStatusWait":{"type":"bool","id":5},"seqId":{"type":"int64","id":6},"joinLobbyTime":{"type":"int64","id":8},"nickName":{"type":"string","id":9},"interactiveId":{"type":"string","id":10},"isLarkGuest":{"type":"string","id":11},"leaveReason":{"type":"LeaveReason","id":12},"userTenantId":{"type":"string","id":13},"tenantTag":{"type":"TenantTag","id":14}},"reserved":[[7,7]],"nested":{"LeaveReason":{"values":{"UNKNOWN":0,"HEARBEAT_EXPIRE":1,"EXIT":2,"HOST_REJECT":3,"MEETING_END":4,"HOST_APPROVE":5,"VC_NOT_SUPPORT_LOBBY":6}}}},"VCPreLobbyParticipant":{"fields":{"user":{"type":"ByteviewUser","id":1},"meetingId":{"type":"string","id":2},"isStatusWait":{"type":"bool","id":3},"joinLobbyTime":{"type":"int64","id":4},"isLarkGuest":{"type":"string","id":5},"leaveReason":{"type":"LeaveReason","id":6}},"nested":{"LeaveReason":{"values":{"UNKNOWN":0,"LEAVE":1,"MEETING_START":2,"HEARTBEAT_STOP":3}}}},"VCManageApplyRequest":{"fields":{"meetingId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=meeting"}},"breakoutRoomId":{"type":"string","id":2},"applyType":{"type":"ApplyType","id":3}},"nested":{"ApplyType":{"values":{"UNKNOWN":0,"APPLY_FOR_HELP_FROM_BREAKOUT_ROOM":1}}}},"VCManageApplyResponse":{"fields":{"result":{"type":"Result","id":1}},"nested":{"Result":{"values":{"FAIL":0,"SUCCESS":1,"HOST_BUSY":2}}}},"VCManageApprovalRequest":{"fields":{"approvalType":{"type":"ApprovalType","id":1},"approvalAction":{"type":"ApprovalAction","id":2},"users":{"rule":"repeated","type":"ByteviewUser","id":3},"meetingId":{"type":"string","id":4,"options":{"(fieldinfo.FieldInfo)":"split,type=meeting"}},"breakoutRoomId":{"type":"string","id":5}},"nested":{"ApprovalType":{"values":{"UNKNOWN":0,"MEETINGLOBBY":1,"PUT_UP_HANDS":2,"BREAKOUT_ROOM_USER_NEED_HELP":3}},"ApprovalAction":{"values":{"UNKNOWNACTION":0,"PASS":1,"REJECT":2,"ALL_PASS":3,"ALL_REJECT":4,"MEETING_NOT_SUPPORT":5}}}},"VCManageApprovalResponse":{"fields":{"users":{"rule":"repeated","type":"ByteviewUser","id":1}}},"VCManageNotify":{"fields":{"meetingId":{"type":"string","id":1},"notificationType":{"type":"NotificationType","id":2},"lobbyParticipants":{"rule":"repeated","type":"VCLobbyParticipant","id":3},"participants":{"rule":"repeated","type":"ByteviewUser","id":4},"needHelpBreakOutRoomId":{"type":"string","id":5}},"nested":{"NotificationType":{"values":{"UNKNOWN":0,"MEETINGLOBBY":1,"PUT_UP_HANDS":2,"PUT_DOWN_HANDS":3,"BREAKOUT_ROOM_USER_NEED_HALP":4}}}},"VCManageResult":{"fields":{"meetingId":{"type":"string","id":1},"type":{"type":"Type","id":2},"action":{"type":"Action","id":3},"breakoutRoomCountDownInfo":{"type":"BreakoutRoomCountdownInfo","id":4},"interviewActionData":{"type":"InterviewActionData","id":5}},"nested":{"Type":{"values":{"TYPEUNKNOWN":0,"MEETINGLOBBY":1,"MEETINGPRELOBBY":2,"BREAKOUT_ROOM_NEED_HELP":3,"BREAKOUT_ROOM_COUNT_DOWN":4,"INTERVIEW_CODING":5}},"Action":{"values":{"UNKNOWN":0,"HOSTREJECT":1,"MEETINGEND":2,"HOSTALLOWED":3,"MEETING_NOT_SUPPORT":5,"VC_MEETING_NOT_SUPPORT":6,"MEETING_START":7,"INTERVIEW_CODING_ACTION":9},"reserved":[[8,8]]},"BreakoutRoomCountdownInfo":{"fields":{"countDownFromStartTime":{"type":"int64","id":1}}}}},"UpdateVideoChatResponse":{"fields":{"videoChatInfo":{"type":"VideoChatInfo","id":1},"joinMeetingLobby":{"type":"JoinMeetingLobby","id":2}}},"PSTNInfo":{"fields":{"mainAddress":{"rule":"required","type":"string","id":1},"subAddress":{"type":"string","id":2},"participantType":{"rule":"required","type":"ParticipantType","id":3},"displayName":{"type":"string","id":4},"bindId":{"type":"string","id":5},"bindType":{"type":"BindType","id":6}},"nested":{"BindType":{"values":{"UNKNOWN":0,"LARK":1}}}},"ApplyDTMFRequest":{"fields":{"userId":{"rule":"required","type":"string","id":1},"meetingId":{"rule":"required","type":"string","id":2},"dtmfCmd":{"rule":"required","type":"string","id":3},"seqId":{"type":"int64","id":4}}},"ApplyDTMFResponse":{"fields":{}},"CreateEnterprisePhoneRequest":{"fields":{"calleeId":{"rule":"required","type":"string","id":1},"chatId":{"type":"string","id":2},"phoneNumber":{"type":"string","id":3}}},"CreateEnterprisePhoneResponse":{"fields":{"enterprisePhoneId":{"rule":"required","type":"string","id":1}}},"CancelEnterprisePhoneRequest":{"fields":{"enterprisePhoneId":{"rule":"required","type":"string","id":1},"chatId":{"type":"string","id":2}}},"CancelEnterprisePhoneResponse":{"fields":{}},"EnterprisePhoneNotify":{"fields":{"enterprisePhoneId":{"rule":"required","type":"string","id":1},"action":{"rule":"required","type":"Action","id":2},"callerUnreachedToastData":{"type":"CallExceptionNotice","id":3}},"nested":{"Action":{"values":{"CALLER_RINGING":0,"CALL_EXCEPTION_TOAST_CALLER_UNREACHED":1}},"CallExceptionNotice":{"fields":{"key":{"type":"string","id":1}}}}},"GetEnterprisePhoneConfigRequest":{"fields":{}},"GetEnterprisePhoneConfigResponse":{"fields":{"authorized":{"type":"bool","id":1}}},"CheckEnterprisePhoneQuotaRequest":{"fields":{}},"CheckEnterprisePhoneQuotaResponse":{"fields":{"date":{"type":"string","id":1},"availableEnterprisePhoneAmount":{"type":"int32","id":2},"departmentName":{"type":"string","id":3}}},"GetPhoneNumberAttributtonRequest":{"fields":{"enterprisePhoneNumber":{"rule":"required","type":"string","id":1}}},"GetPhoneNumberAttributtonResponse":{"fields":{"province":{"type":"string","id":1},"isp":{"type":"string","id":2}}},"InviteVideoChatRequest":{"fields":{"participantIds":{"rule":"repeated","type":"string","id":1},"id":{"rule":"required","type":"string","id":2},"roomIds":{"rule":"repeated","type":"string","id":3},"pstnInfo":{"rule":"repeated","type":"PSTNInfo","id":5}},"reserved":[[4,4]]},"RejoinVideoChatRequest":{"fields":{"meetingId":{"rule":"required","type":"string","id":1},"force":{"type":"bool","id":2}}},"RejoinVideoChatResponse":{"fields":{"status":{"rule":"required","type":"StatusCode","id":1},"videoChatInfo":{"type":"VideoChatInfo","id":2},"joinMeetingLobby":{"type":"JoinMeetingLobby","id":3}},"nested":{"StatusCode":{"values":{"UNKNOWN":0,"SUCCESS":1,"VC_BUSY_ERROR":2,"VoIP_BUSY_ERROR":3,"MEETING_END_ERROR":4,"PARTICIPANT_LIMIT_EXCEED_ERROR":5}}}},"InviteVideoChatResponse":{"fields":{"busyUserIds":{"rule":"repeated","type":"string","id":1},"pstnIds":{"rule":"repeated","type":"string","id":2}}},"ShareVideoChatRequest":{"fields":{"id":{"rule":"required","type":"string","id":1},"userIds":{"rule":"repeated","type":"string","id":2},"groupIds":{"rule":"repeated","type":"string","id":3},"piggybackText":{"type":"string","id":4},"shareFrom":{"type":"ShareFrom","id":5},"shareMessage":{"type":"string","id":6}},"nested":{"ShareFrom":{"values":{"UNKNOWN":0,"FROM_QR_CODE":1,"FROM_VC":2,"FROM_VCTAB":3}}}},"ShareVideoChatResponse":{"fields":{"bannedGroupIds":{"rule":"repeated","type":"string","id":1},"targetUserPermissions":{"type":"TargetUserPermissions","id":2}},"nested":{"TargetUserPermissions":{"values":{"ALL":0,"PARTIAL":1,"NONE":2}}}},"GetGroupChattersRequest":{"fields":{"chatId":{"type":"string","id":1},"meetingId":{"type":"string","id":2,"options":{"default":"0"}},"searchDepartment":{"type":"bool","id":3}}},"GetGroupChattersResponse":{"fields":{"chatters":{"keyType":"string","type":"entities.Chatter","id":1},"status":{"keyType":"string","type":"entities.ChatterMeetingStatus","id":2},"subtitles":{"keyType":"string","type":"string","id":3},"total":{"type":"int32","id":4},"versionSupport":{"keyType":"string","type":"bool","id":5}}},"ByteSdkRateConfig":{"fields":{"bitrateDowngrateParticipantThreshold":{"type":"int32","id":1},"highBitrate":{"type":"int32","id":2},"middleBitrate":{"type":"int32","id":3},"lowBitrate":{"type":"int32","id":4}}},"VideoChatConfig":{"fields":{"maxParticipantCount":{"type":"int32","id":1,"options":{"deprecated":true}},"heartbeatCycle":{"type":"int32","id":2},"heartbeatExpiredTime":{"type":"int32","id":3},"meetingHeartbeatCycle":{"type":"int32","id":4},"meetingHeartbeatExpiredTime":{"type":"int32","id":5},"callHeartbeatCycle":{"type":"int32","id":6},"callHeartbeatExpiredTime":{"type":"int32","id":7},"feedbackReasonSubkeys":{"rule":"repeated","type":"string","id":8},"pollingCycle":{"type":"int32","id":9},"rtcMaxParticipantCount":{"type":"int32","id":10,"options":{"deprecated":true}},"bytesdkPcVersions":{"type":"string","id":11},"groupMeetingFeedbackReasonSubkeys":{"rule":"repeated","type":"string","id":12},"shareScreenFeedbackReasonSubkeys":{"rule":"repeated","type":"string","id":13},"byteSdkRateConfig":{"type":"ByteSdkRateConfig","id":14},"prefetchI18nKeys":{"rule":"repeated","type":"string","id":15},"pcMaxVisibleVideo":{"type":"int32","id":16,"options":{"default":10}},"activeUserConfig":{"type":"string","id":17},"videochatCountdownDuration":{"type":"int32","id":18},"pcCpuWarnThreshold":{"type":"int32","id":19,"options":{"default":90}},"pcBatteryLowThreshold":{"type":"int32","id":20,"options":{"default":40}},"videoChatStatusTtl":{"type":"int32","id":21,"options":{"default":3}},"subtitleLanguages":{"rule":"repeated","type":"SubtitleLanguage","id":22},"pcShareScreenFeedbackReasonSubkeys":{"rule":"repeated","type":"string","id":23},"mobileShareScreenFeedbackReasonSubkeys":{"rule":"repeated","type":"string","id":24},"spokenLanguages":{"rule":"repeated","type":"SubtitleLanguage","id":25},"enableUpgradePlanNotice":{"keyType":"int32","type":"bool","id":26},"meetingUrlKeys":{"rule":"repeated","type":"string","id":27},"meetingUrlPathKeys":{"rule":"repeated","type":"string","id":28},"lobbyHeartbeatCycle":{"type":"int32","id":29},"lobbyHeartbeatExpiredTime":{"type":"int32","id":30},"meetingSupportInterpretationLanguage":{"rule":"repeated","type":"LanguageType","id":31}},"nested":{"SubtitleLanguage":{"fields":{"language":{"rule":"required","type":"string","id":1},"description":{"rule":"required","type":"string","id":2}}}}},"PullVideoChatConfigRequest":{"fields":{}},"CalendarNoticeData":{"fields":{"calendarId":{"type":"string","id":1},"eventIds":{"rule":"repeated","type":"string","id":2}}},"NotifyStandaloneVCApplication":{"fields":{"calendarNoticeData":{"type":"CalendarNoticeData","id":1}},"nested":{"Type":{"values":{"UNKNOWN":0,"Calendar":1}}}},"VideoChatNotice":{"fields":{"status":{"rule":"required","type":"StatusCode","id":1},"type":{"rule":"required","type":"Type","id":2},"message":{"type":"string","id":3},"title":{"type":"string","id":4},"payload":{"type":"bytes","id":5},"cmd":{"type":"int32","id":6},"actionTime":{"type":"ActionTime","id":7},"timeout":{"type":"int32","id":8},"meetingId":{"type":"string","id":9},"messageId":{"type":"string","id":10},"popupType":{"type":"PopupType","id":11},"msgI18nKey":{"type":"I18nKeyInfo","id":12},"titleI18nKey":{"type":"I18nKeyInfo","id":13},"toastPosition":{"type":"ToastPositionMask","id":14},"toastDurationMs":{"type":"int32","id":15},"extra":{"keyType":"string","type":"string","id":16},"pushSid":{"type":"string","id":17},"pushWhenOnTheCall":{"type":"bool","id":18},"btnI18nKey":{"type":"I18nKeyInfo","id":19},"meetingEndTime":{"type":"int64","id":20}},"nested":{"StatusCode":{"values":{"UNKNOWN":0,"SUCCESS":1,"USER_BUSY_ERROR":2,"SHARE_CARD_USER_PERMISSION":3}},"Type":{"values":{"TOAST":1,"POPUP":2,"ALERT":3,"PREVIEW":4,"TIPS":5,"BROADCAST":6}},"PopupType":{"values":{"UNKNOWN_POPUP_TYPE":0,"POPUP_FORCE_JOIN":1,"POPUP_PREVIEW":2,"POPUP_NORMAL":3,"POPUP_RECORDING_CONFIRM":4,"POPUP_DOC_PERM_CONFIRM":5,"NOTICE_EXTERNAL_PERM_CHANGED":6,"POPUP_MEETING_END_CONFIRM":7}},"ToastPositionMask":{"values":{"LARK":1,"VC":2}}}},"VideoChatNoticeUpdate":{"fields":{"action":{"rule":"required","type":"Action","id":1},"type":{"rule":"required","type":"VideoChatNotice.Type","id":2},"key":{"type":"string","id":3},"meetingId":{"type":"string","id":4},"pushSid":{"type":"string","id":5}},"nested":{"Action":{"values":{"DISMISS":1}}}},"JoinInterviewGroupMeetingRequest":{"fields":{"interviewUniqueId":{"rule":"required","type":"string","id":1},"partiType":{"rule":"required","type":"ParticipantType","id":2},"force":{"type":"bool","id":3,"options":{"default":false}},"role":{"type":"ParticipantRole","id":4},"participantSettings":{"type":"ParticipantSettings","id":5}}},"JoinInterviewGroupMeetingResponse":{"fields":{"videoChatInfo":{"type":"VideoChatInfo","id":1},"joinMeetingLobby":{"type":"JoinMeetingLobby","id":2}}},"JoinCalendarGroupMeetingRequest":{"fields":{"uniqueId":{"rule":"required","type":"string","id":1},"partiType":{"rule":"required","type":"ParticipantType","id":2},"entrySource":{"rule":"required","type":"EntrySource","id":3},"force":{"type":"bool","id":4,"options":{"default":false}},"participantSettings":{"type":"ParticipantSettings","id":5},"subType":{"type":"VideoChatSettings.SubType","id":6}},"nested":{"EntrySource":{"values":{"FROM_UNKNOWN":0,"FROM_CALENDAR_DETAIL":1,"FROM_CARD":2,"FROM_GROUP":3}}}},"JoinCalendarGroupMeetingResponse":{"fields":{"type":{"rule":"required","type":"Type","id":1},"isCreated":{"rule":"required","type":"bool","id":2},"videoChatInfo":{"type":"VideoChatInfo","id":3},"joinMeetingLobby":{"type":"JoinMeetingLobby","id":4}},"nested":{"Type":{"values":{"CALENDAR_MEETING_UNKNOWN":0,"CALENDAR_SUCCESS":1,"CALENDAR_VC_BUSY":2,"CALENDAR_VOIP_BUSY":3,"CALENDAR_MEETING_ENDED":4,"CALENDAR_PARTICIPANT_LIMIT_EXCEED":5,"CALENDAR_MEETING_OUT_OF_DATE":6,"CALENDAR_MEETING_NEED_EXTENSION":7,"CALENDAR_VERSION_LOW":8}}}},"VideoChatFeedbackRequest":{"fields":{"id":{"rule":"required","type":"string","id":1},"quality":{"rule":"required","type":"Quality","id":2},"network":{"type":"Network","id":3},"reasonSubkeys":{"rule":"repeated","type":"string","id":4},"otherReason":{"type":"string","id":5},"sdkVersion":{"rule":"required","type":"string","id":6},"larkVersion":{"type":"string","id":7},"shareScreenReasonSubkeys":{"rule":"repeated","type":"string","id":8}},"nested":{"Quality":{"values":{"UNKOWN":0,"GOOD":1,"BAD":2}},"Network":{"values":{"OTHER":0,"DATA4G":1,"WIFI":2,"LAN":3}}}},"VideoChatFeedbackResponse":{"fields":{}},"VideoChatMeetingFeedbackRequest":{"fields":{"meetingId":{"rule":"required","type":"string","id":1},"sdkVersion":{"rule":"required","type":"string","id":2},"network":{"type":"NetworkType","id":3},"quality":{"rule":"required","type":"VideoChatMeetingQuality","id":4},"audioVideoFeedback":{"type":"AudioVideoFeedback","id":5},"shareScreenFeedback":{"type":"ShareScreenFeedback","id":6},"otherReason":{"type":"string","id":7},"larkVersion":{"type":"string","id":8}},"nested":{"VideoChatMeetingQuality":{"values":{"UNKOWN":0,"GOOD":1,"BAD":2}},"NetworkType":{"values":{"OTHER":0,"G3":1,"G4":2,"G5":3,"WIFI":4,"LAN":5}},"AudioVideoFeedback":{"fields":{"audioVideoSubReasons":{"rule":"repeated","type":"string","id":1},"audioVideoOtherReason":{"type":"string","id":2}}},"ShareScreenFeedback":{"fields":{"shareScreenSubReasons":{"rule":"repeated","type":"string","id":1},"shareScreenOtherReason":{"type":"string","id":2}}}}},"VideoChatMeetingFeedbackResponse":{"fields":{}},"ActionTime":{"fields":{"invite":{"type":"int64","id":1},"accept":{"type":"int64","id":2},"push":{"type":"int64","id":3}}},"VideoChatExtraInfo":{"fields":{"type":{"rule":"required","type":"Type","id":1},"ringingReceivedData":{"type":"RingingReceivedData","id":2},"actionTime":{"type":"ActionTime","id":3},"inMeetingData":{"rule":"repeated","type":"InMeetingData","id":4},"version":{"type":"string","id":5},"subtitle":{"type":"MeetingSubtitleData","id":6}},"nested":{"Type":{"values":{"UNKNOWN":0,"RINGING_RECEIVED":1,"IN_MEETING_CHANGED":2,"SUBTITLE":3}},"RingingReceivedData":{"fields":{"meetingId":{"rule":"required","type":"string","id":1},"participant":{"rule":"required","type":"Participant","id":2}}}}},"MeetingSubtitleData":{"fields":{"meetingId":{"rule":"required","type":"string","id":1},"segId":{"rule":"required","type":"int64","id":2},"subtitleType":{"rule":"required","type":"SubtitleType","id":3},"source":{"type":"Subtitle","id":4},"target":{"type":"Subtitle","id":5},"timestamp":{"type":"int64","id":6},"sliceId":{"type":"int64","id":7},"isSegFinal":{"type":"bool","id":8},"trackReceived":{"type":"bool","id":9},"event":{"type":"SubtitleEvent","id":10},"segIdStr":{"type":"string","id":11},"soundType":{"rule":"required","type":"SoundType","id":12}},"nested":{"SubtitleType":{"values":{"UNKNOWN":0,"TRANSLATION":1,"TRANSCRIPTION":2,"EVENT":3}},"Subtitle":{"fields":{"content":{"rule":"required","type":"string","id":1},"language":{"rule":"required","type":"string","id":2},"speakerUserId":{"type":"string","id":3},"speakerDeviceId":{"type":"string","id":4},"speaker":{"type":"ByteviewUser","id":5}}},"SubtitleEvent":{"fields":{"type":{"rule":"required","type":"Type","id":1},"user":{"rule":"required","type":"ByteviewUser","id":2},"followInfo":{"type":"FollowInfo","id":3}},"nested":{"Type":{"values":{"UNKNOWN":0,"TURN_SUBTITLE_ON":1,"START_SHARE_SCREEN":2,"STOP_SHARE_SCREEN":3,"START_FOLLOW":4,"STOP_FOLLOW":5}},"FollowInfo":{"fields":{"docUrl":{"rule":"required","type":"string","id":1},"docTitle":{"rule":"required","type":"string","id":2}}}}},"SoundType":{"values":{"NORMAL":1,"NOISE":2}}}},"WhiteboardData":{"fields":{"whiteboardId":{"rule":"required","type":"string","id":1},"version":{"rule":"required","type":"int32","id":2},"visible":{"rule":"required","type":"bool","id":3},"user":{"type":"ByteviewUser","id":4},"meetingId":{"type":"string","id":10}}},"InMeetingData":{"fields":{"type":{"rule":"required","type":"Type","id":1},"meetingId":{"rule":"required","type":"string","id":2},"settingsChangedData":{"type":"SettingsChangedData","id":3},"participantsChangedData":{"type":"ParticipantsChangedData","id":4},"hostTransferData":{"type":"HostTransferredData","id":5},"muteAllData":{"type":"AllMicrophoneMutedData","id":6},"screenSharedData":{"type":"ScreenSharedData","id":7},"followData":{"type":"FollowData","id":8},"recordingData":{"type":"RecordMeetingData","id":9},"subtitleStatusData":{"type":"SubtitleStatusData","id":10},"applyRemoteControlData":{"type":"ApplyRemoteControlData","id":11},"liveData":{"type":"LiveMeetingData","id":12},"applyByteviewAccessibilityData":{"type":"ApplyByteviewAccessibilityData","id":13},"seqId":{"type":"int64","id":14},"whiteboardData":{"rule":"repeated","type":"WhiteboardData","id":15},"samePageMeetingInfo":{"type":"SamePageMeetingInfo","id":16},"featureConfig":{"type":"FeatureConfig","id":17},"meetingOwner":{"type":"ByteviewUser","id":18},"enableShareAlphaColorData":{"type":"EnableShareAlphaColorData","id":19},"interviewCodingData":{"type":"InterviewCodingData","id":20},"minutesStatusData":{"type":"MinutesStatusData","id":21}},"nested":{"Type":{"values":{"UNKNOWN":0,"SETTINGS_CHANGED":1,"PARTICIPANTS_CHANGED":2,"HOST_TRANSFERRED":3,"ALL_MICROPHONE_MUTED":4,"SCREEN_SHARED":5,"UNMUTE_CAMERA_CONFIRMED":6,"UPGRADE_MEETING":7,"FOLLOW_CHANGED":8,"FOLLOW_ACTION_CHANGED":9,"UNMUTE_MICROPHONE_CONFIRMED":10,"RECORD_MEETING":11,"REQUEST_FOLLOW_TOKEN":12,"GRANT_FOLLOW_TOKEN":13,"SUBTITLE_STATUS_CONFIRMED":14,"APPLY_REMOTE_CONTROL":15,"LIVE_MEETING":16,"APPLY_BYTEVIEW_ACCESSIBILITY":17,"WHITEBOARD":18,"SAME_PAGE_MEETING":19,"SUBTITLE_STATUS_CHANGE":20,"VC_MANAGE_NOTICE":21,"UI_FEATURE_CONFIG":22,"SHARE_ALPHA_COLOR":23,"INTERVIEW_CODING":24,"MINUTES_STATUS":25}},"SubtitleStatusData":{"fields":{"status":{"rule":"required","type":"Status","id":1},"langDetectInfo":{"type":"LangDetectInfo","id":2},"firstOneOpenSubtitle":{"type":"ByteviewUser","id":3},"isSubtitleOn":{"type":"bool","id":4},"globalSpokenLanguage":{"type":"string","id":5}},"nested":{"Status":{"values":{"STATUS_UNKNOWN":0,"OPEN_SUCCESS":1,"OPEN_FAILED":2,"EXCEPTION":3,"RECOVERABLE_EXCEPTION":4,"RECOVER_SUCCESS":5,"LANG_DETECTED":6,"FIRST_OPEN":7,"MEETING_SUBTITLE_STATUS_CHANGE":8,"APPLY_GLOBAL_SPOKEN_LANGUAGE":9}},"LangDetectInfo":{"fields":{"type":{"rule":"required","type":"Type","id":1},"detectedLanguage":{"type":"string","id":2},"detectedLanguageKey":{"type":"string","id":3},"language":{"type":"string","id":4},"languageKey":{"type":"string","id":5}},"nested":{"Type":{"values":{"UNKNOWN":0,"MISMATCH":1,"UNSUPPORTED":2}}}}}},"FollowData":{"fields":{"followInfo":{"type":"FollowInfo","id":1},"followActions":{"rule":"repeated","type":"FollowAction","id":2},"tokenRequester":{"type":"ByteviewUser","id":3},"tokenGranter":{"type":"ByteviewUser","id":4}}},"SettingsChangedData":{"fields":{"meetingSettings":{"rule":"required","type":"VideoChatSettings","id":1}}},"ParticipantsChangedData":{"fields":{"participants":{"rule":"repeated","type":"Participant","id":1},"operationSource":{"type":"OperationSource","id":2}},"nested":{"OperationSource":{"values":{"UNKNOWN_SOURCE":0,"PARTICIPANT_MUTE_MIC":1,"PARTICIPANT_MUTE_CAMERA":2,"HOST_MUTE_MIC":3,"HOST_MUTE_CAMERA":4,"HOST_MUTE_ALL_MIC":5}}}},"HostTransferredData":{"fields":{"hostId":{"rule":"required","type":"string","id":1},"hostType":{"type":"ParticipantType","id":5,"options":{"default":"LARK_USER"}},"hostDeviceId":{"type":"string","id":6}}},"AllMicrophoneMutedData":{"fields":{"isMuted":{"rule":"required","type":"bool","id":1},"operationUser":{"type":"ByteviewUser","id":2},"breakoutRoomId":{"type":"string","id":3}}},"ScreenSharedData":{"fields":{"participantId":{"rule":"required","type":"string","id":1},"isSharing":{"rule":"required","type":"bool","id":2},"participantType":{"type":"ParticipantType","id":3,"options":{"default":"LARK_USER"}},"participantDeviceId":{"type":"string","id":4},"width":{"type":"int32","id":5},"height":{"type":"int32","id":6},"shareScreenId":{"type":"string","id":7},"isSketch":{"type":"bool","id":8},"canSketch":{"type":"bool","id":9},"version":{"type":"int32","id":10},"accessibility":{"type":"bool","id":11},"remoteControlData":{"type":"RemoteControlData","id":12},"brush":{"type":"BrushType","id":13},"isSmoothMode":{"type":"bool","id":14},"isPortraitMode":{"type":"bool","id":15},"sketchTransferMode":{"type":"SketchTransferMode","id":16}},"nested":{"RemoteControlData":{"fields":{"remoteControlId":{"rule":"required","type":"string","id":1},"controller":{"type":"ByteviewUser","id":2},"controllerSetting":{"type":"ControllerSetting","id":3}},"nested":{"ControllerSetting":{"fields":{"version":{"rule":"required","type":"int32","id":1},"status":{"type":"Status","id":2}},"nested":{"Status":{"values":{"UNKNOWN":0,"CONTROLLING":1,"PAUSE":2}}}}}},"BrushType":{"values":{"BRUSH_NONE":0,"BRUSH_PEN":1}},"SketchTransferMode":{"values":{"BY_DATA":0,"BY_VIDEO":1}}}},"RecordMeetingData":{"fields":{"type":{"rule":"required","type":"Type","id":1},"isRecording":{"rule":"required","type":"bool","id":2},"requestParticipant":{"type":"ByteviewUser","id":3},"requester":{"type":"ByteviewUser","id":4},"policyUrl":{"type":"string","id":5},"recordingHover":{"type":"I18nKeyInfo","id":6},"recordingStop":{"type":"I18nKeyInfo","id":7},"recordingStopV2":{"type":"MsgInfo","id":8}},"nested":{"Type":{"values":{"UNKNOWN":0,"RECORDING_STATUS_CHANGE":1,"PARTICIPANT_REQUEST":2,"HOST_RESPONSE":3,"RECORDING_INFO":10}}}},"ApplyRemoteControlData":{"fields":{"applier":{"rule":"required","type":"ByteviewUser","id":1},"shareScreenId":{"rule":"required","type":"string","id":2}}},"LiveMeetingData":{"fields":{"type":{"rule":"required","type":"Type","id":1},"liveInfo":{"type":"LiveInfo","id":2},"requester":{"type":"ByteviewUser","id":3}},"nested":{"Type":{"values":{"UNKNOWN":0,"LIVE_INFO_CHANGE":1,"PARTICIPANT_REQUEST":2,"HOST_RESPONSE":3}},"Privilege":{"values":{"PREVILEGE_UNKNOWN":0,"ANONYMOUS":1,"EMPLOYEE":2}},"LayoutStyle":{"values":{"STYLE_UNKNOWN":0,"LIST":1,"GALLERY":2,"SIMPLE":3,"PORTRAIT":4,"FLOAT":5,"FOCUS":6}},"LiveVote":{"fields":{"voteId":{"type":"string","id":1},"isVoting":{"type":"bool","id":2},"reason":{"type":"REASON","id":3},"sponsorId":{"type":"string","id":4}},"nested":{"REASON":{"values":{"UNKNOWN":0,"CANCEL":1,"REFUSED":2,"ACCEPT":3}}}},"BindingLiveInfo":{"fields":{"accountBindings":{"keyType":"string","type":"LiveBindingData.LiveAccountData","id":1},"streamBindings":{"keyType":"string","type":"LiveBindingData.LiveStreamData","id":2}}},"LiveInfo":{"fields":{"liveName":{"type":"string","id":1},"liveUrl":{"type":"string","id":2},"isLiving":{"type":"bool","id":3},"liveVote":{"type":"LiveVote","id":4},"sid":{"type":"int64","id":5},"privilege":{"type":"Privilege","id":6},"bindingLiving":{"type":"BindingLiveInfo","id":7},"layoutStyle":{"type":"LayoutStyle","id":8},"defaultLayoutStyle":{"type":"LayoutStyle","id":9},"enableLiveComment":{"type":"bool","id":10},"defaultEnableLiveComment":{"type":"bool","id":11},"defaultPrivilege":{"type":"Privilege","id":12},"liveId":{"type":"int64","id":13},"liveSessionId":{"type":"string","id":14}}}}},"ApplyByteviewAccessibilityData":{"fields":{"applier":{"rule":"required","type":"ByteviewUser","id":1},"shareScreenId":{"type":"string","id":2}}},"EnableShareAlphaColorData":{"fields":{"enableShareAlphaColor":{"type":"bool","id":1},"version":{"type":"int64","id":2}}}}},"VideoChatSecuritySetting":{"fields":{"securityLevel":{"rule":"required","type":"SecurityLevel","id":1},"groupIds":{"rule":"repeated","type":"string","id":2},"userIds":{"rule":"repeated","type":"string","id":3},"isOpenLobby":{"type":"bool","id":4},"specialGroupType":{"rule":"repeated","type":"SpecialGroupType","id":5,"options":{"packed":false}},"roomIds":{"rule":"repeated","type":"string","id":6},"hasSetSecurityContactsAndGroup":{"type":"bool","id":8}},"nested":{"SecurityLevel":{"values":{"UNKNOWN":0,"PUBLIC":1,"TENANT":2,"CONTACTS_AND_GROUP":3,"ONLY_HOST":4}},"SpecialGroupType":{"values":{"TYPE_UNKNOWN":0,"CALENDAR_GUEST_LIST":1}}}},"VideoChatPSTNSetting":{"fields":{"callInCountries":{"rule":"repeated","type":"string","id":1},"callOutCountries":{"rule":"repeated","type":"string","id":2},"defaultCallInCountry":{"type":"string","id":3}}},"VideoChatPstnIncomingSetting":{"fields":{"pstnEnableIncomingCall":{"type":"bool","id":1},"pstnIncomingCallCountryDefault":{"rule":"repeated","type":"string","id":2},"pstnIncomingCallPhoneList":{"rule":"repeated","type":"PSTNPhone","id":3}}},"VideoChatSIPSetting":{"fields":{"domain":{"type":"string","id":1}}},"VideoChatH323Setting":{"fields":{"h323AccessList":{"rule":"repeated","type":"H323Access","id":1}},"nested":{"H323Access":{"fields":{"ip":{"type":"string","id":1},"country":{"type":"string","id":2}}}}},"BreakoutRoomManage":{"fields":{"type":{"type":"ManageType","id":1},"infos":{"rule":"repeated","type":"BreakoutRoomInfo","id":2},"userChangedList":{"rule":"repeated","type":"UserChanged","id":3}},"nested":{"ManageType":{"values":{"UNKNOWN":0,"UPDATE_SETTINGS":1,"MOVE_PARTICIPANTS":2,"BREAKOUT_ROOM_END":3}},"UserChanged":{"fields":{"user":{"type":"ByteviewUser","id":1},"toBreakoutRoomId":{"type":"string","id":2}}}}},"HostManageRequest":{"fields":{"action":{"rule":"required","type":"Action","id":1},"meetingId":{"rule":"required","type":"string","id":2,"options":{"(fieldinfo.FieldInfo)":"split,type=meeting"}},"isMuted":{"type":"bool","id":3},"participantId":{"type":"string","id":4},"participantType":{"type":"ParticipantType","id":5,"options":{"default":"LARK_USER"}},"participantDeviceId":{"type":"string","id":6},"isLocked":{"type":"bool","id":7},"topic":{"type":"string","id":8},"isMuteOnEntry":{"type":"bool","id":9},"securitySetting":{"type":"VideoChatSecuritySetting","id":10},"globalSpokenLanguage":{"type":"string","id":11},"allowPartiUnmute":{"type":"bool","id":12},"setCoHostAction":{"type":"SetCoHostAction","id":13},"onlyHostCanShare":{"type":"bool","id":14},"onlyHostCanReplaceShare":{"type":"bool","id":15},"interpretationSetting":{"type":"InterpretationSetting","id":16},"onlyPresenterCanAnnotate":{"type":"bool","id":17},"breakoutRoomManageInfo":{"type":"BreakoutRoomManage","id":18},"meetingBroadcastInfo":{"type":"MeetingBroadcastInfo","id":19},"breakoutRoomId":{"type":"string","id":20}},"nested":{"Action":{"values":{"UNKNOWN_ACTION":0,"KICK_OUT_PARTICIPANT":1,"TRANSFER_HOST":2,"MUTE_MICROPHONE":3,"MUTE_CAMERA":4,"MUTE_ALL_MICROPHONE":5,"LOCK_MEETING":6,"CHANGE_TOPIC":7,"MUTE_ON_ENTRY":8,"SET_SECURITY_LEVEL":9,"APPLY_GLOBAL_SPOKEN_LANGUAGE":10,"ALLOW_PARTI_UNMUTE":11,"SET_CO_HOST":12,"SET_ONLY_HOST_CAN_SHARE":13,"SET_ONLY_HOST_CAN_REPLACE_SHARE":14,"STOP_CURRENT_SHARING":15,"SET_INTERPRETATION_ACTION":16,"SET_ONLY_PRESENTER_CAN_ANNOTATE":17,"MANAGE_BREAKOUT_ROOM":18,"MEETING_BROADCAST":19}},"SetCoHostAction":{"values":{"UNKNOWN":0,"SET":1,"UNSET":2}},"SetInterpreter":{"fields":{"user":{"type":"ByteviewUser","id":1},"interpreterSetting":{"type":"InterpreterSetting","id":2},"isDeleteInterpreter":{"type":"bool","id":3,"options":{"default":false}}}},"InterpretationSetting":{"fields":{"isOpenInterpretation":{"type":"bool","id":1},"interpreterSettings":{"rule":"repeated","type":"SetInterpreter","id":2}}},"MeetingBroadcastInfo":{"fields":{"broadcastText":{"type":"string","id":1},"users":{"rule":"repeated","type":"ByteviewUser","id":2}}}}},"HostManageResponse":{"fields":{}},"HostChangeSettingsRequest":{"fields":{"meetingId":{"rule":"required","type":"string","id":1},"meetingSettings":{"rule":"required","type":"VideoChatSettings","id":2}}},"HostChangeSettingsResponse":{"fields":{}},"ParticipantChangeSettingsRequest":{"fields":{"meetingId":{"rule":"required","type":"string","id":1},"participantSettings":{"rule":"required","type":"ParticipantSettings","id":2},"requestedByHost":{"type":"bool","id":3},"breakoutRoomId":{"type":"string","id":4}}},"ParticipantChangeSettingsResponse":{"fields":{"participant":{"type":"Participant","id":1}}},"FollowAssociateType":{"values":{"UNKNOWN":0,"FOLLOW_ASSOCIATE_TYPE_MEETING":1,"FOLLOW_ASSOCIATE_TYPE_BREAKOUT_MEETING":2}},"ShareScreenRequest":{"fields":{"meetingId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=meeting"}},"action":{"rule":"required","type":"Action","id":2},"shareScreenUser":{"type":"ByteviewUser","id":3},"width":{"type":"int32","id":4},"height":{"type":"int32","id":5},"accessibility":{"type":"bool","id":6},"isSmoothMode":{"type":"bool","id":7},"isPortraitMode":{"type":"bool","id":8},"breakoutMeetingId":{"type":"string","id":21},"associateType":{"type":"FollowAssociateType","id":22}},"nested":{"Action":{"values":{"UNKNOWN":0,"START":1,"STOP":2}}}},"ShareScreenResponse":{"fields":{"shareScreenId":{"type":"string","id":1},"shareScreenInfo":{"type":"InMeetingData.ScreenSharedData","id":2}}},"PullVCCardInfoRequest":{"fields":{"id":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=meeting"}},"nextRequestToken":{"type":"string","id":2},"chatId":{"type":"string","id":3}}},"PullVCCardInfoResponse":{"fields":{"videoChatContent":{"type":"entities.VideoChatContent","id":1},"nextRequestToken":{"type":"string","id":3},"isMore":{"type":"bool","id":4}}},"PullVideoChatInMeetingInfoRequest":{"fields":{"id":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=meeting"}},"version":{"type":"string","id":2},"globalSeqId":{"type":"int64","id":3}}},"VideoChatInMeetingInfo":{"fields":{"id":{"rule":"required","type":"string","id":1},"hostId":{"rule":"required","type":"string","id":2},"version":{"type":"string","id":3},"participants":{"rule":"repeated","type":"Participant","id":4},"meetingSettings":{"type":"VideoChatSettings","id":5},"shareScreenUserId":{"type":"string","id":6},"hostType":{"type":"ParticipantType","id":7,"options":{"default":"LARK_USER"}},"vcType":{"type":"VideoChatInfo.Type","id":8},"followInfo":{"type":"FollowInfo","id":9},"hostDeviceId":{"type":"string","id":10},"shareScreenUserDeviceId":{"type":"string","id":11},"isRecording":{"type":"bool","id":12},"hasRecorded":{"type":"bool","id":13},"shareScreenInMeetingInfo":{"type":"InMeetingData.ScreenSharedData","id":17},"liveInfo":{"type":"InMeetingData.LiveMeetingData.LiveInfo","id":18},"seqId":{"type":"int64","id":19},"whiteboardData":{"rule":"repeated","type":"WhiteboardData","id":20},"meetingUrl":{"type":"string","id":21},"samePageMeetingInfo":{"type":"SamePageMeetingInfo","id":22},"isSubtitleOn":{"type":"bool","id":23},"recordingHover":{"type":"I18nKeyInfo","id":24},"recordingData":{"type":"InMeetingData.RecordMeetingData","id":25},"breakoutRoomInfos":{"rule":"repeated","type":"BreakoutRoomInfo","id":40},"interviewCodingData":{"type":"InterviewCodingData","id":41},"minutesStatusData":{"type":"MinutesStatusData","id":42}}},"VideoChatCombinedInfo":{"fields":{"inMeetingInfo":{"rule":"required","type":"VideoChatInMeetingInfo","id":1},"extraInfo":{"type":"VideoChatExtraInfo","id":2}}},"GetMeetingURLInfoRequest":{"fields":{"meetingId":{"type":"int64","id":1},"meetingIdStr":{"type":"string","id":2}}},"GetMeetingURLInfoResponse":{"fields":{"topic":{"type":"string","id":1},"meetingNo":{"type":"string","id":2},"meetingUrl":{"type":"string","id":3},"meetingSource":{"type":"VideoChatInfo.MeetingSource","id":4}}},"PreviewJoinVideoChatRequest":{"fields":{"meetingId":{"rule":"required","type":"string","id":1},"messageId":{"rule":"required","type":"string","id":2},"participantSettings":{"type":"ParticipantSettings","id":3},"force":{"type":"bool","id":4}}},"PreviewJoinVideoChatResponse":{"fields":{"type":{"rule":"required","type":"Type","id":1},"joinSuccessData":{"type":"JoinSuccessData","id":2},"joinErrorData":{"type":"JoinErrorData","id":3},"joinMeetingLobby":{"type":"JoinMeetingLobby","id":4}},"nested":{"Type":{"values":{"UNKNOWN":0,"JOIN_SUCCESS":1,"JOIN_ERROR":2}},"JoinSuccessData":{"fields":{"videoChatInfo":{"rule":"required","type":"VideoChatInfo","id":1}}},"JoinErrorData":{"fields":{"errorType":{"rule":"required","type":"ErrorType","id":1},"joinErrorBusyData":{"type":"JoinErrorBusyData","id":2}},"nested":{"ErrorType":{"values":{"UNKNOWN":0,"BUSY":1,"MEETING_ENDED":2,"PARTICIPANT_LIMIT_EXCEED":3,"VERSION_LOW":4}},"JoinErrorBusyData":{"fields":{"statusData":{"rule":"required","type":"mutex.UserStatusData","id":1}}}}}}},"ForceLeaveVideoChatRequest":{"fields":{}},"ForceLeaveVideoChatResponse":{"fields":{}},"PullPreVideoChatSettingRequest":{"fields":{}},"PullPreVideoChatSettingResponse":{"fields":{"maxParticipantNum":{"type":"int32","id":1}}},"Room":{"fields":{"name":{"rule":"required","type":"string","id":1},"roomId":{"rule":"required","type":"string","id":2},"capacity":{"rule":"required","type":"int32","id":3},"controllerIdList":{"rule":"repeated","type":"string","id":4},"backgroundUrl":{"type":"string","id":5},"location":{"type":"Location","id":6},"meetingNumber":{"type":"string","id":7},"avatarKey":{"type":"string","id":8},"avatarImage":{"type":"entities.Image","id":9},"isDisplaySchedule":{"type":"bool","id":10},"fullName":{"type":"string","id":11},"tenantId":{"type":"string","id":12},"newImage":{"type":"entities.Image","id":13},"fullNameParticipant":{"type":"string","id":15},"fullNameSite":{"type":"string","id":16},"primaryNameParticipant":{"type":"string","id":17},"primaryNameSite":{"type":"string","id":18},"secondaryName":{"type":"string","id":19},"primaryNameParticipantPinyin":{"type":"string","id":20},"fullNameParticipantPinyin":{"type":"string","id":21},"fmRoomId":{"type":"string","id":22},"isUnbind":{"type":"bool","id":23},"productNames":{"keyType":"string","type":"string","id":24}},"reserved":[[14,14]],"nested":{"Location":{"fields":{"floorName":{"type":"string","id":1},"buildingName":{"type":"string","id":2}}}}},"PullRoomInfoRequest":{"fields":{"roomIds":{"rule":"repeated","type":"string","id":1}}},"PullRoomInfoResponse":{"fields":{"rooms":{"keyType":"string","type":"Room","id":1}}},"JoinByMeetingNumberRequest":{"fields":{"meetingNumber":{"rule":"required","type":"string","id":1},"participantSettings":{"type":"ParticipantSettings","id":2},"force":{"type":"bool","id":3}}},"JoinByMeetingNumberResponse":{"fields":{"info":{"type":"VideoChatInfo","id":1},"joinMeetingLobby":{"type":"JoinMeetingLobby","id":2}}},"PullVideochatByShareCodeRequest":{"fields":{"shareCode":{"type":"string","id":1}}},"PullVideochatByShareCodeResponse":{"fields":{"info":{"type":"VideoChatInfo","id":1}}},"GetShareCodeInfoRequest":{"fields":{"shareCode":{"type":"string","id":1}}},"GetShareCodeInfoResponse":{"fields":{"user":{"type":"ByteviewUser","id":1}}},"ShareScreenToRoomRequest":{"fields":{"shareCode":{"rule":"required","type":"string","id":1},"docShareScreenInfo":{"type":"DocShareScreenInfo","id":4},"shareType":{"type":"ShareType","id":5},"magicShareInfo":{"type":"MagicShareInfo","id":6},"meetingId":{"type":"string","id":7},"meetingNo":{"type":"string","id":8}},"reserved":[[2,2],[3,3]],"nested":{"ShareType":{"values":{"UNKNOWN":0,"SCREEN":1,"MAGIC_SHARE":2}},"MagicShareInfo":{"fields":{"url":{"rule":"required","type":"string","id":1},"options":{"type":"FollowInfo.Options","id":2},"lifeTime":{"type":"FollowInfo.LifeTime","id":3}}},"DocShareScreenInfo":{"fields":{"url":{"rule":"required","type":"string","id":1},"loginToken":{"type":"string","id":2}}}}},"ShareLinkSetting":{"fields":{"rtcProxy":{"type":"RTCProxy","id":1},"vendorType":{"type":"VideoChatInfo.VendorType","id":2}}},"ShareLinkInfo":{"fields":{"shareLinkId":{"rule":"required","type":"string","id":1},"info":{"rule":"required","type":"string","id":2},"participants":{"rule":"repeated","type":"Participant","id":3},"shareLinkSetting":{"type":"ShareLinkSetting","id":4}}},"ShareScreenToRoomResponse":{"fields":{"info":{"type":"VideoChatInfo","id":1}}},"InviteCalendarMeetingRequest":{"fields":{"meetingId":{"rule":"required","type":"string","id":1},"participantIds":{"rule":"repeated","type":"string","id":2},"roomIds":{"rule":"repeated","type":"string","id":3},"joinCalendarType":{"rule":"required","type":"JoinCalendarType","id":4}},"nested":{"JoinCalendarType":{"values":{"DO_NOT_JOIN":0,"JOIN_SINGLE":1,"JOIN_CYCLE_ALL":2,"JOIN_CYCLE_THIS_TIME":3,"JOIN_CYCLE_FROM_NOW_ON":4}}}},"InviteCalendarMeetingResponse":{"fields":{}},"GetCalendarInfoRequest":{"fields":{"meetingId":{"type":"string","id":1}}},"GetCalendarInfoResponse":{"fields":{"calendarInfo":{"rule":"required","type":"CalendarInfo","id":1}}},"RoomMeetingStatus":{"values":{"VIEW_ROOM_UNKNOWN":0,"VIEW_ROOM_IDLE":1,"VIEW_ROOM_BUSY":2,"VIEW_ROOM_IN_MEETING":3}},"CalendarInfo":{"fields":{"topic":{"type":"string","id":1},"theEventStartTime":{"type":"int64","id":2},"theEventEndTime":{"type":"int64","id":3},"wholeEventEndTime":{"type":"int64","id":4},"eventType":{"type":"EventType","id":5},"description":{"type":"string","id":6},"users":{"keyType":"string","type":"entities.Chatter","id":7},"rooms":{"keyType":"string","type":"Room","id":8},"chatterMeetingStatus":{"keyType":"string","type":"entities.ChatterMeetingStatus","id":9},"roomMeetingStatus":{"keyType":"string","type":"RoomMeetingStatus","id":10},"userStatus":{"keyType":"string","type":"CalendarAcceptStatus","id":11},"roomStatus":{"keyType":"string","type":"CalendarAcceptStatus","id":12},"subtitles":{"keyType":"string","type":"string","id":13},"total":{"type":"int32","id":14},"versionSupport":{"keyType":"string","type":"bool","id":15},"canEnterOrCreateGroup":{"type":"bool","id":16},"isAllDay":{"type":"bool","id":17},"creatorId":{"type":"string","id":18},"organizerId":{"type":"string","id":19},"calendarLocations":{"rule":"repeated","type":"CalendarLocation","id":20},"groupId":{"type":"int64","id":21},"viewRooms":{"keyType":"string","type":"Room","id":22},"category":{"type":"entities.CalendarEvent.Category","id":23,"options":{"default":"DEFAULT_CATEGORY"}},"samePageMeeting":{"type":"entities.SamePageMeetingInfo","id":24}},"nested":{"CalendarAcceptStatus":{"values":{"UNKNOWN_STATUS":0,"ACCEPT":1,"REJECT":2,"TBD":3}},"EventType":{"values":{"UNKNOWN_EVENT_TYPE":0,"SINGLE":1,"CYCLE":2}},"CalendarLocation":{"fields":{"name":{"type":"string","id":1},"address":{"type":"string","id":2}}}}},"GetCalendarGroupRequest":{"fields":{"meetingId":{"rule":"required","type":"string","id":1},"autoCreate":{"rule":"required","type":"bool","id":2}}},"GetCalendarGroupResponse":{"fields":{"groupId":{"type":"string","id":1},"getCalGroupStatus":{"type":"GetCalendarGroupStatus","id":2}},"nested":{"GetCalendarGroupStatus":{"values":{"GET_GROUP_UNKNOWN":0,"GET_GROUP_SUCCESS":1,"GET_GROUP_FAILED":2,"GET_GROUP_NOT_CREATED":3,"GET_GROUP_NOT_PERMITTED":4}}}},"FollowAction":{"fields":{"type":{"rule":"required","type":"Type","id":1},"seqId":{"rule":"required","type":"int32","id":2},"scrollData":{"type":"ScrollData","id":3},"resizeData":{"type":"ResizeData","id":4},"navigationData":{"type":"NavigationData","id":5},"url":{"type":"string","id":6},"shareId":{"type":"string","id":7},"customizedData":{"type":"string","id":61}},"nested":{"Type":{"values":{"UNKNOWN":0,"SCROLL":1,"RESIZE":2,"NAVIGATION":3,"CUSTOM":61}},"ScrollData":{"fields":{"targetSelector":{"type":"string","id":1},"scrollTop":{"type":"int32","id":2},"scrollLeft":{"type":"int32","id":3}}},"ResizeData":{"fields":{"width":{"rule":"required","type":"int32","id":1},"height":{"rule":"required","type":"int32","id":2},"clientWidth":{"type":"int32","id":3},"clientHeight":{"type":"int32","id":4},"scrollWidth":{"type":"int32","id":5},"scrollHeight":{"type":"int32","id":6}}},"NavigationData":{"fields":{"url":{"rule":"required","type":"string","id":1},"mode":{"type":"NavigationChangeMode","id":2}},"nested":{"NavigationChangeMode":{"values":{"UNKNOWN":0,"LOAD":1,"GO_FORWARD":2,"GO_BACK":3,"POP_STATE":4,"HASH_CHANGED":5}}}}}},"ThumbnailDetail":{"fields":{"thumbnailUrl":{"type":"string","id":1},"decryptKey":{"type":"string","id":2},"cipherType":{"type":"CipherType","id":3},"nonce":{"type":"string","id":4}},"nested":{"CipherType":{"values":{"UNENCRYPTED":0,"AES_256_GCM":1,"AES_CBC":2,"SM4_128":3}}}},"FollowInfo":{"fields":{"userId":{"rule":"required","type":"string","id":1},"url":{"rule":"required","type":"string","id":2},"supportLevel":{"rule":"required","type":"int32","id":3},"options":{"type":"Options","id":4},"deviceId":{"type":"string","id":5},"lifeTime":{"type":"LifeTime","id":6},"loginToken":{"type":"string","id":7},"characteristics":{"rule":"repeated","type":"Characteristic","id":9,"options":{"packed":false}},"shareId":{"type":"string","id":10},"thumbnail":{"type":"ThumbnailDetail","id":11},"docToken":{"type":"string","id":12},"docType":{"type":"VcDocs.DocType","id":13},"docTitle":{"type":"string","id":14},"strategies":{"rule":"repeated","type":"FollowStrategy","id":15},"version":{"type":"int32","id":16},"shareType":{"type":"ShareType","id":17},"shareSubtype":{"type":"ShareSubType","id":18},"initSource":{"type":"InitSource","id":19},"userType":{"type":"ParticipantType","id":20},"rawUrl":{"type":"string","id":21},"subType":{"type":"SubType","id":22}},"reserved":[[8,8]],"nested":{"Options":{"fields":{"defaultFollow":{"type":"bool","id":1},"forceFollow":{"type":"bool","id":2}}},"LifeTime":{"values":{"UNKNOWN":0,"EPHEMERAL":1,"PERMANENT":2}},"Characteristic":{"values":{"SEND_HACKY_ACTION":1,"SEND_DOC_ACTION":2}},"ShareType":{"values":{"UNKNOWN_SHARE_TYPE":0,"CCM":1,"GOOGLE":2,"UNIVERSAL":3}},"ShareSubType":{"values":{"UNKNOWN_SHARE_SUBTYPE":0,"CCM_DOC":1,"CCM_SHEET":2,"CCM_MINDNOTE":3,"CCM_WORD":4,"CCM_EXCEL":5,"CCM_PPT":6,"CCM_PDF":7,"CCM_BITABLE":8,"CCM_DEMONSTRATION":9,"CCM_WIKI_DOC":10,"CCM_WIKI_SHEET":11,"CCM_WIKI_MINDNOTE":12,"CCM_DOCX":22,"GOOGLE_DOC":51,"GOOGLE_SHEET":52,"GOOGLE_SLIDE":53,"GOOGLE_WORD":54,"GOOGLE_EXCEL":55,"GOOGLE_PPT":56,"GOOGLE_PDF":57}},"InitSource":{"values":{"UNKNOWN_INIT_SOURCE":0,"INIT_DIRECTLY":1,"INIT_FROM_LINK":2,"INIT_REACTIVATED":3,"INIT_SAME_PAGE_MEETING":4}},"SubType":{"values":{"DEFAULT_SUBTYPE":0,"SAME_PAGE_MEETING":1}}}},"ShareFollowRequest":{"fields":{"meetingId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=meeting"}},"action":{"rule":"required","type":"Action","id":2},"url":{"rule":"required","type":"string","id":3},"options":{"type":"FollowInfo.Options","id":4},"initialActions":{"rule":"repeated","type":"FollowAction","id":5},"lifeTime":{"type":"FollowInfo.LifeTime","id":6},"loginToken":{"type":"string","id":7},"transPresenterData":{"type":"TransPresenterData","id":8},"authorityMask":{"type":"int32","id":9},"initSource":{"type":"FollowInfo.InitSource","id":10},"takeOver":{"type":"TakeOverData","id":11},"reactivateData":{"type":"ReactivateData","id":12},"breakoutMeetingId":{"type":"string","id":21},"associateType":{"type":"videochat.FollowAssociateType","id":22}},"nested":{"Action":{"values":{"UNKNOWN":0,"START":1,"STOP":2,"UPDATE_OPTIONS":3,"TRANS_PRESENTER":4,"TAKE_OVER":5,"REACTIVATE":6}},"AuthorityMask":{"values":{"GRANT_INTERNAL_READ":1,"GRANT_INTERNAL_EDIT":2,"GRANT_EXTERNAL_READ":16,"GRANT_EXTERNAL_EDIT":32,"GRANT_EXTERNAL_COMMENT":64}},"TransPresenterData":{"fields":{"newPresenter":{"rule":"required","type":"ByteviewUser","id":1}}},"TakeOverData":{"fields":{"shareId":{"rule":"required","type":"string","id":1}}},"ReactivateData":{"fields":{"shareId":{"rule":"required","type":"string","id":1}}}}},"ShareFollowResponse":{"fields":{"followInfo":{"type":"FollowInfo","id":1},"openInBrowser":{"type":"bool","id":2}}},"SyncFollowActionRequest":{"fields":{"meetingId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=meeting"}},"followActions":{"rule":"repeated","type":"FollowAction","id":2}}},"SyncFollowActionResponse":{"fields":{}},"RequestFollowTokenRequest":{"fields":{"meetingId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=meeting"}},"url":{"rule":"required","type":"string","id":2},"roomId":{"rule":"required","type":"string","id":3},"breakoutMeetingId":{"type":"string","id":21},"associateType":{"type":"videochat.FollowAssociateType","id":22}}},"RequestFollowTokenResponse":{"fields":{}},"GrantFollowTokenRequest":{"fields":{"meetingId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=meeting"}},"url":{"rule":"required","type":"string","id":2},"token":{"rule":"required","type":"string","id":3},"timestampMs":{"rule":"required","type":"int64","id":4},"breakoutMeetingId":{"type":"string","id":21},"associateType":{"type":"videochat.FollowAssociateType","id":22}}},"GrantFollowTokenResponse":{"fields":{}},"RequestFollowPermRequest":{"fields":{"meetingId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=meeting"}},"url":{"rule":"required","type":"string","id":2},"externalAccess":{"type":"bool","id":3},"breakoutMeetingId":{"type":"string","id":21},"associateType":{"type":"videochat.FollowAssociateType","id":22}}},"RequestFollowPermResponse":{"fields":{}},"ReplyFollowNoticeRequest":{"fields":{"meetingId":{"type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=meeting"}},"messageId":{"type":"string","id":2},"action":{"type":"Action","id":3},"breakoutMeetingId":{"type":"string","id":21},"associateType":{"type":"videochat.FollowAssociateType","id":22}},"nested":{"Action":{"values":{"UNKNOWN_ACTION":0,"Approve":1,"REJECT":2}}}},"ReplyFollowNoticeResponse":{"fields":{}},"QueryMeetingJoinableRequest":{"fields":{"meetingId":{"type":"string","id":1},"meetingNo":{"type":"string","id":2},"calendarUniqueId":{"type":"string","id":3}}},"QueryMeetingJoinableResponse":{"fields":{"isJoinable":{"rule":"required","type":"bool","id":1},"reason":{"type":"Reason","id":2}},"nested":{"Reason":{"values":{"UNKNOWN":0,"LOCKED":1}}}},"ClientExtraAction":{"values":{"UNKNOWN_ACTION":0,"START_SHARE_SCREEN":1}},"JoinMeetingLobby":{"fields":{"isJoinMeetingLobby":{"type":"bool","id":1},"lobbyParticipant":{"type":"VCLobbyParticipant","id":2},"isJoinPreLobby":{"type":"bool","id":3},"preLobbyParticipant":{"type":"VCPreLobbyParticipant","id":4}}},"JoinMeetingRequest":{"fields":{"joinType":{"rule":"required","type":"JoinType","id":1},"invitee":{"rule":"required","type":"Invitee","id":2},"handle":{"rule":"required","type":"Handle","id":3},"selfParticipantInfo":{"rule":"required","type":"SelfParticipantInfo","id":4},"creationMetaData":{"type":"CreationMetaData","id":5},"additionalBehavior":{"type":"AdditionalBehavior","id":6}},"nested":{"JoinType":{"values":{"CREATE_VC_VIA_ROOM_DEVICE":0,"CREATE_VC":1,"CREATE_VC_VIA_DOCS":7,"JOIN_VC_VIA_MEETING_ID":2,"JOIN_VC_VIA_GROUP_ID":3,"JOIN_VC_VIA_UNIQUE_ID":4,"JOIN_VC_VIA_MEETING_NUMBER":5,"JOIN_CHAT_ROOM":8,"JOIN_VC_CREATE_ONLY":9,"JOIN_VC_VIA_RESERVE_ID":10},"reserved":[[6,6]]},"Invitee":{"fields":{"inviteeUserIds":{"rule":"repeated","type":"string","id":1},"inviteeRoomIds":{"rule":"repeated","type":"string","id":2}},"reserved":[[3,3]]},"Handle":{"fields":{"meetingId":{"type":"string","id":1},"meetingNo":{"type":"string","id":2},"groupId":{"type":"string","id":3},"uniqueId":{"type":"string","id":4},"docsUrl":{"type":"string","id":7}},"reserved":[[5,5],[6,6]]},"CreationMetaData":{"fields":{"type":{"type":"VideoChatInfo.Type","id":1},"topic":{"type":"string","id":2},"actionTime":{"type":"ActionTime","id":3},"meetingSettings":{"type":"VideoChatSettings","id":4}},"reserved":[[5,5],[6,6],[7,7]]},"SelfParticipantInfo":{"fields":{"participantType":{"rule":"required","type":"ParticipantType","id":1},"participantSettings":{"type":"ParticipantSettings","id":2}}},"AdditionalBehavior":{"fields":{"autoRecreateIfMeetingEnded":{"type":"bool","id":1,"options":{"default":false}},"force":{"type":"bool","id":2,"options":{"default":false}},"share":{"type":"bool","id":3,"options":{"default":false}},"startFollowImmediately":{"type":"bool","id":4,"options":{"default":false}}}}}},"JoinMeetingResponse":{"fields":{"type":{"type":"Type","id":1},"videoChatInfo":{"type":"VideoChatInfo","id":2},"extraActions":{"rule":"repeated","type":"ClientExtraAction","id":3,"options":{"packed":false}},"joinMeetingLobby":{"type":"JoinMeetingLobby","id":4}},"nested":{"Type":{"values":{"UNKNOWN":0,"SUCCESS":1,"VC_BUSY":2,"VOIP_BUSY":3,"PARTICIPANT_LIMIT_EXCEED":4,"MEETING_ENDED":5,"MEETING_OUT_OF_DATE":6,"MEETING_NEED_EXTENSION":7,"VERSION_LOW":8,"MEETING_NUMBER_INVALID":9,"DEVICE_RINGING":10,"MEETING_LOCKED":11,"CHAT_POST_NO_PERMISSION":12,"TENANT_IN_BLACKLIST":13,"MEETING_NUMBER_NOT_CERTIFICATED":14,"VERSION_INCOMPATIBLE":15}}}},"GetAssociatedVideoChatRequest":{"fields":{"id":{"type":"string","id":1},"idType":{"type":"IDType","id":2},"isNeedTopic":{"type":"bool","id":3}}},"GetAssociatedVideoChatResponse":{"fields":{"videoChatInfo":{"rule":"repeated","type":"VideoChatInfo","id":1},"uniqueId":{"type":"string","id":2},"interviewTopic":{"type":"string","id":3},"topic":{"type":"string","id":4}}},"VCMeetingAbbrInfo":{"fields":{"meetingId":{"rule":"required","type":"string","id":1},"topic":{"type":"string","id":2},"startTime":{"type":"int64","id":3},"endTime":{"type":"int64","id":4},"hostUser":{"type":"ByteviewUser","id":5},"meetingSource":{"type":"VideoChatInfo.MeetingSource","id":6},"vcType":{"type":"VideoChatInfo.Type","id":7},"meetingStatus":{"type":"MeetingStatus","id":8},"meetingNo":{"type":"string","id":9},"participants":{"rule":"repeated","type":"VCParticipantAbbrInfo","id":10},"userAction":{"type":"UserAction","id":11},"updateTime":{"type":"int64","id":12},"followStatus":{"type":"FollowStatus","id":13},"isNeedRefresh":{"type":"bool","id":14},"groupId":{"type":"string","id":15},"sortTime":{"type":"int64","id":16},"userId2action":{"keyType":"int64","type":"UserAction","id":17},"isFull":{"type":"bool","id":18},"isLocked":{"type":"bool","id":19},"isLive":{"type":"bool","id":20},"isRecording":{"type":"bool","id":21},"seqId":{"type":"int64","id":22},"sponsorUser":{"type":"ByteviewUser","id":23},"isTopicModified":{"type":"bool","id":24},"subType":{"type":"VideoChatSettings.SubType","id":25},"i18nDefaultTopic":{"type":"entities.VideoChatI18nDefaultTopic","id":26},"isOpenLobby":{"type":"bool","id":27}},"nested":{"UserAction":{"values":{"ACTION_UNKNOWN":0,"USER_LEAVE":1,"USER_NOTACCEPT":2,"USER_REFUSE":3,"USER_CANCEL":4,"USER_NO_ANSWER":5}},"MeetingStatus":{"values":{"MEETING_UNKNOWN":0,"MEETING_CALLING":1,"MEETING_ON_THE_CALL":2,"MEETING_END":3}},"FollowStatus":{"fields":{"docToken":{"type":"string","id":1},"docType":{"type":"VcDocs.DocType","id":2}}}}},"VCParticipantAbbrInfo":{"fields":{"user":{"rule":"required","type":"ByteviewUser","id":1},"status":{"rule":"required","type":"Participant.Status","id":2},"deviceType":{"type":"Participant.DeviceType","id":3},"joinTimeMs":{"type":"int64","id":4},"isLarkGuest":{"type":"bool","id":6},"tenantIdStr":{"type":"string","id":7},"seqId":{"type":"int64","id":22},"offlineReason":{"type":"Participant.OfflineReason","id":8},"bindId":{"type":"string","id":9},"bindType":{"type":"PSTNInfo.BindType","id":10}},"reserved":[[5,5]]},"GetAssociatedVideoChatStatusRequest":{"fields":{"id":{"type":"string","id":1},"idType":{"type":"IDType","id":2},"isCompareRequest":{"type":"bool","id":21},"seqId":{"type":"int64","id":22}}},"GetAssociatedVideoChatStatusResponse":{"fields":{"id":{"type":"string","id":1},"idType":{"type":"IDType","id":2},"activeMeetingIds":{"rule":"repeated","type":"string","id":3},"hasActiveMeeting":{"type":"bool","id":4},"meetingInfo":{"type":"VCMeetingAbbrInfo","id":5},"hasActiveChatRoom":{"type":"bool","id":6},"chatRoomInfo":{"type":"VCMeetingAbbrInfo","id":7},"seqId":{"type":"int64","id":8},"pushSid":{"type":"string","id":9}}},"AssociatedVideoChatStatus":{"fields":{"status":{"rule":"repeated","type":"GetAssociatedVideoChatStatusResponse","id":1}}},"PullSubtitlesRequest":{"fields":{"meetingId":{"rule":"required","type":"string","id":1},"language":{"rule":"required","type":"string","id":2},"targetSegId":{"type":"int64","id":3},"count":{"type":"int64","id":4,"options":{"default":10}},"isForward":{"type":"bool","id":5,"options":{"default":false}}}},"PullSubtitlesResponse":{"fields":{"subtitles":{"rule":"repeated","type":"MeetingSubtitleData","id":1},"nextTargetSegId":{"type":"int64","id":2},"hasMore":{"type":"bool","id":3}}},"RecordMeetingRequest":{"fields":{"meetingId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=meeting"}},"action":{"rule":"required","type":"Action","id":2},"timeZone":{"type":"string","id":3},"requestParticipant":{"type":"ByteviewUser","id":4},"requester":{"type":"ByteviewUser","id":5}},"nested":{"Action":{"values":{"UNKNOWN":0,"START":1,"STOP":2,"HOST_ACCEPT":3,"HOST_REFUSE":4,"PARTICIPANT_REQUEST_START":5,"PARTICIPANT_CONSENT_LEAVE":6,"PARTICIPANT_CONSENT_STAY":7}}}},"RecordMeetingResponse":{"fields":{}},"GetChattersWithCIOrderRequest":{"fields":{"meetingId":{"type":"string","id":1},"indexBegin":{"type":"int64","id":2},"indexEnd":{"type":"int64","id":3}}},"GetChattersWithCIOrderResponse":{"fields":{"chatterIds":{"rule":"repeated","type":"int64","id":1,"options":{"packed":false}}}},"SearchViewParticipantsRequest":{"fields":{"query":{"rule":"required","type":"string","id":1},"count":{"rule":"required","type":"int32","id":2,"options":{"default":50}},"searchType":{"rule":"required","type":"SearchType","id":3},"priorityType":{"rule":"required","type":"ParticipantType","id":4}},"nested":{"SearchType":{"values":{"UNKNOWN":0,"ALL":1,"ONLY_LARK":2,"ONLY_ROOM":3}}}},"SearchViewParticipantsResponse":{"fields":{"users":{"rule":"repeated","type":"SearchResult","id":1}},"nested":{"ParticipantSearchStatus":{"values":{"UNKNOWN":0,"IDLE":1,"BUSY":2,"IN_MEETING":3,"INVITING":4,"IN_LOBBY":5}},"SearchResult":{"fields":{"userType":{"rule":"required","type":"ParticipantType","id":1},"participantId":{"rule":"required","type":"string","id":2},"status":{"rule":"required","type":"ParticipantSearchStatus","id":3},"name":{"type":"string","id":4},"avatarKey":{"type":"string","id":5},"nameHitTerms":{"rule":"repeated","type":"string","id":6},"avatarImage":{"type":"entities.Image","id":7},"larkUserInfo":{"type":"LarkUserInfo","id":11},"roomInfo":{"type":"RoomInfo","id":12}}},"LarkUserInfo":{"fields":{"department":{"type":"string","id":1},"workStatus":{"type":"UserWorkStatusType","id":2},"crossTenant":{"type":"bool","id":3},"versionSupport":{"type":"bool","id":4},"executiveMode":{"type":"bool","id":5},"donotDisturbBeforeMs":{"type":"int64","id":6},"collaborationType":{"type":"CollaborationType","id":7},"customStatuses":{"rule":"repeated","type":"entities.ChatterCustomStatus","id":8}},"reserved":[[9,9]],"nested":{"UserWorkStatusType":{"values":{"ON_DEFAULT":0,"ON_BUSINESS":1,"ON_LEAVE":2,"ON_MEETING":3}},"CollaborationType":{"values":{"DEFAULT":0,"BLOCKED":1,"REQUEST_NEEDED":2,"EXECUTIVE_MODE":3,"BE_BLOCKED":4}}}},"RoomInfo":{"fields":{"capacity":{"rule":"required","type":"int32","id":1},"location":{"type":"Location","id":2},"fullName":{"type":"string","id":3},"fullNameParticipant":{"type":"string","id":4},"fullNameSite":{"type":"string","id":5},"primaryNameParticipant":{"type":"string","id":6},"primaryNameSite":{"type":"string","id":7},"secondaryName":{"type":"string","id":8}},"nested":{"Location":{"fields":{"floorName":{"type":"string","id":1},"buildingName":{"type":"string","id":2}}}}}}},"VcQueryDocsRequest":{"fields":{"query":{"type":"string","id":1},"limit":{"type":"int32","id":2},"offset":{"type":"int32","id":3},"queryTypes":{"rule":"repeated","type":"entities.DocType","id":4,"options":{"packed":false}},"opts":{"type":"QueryOpts","id":5},"querySubtypes":{"rule":"repeated","type":"VcDocs.DocSubType","id":6,"options":{"packed":false}},"source":{"type":"QuerySource","id":7}},"nested":{"QueryOpts":{"fields":{"meetingSpaceId":{"type":"string","id":1},"withThumbnail":{"type":"bool","id":2},"onlySupportMs":{"type":"bool","id":3}}},"QuerySource":{"values":{"UNKNOWN":0,"ALL_PAGE":1,"MAGIC_SHARE_PAGE":2,"SEARCH_LIST_PAGE":3}}}},"VcDocs":{"fields":{"docToken":{"rule":"required","type":"string","id":1},"docUrl":{"type":"string","id":2},"docType":{"type":"DocType","id":3},"docTitle":{"type":"string","id":4},"isCrossTenant":{"type":"bool","id":5},"ownerName":{"type":"string","id":6},"ownerId":{"type":"string","id":7},"status":{"type":"ShareStatus","id":8},"docTitleHighlight":{"type":"string","id":9},"createTime":{"type":"string","id":10},"updateTime":{"type":"string","id":11},"abstract":{"type":"string","id":12},"editUserId":{"type":"string","id":13},"docSubType":{"type":"DocSubType","id":14},"inMeetingSpace":{"type":"bool","id":15},"thumbnail":{"type":"ThumbnailDetail","id":16},"docLabelUrl":{"type":"string","id":17},"containerType":{"type":"ContainerType","id":18}},"nested":{"ShareStatus":{"values":{"UNKNOWN":0,"FULLY_SHARE":1,"PARTIAL_SHARE":2,"NO_SHARE_PERMISSION":3,"NO_SUPPORT_SHARE":4}},"DocType":{"values":{"UNKNOWN_DOC_TYPE":0,"DOC":1,"SHEET":2,"BITABLE":3,"MINDNOTE":4,"FILE":5,"SLIDE":6,"FOLDER":7,"DUSTBIN":8,"PERSONAL_FOLDER":9,"SHAREWITHME_FOLDER":10,"SHARE_FOLDER":11,"LINK":12,"DEMONSTRATION":13,"WIKI":14,"DOCX":15}},"DocSubType":{"values":{"UNKNOWN_DOC_SUBTYPE":0,"PHOTO":1,"PDF":2,"TXT":3,"WORD":4,"EXCEL":5,"PPT":6,"VIDEO":7,"AUDIO":8,"ZIP":9,"PSD":10,"APK":11,"SKETCH":12,"AE":13,"KEYNOTE":14}},"ContainerType":{"values":{"SPACE":0,"WIKI2":1}}}},"VcQueryDocsResponse":{"fields":{"docs":{"rule":"repeated","type":"VcDocs","id":1},"hasMore":{"rule":"required","type":"bool","id":2},"total":{"rule":"required","type":"int32","id":3},"offset":{"type":"int32","id":4}}},"JoinMeetingPreCheckRequest":{"fields":{"id":{"type":"string","id":1},"idType":{"type":"JoinMeetingCheckIDType","id":2},"isNeedAssociatedVcInfo":{"type":"bool","id":3},"interviewRole":{"type":"ParticipantRole","id":4}},"nested":{"JoinMeetingCheckIDType":{"values":{"UNKNOWN":0,"MEETINGID":1,"UNIQUEID":2,"GROUPID":3,"MEETINGNO":4,"INTERVIEWUID":5,"CALL_TARGET_USER":6,"RESERVATION_ID":7}}}},"JoinMeetingPreCheckResponse":{"fields":{"checkType":{"type":"JoinMeetingCheckType","id":1},"associatedVcInfo":{"type":"AssociatedVideoChatInfo","id":2},"vendorType":{"type":"VideoChatInfo.VendorType","id":3},"sponsorTenantId":{"type":"string","id":4}},"nested":{"JoinMeetingCheckType":{"values":{"UNKNOEN":0,"SUCCESS":1,"MEETING_ENDED":2,"PARTICIPANT_LIMIT_EXCEED":3,"MEETING_LOCKED":4,"MEETING_NUMBER_INVALID":5,"VOIP_BUSY":6,"VERSION_LOW":7,"DEVICE_IN_MEETING":8,"DEVICE_RINGING":9,"CHAT_POST_NO_PERMISSION":10,"TENANT_IN_BLACKLIST":11,"CALENDAR_OUT_OF_DATE":12,"INTERVIEW_NO_PERMISSION":13,"INTERVIEW_OUT_OF_DATE":14,"COLLABORATION_BLOCKED":16,"COLLABORATION_NO_RIGHTS":17,"COLLABORATION_BE_BLOCKED":18,"RESERVATION_OUT_OF_DATE":19},"reserved":[[15,15]]},"AssociatedVideoChatInfo":{"fields":{"vcInfos":{"rule":"repeated","type":"VideoChatInfo","id":1},"uniqueId":{"type":"string","id":2}}}}},"SubmitFeedbacksRequest":{"fields":{"meetingId":{"rule":"required","type":"string","id":1},"roomId":{"rule":"required","type":"string","id":2},"quality":{"rule":"required","type":"Quality","id":3},"avKeys":{"rule":"repeated","type":"string","id":4},"shareContentKeys":{"rule":"repeated","type":"string","id":5}},"nested":{"Quality":{"values":{"Unknown":0,"Good":1,"Bad":2}}}},"SubmitFeedbacksResponse":{"fields":{}},"CheckInterviewMeetingSpaceRequest":{"fields":{"id":{"rule":"required","type":"string","id":1},"idType":{"type":"IDType","id":2,"options":{"default":"INTERVIEW_UID"}}},"nested":{"IDType":{"values":{"UNKNOWN":0,"INTERVIEW_UID":1,"MEETING_ID":2,"MEETING_SPACE_ID":3}}}},"CheckInterviewMeetingSpaceResponse":{"fields":{"hasPermission":{"type":"bool","id":1},"url":{"type":"string","id":2}}},"VideoChatUpgradePlanNoticeRequest":{"fields":{"meetingId":{"type":"string","id":1}}},"VideoChatUpgradePlanNoticeResponse":{"fields":{}},"VideoChatPrompt":{"fields":{"type":{"rule":"required","type":"Type","id":1},"action":{"rule":"required","type":"Action","id":2},"promptId":{"rule":"required","type":"string","id":3},"calendarStartPrompt":{"type":"CalendarMeetingStartPrompt","id":4},"pushSid":{"type":"string","id":5}},"nested":{"Type":{"values":{"UNKNOWN_TYPE":0,"CALENDAR_START":1}},"Action":{"values":{"UNKNOWN_ACTION":0,"SHOW":1,"DISMISS":2}},"CalendarMeetingStartPrompt":{"fields":{"uniqueId":{"type":"string","id":2},"eventStartTime":{"type":"int64","id":3},"eventTitle":{"type":"string","id":4},"startUser":{"type":"ByteviewUser","id":5},"meetingId":{"type":"string","id":6},"promptCreateTime":{"type":"int64","id":7},"subType":{"type":"VideoChatSettings.SubType","id":8}}}}},"ReplyVideoChatPromptRequest":{"fields":{"action":{"rule":"required","type":"Action","id":1},"type":{"rule":"required","type":"VideoChatPrompt.Type","id":2},"promptId":{"rule":"required","type":"string","id":3}},"nested":{"Action":{"values":{"CANCEL":0,"CONFIRM":1}}}},"ReplyVideoChatPromptResponse":{"fields":{}},"SearchUsersAndChatsRequest":{"fields":{"query":{"type":"string","id":1},"offset":{"type":"int32","id":2,"options":{"default":0}},"count":{"type":"int32","id":3,"options":{"default":50}},"needQueryOuterTanant":{"type":"bool","id":4,"options":{"default":true}},"localeIdentifier":{"type":"I18nLocal","id":5,"options":{"default":"ZH_CN"}},"queryType":{"type":"QueryType","id":6}},"nested":{"I18nLocal":{"values":{"ZH_CN":0,"EN_US":1,"JA_JP":2}},"QueryType":{"values":{"UNKNOWN":0,"SEARCH_FOR_SHARE_CARD":1}}}},"CollaborationType":{"values":{"DEFAULT":0,"BLOCKED":1,"REQUEST_NEEDED":2,"EXECUTIVE_MODE":3,"BE_BLOCKED":4}},"SearchUsersAndChatsResponse":{"fields":{"items":{"rule":"repeated","type":"UserAndCardItem","id":1},"hasMore":{"type":"bool","id":2},"totalCount":{"type":"int64","id":3},"searchKey":{"type":"string","id":4}},"nested":{"IDType":{"values":{"USER":0,"CHAT":1,"ROOM":2}},"UserWorkStatusType":{"values":{"ON_DEFAULT":0,"ON_BUSINESS":1,"ON_LEAVE":2,"ON_MEETING":3}},"UserInfo":{"fields":{"descriptionFlag":{"type":"UserWorkStatusType","id":1},"zenModeEndTime":{"type":"int64","id":2},"hasPermission":{"type":"bool","id":3},"collaborationType":{"type":"CollaborationType","id":4},"customStatuses":{"rule":"repeated","type":"entities.ChatterCustomStatus","id":5}},"reserved":[[6,6]]},"ChatInfo":{"fields":{"memberCount":{"type":"int64","id":1}}},"RoomInfo":{"fields":{}},"UserAndCardItem":{"fields":{"id":{"type":"string","id":1},"idType":{"type":"IDType","id":2},"name":{"type":"string","id":3},"imageKey":{"type":"string","id":4},"desc":{"type":"string","id":5},"hitTerms":{"rule":"repeated","type":"string","id":6},"isExternal":{"type":"bool","id":7},"subtitleHitTerms":{"rule":"repeated","type":"string","id":8},"userInfo":{"type":"UserInfo","id":9},"chatInfo":{"type":"ChatInfo","id":10},"avatarImage":{"type":"entities.Image","id":11},"roomInfo":{"type":"RoomInfo","id":12}}}}},"UpdateShareScreenSettingsRequest":{"fields":{"meetingId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=meeting"}},"shareScreenId":{"rule":"required","type":"string","id":2},"version":{"rule":"required","type":"int32","id":3},"width":{"type":"int32","id":10},"height":{"type":"int32","id":11},"accessibility":{"type":"bool","id":12},"brush":{"type":"InMeetingData.ScreenSharedData.BrushType","id":13},"isSmoothMode":{"type":"bool","id":14},"isPortraitMode":{"type":"bool","id":15},"canSketch":{"type":"bool","id":16},"breakoutMeetingId":{"type":"string","id":21},"associateType":{"type":"FollowAssociateType","id":22}}},"UpdateShareScreenSettingsResponse":{"fields":{}},"UpdateRemoteControlSettingsRequest":{"fields":{"meetingId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=meeting"}},"shareScreenId":{"rule":"required","type":"string","id":2},"remoteControlId":{"rule":"required","type":"string","id":3},"controllerSetting":{"type":"InMeetingData.ScreenSharedData.RemoteControlData.ControllerSetting","id":4},"breakoutMeetingId":{"type":"string","id":21},"associateType":{"type":"FollowAssociateType","id":22}}},"UpdateRemoteControlSettingsResponse":{"fields":{}},"RemoteControlRequest":{"fields":{"action":{"rule":"required","type":"Action","id":1},"meetingId":{"rule":"required","type":"string","id":2},"shareScreenId":{"rule":"required","type":"string","id":3,"options":{"(fieldinfo.FieldInfo)":"split,type=vc_share_screen"}},"remoteControlId":{"type":"string","id":4},"controller":{"type":"ByteviewUser","id":5},"breakoutMeetingId":{"type":"string","id":21},"associateType":{"type":"FollowAssociateType","id":22}},"nested":{"Action":{"values":{"UNKNOWN":0,"INVITE":1,"REJECT":2,"CANCEL":3,"APPLY":4}}}},"RemoteControlResponse":{"fields":{"remoteControlData":{"type":"InMeetingData.ScreenSharedData.RemoteControlData","id":1}}},"ApplyByteviewAccessibilityRequest":{"fields":{"meetingId":{"type":"string","id":1},"shareScreenId":{"type":"string","id":2,"options":{"(fieldinfo.FieldInfo)":"split,type=vc_share_screen"}},"breakoutMeetingId":{"type":"string","id":21},"associateType":{"type":"FollowAssociateType","id":22}}},"ApplyByteviewAccessibilityResponse":{"fields":{}},"VideoChatLiveActionRequest":{"fields":{"meetingId":{"rule":"required","type":"string","id":1},"action":{"rule":"required","type":"Action","id":2},"requester":{"type":"ByteviewUser","id":3},"voteId":{"type":"string","id":4},"privilege":{"type":"InMeetingData.LiveMeetingData.Privilege","id":5},"streamStatus":{"keyType":"string","type":"bool","id":6},"streamScope":{"type":"StreamScope","id":7},"layoutStyle":{"type":"InMeetingData.LiveMeetingData.LayoutStyle","id":8},"enableLiveComment":{"type":"bool","id":9}},"nested":{"Action":{"values":{"UNKNOWN":0,"START":1,"STOP":2,"HOST_ACCEPT":3,"HOST_REFUSE":4,"PARTICIPANT_REQUEST_START":5,"VOTE_ACCEPT":6,"VOTE_REFUSE":7,"LIVE_SETTING":8}},"StreamScope":{"values":{"UNKNOWN_SCOPE":0,"ALL":1,"ONLY_BIND":2,"ONLY_WEB":3}}}},"VideoChatLiveActionResponse":{"fields":{"errorSet":{"keyType":"string","type":"string","id":1},"needVerification":{"type":"bool","id":2}}},"VideoChatLiveExtraInfoRequest":{"fields":{"meetingId":{"rule":"required","type":"string","id":1},"requester":{"type":"ByteviewUser","id":2}}},"VideoChatLiveExtraInfoResponse":{"fields":{"onlineUsersCount":{"type":"int32","id":1}}},"VideoChatLivePreCheckRequest":{"fields":{"meetingId":{"type":"string","id":1},"meetingNumber":{"type":"string","id":2},"uniqueId":{"type":"string","id":3}}},"VideoChatLivePreCheckResponse":{"fields":{"showPrivacyPolicy":{"type":"bool","id":1}}},"LiveBindingData":{"fields":{"bindings":{"rule":"required","type":"BindingInfo","id":1}},"nested":{"BINDING_TYPE":{"values":{"UNKNOWN":0,"DOUYIN":1,"XIGUA":2,"FACEBOOK":3,"YOUTUBE":4,"TIKTOK":5,"TIKTOK_WEB":6,"TIKTOK_APP":7,"NEO_DOUYIN_WEB":8,"NEO_DOUYIN_APP":9,"THD_PARTY":10,"THD_PARTY_FACEBOOK":11,"THD_PARTY_YOUTUBE":12}},"LiveAccountData":{"fields":{"bindingType":{"rule":"required","type":"BINDING_TYPE","id":1},"bindingId":{"rule":"required","type":"string","id":2},"accountId":{"type":"string","id":3},"nickName":{"type":"string","id":4},"isLiving":{"type":"bool","id":5},"livingMeetingId":{"type":"string","id":6},"livingDeviceId":{"type":"string","id":7},"openId":{"type":"string","id":8}}},"LiveStreamData":{"fields":{"bindingType":{"rule":"required","type":"BINDING_TYPE","id":1},"bindingId":{"rule":"required","type":"string","id":2},"bindingName":{"rule":"required","type":"string","id":3},"url":{"type":"string","id":4},"token":{"type":"string","id":5},"isLiving":{"type":"bool","id":6},"livingMeetingId":{"type":"string","id":7},"livingDeviceId":{"type":"string","id":8}}},"BindingInfo":{"fields":{"accountBindings":{"keyType":"string","type":"LiveAccountData","id":1},"streamBindings":{"keyType":"string","type":"LiveStreamData","id":2}}}}},"VideoChatBindingInfoRequest":{"fields":{"userId":{"rule":"required","type":"string","id":1},"meetingId":{"type":"string","id":2}}},"VideoChatBindingInfoResponse":{"fields":{"bindingInfo":{"rule":"required","type":"LiveBindingData","id":1}}},"VideoChatStreamBindingRequest":{"fields":{"bindingType":{"rule":"required","type":"LiveBindingData.BINDING_TYPE","id":1},"bindAction":{"rule":"required","type":"BINDING_ACTION","id":2},"bindingId":{"type":"string","id":3},"userId":{"type":"string","id":4},"bindingName":{"type":"string","id":5},"url":{"type":"string","id":6},"token":{"type":"string","id":7},"desc":{"type":"string","id":8},"meetingId":{"type":"string","id":9},"authCode":{"type":"string","id":10}},"nested":{"BINDING_ACTION":{"values":{"UNKNOWN":0,"INIT":1,"BIND":2,"UNBIND":3}}}},"VideoChatStreamBindingResponse":{"fields":{"bindingId":{"type":"string","id":1},"bindingInfo":{"type":"LiveBindingData","id":2}}},"MegaI18n":{"fields":{"key":{"rule":"required","type":"string","id":1},"data":{"keyType":"string","type":"i18nData","id":2}},"nested":{"i18nData":{"fields":{"type":{"rule":"required","type":"Type","id":1},"payload":{"type":"string","id":2}},"nested":{"Type":{"values":{"UNKNOWN":0,"STRING":1,"LINK":2,"CLICK":3,"EM":4}}}}}},"VideoChatFetchLivePolicyRequest":{"fields":{}},"VideoChatFetchLivePolicyResponse":{"fields":{"data":{"rule":"required","type":"MegaI18n","id":1},"PolicyWithSetting":{"type":"MegaI18n","id":2},"PolicyWithoutSetting":{"type":"MegaI18n","id":3},"PolicyOverseaWithSettingForCall":{"type":"MegaI18n","id":4},"PolicyOverseaWithoutSettingForCall":{"type":"MegaI18n","id":5},"PolicyOverseaWithSettingForMeeting":{"type":"MegaI18n","id":6},"PolicyOverseaWithoutSettingForMeeting":{"type":"MegaI18n","id":7},"PolicyOverseaForCallPC":{"type":"MegaI18n","id":8},"PolicyOverseaForMeetingPC":{"type":"MegaI18n","id":9},"PolicyOverseaForStartVoting":{"type":"MegaI18n","id":10},"PolicyOverseaForFollowAndStartVoting":{"type":"MegaI18n","id":11},"PolicyOverseaForVotingPopup":{"type":"MegaI18n","id":12},"PolicyOverseaForParticipantRequestPC":{"type":"MegaI18n","id":13},"PolicyOverseaForParticipantRequestMobile":{"type":"MegaI18n","id":14},"PolicyOverseaForFollowAndParticipantRequestPC":{"type":"MegaI18n","id":15},"PolicyOverseaForFollowAndParticipantRequestMobile":{"type":"MegaI18n","id":16},"PolicyOverseaForJoinLiveMeeting":{"type":"MegaI18n","id":17},"ThirdPlatformStreamGuide":{"type":"MegaI18n","id":18},"ThirdPlatformStreamLegalTips":{"type":"MegaI18n","id":19},"CertificationPopup":{"type":"MegaI18n","id":20},"CertificationCheckbox":{"type":"MegaI18n","id":21}}},"AdjustMeetingDurationRequest":{"fields":{"meetingId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=meeting"}}}},"AdjustMeetingDurationResponse":{"fields":{"meetingStartTime":{"rule":"required","type":"int64","id":1},"requestBeginTime":{"rule":"required","type":"int64","id":2},"requestEndTime":{"rule":"required","type":"int64","id":3},"meetingDuration":{"type":"int64","id":4}}},"PSTNPhone":{"fields":{"country":{"rule":"required","type":"string","id":1},"type":{"rule":"required","type":"Type","id":2},"number":{"rule":"required","type":"string","id":3},"numberDisplay":{"type":"string","id":4}},"nested":{"Type":{"values":{"UNKNOWN":0,"FREE":1,"CHARGE":2}}}},"MeetingBackground":{"fields":{"type":{"rule":"required","type":"Type","id":1},"name":{"rule":"required","type":"string","id":2},"url":{"rule":"required","type":"string","id":3}},"nested":{"Type":{"values":{"UNKNOWN":0,"IMAGE":1,"VIDEO":2}}}},"GetAdminSettingsRequest":{"fields":{"tenantId":{"type":"int64","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=tenant"}},"tenantIdStr":{"type":"string","id":2}}},"GetAdminSettingsResponse":{"fields":{"enableRecord":{"type":"bool","id":1},"enableSubtitle":{"type":"bool","id":2},"recordNeedApprove":{"type":"bool","id":3},"pstnEnableOutgoingCall":{"type":"bool","id":4},"pstnHidePhoneNumber":{"type":"bool","id":5},"pstnEnableIncomingCall":{"type":"bool","id":6},"pstnIncomingCallCountryDefault":{"rule":"repeated","type":"string","id":7},"pstnIncomingCallPhoneList":{"rule":"repeated","type":"PSTNPhone","id":8},"pstnOutgoingCallCountryDefault":{"rule":"repeated","type":"string","id":9},"pstnOutgoingCallCountryList":{"rule":"repeated","type":"string","id":10},"pstnJoinMeetingPrompt":{"type":"bool","id":11},"sipNeedEncrypt":{"type":"bool","id":12},"sipPromptLanguage":{"type":"string","id":13},"sipRecordNeedApprove":{"type":"bool","id":14},"sipLiveNeedApprove":{"type":"bool","id":15},"sipEnableDualStream":{"type":"bool","id":16},"sipEnableIm":{"type":"bool","id":17},"sipEnableEnterLeavePrompt":{"type":"bool","id":18},"sipEnableShowName":{"type":"bool","id":19},"sipDefaultLayout":{"type":"int32","id":20},"sipVideoLoopInterval":{"type":"int32","id":21},"sipEnableFecc":{"type":"bool","id":22},"enableMeetingBackground":{"type":"bool","id":23},"enableCustomMeetingBackground":{"type":"bool","id":24},"meetingBackgroundList":{"rule":"repeated","type":"MeetingBackground","id":25},"enableVirtualAvatar":{"type":"bool","id":26},"rtcProxy":{"type":"RTCProxy","id":27},"enableSip":{"type":"bool","id":28},"canPersonalInstall":{"type":"bool","id":29},"enableCheckScreenShare":{"type":"bool","id":30}}},"UploadParticipantInfoRequest":{"fields":{"meetingId":{"rule":"required","type":"string","id":1},"networkType":{"type":"NetworkType","id":2}}},"UploadParticipantInfoResponse":{"fields":{}},"NetworkType":{"values":{"NetworkType_UNKNOWN":0,"NetworkType_WIRED":1,"NetworkType_WIRELESS":2,"NetworkType_2G":3,"NetworkType_3G":4,"NetworkType_4G":5,"NetworkType_5G":6,"NetworkType_CELLULAR":7}},"VideoChatGenericFeedbackRequest":{"fields":{"source":{"rule":"required","type":"FeedbackSource","id":1},"content":{"rule":"required","type":"string","id":2}},"nested":{"FeedbackSource":{"values":{"VC_LAB":0}}}},"VideoChatGenericFeedbackResponse":{"fields":{}},"SubmitNeoFeedbacksRequest":{"fields":{"network":{"type":"Network","id":1},"reason":{"rule":"repeated","type":"string","id":2},"rtcVersion":{"rule":"required","type":"string","id":3}},"nested":{"Network":{"values":{"OTHER":0,"DATA4G":1,"WIFI":2,"LAN":3,"DATA55":4}}}},"SubmitNeoFeedbacksResponse":{"fields":{"feedbackId":{"type":"string","id":1}}},"FollowStrategy":{"fields":{"id":{"rule":"required","type":"string","id":1},"resourceIds":{"rule":"repeated","type":"string","id":2},"resourceVersions":{"keyType":"string","type":"string","id":3},"useDeviceIdScope":{"type":"UseDeviceIdScope","id":4},"useUserCard":{"type":"bool","id":5},"settings":{"type":"string","id":6},"resourceInjectTiming":{"type":"ResourceInjectTiming","id":7},"keepOrder":{"type":"bool","id":8},"receivingDataWhenNotFollowing":{"type":"bool","id":9},"canBeReactivated":{"type":"bool","id":10},"androidResourceIds":{"rule":"repeated","type":"string","id":11},"iosResourceIds":{"rule":"repeated","type":"string","id":12}},"nested":{"UseDeviceIdScope":{"values":{"NONE":0,"ALL":1,"STATE":2,"PATCH":3}},"ResourceInjectTiming":{"values":{"UNKNOWN":0,"BEFORE_LOAD":1,"ON_LOAD":2,"DOM_READY":3}}}},"FollowResource":{"fields":{"id":{"rule":"required","type":"string","id":1},"version":{"rule":"required","type":"string","id":2},"type":{"type":"Type","id":3},"content":{"type":"string","id":4},"path":{"type":"string","id":5},"isEntry":{"type":"bool","id":6},"jsContext":{"type":"JsContext","id":7}},"nested":{"Type":{"values":{"UNKNOWN_TYPE":0,"JS_TYPE":1,"JSON_STRING_TYPE":2}},"JsContext":{"values":{"UNKNOWN_CONTEXT":0,"PREFER_PRELOAD_CONTEXT":1,"WEBVIEW_CONTEXT":2}}}},"FollowWebData":{"fields":{"id":{"rule":"required","type":"int64","id":1},"strategyId":{"rule":"required","type":"string","id":2},"payload":{"type":"string","id":3}},"nested":{"DomPayload":{"fields":{"doms":{"keyType":"string","type":"Dom","id":1}},"nested":{"Dom":{"fields":{"id":{"rule":"required","type":"string","id":1},"children":{"rule":"repeated","type":"string","id":2},"attributes":{"keyType":"string","type":"string","id":3},"data":{"keyType":"string","type":"string","id":4}}}}}}},"FollowDataType":{"values":{"FOLLOW_DATA_UNKNOWN":0,"FOLLOW_WEB_DATA":1}},"FollowPatch":{"fields":{"opType":{"rule":"required","type":"Type","id":1},"dataType":{"rule":"required","type":"FollowDataType","id":2},"sender":{"rule":"required","type":"string","id":3},"webData":{"type":"FollowWebData","id":10}},"nested":{"Type":{"values":{"UNKNOWN_PATCH_TYPE":0,"APPEND_TYPE":1}}}},"FollowState":{"fields":{"dataType":{"rule":"required","type":"FollowDataType","id":1},"sender":{"rule":"required","type":"string","id":2},"webData":{"type":"FollowWebData","id":10}}},"FollowGrootCellPayload":{"fields":{"type":{"rule":"required","type":"Type","id":1},"patches":{"rule":"repeated","type":"FollowPatch","id":2},"states":{"rule":"repeated","type":"FollowState","id":3}},"nested":{"Type":{"values":{"UNKNOWN":0,"PATCHES":1,"STATES":2}}}},"PullAllFollowStatesRequest":{"fields":{"shareId":{"rule":"required","type":"string","id":1},"meetingId":{"type":"string","id":2,"options":{"(fieldinfo.FieldInfo)":"split,type=meeting"}},"nextKey":{"type":"string","id":10},"breakoutMeetingId":{"type":"string","id":21},"associateType":{"type":"videochat.FollowAssociateType","id":22}}},"PullAllFollowStatesResponse":{"fields":{"states":{"rule":"repeated","type":"FollowState","id":1},"downVersion":{"rule":"required","type":"int32","id":2},"nextKey":{"type":"string","id":3}}},"GetFollowResourcesRequest":{"fields":{"localResources":{"keyType":"string","type":"string","id":1}}},"GetFollowResourcesResponse":{"fields":{"resources":{"keyType":"string","type":"FollowResource","id":1}}},"GetUrlBriefsRequest":{"fields":{"urls":{"rule":"repeated","type":"string","id":1},"opts":{"rule":"required","type":"Opts","id":2}},"nested":{"Opts":{"fields":{"getTitle":{"type":"bool","id":1},"getType":{"type":"bool","id":2},"getThumbnail":{"type":"bool","id":3}}}}},"UrlBrief":{"fields":{"url":{"rule":"required","type":"string","id":1},"isDirty":{"rule":"required","type":"bool","id":2},"title":{"type":"string","id":3},"type":{"type":"FollowInfo.ShareType","id":4},"subtype":{"type":"FollowInfo.ShareSubType","id":5},"thumbnail":{"type":"ThumbnailDetail","id":6},"openInBrowser":{"type":"bool","id":7}}},"GetUrlBriefsResponse":{"fields":{"urlBriefs":{"keyType":"string","type":"UrlBrief","id":1}}},"GoogleToken":{"fields":{"accessToken":{"rule":"required","type":"string","id":1},"refreshToken":{"rule":"required","type":"string","id":2},"scope":{"rule":"required","type":"string","id":3},"tokenType":{"rule":"required","type":"string","id":4},"expiryDate":{"rule":"required","type":"string","id":5},"platform":{"type":"string","id":6}}},"UploadGoogleTokenRequest":{"fields":{"token":{"rule":"required","type":"GoogleToken","id":1}}},"UploadGoogleTokenResponse":{"fields":{}},"GetGoogleTokenRequest":{"fields":{}},"GetGoogleTokenResponse":{"fields":{"token":{"type":"GoogleToken","id":1}}},"RevokeGoogleTokenRequest":{"fields":{}},"RevokeGoogleTokenResponse":{"fields":{}},"ExchangeGoogleTokenRequest":{"fields":{"code":{"rule":"required","type":"string","id":1},"scopes":{"rule":"repeated","type":"string","id":2}}},"ExchangeGoogleTokenResponse":{"fields":{"token":{"type":"GoogleToken","id":1}}},"ByteViewUserInfo":{"fields":{"user":{"rule":"required","type":"ByteviewUser","id":1},"fullName":{"rule":"required","type":"string","id":2},"displayName":{"type":"string","id":3},"avatarImage":{"type":"entities.Image","id":4},"pyDisplayName":{"type":"string","id":5}}},"PullParticipantInfoRequest":{"fields":{"byteviewUsers":{"rule":"repeated","type":"ByteviewUser","id":1},"meetingId":{"rule":"required","type":"string","id":2,"options":{"(fieldinfo.FieldInfo)":"split,type=meeting"}}}},"PullParticipantInfoResponse":{"fields":{"userInfos":{"rule":"repeated","type":"ByteViewUserInfo","id":1}}},"GetVerificationQRCodeRequest":{"fields":{"user":{"rule":"required","type":"ByteviewUser","id":1},"appId":{"type":"int32","id":2},"scene":{"type":"string","id":3}}},"GetVerificationQRCodeResponse":{"fields":{"appLink":{"type":"string","id":1},"token":{"type":"string","id":2}}},"PollVerificationStatusRequest":{"fields":{"token":{"rule":"required","type":"string","id":1}}},"PollVerificationStatusResponse":{"fields":{"success":{"rule":"required","type":"bool","id":1}}},"GetVerificationInfoRequest":{"fields":{"Token":{"rule":"required","type":"string","id":1}}},"GetVerificationInfoResponse":{"fields":{"appId":{"type":"int32","id":1},"scene":{"type":"string","id":2}}},"VerifyTwoElementRequest":{"fields":{"appId":{"rule":"required","type":"int32","id":1},"scene":{"rule":"required","type":"string","id":2},"identityCode":{"rule":"required","type":"string","id":3},"identityName":{"rule":"required","type":"string","id":4},"identityType":{"rule":"required","type":"int32","id":5}}},"VerifyTwoElementResponse":{"fields":{}},"LivenessVerificationCallbackRequest":{"fields":{"token":{"rule":"required","type":"string","id":1}}},"LivenessVerificationCallbackResponse":{"fields":{}},"GetLivePermissionRequest":{"fields":{}},"GetLivePermissionResponse":{"fields":{"needVerification":{"type":"bool","id":1}}},"GetVerificationTicketRequest":{"fields":{"appId":{"rule":"required","type":"int32","id":1},"scene":{"rule":"required","type":"string","id":2}}},"GetVerificationTicketResponse":{"fields":{"ticket":{"rule":"required","type":"string","id":1}}},"VideoChatPullLiveSettingRequest":{"fields":{"meetingId":{"rule":"required","type":"string","id":1}}},"LiveSettingElement":{"fields":{"isSelected":{"type":"bool","id":1},"isDisabled":{"type":"bool","id":2},"disableHoverKey":{"type":"string","id":3}}},"LiveSettingPrivilegeScope":{"fields":{"scopeTenant":{"type":"LiveSettingElement","id":1},"scopePublic":{"type":"LiveSettingElement","id":2}}},"LiveSettingLayoutType":{"fields":{"layoutList":{"type":"LiveSettingElement","id":1},"layoutGallery":{"type":"LiveSettingElement","id":2},"layoutFull":{"type":"LiveSettingElement","id":3}}},"VideoChatPullLiveSettingResponse":{"fields":{"privilegeScopeSetting":{"type":"LiveSettingPrivilegeScope","id":1},"layoutTypeSetting":{"type":"LiveSettingLayoutType","id":2},"liveUrl":{"type":"string","id":3},"enableInteractionSetting":{"type":"LiveSettingElement","id":4},"bindingInfo":{"type":"LiveBindingData","id":5}}},"ForceTransferHostRequest":{"fields":{"meetingId":{"type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=meeting"}}}},"ForceTransferHostResponse":{"fields":{}},"CheckVCManageCapabilitiesRequest":{"fields":{"meetingId":{"type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=meeting"}},"targetUser":{"type":"ByteviewUser","id":2}}},"CheckVCManageCapabilitiesResponse":{"fields":{"keys":{"rule":"repeated","type":"string","id":1},"checkResult":{"type":"CheckResult","id":2}},"nested":{"CheckResult":{"values":{"UNKNOWN":0,"SUCCESS":1,"NEEDNOTICE":2}}}},"VCSearchUserInMeetingRequest":{"fields":{"query":{"rule":"required","type":"string","id":1},"count":{"rule":"required","type":"int32","id":2,"options":{"default":50}},"queryType":{"type":"QueryType","id":3},"breakoutRoomId":{"type":"string","id":4}},"nested":{"QueryType":{"values":{"QUERY_ALL":0,"QUERY_IN_MEETING":1}}}},"VCSearchUserInMeetingResponse":{"fields":{"users":{"rule":"repeated","type":"SearchResult","id":1}},"nested":{"UserStatus":{"values":{"UNKNOWN":0,"IN_MEETING":1,"IN_LOBBY":2,"NOT_IN_MEETING":3}},"SearchResult":{"fields":{"user":{"rule":"required","type":"ByteviewUser","id":1},"status":{"rule":"required","type":"UserStatus","id":2},"name":{"type":"string","id":3},"nameHitTerms":{"rule":"repeated","type":"string","id":4},"avatarImage":{"type":"entities.Image","id":5},"participant":{"type":"Participant","id":7},"lobby":{"type":"VCLobbyParticipant","id":8},"larkUserInfo":{"type":"LarkUserInfo","id":9},"roomInfo":{"type":"RoomInfo","id":10},"sipInfo":{"type":"SipInfo","id":11}},"reserved":[[6,6]]},"DisplayName":{"fields":{"primaryName":{"rule":"required","type":"string","id":1},"secondaryName":{"rule":"required","type":"string","id":2}}},"SipInfo":{"fields":{"address":{"rule":"required","type":"string","id":1},"displayNameForPc":{"type":"DisplayName","id":2},"displayNameForMobile":{"type":"DisplayName","id":3}}},"LarkUserInfo":{"fields":{"department":{"type":"string","id":1},"workStatus":{"type":"UserWorkStatusType","id":2},"crossTenant":{"type":"bool","id":3},"versionSupport":{"type":"bool","id":4},"executiveMode":{"type":"bool","id":5},"donotDisturbBeforeMs":{"type":"int64","id":6},"isVoipBusy":{"type":"bool","id":7},"collaborationType":{"type":"CollaborationType","id":8},"customStatuses":{"rule":"repeated","type":"entities.ChatterCustomStatus","id":9}},"reserved":[[10,10]],"nested":{"UserWorkStatusType":{"values":{"ON_DEFAULT":0,"ON_BUSINESS":1,"ON_LEAVE":2,"ON_MEETING":3}}}},"RoomInfo":{"fields":{"capacity":{"rule":"required","type":"int32","id":1},"location":{"type":"Location","id":2},"fullName":{"type":"string","id":3},"fullNameParticipant":{"type":"string","id":4},"fullNameSite":{"type":"string","id":5},"primaryNameParticipant":{"type":"string","id":6},"primaryNameSite":{"type":"string","id":7},"secondaryName":{"type":"string","id":8},"isRoomBusy":{"type":"bool","id":9}},"nested":{"Location":{"fields":{"floorName":{"type":"string","id":1},"buildingName":{"type":"string","id":2}}}}}}},"LanguageType":{"fields":{"languageType":{"rule":"required","type":"string","id":1},"despI18nKey":{"type":"string","id":2},"iconStr":{"type":"string","id":3}}},"InterpreterSetting":{"fields":{"firstLanguage":{"type":"LanguageType","id":1},"secondLanguage":{"type":"LanguageType","id":2},"confirmStatus":{"type":"ConfirmStatus","id":3},"interpretingLanguage":{"type":"LanguageType","id":4},"confirmInterpretationTime":{"type":"int64","id":5},"interpreterSetTime":{"type":"int64","id":6}},"nested":{"ConfirmStatus":{"values":{"RESERVE":0,"WAIT_CONFIRM":1,"CONFIRMED":2}}}},"GetCalendarGuestListByMeetingIDRequest":{"fields":{"meetingId":{"type":"string","id":1}}},"GetCalendarGuestListByMeetingIDResponse":{"fields":{"status":{"type":"Status","id":1},"resultList":{"rule":"repeated","type":"Result","id":2}},"nested":{"Status":{"values":{"UNKNOWN":0,"SUCCESS":1,"NOT_IN_CALENDAR":2,"NO_PERMISSION":3}},"LarkUserInfo":{"fields":{"department":{"type":"string","id":1},"crossTenant":{"type":"bool","id":2},"userName":{"type":"string","id":3},"avatarImage":{"type":"entities.Image","id":4}}},"RoomUserInfo":{"fields":{"location":{"type":"Location","id":2},"fullName":{"type":"string","id":3},"avatarImage":{"type":"entities.Image","id":4}},"nested":{"Location":{"fields":{"floorName":{"type":"string","id":1},"buildingName":{"type":"string","id":2}}}}},"ChatInfo":{"fields":{"chatId":{"type":"int64","id":1},"chatName":{"type":"string","id":2},"crossTenant":{"type":"bool","id":3},"memberCount":{"type":"int64","id":4},"avatarImage":{"type":"entities.Image","id":5}}},"Result":{"fields":{"user":{"type":"ByteviewUser","id":1},"larkUserInfo":{"type":"LarkUserInfo","id":2},"roomUserInfo":{"type":"RoomUserInfo","id":3},"chatInfo":{"type":"ChatInfo","id":4}}}}},"GetRoomStatusByShareCodeRequest":{"fields":{"shareCode":{"type":"string","id":1}}},"GetRoomStatusByShareCodeResponse":{"fields":{"roomId":{"type":"string","id":1},"meetingId":{"type":"string","id":2}}},"GetSuiteQuotaRequest":{"fields":{"meetingId":{"type":"string","id":31}}},"GetSuiteQuotaResponse":{"fields":{"waitingRoom":{"type":"bool","id":1},"interpretation":{"type":"bool","id":2},"pstnCall":{"type":"bool","id":3},"subtitle":{"type":"bool","id":4},"breakoutRoom":{"type":"bool","id":5}}},"BreakOutRoomInfoNotify":{"fields":{"meetingId":{"rule":"required","type":"string","id":1},"notifyType":{"rule":"repeated","type":"BreakOutRoomInfoNotifyType","id":2,"options":{"packed":false}},"breakoutRoomInfo":{"rule":"repeated","type":"BreakoutRoomInfo","id":3},"changedUsers":{"keyType":"string","type":"ByteviewUserList","id":4}},"nested":{"BreakOutRoomInfoNotifyType":{"values":{"UNKNOWN":0,"SETTINGS_CHANGED":1,"PARTICIPANT_CHANGED":2}},"ByteviewUserList":{"fields":{"users":{"rule":"repeated","type":"ByteviewUser","id":1}}}}},"BreakoutRoomCreateInfo":{"fields":{"topic":{"rule":"required","type":"string","id":1},"users":{"rule":"repeated","type":"ByteviewUser","id":2},"sortId":{"type":"int64","id":3}}},"StartMeetingBreakoutRoomRequest":{"fields":{"meetingId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=meeting"}},"createInfos":{"rule":"repeated","type":"BreakoutRoomCreateInfo","id":2}}},"StartMeetingBreakoutRoomResponse":{"fields":{"videoChatInfo":{"type":"VideoChatInfo","id":1}}},"BreakoutRoomJoinRequest":{"fields":{"meetingId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=meeting"}},"toBreakoutRoomId":{"type":"string","id":2}}},"BreakoutRoomJoinResponse":{"fields":{"videoChatInfo":{"type":"VideoChatInfo","id":1}}},"PullBreakoutRoomInMeetingInfoRequest":{"fields":{"meetingId":{"rule":"required","type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=meeting"}},"breakoutRoomId":{"rule":"required","type":"string","id":2}}},"PullBreakoutRoomInMeetingInfoResponse":{"fields":{"breakoutRoomInfo":{"type":"BreakoutRoomInfo","id":1},"shareScreenInMeetingInfo":{"type":"InMeetingData.ScreenSharedData","id":2},"whiteboardData":{"rule":"repeated","type":"WhiteboardData","id":3},"followInfo":{"type":"FollowInfo","id":4}}},"GetReservationRequest":{"fields":{"id":{"rule":"required","type":"string","id":1}}},"GetReservationResponse":{"fields":{"id":{"rule":"required","type":"string","id":1},"reserver":{"rule":"required","type":"string","id":2},"reserverType":{"rule":"required","type":"ReserverType","id":3},"meetingNo":{"type":"string","id":4},"url":{"type":"string","id":5},"meetingPreConfig":{"type":"MeetingPreConfig","id":6}},"nested":{"User":{"fields":{"userType":{"type":"ParticipantType","id":1},"userId":{"type":"string","id":2},"pstnSipUserInfo":{"type":"PstnSipUserInfo","id":3}},"nested":{"Avatar":{"fields":{"key":{"type":"string","id":1},"FsUnit":{"type":"string","id":2}}},"PstnSipUserInfo":{"fields":{"nickname":{"type":"string","id":1},"mainAddress":{"type":"string","id":2},"subAddress":{"type":"string","id":3},"avatar":{"type":"Avatar","id":4}}}}},"ReserverType":{"values":{"RESERVER_TYPE_UNKNOWN":0,"RESERVER_TYPE_LARK_USER":1,"RESERVER_TYPE_APP":2}},"MeetingPreConfig":{"fields":{"topic":{"type":"string","id":1},"autoInvitedUsers":{"rule":"repeated","type":"User","id":2}}}}},"GetSIPDomainByUniqueIDRequest":{"fields":{"uniqueId":{"type":"int64","id":1},"meetingNumber":{"type":"string","id":2}}},"GetSIPDomainByUniqueIDResponse":{"fields":{"domain":{"type":"string","id":1}}},"GetH323AccessInfoByUniqueIDRequest":{"fields":{"uniqueId":{"type":"int64","id":1},"meetingNumber":{"type":"string","id":2}}},"GetH323AccessInfoByUniqueIDResponse":{"fields":{"h323Access":{"type":"VideoChatH323Setting","id":1}}},"GetPstnSipFeatureConfigRequest":{"fields":{"userId":{"type":"int64","id":1},"uniqueId":{"type":"int64","id":2},"tenantId":{"type":"int64","id":3},"calendarType":{"type":"CalendarType","id":4},"meetingNo":{"type":"int64","id":5}},"nested":{"CalendarType":{"values":{"CALENDAR_TYPE_UNKNOWN":0,"CALENDAR_TYPE_INTERVIEW":1}}}},"GetPstnSipFeatureConfigResponse":{"fields":{"featureConfig":{"type":"FeatureConfig","id":1}}},"CalendarVideoChatStatus":{"fields":{"uniqueId":{"type":"int64","id":1},"status":{"type":"Status","id":2},"startTime":{"type":"int64","id":3},"meetingId":{"type":"int64","id":4},"meetingDuration":{"type":"int64","id":5},"requestBeginTime":{"type":"int64","id":6},"requestEndTime":{"type":"int64","id":7},"tenantId":{"type":"int64","id":8}},"nested":{"Status":{"values":{"STATUS_UNKNOWN":0,"STATUS_LIVE":1,"STATUS_NOT_LIVE":2}}}},"GetCalendarVchatStatusRequest":{"fields":{"uniqueId":{"type":"int64","id":1}}},"GetCalendarVchatStatusResponse":{"fields":{"videoChatStatus":{"type":"CalendarVideoChatStatus","id":1}}},"InterviewCodingData":{"fields":{"userId":{"type":"int64","id":1},"deviceId":{"type":"int64","id":2},"url":{"type":"string","id":3},"version":{"type":"int64","id":4}}},"InterviewActionData":{"fields":{"meetingId":{"type":"string","id":1},"action":{"type":"Action","id":2},"actionTime":{"type":"int64","id":3}},"nested":{"Action":{"values":{"UNKNOWN":0,"LEAVE":1,"RETURN":2}}}},"OccupyCodingRequest":{"fields":{"meetingId":{"type":"string","id":1}}},"OccupyCodingResponse":{"fields":{}},"SendInterviewActionRequest":{"fields":{"meetingId":{"type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=meeting"}},"action":{"type":"Action","id":2},"actionTime":{"type":"int64","id":3}},"nested":{"Action":{"values":{"UNKNOWN":0,"LEAVE":1,"RETURN":2}}}},"SendInterviewActionResponse":{"fields":{}},"MinutesStatusData":{"fields":{"status":{"type":"Status","id":1},"seq":{"type":"int64","id":2}},"nested":{"Status":{"values":{"UNKNOWN":0,"OPEN":1,"CLOSE":2}}}},"UpdateMinutesStatusRequest":{"fields":{"meetingId":{"type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=meeting"}},"status":{"type":"Status","id":2}},"nested":{"Status":{"values":{"UNKNOWN":0,"OPEN":1,"CLOSE":2}}}},"UpdateMinutesStatusResponse":{"fields":{}},"KeepMeetingRequest":{"fields":{"meetingId":{"rule":"required","type":"string","id":1}}},"KeepMeetingResponse":{"fields":{}},"GetMeetingUnitRequest":{"fields":{"meetingId":{"type":"string","id":1}}},"GetMeetingUnitResponse":{"fields":{"unitName":{"type":"string","id":1}}},"SamePageMeetingInfo":{"fields":{"meetingStage":{"type":"MeetingStage","id":1},"spmId":{"type":"string","id":2},"shareId":{"type":"string","id":3},"version":{"type":"int32","id":4}},"nested":{"MeetingStage":{"values":{"SILENT_READ_NOT_START":0,"SILENT_READING_STAGE":1,"DISCUSSION_STAGE":2,"END":3}}}},"InitSamePageMeetingRequest":{"fields":{"meetingId":{"type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=meeting"}},"url":{"type":"string","id":2}}},"InitSamePageMeetingResponse":{"fields":{}},"StartSamePageMeetingRequest":{"fields":{"meetingId":{"type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=meeting"}},"url":{"type":"string","id":2}}},"StartSamePageMeetingResponse":{"fields":{}},"UpdateSamePageMeetingRequest":{"fields":{"spmId":{"type":"string","id":1},"meetingStage":{"type":"SamePageMeetingInfo.MeetingStage","id":2},"meetingId":{"type":"string","id":3,"options":{"(fieldinfo.FieldInfo)":"split,type=meeting"}}}},"UpdateSamePageMeetingResponse":{"fields":{}}}}}')},function(e){e.exports=JSON.parse('{"a":{"options":{"optimize_for":"LITE_RUNTIME","go_package":"git.byted.org/ee/lark/im-protobuf/improto/mutex","java_package":"com.ss.android.lark.pb"},"nested":{"ByteviewHeartbeatRequest":{"fields":{"token":{"rule":"required","type":"string","id":1},"serviceType":{"rule":"required","type":"ServiceType","id":2},"timeoutDuration":{"type":"int32","id":3}},"nested":{"ServiceType":{"values":{"UNKNOWN":0,"VOIP":1,"VC":2}}}},"ByteviewHeartbeatResponse":{"fields":{"status":{"rule":"required","type":"Status","id":1}},"nested":{"Status":{"values":{"UNKNOWN":0,"ACK_SUCCESS":1,"TOKEN_INVALID":2}}}},"QuerySelfStatusRequest":{"fields":{}},"QuerySelfStatusResponse":{"fields":{"statusData":{"rule":"required","type":"UserStatusData","id":1}}},"UserStatusData":{"fields":{"status":{"rule":"required","type":"UserStatus","id":1}},"nested":{"UserStatus":{"values":{"UNKNOWN":0,"IDLE":1,"VC_BUSY":2,"VOIP_BUSY":3}}}}}}}')},function(e){e.exports=JSON.parse('{"a":{"options":{"optimize_for":"LITE_RUNTIME","go_package":"git.byted.org/ee/lark/im-protobuf/improto/videochat_lobby","java_package":"com.ss.android.lark.pb"},"nested":{"GetVCLobbyParticipantsRequest":{"fields":{"meetingId":{"type":"string","id":1},"queryType":{"type":"QueryType","id":2},"lastQueryTime":{"type":"int64","id":3},"userList":{"rule":"repeated","type":"videochat.ByteviewUser","id":4}},"nested":{"QueryType":{"values":{"ALL":0,"EXPIRED_BY_LAST_QUERY_TIME":1,"GET_LOBBY_BY_USER":2}}}},"GetVCLobbyParticipantsResponse":{"fields":{"lobbyParticipants":{"rule":"repeated","type":"videochat.VCLobbyParticipant","id":1},"lastQueryTime":{"type":"int64","id":2}}},"UpdateVCLobbyParticipantRequest":{"fields":{"meetingId":{"type":"string","id":1},"isMicrophoneMuted":{"type":"bool","id":2},"isCameraMuted":{"type":"bool","id":3}}},"UpdateVCLobbyParticipantResponse":{"fields":{}},"VCLobbyHeartBeatRequest":{"fields":{"token":{"type":"string","id":1},"timeoutDuration":{"type":"int64","id":2}}},"VCLobbyHeartBeatResponse":{"fields":{"status":{"type":"HeartBeatStatus","id":1}},"nested":{"HeartBeatStatus":{"values":{"UNKNOWN":0,"SUCCESS":1,"FAIL":2,"CAN_JOIN_MEETING":3}}}}}}}')},function(e){e.exports=JSON.parse('{"a":{"options":{"optimize_for":"LITE_RUNTIME","go_package":"git.byted.org/ee/lark/im-protobuf/improto/videochat_groot_cell","java_package":"com.ss.android.lark.pb"},"nested":{"GrootChannel":{"values":{"MEETING_SPACE_CHANNEL":1,"SKETCH_CHANNEL":2,"REMOTE_CONTROL_CHANNEL":3,"WHITE_BOARD_CHANNEL":4,"FOLLOW_CHANNEL":5,"ROOM_CONTROL_CHANNEL":6,"VC_TAB_USER_CHANNEL":7,"VC_TAB_MEETING_CHANNEL":8,"VC_TAB_LIST_CHANNEL":9,"BREAKOUT_ROOM_CHANNEL":10}},"ChannelMeta":{"fields":{"channel":{"rule":"required","type":"GrootChannel","id":1},"channelId":{"rule":"required","type":"string","id":2},"associateId":{"type":"string","id":3},"idType":{"type":"AssociateType","id":4}},"nested":{"AssociateType":{"values":{"UNKNOWN":0,"MEETING":1}}}},"GrootChannelHandshakeRequest":{"fields":{"channelMeta":{"rule":"required","type":"ChannelMeta","id":1},"channelSession":{"rule":"required","type":"int64","id":2},"associateId":{"type":"int64","id":3}}},"GrootChannelHandshakeResponse":{"fields":{"upVersion":{"rule":"required","type":"int32","id":1},"downVersion":{"rule":"required","type":"int32","id":2}}},"GrootChannelPingRequest":{"fields":{"channelMeta":{"rule":"required","type":"ChannelMeta","id":1},"channelSession":{"type":"int64","id":2},"associateId":{"type":"int64","id":3},"clientMaxTriggerTraceVersion":{"type":"int64","id":4},"clientMaxReqTraceVersion":{"type":"int64","id":5},"clientTriggerTraceCount":{"type":"int64","id":6}}},"GrootChannelPingResponse":{"fields":{}},"GrootCell":{"fields":{"action":{"rule":"required","type":"Action","id":1},"payload":{"rule":"required","type":"bytes","id":2},"downVersion":{"type":"int32","id":3},"upVersion":{"type":"int32","id":4},"extra":{"type":"GrootCellExtra","id":5}},"nested":{"Action":{"values":{"CLIENT_REQ":1,"SERVER_SET":3,"TRIGGER":4}}}},"GrootCellExtra":{"fields":{"clientReceiveTime":{"type":"int64","id":1},"serverPushTime":{"type":"int64","id":2},"traceVersion":{"type":"int32","id":3}}},"SendGrootCellsRequest":{"fields":{"channelMeta":{"rule":"required","type":"ChannelMeta","id":1},"cells":{"rule":"repeated","type":"GrootCell","id":2},"channelSession":{"type":"int64","id":3},"associateId":{"type":"int64","id":4}}},"SendGrootCellsResponse":{"fields":{"results":{"keyType":"int32","type":"ResultType","id":1}},"nested":{"ResultType":{"values":{"UNKNOWN_RESULT":0,"SUCCESS":1,"WAITING_PREV":2}}}},"PullGrootCellsRequest":{"fields":{"channelMeta":{"rule":"required","type":"ChannelMeta","id":1},"downVersion":{"rule":"repeated","type":"int32","id":2,"options":{"packed":false}},"associateId":{"type":"int64","id":3}}},"PullGrootCellsResponse":{"fields":{"channelMeta":{"rule":"required","type":"ChannelMeta","id":1},"cells":{"rule":"repeated","type":"GrootCell","id":2}}},"PullUpstreamGrootCellsRequest":{"fields":{"channelMeta":{"rule":"required","type":"ChannelMeta","id":1},"associateId":{"type":"int64","id":2},"user":{"type":"videochat.ByteviewUser","id":3},"target":{"rule":"required","type":"int32","id":4},"limit":{"rule":"required","type":"int32","id":5}}},"PullUpstreamGrootCellsResponse":{"fields":{"cells":{"rule":"repeated","type":"GrootCell","id":1},"hasMore":{"rule":"required","type":"bool","id":2}}},"PushGrootCells":{"fields":{"channelMeta":{"rule":"required","type":"ChannelMeta","id":1},"cells":{"rule":"repeated","type":"GrootCell","id":2}}}}}}')},function(e){e.exports=JSON.parse('{"a":{"options":{"optimize_for":"LITE_RUNTIME","go_package":"git.byted.org/ee/lark/im-protobuf/improto/videochat_im","java_package":"com.ss.android.lark.pb"},"nested":{"ReactionMessageContent":{"fields":{"content":{"type":"string","id":1}}},"TextMessageContent":{"fields":{"content":{"type":"entities.RichText","id":1}}},"SystemMessageContent":{"fields":{"type":{"type":"SystemMessageType","id":1}},"nested":{"SystemMessageType":{"values":{"UNKNOWN":0,"JOIN_MEETING":1}}}},"PushVideoChatInteractionMessages":{"fields":{"messages":{"rule":"repeated","type":"VideoChatInteractionMessage","id":1}}},"MessageExtra":{"fields":{"user":{"type":"videochat.ByteviewUser","id":1},"type":{"type":"VideoChatInteractionMessage.Type","id":2},"nickName":{"type":"string","id":7},"role":{"type":"videochat.ParticipantRole","id":8},"tags":{"rule":"repeated","type":"VideoChatInteractionMessage.Tag","id":9,"options":{"packed":false}},"tenantId":{"type":"int64","id":10}}},"VideoChatInteractionMessage":{"oneofs":{"content":{"oneof":["reactionContent","textContent","systemContent"]}},"fields":{"id":{"type":"string","id":1},"type":{"type":"Type","id":2},"fromUser":{"type":"videochat.ByteviewUser","id":3},"cid":{"type":"string","id":4},"position":{"type":"int32","id":5},"createMilliTime":{"type":"string","id":6},"nickName":{"type":"string","id":7},"role":{"type":"videochat.ParticipantRole","id":8},"meetingId":{"type":"string","id":9},"tags":{"rule":"repeated","type":"Tag","id":10,"options":{"packed":false}},"tenantId":{"type":"int64","id":11},"reactionContent":{"type":"ReactionMessageContent","id":100},"textContent":{"type":"TextMessageContent","id":101},"systemContent":{"type":"SystemMessageContent","id":102}},"nested":{"Type":{"values":{"UNKNOWN":0,"TEXT":1,"SYSTEM":2,"REACTION":3}},"Tag":{"values":{"GUEST":1}}}},"SendVideoChatInteractionMessageRequest":{"oneofs":{"message":{"oneof":["reactionContent","textContent"]}},"fields":{"meetingId":{"type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=meeting"}},"cid":{"type":"string","id":2},"type":{"type":"VideoChatInteractionMessage.Type","id":3},"reactionContent":{"type":"ReactionMessageContent","id":100},"textContent":{"type":"TextMessageContent","id":101}}},"SendVideoChatInteractionMessageResponse":{"fields":{"message":{"type":"VideoChatInteractionMessage","id":1}}},"PullVideoChatInteractionMessageRequest":{"fields":{"meetingId":{"type":"string","id":1,"options":{"(fieldinfo.FieldInfo)":"split,type=meeting"}},"position":{"type":"int32","id":2},"isPrevious":{"type":"bool","id":3},"count":{"type":"int32","id":4}}},"PullVideoChatInteractionMessageResponse":{"fields":{"messages":{"rule":"repeated","type":"VideoChatInteractionMessage","id":1}}}}}}')},function(e,t,i){e.exports=i.p+"static/images/interviewer144-31d8c96b3a20484312825cf136b769b7.png"},function(e,t,i){e.exports=i.p+"static/images/interviewer200-4972fbfd13cd6808208ae1cd45b087e2.png"},function(e,t,i){e.exports=i.p+"static/images/interviewerOrigin-0d50c3798fd77e4878d2d882d7d34e28.png"},,,function(e,t,i){e.exports={"icon-base":"_3hc-Rh_Y",disabled:"aKUU4axQ","bv-tip":"_2cxTIm92"}},function(e,t,i){e.exports={"bv-video":"_2grSAm2u",video:"_298ARfal"}},function(e,t,i){e.exports={"icon-base":"_2yvkhFeZ",disabled:"_3EKMe8s_","bv-avatar-blur":"_2ESZw5Nk","blur-layer":"_2Ao1MxEq","bv-avatar-blur_mask":"_10IkDNC7","bv-avatar-blur_avatar":"_2gGWxfyB"}},function(e,t,i){e.exports={"g-confirm-modal-content":"k6yqTuY2","lark-modal-content":"_1MJLKlD6",title:"_3N1de-lJ",desc:"GmVXqiHW","btn-wrap":"_2LmES8mO","float-right":"s5gaHBxN","cancel-btn":"_2JDFAYS-","g-host-notification-modal":"_2FQHLlb0","notify-content":"_3BIzZ_dS","content-name":"_6OJ3zfLy","user-profile":"x3F5E4_8","close-icon-container":"VBpuZtRc","close-icon":"_3tsdlwVd",disabled:"_1Mm8xMPT","notify-footer":"_23Wl0hC2","operation-button":"_3DSBlr2-","icon-base":"_35tSReRI","main-user-video":"_141Zv3HX"}},function(e,t,i){e.exports={"control-bar-bottom_":"12px","control-bar-mini-width_":"48px","control-bar-height_":"48px","control-bar-pop-offset-top_":"8px","control-bar-btn-height_":"40px","icon-base":"fouW1BmD",disabled:"_2INalT74",controlbar:"_3bie8nF2",mounted:"_22783cTC",closing:"_1sFyBcHH",closed:"_2RjOIs2l",faded:"_2HwDoSVy",opening:"_2nO6H3kr","close-controlbar-btn":"_1K8bI8I1","close-btn-divider":"_1BJsq_Ih","icon-hide-controlbar":"_1H7SgB4e","open-controlbar-btn":"_3T4tPLaq","is-controlbar-closing":"_2q6uH-nK","icon-show-controlbar":"_3t5ECZrv","has-guide":"_3wNNZBfK","guide-pop-trigger":"_2N45V-9B",arrow:"_3jb7-KF_"}},function(e,t,i){e.exports={"icon-base":"_2-_aHwiL",disabled:"_3U9XkUki","pop-container":"_2mn2RLCc","arrow-container":"_1otaGS4E","arrow-item":"_2CS9vwnf",hide:"_1hMc5EX7"}},,,function(e,t,i){e.exports={"tooltip-container":"_2RIq7MpQ",tooltip:"Eg-sQRDX",light:"_1I0i8Zsy",dark:"z_Gf52Wt",triangle:"_1KHEGj2U"}},function(e,t,i){e.exports={"flexible-wrapper-hidden":"_1xjBRhh4","flexible-wrapper":"_6N1h7NAa"}},function(e,t,i){e.exports={"icon-base":"_7AwIVdvB",disabled:"_3hgEGhJ6","mic-setting-gap":"IOr93b-L","divider1-gap":"_1CfHMfH3","divider2-gap":"_3j_fRP41","divider3-gap":"_1krEt53B","controlbar-btn-large-padding":"_1cd5Ii9U","controlbar-btn-share":"_3SmrcEIM","controlbar-btn-margin":"jGOzewp0"}},function(e,t,i){e.exports={"control-bar-bottom_":"12px","control-bar-mini-width_":"48px","control-bar-height_":"48px","control-bar-pop-offset-top_":"8px","control-bar-btn-height_":"40px","icon-base":"_1cpPcHuo",disabled:"_3IWdN2zY","controlbar-btn":"_Yzkbb5j","has-setting-btn":"_3ycbBcwo",content:"_3OEqD_1A","icon-wrapper":"_3vxCpYWl",active:"_1x78FV7s","hover-background-when-disabled":"_3gznJ3R1","content-wrapper":"_2GjDI8XO","icon-warning":"_1keHclOv","red-dot":"_1VB9wvhL",icon:"JVBLc7p-",muted:"_3UakigrG",text:"mK83JnGD","guide-pop-trigger":"_1YvoA2yR",arrow:"_3X38w7L6"}},function(e,t,i){e.exports={"control-bar-bottom_":"12px","control-bar-mini-width_":"48px","control-bar-height_":"48px","control-bar-pop-offset-top_":"8px","control-bar-btn-height_":"40px","icon-base":"_2qi4iKC2",disabled:"_1Xsp_6Tt","device-setting-popup-container":"dq6snmUO",light:"_1YzetSuL",dark:"_3vHpMC2F","device-setting-btn-ref":"mTWnW9uD","device-setting-btn":"_2yLiPXr3","from-preview":"_32KRzcgi",icon:"_1nF7ehd8","is-popup-visible":"_2WjkfrXJ","from-preview-warning":"_3NcUNgtN"}},function(e,t,i){e.exports={"icon-base":"_3OkT77Et",disabled:"_3SK7rXEH",group:"_2rPcUmkF",light:"_1A_DCgCZ",dark:"eCw66sT9","setting-btn":"_2rTaSfsr","group-title":"_1IQ9jv5l","group-title-with-setting-btn":"_1JuR3oX7","group-item":"_1DfuzLKZ",radio:"_3TjfsEIX","device-name":"_1_gGPURx"}},function(e,t,i){e.exports={"icon-base":"_302oPSjM",disabled:"_2o2N0oEC","camera-setting-divider":"_2wOF2Z64","camera-setting-change-bg":"_1xY0SN3f","change-virtual-bg":"NbyEAmHG","beta-icon":"_2AcMwViZ"}},function(e,t,i){e.exports={"icon-base":"_2sEB9o2N",disabled:"_1_D6tP1e","hangup-icon-wrapper":"_8HwpcUIZ","icon-hangup":"_1lIbqC5_"}},function(e,t,i){e.exports={"icon-base":"_1JrHJtF6",disabled:"_3Dj3DIGd",divider:"_1ceVD9nO"}},function(e,t,i){e.exports={"icon-base":"_2pIYKh7_",disabled:"QQWCWxVj","participant-icon-container":"eqmWZ7hK","icon-group":"CNtsBOxs","participant-count":"_3koyxg4V","participant-unread":"hhwFwsOc"}},function(e,t,i){e.exports={"g-confirm-modal-content":"_1DdNs37_","lark-modal-content":"_377dJNfX",title:"u879M8f-",desc:"_3aOj2cAg","btn-wrap":"drv8960V","float-right":"_18_3qttv","cancel-btn":"_3SlarMYF","g-host-notification-modal":"_2Md2UFtW","notify-content":"sPuLDw4m","content-name":"_1dFRk_NI","user-profile":"_5aAog8NT","close-icon-container":"_1jUgqJ7_","close-icon":"lo07PeMM",disabled:"_2iRj6Yjp","notify-footer":"_2KXxSuLJ","operation-button":"_3kIcgESO","icon-base":"rANQMY1D","vc-confirm-modal":"_2VCV3vwZ",call:"Xp6xLgXk","meeting-not-host":"JkuMcRIa",meeting:"tfgWXuoN",window:"_22L3H_oG",des:"_2U5sKxHm",interviewerOption:"_3mLiU04L",interviewerOption_text:"_1t0oHVZ1"}},function(e,t,i){e.exports=i.p+"static/audio/join-58e4be93a543aa771eb17ae8b1115bae.mp3"},function(e,t,i){e.exports=i.p+"static/audio/leave-8431d9e1fbf62ed863e9ec9c4330f491.mp3"},,,function(e,t,i){e.exports={"icon-base":"_1-ACoK3T",disabled:"_3OqVevFS","g-confirm-modal-content":"_1vTUBPn2","lark-modal-content":"MKfPDmAr",title:"_3DZ7lpWs",desc:"pdHywrrw","btn-wrap":"_3K6rUWSr","float-right":"_1TqXS2TH","cancel-btn":"_26kZxgP3","g-host-notification-modal":"_1972-MJs","notify-content":"_77IDnzQ2","content-name":"_3flKrWuG","user-profile":"_2Kt-A6sa","close-icon-container":"_27TPfHe-","close-icon":"_3fsWBz_k","notify-footer":"_29kQ8RtY","operation-button":"_13Dano2V","network-mask":"_18d8w_rn","meeting-title-bar":"_23wmUWUy","toast-container":"_1-mm1wUd","main-layout":"MEv2Oxnv","grid-main":"TfAJMb30","grid-main-video":"XWgI6qn3","show-subtitle":"_38skLCXs","grid-video-list":"_3IhfZCXo","grid-ctrls":"_2VWbBnsD","context-menu":"MagHHMSo",hidden:"_3QmNf2pS","close-mask":"_1UYIjejK","close-mask-drag-in":"fL1HxSdv","close-mask-with-goolge-selector":"_1HzugXG3","top-btn":"YqP2Siu7","icon-detach":"_2rH9ajDO","subtitle-and-loading-tip":"_2ize6nyp","subtitle-loading-control-bar-hide":"_3YHcjhaP","sketch-loading-tip":"_3l9fM1jP","subtitle-in-bottom":"_36aExCiY","subtitle-wrap":"_1SpSZPZw","subtitle-settings":"_263eVrwj","share-access-modal":"_2XDX5f91","share-access-desc":"vMXlVz-J"}},function(e,t,i){e.exports={"icon-base":"_3ZLDwm9z",disabled:"QrmW_QBb","g-flex":"_2FGKZYI3","g-flex-center":"_20Sb5AEe","g-block":"_1xHcGOFl","g-draggable":"_1fCWCKqh","g-drag-disable":"_1ATQHZ2L","bv-ringing-audio":"_2V-LF8EF","g-hide":"_2aPguY9D","g-mac":"QCagLzM5","g-text-shadow":"_1N6pIvHp","g-background-shadow":"_3Bi6pMEv","g-win":"Y149FB0J","g-text-ellipsis":"_14xQqCTn",meetingTitleBar_shareInfoTip:"_2PmbhO9X",meetingTitleBar_takeOverModal:"_15ICO9xp","meetingTitleBar_shareControlBarBtn-refresh":"_3nXKW8cc","meetingTitleBar_shareControlBarBtn-copy":"_3ad0x71v","meetingTitleBar_shareControlBarBtn-permission":"_1-D9_72k","meetingTitleBar_shareControlBarBtn-passOnSharing":"_1FMwgt8Z","meetingTitleBar_shareControlBarBtn-takeOver":"_2o6Cazbw","meetingTitleBar_shareControlBarBtnWrapper-back":"_klKJ7b_","meetingTitleBar_shareControlBarIcon-back":"qk7_5e7m","meetingTitleBar_shareControlBarIcon-refresh":"_3Yv30wVh","meetingTitleBar_shareControlBarIcon-copy":"_2SGlsE3t",meetingTitleBar_backGuideTrigger:"_1D5WMehj",meetingTitleBar_backGuideArrow:"Xg-ZcHGp",meetingTitleBar_backGuideContent:"_21H0QyOC",meetingTitleBar_toPresenterContent:"_35YiEQfE",meetingTitleBar_successorPop:"_1AJk7kAj",poper_item:"_3c3j1Ps9",shareControlBar:"_3IEybSnS",meetingTitleBar_moreTarget:"dFTkwnem",active:"_34oIW1te",meetingTitleBar_moreBtnTri:"_2vHMFRYr",meetingTitleBar_morePop:"_3v1wHbjl",meetingTitleBar_moreListItem:"eMZYyXnC",meetingTitleBar_more_OnSharingTir:"_6X2JpRzP",meetingTitleBar_moreBtn:"_20wMk5aM",meetingTitleBar_withoutMoreBtn:"_2Yv_f-Dz",meetingTitleBar_displayLessThan1000:"_2lUCB6_Z","meetingTitleBar_displayLessThan1000-block":"qZX2zbt4",meetingTitleBar_displayMoreThan1000:"fhGRoKMx","meetingTitleBar_displayMoreThan1000-block":"_2e0czxJd",shareControlBar_btn:"_27E427l8"}},function(e,t,i){e.exports={"icon-base":"_1MMTZfue",disabled:"_1LPHv5xT","color-btn-primary":"_2V1kUiTt","color-btn-danger":"CM7Bx_qR","color-btn-normal":"_2hfbDrtf","color-btn-off":"_4Gh3txKN","color-btn-noborder":"_3XJTz0B1","color-btn-border":"_7LO1-Une","color-btn-text":"huW-bhsf","color-btn-danger-border":"UvNsODk2",default:"Ag8qnTQq",btn:"_3sVeJuJl",normal:"bWnEaBM6",ghost:"liQOha7O",dashed:"_2HrCRmIX",danger:"_2kfU9gOX",primary:"Ue8h8I8u","danger-ghost":"_3rLSCdlb","g-flex":"_3GzT-UTh","g-flex-center":"_1k5wOk_3","g-block":"_1-TqKlzd","g-draggable":"_3hjdHJu-","g-drag-disable":"_270xFZpM","meetingTitleBar_btn-normal":"_1RFw3sPv","meetingTitleBar_btn-icon":"Rym0UK6p","bv-ringing-audio":"_1_OjSY4V","g-hide":"_1Wrq4O_q","g-mac":"_2xRfaTt5","g-text-shadow":"_2rhKTgsz","g-background-shadow":"_2vByYOcB","g-win":"_1A82gE2Y","g-text-ellipsis":"_2S9VaO0U","meetingTitleBar_btn-danger":"_1ZsXFv46","meetingTitleBar_btn-primary":"xb4SN5Op",meetingTitleBar_btnRefContainer:"iMXgFz2c"}},function(e,t,i){e.exports={"icon-base":"_3tDlPEZm",disabled:"_2ifH6_FY","g-flex":"_2bjm98_W","g-flex-center":"mccIC9dU","g-block":"_1F6gmBFj","g-draggable":"_3gUdATb4","g-drag-disable":"_1_Eq3MNr","bv-ringing-audio":"HP-xg0wG","g-hide":"_2e3yC6LL","g-mac":"_2WFHnEP4","g-text-shadow":"_2Xt5-vzf","g-background-shadow":"_1fx284Kg","g-win":"CCjs31ni","g-text-ellipsis":"_3q2VTahH",meetingInfoBoard:"_2k1REEDv",meetingInfoBoard_meetingTitle:"_2tzd2D68","meetingInfoBoard_meetingTitle-edit":"mb4tWLse","meetingInfoBoard_meetingTitle-cannotModify":"_2HY4_bTS",meetingInfoBoard_meetingTitleInputNum:"rFV7tXU8",meetingInfoBoard_calendarInfo:"_1FsVQ03L",meetingInfoBoard_calendarContent:"_2JzXSAU3",meetingInfoBoard_calendarTitle:"_1mUbdN1E",meetingInfoBoard_footer:"_1b5UNWSf","meetingInfoBoard_btn-wrapper":"_2Yw2NQ-C",meetingInfoBoard_generalInfo:"_1CA4LBSF",meetingInfoBoard_pstn:"_2lJZjpHP",meetingInfoBoard_descriptionText:"qzZWYNY5",meetingInfoBoard_infoBtn:"_2Cydc76Q",meetingInfoBoard_normal:"_3ecXmco_"}},function(e,t,i){e.exports=i.p+"static/images/icon-live-en-a778508ac9c8504311b4b4e4e55dc197.svg"},function(e,t,i){e.exports=i.p+"static/images/icon-rec-en-2c751cdc14373f3f17991d86c1456823.svg"},function(e,t,i){e.exports={tag:"_13nNn1DL","tag-white":"JKemndaE","tag-red":"_2VRx5kt7","tag-red-ghost":"_3arLfU3X"}},function(e,t,i){e.exports={"icon-base":"_2KUHbBNX",disabled:"NpqvQsFO","g-flex":"_3NzFRZAk","g-flex-center":"_2P0SuPAR","g-block":"_1TzJVZ4Y","g-draggable":"_15huhuX-","g-drag-disable":"_35zfnbDJ","bv-ringing-audio":"_18y-pq3k","g-hide":"_2j3fZVf8","g-mac":"_2mVjuqKS","g-text-shadow":"_3lZh-yAS","g-background-shadow":"_1bA1Uf5k","g-win":"_1rQPXPl8","g-text-ellipsis":"_3qFP8cYi",meetingTitleBar_interviewSpaceInfoTip:"_1u5oewRr",meetingTitleBar_interviewSpaceBar:"_3dguLOmd","meetingTitleBar_interviewSpaceBarBtn-refresh":"M9tXtFbJ","meetingTitleBar_interviewSpaceBarBtn-fold":"poaug6oj",meetingTitleBar:"_1LJ3h81F","meetingTitleBar_interviewSpaceBarIcon-refresh":"podrb57U"}},function(e,t,i){e.exports={"icon-base":"_3kfMJ-Pi",disabled:"_16YeFJr5","g-confirm-modal-content":"_3HCmeBtQ","lark-modal-content":"_2VUAHIs9",title:"_3c4RQMb2",desc:"XdHCjSaL","btn-wrap":"_30oI9Liu","float-right":"_2gdsOhPQ","cancel-btn":"_3-2YbpED","g-host-notification-modal":"_3hO5VFyl","notify-content":"y-4OOL3u","content-name":"_1Q_DyVs7","user-profile":"_10AHVIdL","close-icon-container":"ygl1N4JT","close-icon":"_4_lJMrPx","notify-footer":"_1lKqry7d","operation-button":"bPsZOXBD","font-input-placeholder-default":"_3lfSSZPq",switch:"_2duhPPWz",timer:"_2IlQgmes","unpin-btn":"_3gdfOMaI","timer-doc":"_29B8dCXp","timer-doc-1v1":"_2mIH1Bry","timer-doc-visible":"_3o2MW9ex","timer-remote-control-visible":"_36ru0HDw","timer-1v1":"-jRsNjvd","timer-windows":"_3G2gGP9N","meeting-info":"_2xVmdfEh","timer-invisible":"_3GQ4oXhU"}},function(e,t,i){e.exports={"g-confirm-modal-content":"_2ghNC1ek","lark-modal-content":"t0wHjmeI",title:"_1IPerTvv",desc:"_32P0KeE4","btn-wrap":"_1ns-EkZn","float-right":"_2Vbf63OD","cancel-btn":"_2V7FF7yb","g-host-notification-modal":"_2lCHZ9l7","notify-content":"Sd7N9Vvn","content-name":"tvTC7ul6","user-profile":"_1GLziYCc","close-icon-container":"_1Hxsv2QR","close-icon":"x7cYI8na",disabled:"yTguGjHv","notify-footer":"_3V1kg6jy","operation-button":"_296goHSn","icon-base":"_27jxT3yY","user-container":"_18bvX_2s",user:"J2EVRyrs",user_icon:"_2irkawDp",user_speaking:"_3lm-1wvr",user_name:"_2D_dN5VU",user_tag:"_2IJxtZjq","user_name-ringing":"iWfMmCQD","user_icon-red":"_2R1E7Nnz","user_icon-green":"_2CdBhQwo","user_icon-white":"_2xkcy2kr","op-list":"_2rW5BMMu","op-item":"_2j5aWJXB"}},function(e,t,i){e.exports={"g-confirm-modal-content":"_1t-WzHr7","lark-modal-content":"AJ0GtB8i",title:"_1fcalVv8",desc:"_3Nf1wXdM","btn-wrap":"_15q-76EY","float-right":"_1t8Mwoza","cancel-btn":"_231cU0HF","g-host-notification-modal":"_2a3toXB6","notify-content":"_1_diXFPC","content-name":"_33zU686z","user-profile":"_2-b-1zlc","close-icon-container":"IZzeZr_n","close-icon":"_3Y8uX-3R",disabled:"_2ycl6KSm","notify-footer":"mJ0vC3zc","operation-button":"sFJkmDJV","icon-base":"aGZMXO90","font-input-placeholder-default":"Z1omVkLJ","pop-menu":"_3tMA4LOM","menu-list":"_3OltCI6r","menu-item":"_2LSoDvfc",selected:"_2Xv1XcDv",small:"_8oHFvJ5A","menu-item-danger":"_1ZqKvdvB","menu-icon":"_23yjYKeW","menu-item-option":"_2lWY-zuN","menu-item-selected":"a0CMCPv0","menu-item-disabled":"NeRoXq_U","menu-divider":"_3ilmp6tj","menu-arrow-right":"PWW_Wltf","menu-tick":"_3GURGreO","new-tag":"_2EmdzEGE"}},function(e,t,i){e.exports={"icon-base":"_2JfJwujd",disabled:"_2paDJp-w","bv-more-operation-item":"_1cblRSmq",icon:"_81BZJH10",text:"_3NsVfSEZ"}},function(e,t,i){e.exports={"g-confirm-modal-content":"_1jh5cY07","lark-modal-content":"_39KbU8yO",title:"_3yo16xop",desc:"iXYvmCfd","btn-wrap":"_3b9gCAcO","float-right":"_1jGsPbgx","cancel-btn":"_3pCdJRlj","g-host-notification-modal":"XzEiB7qT","notify-content":"_259865cJ","content-name":"_1MCN5F2p","user-profile":"p91jatCo","close-icon-container":"_2NcpQWeP","close-icon":"_3SwXnLob",disabled:"_2a2iVDD2","notify-footer":"_36KyLEUp","operation-button":"_2Y069Im0","icon-base":"_2SXRdF1d","op-item-tooltip":"_92oTosAZ","op-item":"_7Zix5yQ0",ignoreVideo:"_1KHfkzDN","muted-camera":"FD3VKBz3","muted-mic":"_3twwnTK0","control-bar-mask":"_3ta3LwGh","control-bar":"_3rwF8T7X",warning:"_3zzOxuet"}},function(e,t,i){e.exports={"icon-base":"_1OCl7mhr",disabled:"_3UpIgsjC","hands-up-wrapper":"_3JndRKOI","single-icon-wrapper":"_3rQMbB8_","hover-wrapper":"_3EgtP75_","lower-hand-text":"_3a8nAK_I"}},function(e,t,i){e.exports={"icon-base":"_1x8oOl0i",disabled:"_3DbLxkCT","bv-sidebar-popup__transparent-mask":"_1SAz6bE6","bv-sidebar-popup__draggable-mini-window":"_20Gcz-jh","sidebar-popup-mini-window":"_3_TmObOS"}},function(e,t,i){e.exports={"icon-base":"_3Fkeml36",disabled:"uBhO9EfM","g-confirm-modal-content":"_2Sn73SkM","lark-modal-content":"Q1NVxB8F",title:"Yckpi8eC",desc:"_1C_WpAnl","btn-wrap":"_24N4P94Z","float-right":"_2__3ogV8","cancel-btn":"IE2sfoJw","g-host-notification-modal":"NgJOBo9K","notify-content":"_2PhDj4Z5","content-name":"_2oherp5v","user-profile":"_2CehRWor","close-icon-container":"_30P2p0rd","close-icon":"_1t-07G0p","notify-footer":"_1lSUWFj-","operation-button":"_3MA3uajw","in-meeting-list":"_6pwwfeSw","bv-sidebar__participant-list":"_3mrfLXtO",header:"P_xTPlV6",text:"MApdSvUi","icon-close-btn":"rsSWQX4L","icon-close":"imzmFrs-",invitation:"_2BxFpLUE","has-suggestions":"_1JDGXUTA",mask:"_3z2HbGoJ"}},function(e,t,i){e.exports={"icon-base":"_3oZaqj1F",disabled:"_1cD77tcZ","virtual-list":"_2wZUgipu","section-header":"_2w-ehuq","section-header__left":"_1h6V5Tex","section-header__icon":"_3ZfSfbji","section-header__text":"_16SbCFmd","section-header__right":"_3WVnUHEl"}},function(e,t,i){e.exports={"g-confirm-modal-content":"_3r1-53yx","lark-modal-content":"_1rRM1CO9",title:"_29oI69XF",desc:"_3HU9Xnhz","btn-wrap":"_2EYVa9hz","float-right":"_17_l3FXB","cancel-btn":"ZDg0xdWC","g-host-notification-modal":"_1XX2fBkQ","notify-content":"_2NxjQDir","content-name":"_1RM2yOBC","user-profile":"_2TWyVfJX","close-icon-container":"_1yDzwAcv","close-icon":"_8G5MMDTm",disabled:"_4PwhglUh","notify-footer":"_3cEAJ5ec","operation-button":"_24BSQ3-z","icon-base":"_2tFcA8mS","bv-full-mode":"_9cBzF-BR",ignoreVideo:"_2cUALYP-","speaking-user-border":"_1PS3vfcs","locked-container":"_3g6dy7RQ"}},function(e,t,i){e.exports={"g-confirm-modal-content":"_3LqXlc7f","lark-modal-content":"_3L5ZsqrE",title:"_1N1K7lgu",desc:"_3522YCbP","btn-wrap":"uvVvmjyz","float-right":"_2D71mSf3","cancel-btn":"_1cvdelm5","g-host-notification-modal":"_2i4VyM6p","notify-content":"_1VeOZa_2","content-name":"CV1M1AsN","user-profile":"_3PNe0ECy","close-icon-container":"_3krLJ8oY","close-icon":"V9R6iPPf",disabled:"_3mD9mPk9","notify-footer":"_31xyxVX6","operation-button":"_17mM1Ww7","icon-base":"_2Rczur4b","op-item-tooltip":"_1pLQdx5I","bv-list-mode":"_3bF6AkWY",main:"_2UCMFO41",hover:"_1udb5b4K",unhoverable:"G0umHa-D",avatar:"_1IeAdWAF","avatar-clickable":"Eqy0QdPV",avatar_image:"_1UzJ-Mnk","avatar-active":"xGO18yOS","profile-wrapper":"_3p2QYzEX",info:"_1jNCWMne",tag:"_2BdlzZki",name:"_3Y1GeV25",name_extra:"_3ATieday",icon:"_1ULDjBZp","icon-pin":"_2wfJEtw_","icon-share":"_18tSKEhJ","icon-network":"_1XXnue3A","icon-raise-hand":"_23MHBOZx",buttons:"_3a-aiPoq","op-item":"_3qECVwuY","muted-camera":"Z6IZxiad","muted-mic":"_21hEv03v","more-btn-dropdown":"_1543aIAh",devices:"_39emDgP_",devices_icon:"_3ssI4Ejp","devices_icon-muted":"qlruY0Os",warning:"_28BAm-YC"}},function(e,t,i){e.exports={"icon-base":"_1u67abHm",disabled:"_1JdtpRXc",icon:"_2GbFdDFT","icon-web":"xEWKM_s7","icon-mobile":"_2IlaGifp","icon-pstn":"K0vIf0ez","icon-pin":"_2MNp8HkK","icon-share":"_36TpDtWA","icon-network":"_1pNnmrjT","icon-raise-hand":"_2hJfM9nd"}},,,function(e,t,i){e.exports={"bv-participant-item":"_2FtBgGvN","full-mode":"_1nXxi41o","placeholder-mode":"_2y8NfX-C","is-detach":"_2E42jkzp","list-mode":"_2pRhL7kr"}},function(e,t,i){e.exports={"icon-base":"w5bp-dCx",disabled:"_21WZecCj","g-confirm-modal-content":"_3RrDpnOI","lark-modal-content":"_2sZsY83E",title:"_3w_98zXE",desc:"_3BSeWVoD","btn-wrap":"bjbRj0_Q","float-right":"_13FoAXgA","cancel-btn":"_2Z47AuQG","g-host-notification-modal":"iXYqlMyi","notify-content":"_3GTVvFYL","content-name":"_1JPfcLgZ","user-profile":"ZizXeCRF","close-icon-container":"OeIfbr0K","close-icon":"_14iiu3zA","notify-footer":"_3ll3Pa-N","operation-button":"_2T2YCjeP","bv-sidebar":"_2Lv8BLyP"}},function(e,t,i){e.exports={"icon-base":"_1_kXbOEL",disabled:"_2kKNcJv8","mega-i18n-data-link":"_22_ShEp2"}},function(e,t,i){e.exports={"icon-base":"_1B1L_G53",disabled:"_1v3ash7e","g-confirm-modal-content":"_3WY8TTav","lark-modal-content":"_28YhtI3Z",title:"O1feh666",desc:"F6O1QOEQ","btn-wrap":"J8_ulNSP","float-right":"F84L0NKC","cancel-btn":"_2tV2neMV","g-host-notification-modal":"_1ckeyX2r","notify-content":"_1e9k6FE5","content-name":"_8Il10MFW","user-profile":"I1yi2zSI","close-icon-container":"_2mRA_6Mc","close-icon":"_2sRFQkKO","notify-footer":"YbN-U0fH","operation-button":"_2d3c99m2","vc-confirm-modal":"_1_G4jS18",meeting:"BByPwTG9","icon-info":"_3qVl7Qxe","icon-warning":"_3ELym3Qy","icon-error":"_3p-RJynY","content-text":"_1HX6VaOK","cancal-btn":"_3NHueZ-s","confirm-btn":"_85WsKsQX",show:"_1lfQRSei"}},function(e,t,i){e.exports={"icon-base":"_1aQ9VjCC",disabled:"_1Cc6-cSJ","g-confirm-modal-content":"_18cX2nOz","lark-modal-content":"_2tnyhHj1",title:"_3ObLv-zm",desc:"_1kpQmbBV","btn-wrap":"_3nrpv62_","float-right":"_2GuZtVfI","cancel-btn":"_1e3pX0ta","g-host-notification-modal":"_2-D5B4Du","notify-content":"_2xfVqTY9","content-name":"_3mHUvu1o","user-profile":"_303t2SjA","close-icon-container":"_2CVGZz6f","close-icon":"_3uvXD1LW","notify-footer":"_117NOA0_","operation-button":"D0rV9nJw",pstnInfoModal_close:"OTLckpEL",pstnInfoModal:"PIYd0fdq",pstnInfoModal_content:"_2vPyWD4f",pstnInfoModal_header:"_3LrPRnGl",pstnInfoModal_body:"WDnjvXkQ",pstnInfoModal_title:"_2BZrMk6V",pstnInfoModal_desc:"_3SCqVM0E",pstnInfoModal_subtitle:"TeR1Nu3l",pstnInfoModal_listTitle:"e6H8y3Gk",pstnInfoModal_listItem:"c0Q3zXcf",pstnInfoModal_cell:"_3QDBW4NG",pstnInfoModal_number:"_2rfHzCFi"}},function(e,t,i){e.exports=i.p+"static/images/browser-device-access-ef977cb8e321f0a3b0c23836c9cfe3fb.png"},function(e,t,i){e.exports={"icon-base":"_1dto0gfS",disabled:"_1BQDKkH2","browser-device-access-modal":"_3azNP194","browser-device-png":"_3WuK5wi8",container:"_1OKdzQ40",title:"_2d-sMckh",content:"_3bXeG6BB"}},function(e,t,i){e.exports=i.p+"static/images/no-preview-d77c287fa71e5bb9e0efefd0656e6d09.png"},function(e,t,i){e.exports={"icon-base":"_3XaMaWMg",disabled:"_1LU_-SLK","interview-space-wrapper":"_2hnhPEZT","interview-space-wrapper-hidden":"_64wbTlLf","interview-iframe":"VPHKSgCy","btn-back":"_2JGB5lF_","icon-back":"fMovEPIK","loading-wrapper":"_3uoX1xp4"}},function(e,t,i){e.exports={"icon-base":"_383GS6fb",disabled:"ItfEx6QJ","font-input-placeholder-default":"_3VvCc4-B","meeting-number-input":"fU1YW4lB","input-hint":"_3waSIYD9","number-input":"_1n_PtouH",divider:"dUCLNgxg",error:"NPoywuuH","is-active":"InJEAXxC","error-hint":"_30W04zF-"}},function(e,t,i){e.exports={"icon-base":"_2wTMXzfC",disabled:"_3CywSt0J","device-tips":"_1667-t6V","preview-device-setting-wrapper":"_3qgOb21y","device-icon-wrapper":"Nuq6zAcz","device-icon":"_2vq6uwnV",muted:"_2EJ95_I9","icon-alert-preview":"_16WLO-bz"}},function(e,t,i){e.exports={"device-access-confirm-modal":"_2ZNvC_4K",body:"rewRGYjI",header:"_26Nidzt7","info-icon":"_3WvHCYrb",content:"_16hLvPXm",footer:"_2HGnOnbY",confirm:"_2QsBEZVx"}},function(e,t,i){e.exports=i.p+"static/images/info-e7791e892e1ea889f20722771a7e72a7.svg"},function(e,t,i){e.exports={"icon-base":"_1X_D22SG",disabled:"_38QQmEhX","matter-notice-confirm-modal":"_1amjPE8C",body:"_3MEs5T_h",header:"_3bS_A8X6","header-container":"_3TqovYC3","info-icon":"_1xH0EzoM","close-icon":"fDFDOygr",content:"_3nNC3y2C","content-tip":"_18i5q8gQ",footer:"_2KjxzKQJ",confirm:"_3ei81wfT",default:"a_TZET3H"}},function(e,t,i){e.exports=i.p+"static/images/warn-6f142eba9dae011efaec424a324a465f.svg"},function(e,t,i){e.exports={"g-confirm-modal-content":"_3l7Dqu_3","lark-modal-content":"_3iL7nB-M",title:"_30_fsglj",desc:"vNIaZuc5","btn-wrap":"_3sDQNein","float-right":"_3nfhekTX","cancel-btn":"_1Bylu1f9","g-host-notification-modal":"_3ltJbrNn","notify-content":"_2I_M70O1","content-name":"_2ny2itKQ","user-profile":"n5NgJ5Rd","close-icon-container":"_1aHRbTYU","close-icon":"jYF_O0qJ",disabled:"_1RNshkTI","notify-footer":"_35BV94ko","operation-button":"_1Agx248k","icon-base":"_3EFlUfTI","lobby-modal":"_1tk6s0zo","lobby-container":"_28WnB_-W","lobby-header":"_3u1_QQ4c","lobby-title":"_3Qje55Ov","lobby-footer":"_1zZZX-Pz",btn:"_1FCR6_tM",cancel:"bdaBPx-f",confirm:"_3L_3pAxW"}},function(e,t,i){e.exports={"icon-base":"dcMH82xp",disabled:"_2Sodu3B2","font-input-placeholder-default":"_2UEghoCK","g-confirm-modal-content":"_2BAcupET","lark-modal-content":"ZxL7FHac",title:"_1hH0_N1E",desc:"_1UOEYVW6","btn-wrap":"_3UVZJvE_","float-right":"_1xjH-wdR","cancel-btn":"_1njj0qBk","g-host-notification-modal":"vgbgJEa4","notify-content":"otw3nVc4","content-name":"_36K3JSLH","user-profile":"_2rXOWdc2","close-icon-container":"_4OdTbu23","close-icon":"_2hHDhVG6","notify-footer":"_3BXfaFpK","operation-button":"_1KGm_Nqj","lobby-container":"_1497yWbf","lobby-title":"_1LYKtio2","lobby-avatar":"-Ew-Z3J5","preview-avatar-invisible":"_2Gv2UVOW","lobby-operation":"_1u-fT9Ma","config-invisible":"_1tR3rVbv","lobby-leave-btn":"_10AoXPxr"}},,,function(e,t,i){e.exports={"icon-base":"_15L7Twsw",disabled:"iqaTl1NO","ad-block-banner":"_1hZxCP2J","icon-warning":"_2EWBYTmj"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){},function(e,t,i){},,,,,,,,,,,,,function(e,t,i){},,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SocketEvents=t.SocketState=void 0,function(e){e.DISCONNECTED="DISCONNECTED",e.CONNECTED="CONNECTED",e.CONNECTING="CONNECTING"}(t.SocketState||(t.SocketState={})),function(e){e.ERROR="error",e.CONNECT="connect",e.CONNECTING="connecting",e.DISCONNECT="disconnect",e.RECONNECT_ATTEMPT="reconnect_attempt",e.RECONNECTING="reconnecting",e.CONNECT_TIMEOUT="connect_timeout",e.CONNECT_ERROR="connect_error",e.RECONNECT_ERROR="reconnect_error",e.RECONNECT_FAILED="reconnect_failed",e.RECONNECT="reconnect",e.RECONNECTED="reconnected"}(t.SocketEvents||(t.SocketEvents={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RenderLayout=void 0,function(e){e.CONTAIN="contain",e.COVER="cover"}(t.RenderLayout||(t.RenderLayout={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaChangeType=t.VideoProfile=t.StreamStatus=t.ScaleMode=t.StreamType=void 0,function(e){e.SCREEN="SCREEN",e.CAMERA="CAMERA",e.PREVIEW="PREVIEW"}(t.StreamType||(t.StreamType={})),function(e){e[e.Auto=0]="Auto",e[e.Stretch=1]="Stretch",e[e.FitWithCropping=2]="FitWithCropping",e[e.FitWithFilling=3]="FitWithFilling"}(t.ScaleMode||(t.ScaleMode={})),function(e){e.INIT="INIT",e.PUBLISHING="PUBLISHING",e.PUBLISHED="PUBLISHED",e.SUBSCRIBING="SUBSCRIBING",e.SUBSCRIBED="SUBSCRIBED",e.FAILED="FAILED",e.CLOSED="CLOSED"}(t.StreamStatus||(t.StreamStatus={})),function(e){e.V120P="120P",e.V180P="180P",e.V240P="240P",e.V360P="360P",e.V480P="480P",e.V720P="720P",e.V1080P="1080P",e.V1440P="1440P",e.V4K="4K"}(t.VideoProfile||(t.VideoProfile={})),function(e){e.VIDEO="VIDEO",e.AUDIO="AUDIO"}(t.MediaChangeType||(t.MediaChangeType={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ROOM_EVENTS=t.ROOM_STATE=void 0,function(e){e[e.DISCONNECTED=0]="DISCONNECTED",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED"}(t.ROOM_STATE||(t.ROOM_STATE={})),t.ROOM_EVENTS||(t.ROOM_EVENTS={})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SDKEventName=t.Channel=void 0,function(e){e.NONE="none",e.CN="cn",e.VA="va",e.CUSTOM="custom"}(t.Channel||(t.Channel={})),function(e){e.STATE_CHANGE="STATE_CHANGE",e.STREAM_ADDED="STREAM_ADDED",e.STREAM_REMOVED="STREAM_REMOVED",e.STREAM_SUBSCRIBED="STREAM_SUBSCRIBED",e.STREAM_FAILED="STREAM_FAILED",e.AUDIO_ENABLE="AUDIO_ENABLE",e.VIDEO_ENABLE="VIDEO_ENABLE",e.USER_CONNECTION="USER_CONNECTION",e.USER_DISCONNECTION="USER_DISCONNECTION",e.CUSTOM_MESSAGE="CUSTOM_MESSAGE",e.CLIENT_BANNED="CLIENT_BANNED",e.SIGNAL_SERVER_FAILED="SIGNAL_SERVER_FAILED",e.TOKEN_FAILED="TOKEN_FAILED",e.STREAM_PUBLISHED="STREAM_PUBLISHED",e.ACCESS_DENIED="ACCESS_DENIED",e.ACTIVE_SPEAKER="ACTIVE_SPEAKER",e.DEVICE_CHANGE="DEVICE_CHANGE",e.SHARE_SCREEN_STOP="SHARE_SCREEN_STOP",e.DEVICE_ADDED="DEVICE_ADDED",e.DEVICE_REMOVED="DEVICE_REMOVED",e.PERMISSION_CHANGE="PERMISSION_CHANGE",e.CONNECTION_UNSTABLE="CONNECTION_UNSTABLE",e.CONNECTION_INTERRUPTED="CONNECTION_INTERRUPTED",e.CONNECTION_LOST="CONNECTION_LOST",e.RECONNECTION_SUCCESS="RECONNECTION_SUCCESS",e.REJOIN_CHANNEL_SUCCESS="REJOIN_CHANNEL_SUCCESS",e.ICE_FAILED="ICE_FAILED",e.ERROR="ERROR"}(t.SDKEventName||(t.SDKEventName={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SDKMediaDeviceErrorCode=t.ReportRTCDeviceStage=t.ReportRTCDeviceType=t.AuthStatus=t.AuthType=t.DeviceType=void 0,function(e){e[e.kRecord=0]="kRecord",e[e.kPlayback=1]="kPlayback",e[e.kCamera=2]="kCamera"}(t.DeviceType||(t.DeviceType={})),function(e){e.Camera="camera",e.Microphone="microphone"}(t.AuthType||(t.AuthType={})),function(e){e[e.Unknown=-1]="Unknown",e[e.NotDetermined=0]="NotDetermined",e[e.Restricted=1]="Restricted",e[e.Denied=2]="Denied",e[e.Granted=3]="Granted",e[e.NoPermission=4]="NoPermission"}(t.AuthStatus||(t.AuthStatus={})),function(e){e[e.DT_Unknown=-1]="DT_Unknown",e[e.DT_AudioRecord=0]="DT_AudioRecord",e[e.DT_AudioPlayout=1]="DT_AudioPlayout",e[e.DT_Video=2]="DT_Video",e[e.DT_ShareAudioRecord=3]="DT_ShareAudioRecord",e[e.DT_ShareVideo=4]="DT_ShareVideo"}(t.ReportRTCDeviceType||(t.ReportRTCDeviceType={})),function(e){e[e.RTC_DEVICE_STAGE_UNKOWN=-1]="RTC_DEVICE_STAGE_UNKOWN",e[e.RTC_DEVICE_STAGE_INIT=0]="RTC_DEVICE_STAGE_INIT",e[e.RTC_DEVICE_STAGE_SET_DEVICE=1]="RTC_DEVICE_STAGE_SET_DEVICE",e[e.RTC_DEVICE_STAGE_INITIALIZE_DEVICE=2]="RTC_DEVICE_STAGE_INITIALIZE_DEVICE",e[e.RTC_DEVICE_STAGE_START_DEVICE=3]="RTC_DEVICE_STAGE_START_DEVICE",e[e.RTC_DEVICE_STAGE_STOP_DEVICE=4]="RTC_DEVICE_STAGE_STOP_DEVICE",e[e.RTC_DEVICE_STAGE_TERMINATE_DEVICE=5]="RTC_DEVICE_STAGE_TERMINATE_DEVICE",e[e.RTC_DEVICE_STAGE_GET_DEVICE_NUMBER=6]="RTC_DEVICE_STAGE_GET_DEVICE_NUMBER",e[e.RTC_DEVICE_STAGE_GET_DEVICE_NAME=7]="RTC_DEVICE_STAGE_GET_DEVICE_NAME",e[e.RTC_DEVICE_STAGE_GET_MUTE_CAPABILITY=8]="RTC_DEVICE_STAGE_GET_MUTE_CAPABILITY",e[e.RTC_DEVICE_STAGE_SET_MUTE=9]="RTC_DEVICE_STAGE_SET_MUTE",e[e.RTC_DEVICE_STAGE_GET_MUTE=10]="RTC_DEVICE_STAGE_GET_MUTE",e[e.RTC_DEVICE_STAGE_GET_VOLUME_CAPABILITY=11]="RTC_DEVICE_STAGE_GET_VOLUME_CAPABILITY",e[e.RTC_DEVICE_STAGE_SET_VOLUME=12]="RTC_DEVICE_STAGE_SET_VOLUME",e[e.RTC_DEVICE_STAGE_GET_VOLUME=13]="RTC_DEVICE_STAGE_GET_VOLUME",e[e.RTC_DEVICE_STAGE_GET_DEFAULT_DEVICE=14]="RTC_DEVICE_STAGE_GET_DEFAULT_DEVICE",e[e.RTC_DEVICE_STAGE_DEVICE_RUNNING=100]="RTC_DEVICE_STAGE_DEVICE_RUNNING",e[e.RTC_DEVICE_STAGE_RUNNING_SIGNAL=200]="RTC_DEVICE_STAGE_RUNNING_SIGNAL"}(t.ReportRTCDeviceStage||(t.ReportRTCDeviceStage={})),function(e){e[e.BRERR_VDM_CAMERA_IS_EMPTY=-1e3]="BRERR_VDM_CAMERA_IS_EMPTY",e[e.BRERR_VDM_CAMERA_IS_OCCUPIED=-1001]="BRERR_VDM_CAMERA_IS_OCCUPIED",e[e.BRERR_VDM_CAMERA_NOT_AUTHORIZED=-1002]="BRERR_VDM_CAMERA_NOT_AUTHORIZED",e[e.BRERR_VDM_CAMERA_FAILED_UNKNOWN=-1003]="BRERR_VDM_CAMERA_FAILED_UNKNOWN",e[e.BRERR_VDM_CAMERA_INIT_FAILED=-1004]="BRERR_VDM_CAMERA_INIT_FAILED",e[e.BRERR_VDM_CAMERA_START_FAILED=-1005]="BRERR_VDM_CAMERA_START_FAILED",e[e.BRERR_ADM_RECORDER_IS_EMPTY=-2e3]="BRERR_ADM_RECORDER_IS_EMPTY",e[e.BRERR_ADM_RECORDER_IS_OCCUPIED=-2001]="BRERR_ADM_RECORDER_IS_OCCUPIED",e[e.BRERR_ADM_NO_MODIFY_PERMISSION=-2002]="BRERR_ADM_NO_MODIFY_PERMISSION",e[e.BRERR_ADM_RECORDER_FAILED_UNKNOWN=-2003]="BRERR_ADM_RECORDER_FAILED_UNKNOWN",e[e.BRERR_ADM_RECORDER_UNSUPPORT_CHANNELS=-2004]="BRERR_ADM_RECORDER_UNSUPPORT_CHANNELS",e[e.BRERR_ADM_RECORDER_UNSUPPORT_SAMPLERATE=-2005]="BRERR_ADM_RECORDER_UNSUPPORT_SAMPLERATE",e[e.BRERR_ADM_PLAYOUT_IS_EMPTY=-2050]="BRERR_ADM_PLAYOUT_IS_EMPTY",e[e.BRERR_ADM_PLAYOUT_IS_OCCUPIED=-2051]="BRERR_ADM_PLAYOUT_IS_OCCUPIED",e[e.BRERR_ADM_PLAYOUT_FAILED_UNKNOWN=-2052]="BRERR_ADM_PLAYOUT_FAILED_UNKNOWN",e[e.BRERR_ADM_PLAYOUT_UNSUPPORT_CHANNELS=-2053]="BRERR_ADM_PLAYOUT_UNSUPPORT_CHANNELS",e[e.BRERR_ADM_PLAYOUT_UNSUPPORT_SAMPLERATE=-2054]="BRERR_ADM_PLAYOUT_UNSUPPORT_SAMPLERATE",e[e.BRERR_ADM_SET_AUDIO_RECORD_DEVICE_FAILED=-3e3]="BRERR_ADM_SET_AUDIO_RECORD_DEVICE_FAILED",e[e.BRERR_ADM_SET_AUDIO_PLAY_DEVICE_FAILED=-3001]="BRERR_ADM_SET_AUDIO_PLAY_DEVICE_FAILED"}(t.SDKMediaDeviceErrorCode||(t.SDKMediaDeviceErrorCode={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RenderMode=void 0,function(e){e[e.AUTO=0]="AUTO",e[e.COVER=1]="COVER",e[e.CONTAIN=2]="CONTAIN"}(t.RenderMode||(t.RenderMode={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.highEventName=void 0,t.highEventName=["join_room","leave_room","ice_status","signal_connection","publish","batch_subscribe","device_error","first_audio_frame","first_remote_video_frame","rtc_features","media_connection","ice_event","local_mute","network_changed"]},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SDKErrorCode=void 0,function(e){e[e.SHARE_SCREEN_NO_PERMISSION=1e4]="SHARE_SCREEN_NO_PERMISSION",e[e.LOCAL_CAMERA_FAILED=10001]="LOCAL_CAMERA_FAILED",e[e.JOIN_ROOM_FAILED=10002]="JOIN_ROOM_FAILED",e[e.SHARE_SCREEN_CANCELED=10003]="SHARE_SCREEN_CANCELED"}(t.SDKErrorCode||(t.SDKErrorCode={}))},function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RoomService=void 0;var s=i(787),a=i(791),d=o(i(159)),c=i(468),l=i(99),p=i(820),u=i(823),_=i(824),E=i(825),h=i(826),T=i(827),y=i(828),f=i(829),I=i(830),g=i(831),S=i(91),C=i(832),m=i(833),N=i(834),A=i(835),R=i(539),O=i(182),v=S.Logger.getLogger("room"),P=function(){function e(e){var t=this;this.joinOperation=new u.JoinOperation(this),this.publishOperation=new _.PublishOperation(this),this.subscribeOperation=new E.SubscribeOperation(this),this.attachOperation=new h.AttachOperation(this),this.deviceOperation=new T.DeviceOperation(this),this.asOperation=new f.ActiveSpeakerOperation(this),this.shareOperation=new I.ShareScreenOperation(this),this.permissionOperation=new C.PermissionOperation(this),this.streamChangeOperation=new m.StreamChangeOperation(this),this.previewOperation=new N.PreviewOperation(this),this.statOperation=new A.StatOperation(this),this.rejoining=!1,this.streamService=new s.StreamService,this.signalService=new a.SignalService,this.pconnectionService=new p.PeerConnectionService,this.room=new y.Room,this.clientId="",this.mediaConnectionInterruptCount=0,this.mediaConnectionInterruptInterval=0,this.onIceConnectionstatechange=function(e){var i=t.pconnectionService.getConnectionState(),n=t.pconnectionService.getIceConnectionState();if(v.log("onIceConnectionstatechange state: "+i+" iceState: "+n),v.track("ice_status",{cur_ice_state:(n||"").toUpperCase(),pre_ice_state:(t.pre_ice_state||"").toUpperCase()}),"connected"===t.pre_state&&(t.mediaConnectionInterruptCount++,t.mediaConnectionInterruptInterval=Date.now()),v.track("media_connection",{cur_state:i||"",pre_state:t.pre_state||"",interrupt_count:t.mediaConnectionInterruptCount,interrupt_interval:Date.now()-t.mediaConnectionInterruptInterval}),t.pre_ice_state=n,t.pre_state=i,"disconnected"===n&&t.rtcSDK.emit(l.SDKEventName.ICE_FAILED),"failed"===n&&t.rejoinRoom(),O.isAutomation&&"connected"===n){var r=t.pconnectionService.getSenders();null==r||r.forEach((function(e){var t=e.track;"audio"===(null==t?void 0:t.kind)?v.debug(O.AutomationCallback.OnFirstLocalAudioFrame):"video"!==(null==t?void 0:t.kind)||t.label.startsWith("screen")||v.debug(O.AutomationCallback.OnFirstLocalVideoFrame)}))}},this.onSignalingstatechange=function(e){var i=t.pconnectionService.getSignalingState();v.log("onSingalingState "+i)},this.onStreamRemove=function(e,i){return n(t,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.streamChangeOperation.onStreamRemove(e,i)];case 1:return t.sent(),[2]}}))}))},this.onStreamAdd=function(e,i,o,s){return void 0===s&&(s=!1),n(t,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.streamChangeOperation.onStreamAdd(e,i,o,s)];case 1:return t.sent(),[2]}}))}))},this.handleSignalPushMessage=function(e){return function(i){switch(e){case c.SignalPushMessage.SIGNAL_MESSAGE_RELAY:i.message&&"answer"===i.message.type&&t.handleAnswerPushMessage(i);break;case c.SignalPushMessage.ON_ADD_STREAM:t.handleStreamChangeMessage("add",i);break;case c.SignalPushMessage.ON_REMOVE_STREAM:t.handleStreamChangeMessage("remove",i),O.isAutomation&&v.debug(O.AutomationCallback.OnStreamRemove,i.sessionId,i.clientId,i.screen);break;case c.SignalPushMessage.ON_UPDATE_STREAM_ATTRIBUTES:t.handleStreamChangeMessage("attr",i);break;case c.SignalPushMessage.USER_CONNECTION:O.isAutomation&&v.debug(O.AutomationCallback.OnUserJoined,i.clientId);break;case c.SignalPushMessage.USER_DISCONNECTION:var n=i.clientId,r=i.tag;n===d.default.getUserId()&&"userDuplicateLogin"===r&&t.rtcSDK.emit(l.SDKEventName.CLIENT_BANNED),O.isAutomation&&v.debug(O.AutomationCallback.OnUserOffline,i.clientId);break;case c.SignalPushMessage.STREAM_FAILED:t.streamChangeOperation.onStreamFailed(i)}}},this.rtcSDK=e,this.switchSignalPushMessageHandle("on")}return e.prototype.getClient=function(){return this.rtcSDK},e.prototype.getAllStreamsInfoArray=function(){return this.streamService.getAllStreamsInfoArray()},e.prototype.join=function(e,t,i){var o,s;return n(this,void 0,void 0,(function(){var n,a,c,l=this;return r(this,(function(r){switch(r.label){case 0:return v.info(["[joinMeeting]","try updateServerConfig"].join("\n")),n=this.rtcSDK.config.reqAddrs,a=this.rtcSDK.config.appId,(null==i?void 0:i.vendorType)&&R.VENDOR_TYPE_REQ_ADDRS[i.vendorType]&&(n=R.VENDOR_TYPE_REQ_ADDRS[i.vendorType],a=R.VENDOR_TYPE_APP_ID[i.vendorType]),d.default.updateClientOptions({appId:a}),[4,this.fetchServerConfig(n)];case 1:return r.sent(),v.info(["[joinMeeting]","updateServerConfig success"].join(" ")),v.info(["[joinMeeting]","start invoke joinOperation.join"].join(" ")),[4,this.joinOperation.join(e,t,i)];case 2:return c=r.sent(),v.info(["[joinMeeting]","invoke joinOperation.join success"].join(" ")),null===(o=null==c?void 0:c.streams)||void 0===o||o.forEach((function(e){l.streamChangeOperation.onStreamAdd(e.streamId,e.clientId,e.attributes,e.screen)})),O.isAutomation&&(null===(s=null==c?void 0:c.clients)||void 0===s||s.forEach((function(e){v.debug(O.AutomationCallback.OnUserJoined,e)}))),this.asOperation.start(),this.statOperation.start(),[2]}}))}))},e.prototype.leave=function(){return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return v.track("leave_room",{total_drop_high:S.Logger.getDiscardHighEventCount(),total_drop_normal:S.Logger.getDiscardNotHighEventCount(),last_cached:0}),this.asOperation.stop(),this.statOperation.stop(),[4,this.joinOperation.leave()];case 1:return e.sent(),[2]}}))}))},e.prototype.startPreview=function(){return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,this.previewOperation.startPreview()];case 1:return e.sent(),[2]}}))}))},e.prototype.stopPreview=function(){return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,this.previewOperation.stopPreview()];case 1:return e.sent(),[2]}}))}))},e.prototype.updateStreamSubscribe=function(e,t,i,o){return void 0===i&&(i=!0),void 0===o&&(o=0),n(this,void 0,void 0,(function(){return r(this,(function(n){switch(n.label){case 0:if(!e||e.isLocal)return[2];e.setStatus(l.StreamStatus.SUBSCRIBING),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.streamChangeOperation.updateStreamSubscribe({streamList:[e.id],config:{enableMediaType:{video:t,audio:i},qualityLayer:{spatialLayer:o}}})];case 2:return n.sent(),e.hasSubscribeVideo=t,v.info(["[cameraStream]","[sub]","update subscribe video: "+t+", audio: "+i,"stream id: "+e.id+", targetDeviceId: "+e.userId].join("\n")),[3,4];case 3:return e.setStatus(l.StreamStatus.SUBSCRIBED),[7];case 4:return[2]}}))}))},e.prototype.updateStreamAttributes=function(e,t){return n(this,void 0,void 0,(function(){return r(this,(function(i){switch(i.label){case 0:return[4,this.streamChangeOperation.updateStreamAttributes(e,t)];case 1:return i.sent(),[2]}}))}))},e.prototype.getAllDevices=function(){return n(this,void 0,void 0,(function(){return r(this,(function(e){return[2,this.deviceOperation.getAllDevices()]}))}))},e.prototype.getDevices=function(e){return this.deviceOperation.getDevices(e)},e.prototype.setDevices=function(e,t){return n(this,void 0,void 0,(function(){return r(this,(function(i){switch(i.label){case 0:return[4,this.deviceOperation.setDevices(e,t)];case 1:return i.sent(),[2]}}))}))},e.prototype.getAuthorStatus=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){return[2,this.permissionOperation.getAuthStatus(e)]}))}))},e.prototype.attachStream=function(e,t,i,o,s){return void 0===o&&(o=0),n(this,void 0,void 0,(function(){return r(this,(function(n){switch(n.label){case 0:return[4,this.attachOperation.attach(e,t,i,o,s)];case 1:return n.sent(),[2]}}))}))},e.prototype.detachStream=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.attachOperation.detach(e)];case 1:return t.sent(),[2]}}))}))},e.prototype.subscribeStream=function(e,t,i){return void 0===t&&(t=!1),void 0===i&&(i=!0),n(this,void 0,void 0,(function(){return r(this,(function(n){switch(n.label){case 0:return[4,this.subscribeOperation.subscribe(e,t,i)];case 1:return n.sent(),[2]}}))}))},e.prototype.unsubscribeStream=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.subscribeOperation.unsubscribe(e)];case 1:return t.sent(),[2]}}))}))},e.prototype.enableLocalVideo=function(e){return void 0===e&&(e=!0),n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.deviceOperation.enableLocalVideo(e)];case 1:return t.sent(),[2]}}))}))},e.prototype.enableLocalAudio=function(e){return void 0===e&&(e=!0),n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.deviceOperation.enableLocalAudio(e)];case 1:return t.sent(),[2]}}))}))},e.prototype.enableSharingAudio=function(e){return void 0===e&&(e=!0),n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.deviceOperation.enableLocalAudio(e,!0)];case 1:return t.sent(),[2]}}))}))},e.prototype.publishStream=function(e,t){return void 0===t&&(t=!1),n(this,void 0,void 0,(function(){return r(this,(function(i){switch(i.label){case 0:return[4,this.publishOperation.publish(e,t)];case 1:return i.sent(),[2]}}))}))},e.prototype.unpublishStream=function(e){return void 0===e&&(e=!1),n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.publishOperation.unpublish(e)];case 1:return t.sent(),[2]}}))}))},e.prototype.startShareScreen=function(){return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,this.shareOperation.startShareScreen()];case 1:return e.sent(),[2]}}))}))},e.prototype.chooseShareScreenWindow=function(){return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,this.shareOperation.chooseShareScreenWindow()];case 1:return e.sent(),[2]}}))}))},e.prototype.getIsSharingAudioEnabled=function(){return this.shareOperation.hasScreenAudioTrack()},e.prototype.getIsSharingAudio=function(){return this.shareOperation.getIsSharingAudio()},e.prototype.stopShareScreen=function(){return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,this.shareOperation.stopShareScreen()];case 1:return e.sent(),[2]}}))}))},e.prototype.openPeerConnection=function(e){this.pconnectionService.open(e),this.pconnectionService.onMediaStreamAdd(this.streamChangeOperation.onMediaStreamAdd),this.pconnectionService.onIceConnectionstatechange(this.onIceConnectionstatechange),this.pconnectionService.onSignalingstatechange(this.onSignalingstatechange)},e.prototype.getOffer=function(){return this.pconnectionService.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0})},e.prototype.switchSignalPushMessageHandle=function(e){var t=this;if("on"===e)return Object.values(c.SignalPushMessage).forEach((function(i){t.signalService[e](i,t.handleSignalPushMessage(i))})),this.signalService.on(l.SocketEvents.RECONNECT_ATTEMPT,(function(e){e<6&&t.rtcSDK.emit(l.SDKEventName.CONNECTION_UNSTABLE),6===e&&t.rtcSDK.emit(l.SDKEventName.CONNECTION_INTERRUPTED),12===e&&t.rtcSDK.emit(l.SDKEventName.CONNECTION_LOST)})),this.signalService.on(l.SocketEvents.RECONNECT,(function(){t.rtcSDK.emit(l.SDKEventName.RECONNECTION_SUCCESS),t.rejoinRoom()})),void this.signalService.on(l.SocketEvents.RECONNECTED,(function(e,i){t.joinOperation.onRejoin(e,i),t.rtcSDK.emit(l.SDKEventName.REJOIN_CHANNEL_SUCCESS,i)}));Object.values(c.SignalPushMessage).forEach((function(i){t.signalService[e](i)})),Object.values(l.SocketEvents).forEach((function(i){t.signalService[e](i)}))},e.prototype.handleAnswerPushMessage=function(e){if(e.message){var t=e.message,i=t.sdp,n=t.diffSdp,r=t.offerVersion;this.pconnectionService.updateSdp(i,n,r)}},e.prototype.handleStreamChangeMessage=function(e,t){return n(this,void 0,void 0,(function(){return r(this,(function(i){switch(e){case"add":this.onStreamAdd(t.streamId,t.clientId,t.attributes,t.screen);break;case"remove":this.onStreamRemove(t.streamId,t.clientId);break;case"attr":this.streamChangeOperation.onUpdateStreamAttributes(t.streamId,t.attributes)}return[2]}))}))},e.prototype.rejoinRoom=function(){var e=this;if(!this.rejoining){this.rejoining=!0;var t=this.pconnectionService.getIceConnectionState(),i=!["failed","closed"].includes(t);this.signalService.rejoinRoom(5,t,{keepMS:i?"true":"false"}).finally((function(){e.rejoining=!1;var t=e.pconnectionService.getIceConnectionState(),n=!["failed","closed"].includes(t);i&&!n&&e.rejoinRoom()}))}},e.prototype.clearRemoteStreams=function(){var e=this,t=this.streamService.getRemoteStreams();Object.values(t).forEach((function(t){e.getClient().emit(l.SDKEventName.STREAM_REMOVED,t.userId,t.id,t.isScreen)})),this.streamService.clearRemoteStreams()},e.prototype.fetchServerConfig=function(e){var t;return n(this,void 0,void 0,(function(){var i,n,o,s,a,c,l,p,u,_,E,h,T,y;return r(this,(function(r){switch(r.label){case 0:i=d.default.getClientOptions(),n=i.appId,o=i.roomId,s=i.userId,a=i.deviceId,c={keys:["multiDomain","videoBandwidth"],roomId:o,userId:s,deviceId:a,appId:n,sdkVersion:"3.43"},u=Date.now(),_=0,E=e,r.label=1;case 1:if(!(_<E.length))return[3,6];h=E[_],r.label=2;case 2:return r.trys.push([2,4,,5]),[4,g.fetchPost(h,c)];case 3:return l=r.sent(),T=Date.now()-u,v.log("getServerConfig success"),d.default.updateServerConfig(l),v.track("get_config",{host:h,elapse:T,error_code:0,signal_hosts:(null===(t=d.default.getServerConfig())||void 0===t?void 0:t.domains.map((function(e){return e.host})))||[]}),[3,6];case 4:return y=r.sent(),v.error("getServerConfig from "+h+" failed, error: "+(null==y?void 0:y.message)+"."),p=y,[3,5];case 5:return _++,[3,1];case 6:if(!l)throw new Error("[fetchServerConfig] all reqAddrs failed. lastError: "+(null==p?void 0:p.message));return[2]}}))}))},e}();t.RoomService=P},function(e,t,i){"use strict";var n,r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StreamService=t.VideoProfileMap=void 0;var d=a(i(788)),c=i(789),l=i(99),p=a(i(159)),u=a(i(352)),_=i(91),E=i(182),h=a(i(329)),T=_.Logger.getLogger("stream-service");t.VideoProfileMap=((n={})[l.VideoProfile.V120P]=[160,120,15,65],n[l.VideoProfile.V180P]=[320,180,15,140],n[l.VideoProfile.V240P]=[320,240,15,200],n[l.VideoProfile.V360P]=[640,360,15,400],n[l.VideoProfile.V480P]=[640,480,15,500],n[l.VideoProfile.V720P]=[1280,720,15,1130],n[l.VideoProfile.V1080P]=[1920,1080,15,2080],n[l.VideoProfile.V1440P]=[2560,1440,30,4850],n[l.VideoProfile.V4K]=[3840,2160,30,8910],n);var y=function(){return{deviceId:p.default.getCurrentDeviceId(l.DeviceType.kRecord),noiseSuppression:!0,echoCancellation:!0,sampleRate:{ideal:44100}}},f=function(){var e=p.default.getCurrentDeviceId(l.DeviceType.kCamera),i=t.VideoProfileMap[l.VideoProfile.V480P];return{deviceId:e,aspectRatio:16/9,frameRate:{max:i[2]},maxKbps:i[3]}},I=function(){function e(){this.remoteStreams={},this.localMediaConstraints={},this.trackStreamMap={},this.init()}return e.prototype.init=function(){this.previewStream=new c.Stream(l.StreamType.PREVIEW,!0),this.localStream=new c.Stream(l.StreamType.CAMERA,!0),this.localScreenStream=new c.Stream(l.StreamType.SCREEN,!0),this.remoteStreams={}},e.prototype.clear=function(){this.clearRemoteStreams(),this.detachStreamVideo(this.localStream.id),this.detachStreamVideo(this.localScreenStream.id),this.freeLocalDevices(),this.freeLocalDevices(!0),d.default.reset(),this.init()},e.prototype.clearRemoteStreams=function(){var e=this;Object.keys(this.remoteStreams).forEach((function(t){var i=e.remoteStreams[t];e.detachStreamVideo(i.id),e.detachStreamAudio(i.id)})),this.remoteStreams={}},e.prototype.attachStreamVideo=function(e,t){var i=this.getStreamById(e);d.default.attachVideo(t,i,i.isLocal&&!i.isScreen),i.addAttachEl(t)},e.prototype.attachStreamAudio=function(e){var t=this.getStreamById(e);t.isLocal||d.default.attachAudio(t)},e.prototype.detachStreamAudio=function(e){var t=this.getStreamById(e);t&&(d.default.detachAudio(t),this.tryRemoveStream(e))},e.prototype.detachStreamVideo=function(e,t){var i=this.getStreamById(e);i&&(t?(d.default.detachVideo(i,t),i.removeAttachId(t)):i.videoAttachEls.forEach((function(e){d.default.detachVideo(i,e),i.removeAttachId(e)})),this.tryRemoveStream(e))},e.prototype.enableAudio=function(e,t){return void 0===e&&(e=!0),void 0===t&&(t=!1),o(this,void 0,void 0,(function(){var i,n;return s(this,(function(r){return i=t?this.localScreenStream:this.localStream,n=i.getAttribute().localaudio,T.log("[micMute] enableAudio: "+n+" => "+e+", isScreen: "+t),e===n?[2,!1]:(i.enableAudio(e),[2,!0])}))}))},e.prototype.enableVideo=function(e){return void 0===e&&(e=!0),o(this,void 0,void 0,(function(){var t;return s(this,(function(i){switch(i.label){case 0:return t=this.localStream.getAttribute().localvideo,T.log("[cameraMute] enableVideo: "+t+" => "+e),e===t?[2,!1]:(this.localStream.enabelVideo(e),e?[4,this.updateLocalStream(l.MediaChangeType.VIDEO)]:[3,2]);case 1:i.sent(),i.label=2;case 2:return[2,!0]}}))}))},e.prototype.setPlayback=function(e){d.default.setSinkId(e)},e.prototype.addRemoteStream=function(e,t,i,n,r){var o=this.remoteStreams[e];o||(o=new c.Stream),o.id=e,o.userId=t,o.streamType=i?l.StreamType.SCREEN:l.StreamType.CAMERA,r&&o.updateAttribute(r),n&&(o.setMediaStream(n),this.cacheStreamByTrackId(o)),this.remoteStreams[e]=o},e.prototype.cacheStreamByTrackId=function(e){var t,i=this;null===(t=e.getMediaStream())||void 0===t||t.getTracks().forEach((function(t){i.trackStreamMap[t.id]=e}))},e.prototype.tryRemoveStream=function(e){var t=this.getStreamById(e);t&&t.removed&&t.videoAttachEls.length<1&&(T.log("remove stream. stream id: "+e),delete this.remoteStreams[e])},e.prototype.markStreamRemoved=function(e){var t,i=this,n=this.getStreamById(e);n&&(this.detachStreamAudio(e),this.detachStreamVideo(e),null===(t=n.getMediaStream())||void 0===t||t.getTracks().forEach((function(e){delete i.trackStreamMap[e.id]})),n.destroyMediaStream(),n.removed=!0)},e.prototype.getLocalMediaConstraints=function(){return this.localMediaConstraints},e.prototype.getLocalStream=function(){return this.localStream},e.prototype.getLocalScreenStream=function(){return this.localScreenStream},e.prototype.freeLocalDevices=function(e){void 0===e&&(e=!1);var t=e?this.localScreenStream:this.localStream;t.id&&(T.log("freeLocalDevices. isScreen: "+e+", stream id:, "+(t&&t.id)),t.destroyMediaStream())},e.prototype.getRemoteStreams=function(){return this.remoteStreams},e.prototype.getLocalStreams=function(){var e;return(e={})[this.localStream.id]=this.localStream,e[this.localScreenStream.id]=this.localScreenStream,e},e.prototype.getAllStreamsInfoArray=function(){var e=this,t=this.getRemoteStreams(),i=this.getLocalStreams();return Object.keys(r(r({},t),i)).filter((function(t){var i=e.getStreamById(t);return i&&i.id&&(i.hasSubscribed||i.hasPublished)})).map((function(t){return e.getStreamById(t)}))},e.prototype.getStreamById=function(e){return e===this.localStream.id?this.localStream:e===this.localScreenStream.id?this.localScreenStream:this.remoteStreams[e]},e.prototype.getStreamByTrackId=function(e){return this.trackStreamMap[e]},e.prototype.getUserIdByStreamId=function(e){return e===this.localStream.id?this.localStream.userId:this.remoteStreams[e]?this.remoteStreams[e].userId:void 0},e.prototype.getStreamByUserId=function(e,t){var i=this;if(void 0===t&&(t=!1),this.localStream.userId===e||!e)return t?this.localScreenStream:this.localStream;var n=Object.keys(this.remoteStreams).filter((function(n){var r=i.remoteStreams[n];return r.userId===e&&r.isScreen===t}))[0];return this.remoteStreams[n]},e.prototype.getStreamByVideoAttachEl=function(e){var t=this;if(this.localStream.isAttachedByVideoId(e))return this.localStream;var i=Object.keys(this.remoteStreams).filter((function(i){if(t.remoteStreams[i].isAttachedByVideoId(e))return i}))[0];return this.remoteStreams[i]},e.prototype.updateLocalScreenStream=function(){var e;return o(this,void 0,void 0,(function(){var i,n,r,o;return s(this,(function(s){switch(s.label){case 0:return i=function(){var e=t.VideoProfileMap[l.VideoProfile.V720P],i=e[0],n=e[1],r=(e[2],e[3]);return{audio:!0,video:{width:{max:Math.min(i,n*screen.width/screen.height)},height:{max:Math.min(n,i*screen.height/screen.width)},frameRate:{max:8},maxKbps:r}}}(),[4,u.default.getDisplayMedia(i)];case 1:return n=s.sent(),r=!!n.getAudioTracks().length,o=(null===(e=n.getVideoTracks()[0])||void 0===e?void 0:e.getSettings())||{},T.log("local share screen media stream video setting: "+JSON.stringify(o)),E.isAutomation&&T.debug(E.AutomationCallback.OnFirstLocalScreenFrame,o.width,o.height),this.localScreenStream.id=n.id,this.localScreenStream.userId=p.default.getUserId(),this.localScreenStream.setMediaStream(n),this.localScreenStream.updateAttribute({audiostream:r,videostream:!0,localaudio:r,localvideo:!0,videoDescriptions:[{width:o.width,height:o.height,frameRate:o.frameRate,maxKbps:i.video.maxKbps}]}),[2,this.localScreenStream]}}))}))},e.prototype.initLocalStream=function(){return o(this,void 0,void 0,(function(){var e,t,i,n,r,o;return s(this,(function(s){switch(s.label){case 0:return e=h.default.canStartAudio,t=h.default.canStartVideo,e||t?(i=p.default.getClientOptions().userId,n={audio:e&&y(),video:t&&f()},this.localStream.getLocalMediaTime=Date.now(),[4,u.default.getUserMedia(n)]):(T.log("cant get mediastream when audio & video both are false"),[2]);case 1:return r=s.sent(),this.localStream.id=this.localStream.id||r.id,this.localStream.userId=i,h.default.canStartAudio&&this.localStream.updateAttribute({localaudio:!0,audiostream:!!r.getAudioTracks().length}),h.default.canStartVideo&&r.getVideoTracks().length&&(o=r.getVideoTracks()[0].getSettings(),T.log("local media stream video setting: "+JSON.stringify(o)),this.localStream.updateAttribute({localvideo:!0,videostream:!0,videoDescriptions:[{width:o.width,height:o.height,frameRate:Math.floor(o.frameRate||0),maxKbps:n.video?n.video.maxKbps:void 0}]})),this.localStream.setMediaStream(r),[2]}}))}))},e.prototype.updateLocalStream=function(e){var t;return o(this,void 0,void 0,(function(){var i,n,r,o,a,d,c,p=this;return s(this,(function(s){switch(s.label){case 0:return e===l.MediaChangeType.AUDIO&&h.default.canStartAudio?("default"===(i=y()).deviceId&&this.localStream.stopAudio(),[4,u.default.getUserMedia({audio:i})]):[3,2];case 1:return r=s.sent(),this.localStream.attribute.localaudio||r.getAudioTracks().forEach((function(e){e.enabled=!1})),this.localStream.replaceTrack(r,"audio"),[3,4];case 2:return e===l.MediaChangeType.VIDEO&&h.default.canStartVideo&&this.localStream.attribute.localvideo?(n=f(),[4,u.default.getUserMedia({video:n})]):[3,4];case 3:(r=s.sent()).getVideoTracks().length&&(o=null===(t=r.getVideoTracks()[0])||void 0===t?void 0:t.getSettings(),T.log("local media stream video setting: "+JSON.stringify(o)),this.localStream.updateAttribute({localvideo:!0,videostream:!0,videoDescriptions:[{width:o.width,height:o.height,frameRate:Math.floor(o.frameRate||0),maxKbps:n.maxKbps}]}),this.localStream.replaceTrack(r,"video"),a=this.localStream,d=a.videoAttachEls,c=a.id,T.info("rerender local video"),d.forEach((function(e){p.attachStreamVideo(c,e)}))),s.label=4;case 4:return[2]}}))}))},e}();t.StreamService=I},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Render=void 0;var n=i(91).Logger.getLogger("render"),r=function(){function e(){this.audioTrackMap={},this.audioStream=new MediaStream,this.audioContainer=null,this.audioPlayer=null,this.renderIndex=0,this.playerStreamAttrName="data-id",this.initAudioContainer()}return e.prototype.initAudioContainer=function(){var e=this;this.audioStream.getTracks().forEach((function(t){t.stop(),e.audioStream.removeTrack(t)})),this.audioContainer&&this.audioContainer.remove(),this.audioContainer=document.createElement("div"),this.audioContainer.setAttribute("id","asjfasjfwqfwfhasifhiqf"),this.audioPlayer=document.createElement("audio"),this.audioPlayer.autoplay=!0,this.audioContainer.appendChild(this.audioPlayer),document.body.appendChild(this.audioContainer)},e.prototype.reset=function(){this.audioStream=new MediaStream,this.initAudioContainer(),this.audioTrackMap={}},e.prototype.setSinkId=function(e){var t;return null===(t=this.audioPlayer)||void 0===t?void 0:t.setSinkId(e)},e.prototype.attachAudio=function(e){if(n.info(["[micStream]","attachAudio, streamId: "+e.id,"targetDeviceId: "+e.userId].join("\n")),!e.hasTrackedAudioRenderTime){var t=e.getAudioTrack();t&&(n.log("new audio track:",t),this.audioStream.addTrack(t),this.audioTrackMap[e.id]=t),this.audioPlayer&&(this.audioPlayer.srcObject=this.audioStream,n.log("start play audio")),e.hasTrackedAudioRenderTime||(e.hasTrackedAudioRenderTime=!0,n.track("first_remote_audio_render",{stream_id:e.id,stream_user_id:e.userId,media_from:"microphone",elapse:Date.now()-e.pubOrSubStartTime}))}},e.prototype.attachVideo=function(e,t,i){void 0===i&&(i=!1),n.log(["[cameraStream]","attachVideo. stream id: "+t.id,"targetDeviceId: "+t.userId].join("\n"));var r=t.getVideoStream();if(e){var o=this.getPlayerId(t.id,!0),s="user-"+t.userId+"-"+o+"-"+this.renderIndex++;e.setAttribute("id",s);var a=e.getElementsByTagName("video")[0];a?n.log("update attach video success, stream id: "+t.id):(a=this.createVideoPlayer(t,i),e.appendChild(a),n.log("attach video success, stream id: "+t.id)),a.style.transform=i?"scaleX(-1)":"",a.srcObject=r}else n.error("invalid attach player container el",e)},e.prototype.detachVideo=function(e,t){n.log("detachVideo. stream id: "+e.id,"videoPlayer:",t),t.innerHTML=""},e.prototype.detachAudio=function(e){var t=e.getAudioTrack();n.log("detachAudio. stream id: "+e.id),t&&this.audioStream.removeTrack(t),delete this.audioTrackMap[e.id]},e.prototype.getPlayerId=function(e,t){return(t?"video":"audio")+"-"+e},e.prototype.createVideoPlayer=function(e,t){this.getPlayerId(e.id,!0);var i=document.createElement("video");return i.setAttribute(this.playerStreamAttrName,e.id),i.setAttribute("style","width: 100%; height: 100%; object-fit: contain; "+(t?"transform: scaleX(-1)":"")),i.setAttribute("disablePictureInPicture","true"),i.muted=!0,i.setAttribute("autoplay",""),i.autoplay=!0,i.setAttribute("playsinline","true"),this.initVideoPlayerEvents(i,e),i},e.prototype.initVideoPlayerEvents=function(e,t){e.onloadeddata=function(){t.hasTrackedVideoRenderTime||(t.hasTrackedVideoRenderTime=!0,t.isLocal?n.track("local_first_frame",{media_type:t.isScreen?"share_video":"camera_video",elapse:Date.now()-t.getLocalMediaTime}):n.track("first_remote_video_frame",{stream_id:t.id,height:t.attribute.videoDescriptions[0].height,width:t.attribute.videoDescriptions[0].width,elapse:Date.now()-t.pubOrSubStartTime}))},e.onerror=function(e){var t="object"==typeof e?e:{code:"0",messsage:e};n.log("video player error. err code: "+t.code+", message: "+t.message,e)}},e}();t.Render=r,t.default=new r},function(e,t,i){"use strict";var n=this&&this.__rest||function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i};Object.defineProperty(t,"__esModule",{value:!0}),t.Stream=void 0;var r=i(99),o=i(91),s=i(790),a=o.Logger.getLogger("stream"),d=function(){function e(e,t){var i=this;void 0===e&&(e=r.StreamType.CAMERA),void 0===t&&(t=!1),this.mediaStream=null,this.status=r.StreamStatus.INIT,this.attribute={localaudio:!1,localvideo:!1,audiostream:!1,videostream:!1,videoDescriptions:[]},this.id="",this.userId="",this.innerOnVideoEnd=null,this.innerVideoAttachEls=[],this.removed=!1,this.isLocal=!1,this.hasSubscribeVideo=!1,this.attempts=0,this.pubOrSubStartTime=0,this.getLocalMediaTime=0,this.hasTrackedVideoRenderTime=!1,this.hasTrackedAudioRenderTime=!1,this.videoStats=new s.VideoStats,this.logEndEvent=function(){a.log("stream video end. stream id: "+i.id)},this.isLocal=t,this.streamType=e}return Object.defineProperty(e.prototype,"isScreen",{get:function(){return this.streamType===r.StreamType.SCREEN},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPublished",{get:function(){return this.status===r.StreamStatus.PUBLISHING||this.status===r.StreamStatus.PUBLISHED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasSubscribed",{get:function(){return this.status===r.StreamStatus.SUBSCRIBED||this.status===r.StreamStatus.SUBSCRIBING},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"videoAttachEls",{get:function(){return this.innerVideoAttachEls},enumerable:!1,configurable:!0}),e.prototype.digestVideoStats=function(){return this.videoStats.digest()},e.prototype.addAttachEl=function(e){this.innerVideoAttachEls.includes(e)||(this.innerVideoAttachEls.push(e),this.isLocal||this.videoStats.init(e.firstChild))},e.prototype.removeAttachId=function(e){if(void 0!==e){var t=this.innerVideoAttachEls.indexOf(e);this.innerVideoAttachEls.splice(t,1),this.videoStats.stop()}else this.innerVideoAttachEls=[]},e.prototype.isAttachedByVideoId=function(e){return this.innerVideoAttachEls.includes(e)},e.prototype.getStatus=function(){return this.status},e.prototype.setStatus=function(e){this.status=e},e.prototype.updateAttribute=function(e){a.log("updateAttribute "+JSON.stringify(e),e),Object.assign(this.attribute,e)},e.prototype.getAttribute=function(){return this.attribute},e.prototype.bindVideoEndEvent=function(){var e,t=this,i=null===(e=this.mediaStream)||void 0===e?void 0:e.getVideoTracks()[0];i&&(a.log("bindVideoEndEvent, streamId: "+this.id),i.onended=function(){t.logEndEvent(),t.innerOnVideoEnd&&t.innerOnVideoEnd()})},e.prototype.replaceTrack=function(e,t){var i,n;switch(a.log("replaceTrack. streamId: "+this.id+". type: "+t),t){case"audio":e.getVideoTracks().map((function(t){t.stop(),e.removeTrack(t)}));var r=null===(i=this.mediaStream)||void 0===i?void 0:i.getVideoTracks()[0];a.log("replaceTrack oldVideoTrack",r),r&&e.addTrack(r);break;case"video":e.getAudioTracks().map((function(t){t.stop(),e.removeTrack(t)}));var o=null===(n=this.mediaStream)||void 0===n?void 0:n.getAudioTracks()[0];a.log("replaceTrack oldAudioTrack",o),o&&e.addTrack(o)}this.mediaStream=e,this.bindVideoEndEvent()},e.prototype.setMediaStream=function(e){if(this.mediaStream){this.stopVideo(),this.stopAudio();var t=this.mediaStream.getVideoTracks()[0];t&&(t.onended=null)}this.mediaStream=e,this.bindVideoEndEvent()},e.prototype.getMediaStream=function(){return this.mediaStream},e.prototype.enableAudio=function(e){var t;a.info("[streamEnableAudio] [micMute] current enable: "+e),a.track("local_mute",{media_kind:"normal",media_type:"audio",mute:e,api_name:"enableLocalVideo"}),Object.assign(this.attribute,{audiostream:e,localaudio:e}),null===(t=this.mediaStream)||void 0===t||t.getAudioTracks().forEach((function(t){t.enabled=e}))},e.prototype.enabelVideo=function(e,t){a.info("[streamEnableVideo] [cameraMute] current enable: "+e),a.track("local_mute",{media_kind:"normal",media_type:"video",mute:e,api_name:"enableLocalVideo"}),Object.assign(this.attribute,{videostream:e,localvideo:e}),e||this.stopVideo()},e.prototype.getVideoStream=function(){var e,t=new MediaStream;return null===(e=this.mediaStream)||void 0===e||e.getVideoTracks().forEach((function(e){t.addTrack(e)})),t},e.prototype.getAudioStream=function(){var e,t=new MediaStream;return null===(e=this.mediaStream)||void 0===e||e.getAudioTracks().forEach((function(e){t.addTrack(e)})),t},e.prototype.getAudioTrack=function(){var e;return null===(e=this.mediaStream)||void 0===e?void 0:e.getAudioTracks()[0]},e.prototype.hasAudio=function(){return this.isLocal?this.attribute.localaudio:this.attribute.audiostream},e.prototype.hasVideo=function(){return this.isLocal?this.attribute.localvideo:this.attribute.videostream},e.prototype.hasVideoTrack=function(){var e;return!!(null===(e=this.mediaStream)||void 0===e?void 0:e.getVideoTracks().length)},e.prototype.hasAudioTrack=function(){var e;return!!(null===(e=this.mediaStream)||void 0===e?void 0:e.getAudioTracks().length)},e.prototype.onVideoEnd=function(e){a.log("update video end callback. streamId: "+this.id),this.innerOnVideoEnd=e},e.prototype.stopVideo=function(){var e;null===(e=this.mediaStream)||void 0===e||e.getVideoTracks().forEach((function(e){e.enabled=!1,e.stop()}))},e.prototype.stopAudio=function(){var e;null===(e=this.mediaStream)||void 0===e||e.getAudioTracks().forEach((function(e){e.enabled=!1,e.stop()}))},e.prototype.destroyMediaStream=function(){this.stopAudio(),this.stopVideo(),this.mediaStream=null},e.prototype.toJSON=function(){this.innerVideoAttachEls,this.videoAttachEls;var e=n(this,["innerVideoAttachEls","videoAttachEls"]);return JSON.stringify(e)},e}();t.Stream=d},function(e,t,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.VideoStats=void 0;var r=function(){function e(){this.stats={activeLen:0,stuckCnt:0,stuckLen:0,incActiveLen:0,incStuckCnt:0,incStuckLen:0},this.player=null}return e.prototype.init=function(e){var t=this;if(e&&!this.player){this.player=e;var i=Date.now(),n=0,r=0,o=function(){if(t.player){var s=e.currentTime,a=Date.now()-i;t.stats.activeLen+=a,t.stats.incActiveLen+=a,s-n?(n=s,r>=300&&r<=4e3&&(t.stats.stuckLen+=r,t.stats.stuckCnt++,t.stats.incStuckLen+=r,t.stats.incStuckCnt++),r=0):r+=a,i=Date.now(),setTimeout(o,33.3)}};e.readyState?(i=Date.now(),n=e.currentTime,setTimeout(o,33.3)):e.addEventListener("play",(function(){i=Date.now(),setTimeout(o,33.3)}))}},e.prototype.stop=function(){return this.player=null,this.digest()},e.prototype.digest=function(){var e=n({},this.stats);return this.stats.incActiveLen=0,this.stats.incStuckCnt=0,this.stats.incStuckLen=0,e},e}();t.VideoStats=r},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SignalService=void 0;var d=i(523),c=i(792),l=i(468),p=i(99),u=a(i(159)),_=i(91),E=a(i(536)),h=a(i(331)),T=i(182),y=_.Logger.getLogger("SIGNAL"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sio=new c.Socket,t.messageEvents=Object.values(l.SignalPushMessage),t.pushMessageHandle=function(e){return function(i){y.info(["[push]","pushMessageHandle event: "+e,"messageId: "+i.messageId,"messageType: "+(i.message&&i.message.type),"targetDeviceId: "+i.clientId,"streamId: "+i.streamId,"attributes: "+JSON.stringify(i.attributes)].join("\n")),y.track("signal",{signal_name:e,signal_type:"notify",result:"success",elapse:0}),(e!==l.SignalPushMessage.SIGNAL_MESSAGE_RELAY||i.message)&&t.emit(e,i)}},t}return r(t,e),t.prototype.getSocketState=function(){return this.sio.state},t.prototype.connect=function(e){return o(this,void 0,void 0,(function(){var t,i,n,r,o;return s(this,(function(s){switch(s.label){case 0:return(t=u.default.getClientOptions().signalServer)?[4,this.sio.open("ws://"+t+":3000")]:[3,2];case 1:return s.sent(),[3,7];case 2:i=!1,n=0,r=e,s.label=3;case 3:return n<r.length?(o=r[n],[4,this.sio.open((o.secure?"wss":"ws")+"://"+o.host,{secure:o.secure,path:o.path})]):[3,6];case 4:if(i=s.sent())return[3,6];s.label=5;case 5:return n++,[3,3];case 6:i||y.error("[joinMeeting] connect signalService all failed"),s.label=7;case 7:return this.switchMessageEventOn("on"),[2]}}))}))},t.prototype.disconnect=function(){this.switchMessageEventOn("off"),this.sio.close()},t.prototype.send=function(e,t){return o(this,void 0,void 0,(function(){var i,n,r;return s(this,(function(o){switch(o.label){case 0:n=0,o.label=1;case 1:return o.trys.push([1,3,,4]),y.track("signal",{signal_name:e,signal_type:"request",result:"",elapse:0}),r=Date.now(),[4,this.sio.send(e,t)];case 2:return i=o.sent(),n=Date.now()-r,y.track("signal",{signal_name:e,signal_type:"response",result:"success",elapse:n}),[3,4];case 3:return o.sent(),y.track("signal",{signal_name:e,signal_type:"response",result:"failed",elapse:n}),[3,4];case 4:return[2,i]}}))}))},t.prototype.joinRoom=function(e,t,i,n){return void 0===i&&(i=!0),void 0===n&&(n=!0),o(this,void 0,void 0,(function(){var r,o;return s(this,(function(s){switch(s.label){case 0:return r=this.getTokenJson(e,t,i,n),[4,this.send(l.SignalMessage.JOIN_ROOM,r)];case 1:return o=s.sent(),y.log(["[joinMeeting]","join room to signal service success",JSON.stringify(o&&o.streams)].join("\n")),T.isAutomation&&y.debug(T.AutomationCallback.OnJoinChannelSuccess,o.clientId),[2,o]}}))}))},t.prototype.rejoinRoom=function(e,t,i){return o(this,void 0,void 0,(function(){var n,r,o,a=this;return s(this,(function(s){switch(s.label){case 0:if(!(n=u.default.getToken()))return[2];Object.assign(n.params,i),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.send(l.SignalMessage.RECONNECTED,n)];case 2:return r=s.sent(),this.emit(p.SocketEvents.RECONNECTED,r,t),[3,4];case 3:if((o=s.sent()).code>=500&&o.code<600){if(e>0)return y.error("socket reconnect, but response.code is "+o.code+". so resend token!"),[2,new Promise((function(i){setTimeout((function(){return i(a.rejoinRoom(e-1,t))}),1e3)}))];y.error("socket reconnect, but signal server response 5xx too many times"),this.emit(p.SocketEvents.DISCONNECT,o)}else o.code>=600&&o.code<700?(y.error("room is broken in server "+o.code),this.emit(l.SignalPushMessage.SIGNAL_SERVER_FAILED,o)):o.code>=700&&o.code<800?(y.error("tokenFailed, response.code is "+o.code),this.emit(l.SignalPushMessage.TOKEN_FAILED),u.default.updateToken()):(y.error("socket reconnect, but response.code is "+o.code,"so disconnect!",o),this.emit(p.SocketEvents.DISCONNECT,o));return[3,4];case 4:return[2]}}))}))},t.prototype.publishStream=function(e){return o(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.send(l.SignalMessage.PUBLISH,e)];case 1:return[2,t.sent()]}}))}))},t.prototype.unpublishStream=function(e){return o(this,void 0,void 0,(function(){return s(this,(function(t){return[2,this.send(l.SignalMessage.UNPUBLISH,{streamId:e})]}))}))},t.prototype.subscribeStream=function(e){return o(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.send(l.SignalMessage.SUBSCRIBE,e)];case 1:return[2,t.sent()]}}))}))},t.prototype.unsubscribeStream=function(e){return o(this,void 0,void 0,(function(){return s(this,(function(t){return y.log("unsubscribeStream, streamId: "+e),this.send(l.SignalMessage.UNSUBSCRIBE,{streamId:e}),[2]}))}))},t.prototype.updateStreamSubscibe=function(e){return o(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return y.log("updateStreamSubscibe. data: "+JSON.stringify(e)),[4,this.send(l.SignalMessage.UPDATE_SUBSCRIBE,e)];case 1:return t.sent(),[2]}}))}))},t.prototype.updateStreamAttributes=function(e,t){return o(this,void 0,void 0,(function(){return s(this,(function(i){switch(i.label){case 0:return y.log("updateStreamAttributes. stream id: "+e,"attributes:",JSON.stringify(t)),[4,this.send(l.SignalMessage.UPDATE_STREAM_ATTRIBUTES,{streamId:e,attributes:t})];case 1:return i.sent(),[2]}}))}))},t.prototype.leaveRoom=function(){return o(this,void 0,void 0,(function(){var e,t;return s(this,(function(i){switch(i.label){case 0:return(e=u.default.getToken())?[4,this.send(l.SignalMessage.LEAVE_ROOM,{sessionId:e.sessionId,Authorization:e.Authorization})]:[2];case 1:return t=i.sent(),y.log("leave room success",t),[2,t]}}))}))},t.prototype.getTokenJson=function(e,t,i,n){void 0===i&&(i=!0),void 0===n&&(n=!0);var r=u.default.getClientOptions(),o=r.deviceId,s=r.appId,a=r.userId,d=r.mediaServerAddr,c=e?"Bearer "+e:"Basic "+window.btoa([s,t,a].join(":")),l={userAttributes:{enableaudio:n,enablevideo:i},params:{deviceType:"web",userAgent:navigator.userAgent,sdkVersion:E.default.version,deviceId:o,appId:s,roomId:t,userId:a},Authorization:c,sessionId:h.default,_userAgentIP:"",_mediaServerAddr:d,_idc:""};return u.default.updateToken(l),l},t.prototype.switchMessageEventOn=function(e){var t=this;if("on"===e)return this.messageEvents.map((function(i){return t.sio[e](i,t.pushMessageHandle(i))})),this.sio.on(p.SocketEvents.RECONNECT_ATTEMPT,(function(e){y.warn("socket on reconnect, attempts: "+e),t.emit(p.SocketEvents.RECONNECT_ATTEMPT,e)})),this.sio.on(p.SocketEvents.RECONNECT,(function(e){y.log("socket connect success after "+e+" attempt times"),t.emit(p.SocketEvents.RECONNECT,e)})),void this.sio.on(p.SocketEvents.CONNECT_TIMEOUT,(function(){t.emit(p.SocketEvents.CONNECT_TIMEOUT)}));this.messageEvents.map((function(i){return t.sio[e](i)}))},t}(d.EventEmitter);t.SignalService=f},function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=void 0;var s=o(i(793)),a=i(99),d=i(819),c=i(330),l=i(91),p=o(i(331)),u=l.Logger.getLogger("socket"),_={reconnection:!0,reconnectionAttempts:12,reconnectionDelay:5e3,timeout:5e3,secure:!0,forceNew:!0,transports:["websocket"],rejectUnauthorized:!1,query:{wsid:p.default,EIO:3,transport:"websocket"},path:"/socket.io"},E=function(){function e(){this.io=null,this.clientId="",this.sender=null,this.pre_signal_state="new",this.interrupt_count=0,this.pre_interrupt_time=0,this.pre_connecting_time=0,this.state=a.SocketState.DISCONNECTED}return e.prototype.open=function(e,t){var i=this;u.info(["[joinMeeting]","connecting signalService","domainHost: "+e].join("\n")),this.io=s.default.connect(e,Object.assign(_,t)),this.activeEveryPushAckToServer(),this.addEventListeners();var n=!1;return new Promise((function(t){var r=function(){u.error(["[joinMeeting]","connect signalService failed","domainHost: "+e].join("\n")),i.close(),n=!0,t(!1)},o=function(){u.info(["[joinMeeting]","connect signalService success","domainHost: "+e].join("\n")),i.io.io.off("open",o),i.io.io.off(a.SocketEvents.CONNECT_ERROR,r),i.state=a.SocketState.CONNECTED,n=!0,t(!0)};i.io.io.on("open",o),i.io.io.on(a.SocketEvents.CONNECT_ERROR,r),setTimeout((function(){n||r()}),_.timeout)}))},e.prototype.close=function(){var e;this.removeEventListeners(),null===(e=this.io)||void 0===e||e.disconnect(),this.sender=null},e.prototype.on=function(e,t){var i;null===(i=this.io)||void 0===i||i.on(e,t)},e.prototype.off=function(e,t){var i;null===(i=this.io)||void 0===i||i.off(e,t)},e.prototype.send=function(e,t){return n(this,void 0,void 0,(function(){var i;return r(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.getSioSender()(e,t)];case 1:return[2,n.sent()];case 2:throw i=n.sent(),u.error("socket sendMessage "+e+". error message: "+i.message,i,t),i;case 3:return[2]}}))}))},e.prototype.getSioSender=function(){var e,t;return this.sender||(this.sender=c.socketCallbackToPromise(null===(t=null===(e=this.io)||void 0===e?void 0:e.emit)||void 0===t?void 0:t.bind(this.io))),this.sender},e.prototype.addEventListeners=function(){var e,t=this;u.track("signal_connection",{cur_signal_state:"new",pre_signal_state:this.pre_signal_state,interrupt_count:this.interrupt_count,interrupt_interval:0,host:"",elapse:0}),this.io.on(a.SocketEvents.CONNECTING,(function(){u.log("socket on connecting"),u.track("signal_connection",{cur_signal_state:"connecting",pre_signal_state:t.pre_signal_state,interrupt_count:t.interrupt_count,interrupt_interval:0,host:"",elapse:0}),t.pre_signal_state="connecting",t.pre_connecting_time=Date.now()})),this.io.on(a.SocketEvents.CONNECT,(function(){var e;u.log("socket on connect"),u.track("signal_connection",{cur_signal_state:"connected",pre_signal_state:t.pre_signal_state,interrupt_count:t.interrupt_count,interrupt_interval:t.pre_interrupt_time?Date.now()-t.pre_interrupt_time:0,host:(null===(e=t.io)||void 0===e?void 0:e.io.uri)||"",elapse:Date.now()-t.pre_connecting_time}),t.pre_signal_state="connected"})),this.io.on(a.SocketEvents.ERROR,(function(e){u.error("socker error. code: "+e.code+", message: "+e.message)})),this.io.on(a.SocketEvents.DISCONNECT,(function(e){var i;u.error("socker disconnect. reason: "+e),e===d.IO_SERVER_DISCONNECT&&t.close(),t.state=a.SocketState.DISCONNECTED,u.track("signal_connection",{cur_signal_state:"disconnected",pre_signal_state:t.pre_signal_state,interrupt_count:t.interrupt_count,interrupt_interval:0,host:(null===(i=t.io)||void 0===i?void 0:i.io.uri)||"",elapse:Date.now()-t.pre_connecting_time}),t.pre_signal_state="disconnected",t.interrupt_count++,t.pre_interrupt_time=Date.now()})),this.io.on(a.SocketEvents.CONNECT_TIMEOUT,(function(e){u.error("socker connect timeout. message: "+e.message),t.state=a.SocketState.DISCONNECTED})),this.io.on(a.SocketEvents.CONNECT_ERROR,(function(e){u.error("socker on connect_error. message: "+e.message),t.state=a.SocketState.DISCONNECTED})),this.io.on(a.SocketEvents.RECONNECT_ATTEMPT,(function(){u.error("socker on connect_error.")})),this.io.on(a.SocketEvents.RECONNECTING,(function(e){var i;u.error("socker on reconnecting. attempts: "+e),t.state=a.SocketState.CONNECTING,u.track("signal_connection",{cur_signal_state:"reconnecting",pre_signal_state:t.pre_signal_state,interrupt_count:t.interrupt_count,interrupt_interval:0,host:(null===(i=t.io)||void 0===i?void 0:i.io.uri)||"",elapse:0}),t.pre_connecting_time=Date.now(),t.pre_signal_state="reconnecting"})),this.io.on(a.SocketEvents.RECONNECT_ERROR,(function(e){u.error("socker on reconnect_error. message: "+e.message)})),this.io.on(a.SocketEvents.RECONNECT_FAILED,(function(e){u.error("socker on reconncet_failed. message: "+e.message),t.state=a.SocketState.DISCONNECTED})),null===(e=this.io)||void 0===e||e.on(a.SocketEvents.RECONNECTED,(function(e){u.error("socker on reconnected. message: "+e.message),t.state=a.SocketState.CONNECTED}))},e.prototype.removeEventListeners=function(){var e=this;Object.values(a.SocketEvents).map((function(t){return e.io.off(t)}))},e.prototype.activeEveryPushAckToServer=function(){if(this.io){var e=this.io,t=e.on;this.io.on=function(i,n){return t.call(this,i,(function(t){t&&t.messageId&&e.emit(i+"-res",{messageId:t.messageId}),n(t)})),this}}},e}();t.Socket=E},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IO_CLIENT_DISCONNECT=t.IO_SERVER_DISCONNECT=void 0,t.IO_SERVER_DISCONNECT="io server disconnect",t.IO_CLIENT_DISCONNECT="io client disconnect"},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PeerConnectionService=void 0;var r=n(i(821)),o=i(330),s=i(91),a=i(112),d=s.Logger.getLogger("peerconnection service"),c=function(){function e(){var e=this;this.pc=null,this.executionSdpUpdate=a.debounce((function(){var t;d.log("executionSdpUpdate. signalingState: "+e.getSignalingState()),null===(t=e.pc)||void 0===t||t.executionSdpUpdate().then((function(e){e?d.log("executionSdpUpdate pending answer: "+e):d.log("executionSdpUpdate success")})).catch((function(t){var i;d.error("executionSdpUpdate error: "+t),"stable"!==e.getSignalingState()&&(null===(i=e.pc)||void 0===i||i.rollback())}))}),200)}return e.prototype.open=function(e){this.close(),this.pc=new r.default(e),d.log("using plan-b sdpSemantics"),window.vc_web_pc=this.pc},e.prototype.close=function(){var e;if(this.pc){var t=null===(e=this.pc)||void 0===e?void 0:e.getConnection();t.ontrack=o.noop,t.oniceconnectionstatechange=o.noop,t.close(),this.pc=null}},e.prototype.replaceStream=function(e,t){var i,n=e.getAudioTracks()[0]||{},r=e.getVideoTracks()[0]||{},o=t.getAudioTracks()[0],s=t.getVideoTracks()[0];null===(i=this.pc)||void 0===i||i.getConnection().getSenders().forEach((function(e){!e.track||e.track.id!==r.id&&e.track.id!==n.id||("audio"===e.track.kind?e.replaceTrack(o):e.replaceTrack(s))}))},e.prototype.getConnectionState=function(){var e;return null===(e=this.pc)||void 0===e?void 0:e.getConnection().connectionState},e.prototype.getIceConnectionState=function(){var e;return null===(e=this.pc)||void 0===e?void 0:e.getConnection().iceConnectionState},e.prototype.getSignalingState=function(){var e;return null===(e=this.pc)||void 0===e?void 0:e.getConnection().signalingState},e.prototype.onMediaStreamAdd=function(e){this.pc.onMediaStreamAdd(e)},e.prototype.addStream=function(e){var t;null===(t=this.pc)||void 0===t||t.addStream(e)},e.prototype.onIceConnectionstatechange=function(e){this.pc.getConnection().oniceconnectionstatechange=e},e.prototype.onSignalingstatechange=function(e){this.pc.getConnection().onsignalingstatechange=e},e.prototype.getStat=function(){var e;return null===(e=this.pc)||void 0===e?void 0:e.getConnection().getStats()},e.prototype.getSenders=function(){var e;return null===(e=this.pc)||void 0===e?void 0:e.getConnection().getSenders()},e.prototype.getReceivers=function(){var e;return null===(e=this.pc)||void 0===e?void 0:e.getConnection().getReceivers()},e.prototype.createOffer=function(e){var t;return null===(t=this.pc)||void 0===t?void 0:t.createOffer(e)},e.prototype.updateSdp=function(e,t,i){var n,r;if(void 0===t&&(t=!1),d.debug("updateSdp. sdp:",{sdp:e,isDiff:t}),t){var o=JSON.parse(e);if(!(null===(n=this.pc)||void 0===n?void 0:n.insertDiffAnswer(o,i)))return}else null===(r=this.pc)||void 0===r||r.setAnswer(e,i);this.executionSdpUpdate()},e}();t.PeerConnectionService=c},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},s=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){function t(t){var i=e.call(this)||this;return i.config={iceCandidatePoolSize:4,sdpSemantics:"plan-b"},i.currentSdp="",i.config=o(o({},i.config),t),i.connection=new RTCPeerConnection(i.config),i}return r(t,e),t.prototype.addStream=function(e){var t,i=e.getMediaStream();i&&!(null===(t=this.connection.localDescription)||void 0===t?void 0:t.sdp.includes(i.id))&&this.connection.addStream(i)},t.prototype.createOffer=function(e){return s(this,void 0,void 0,(function(){var t;return a(this,(function(i){switch(i.label){case 0:return this.createOfferLock?[4,new Promise((function(e){return setTimeout(e,100)}))]:[3,2];case 1:return i.sent(),[3,0];case 2:return this.createOfferLock=!0,[4,this.connection.createOffer(e)];case 3:return t=i.sent(),[4,this.connection.setLocalDescription(t)];case 4:return i.sent(),this.createOfferLock=!1,[2,{offerVersion:this.createOfferVersion(),offer:t}]}}))}))},t.prototype.setAnswer=function(e,t){var i=this;this.validateOfferVersion(t)&&(this.currentSdp||this.pendingOfferVersions[0]!==t||(this.currentSdp=e,this.pendingDiffSdps.forEach((function(e){var t=e.diffSdp,n=e.offerVersion;i.insertDiffAnswer(t,n)})),this.pendingDiffSdps.length=0),this.removeOfferVersion(t))},t.prototype.insertDiffAnswer=function(e,t){if(!this.validateOfferVersion(t))return!1;if(this.currentSdp){var i=this.currentSdp.indexOf("m=video");return this.currentSdp=this.currentSdp.slice(0,i)+e.audio+this.currentSdp.slice(i)+e.video,this.removeOfferVersion(t),!0}return this.pendingDiffSdps.push({diffSdp:e,offerVersion:t}),!1},t.prototype.executionSdpUpdate=function(){return s(this,void 0,void 0,(function(){var e,t=this;return a(this,(function(i){return(e=this.pendingOfferVersions.length)?[2,e]:[2,this.connection.setRemoteDescription({type:"answer",sdp:this.currentSdp}).then((function(){return e})).finally((function(){t.createOfferLock&&(t.createOfferLock=!1)}))]}))}))},t.prototype.onMediaStreamAdd=function(e){this.connection.onaddstream=function(t){var i=t.stream;i&&e(i)}},t}(i(822).PeerConnection);t.default=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PeerConnection=void 0;var n=function(){function e(){this.createOfferLock=!1,this.maxPendingOffer=10,this.offerVersion=1024,this.pendingOfferVersions=[],this.pendingDiffSdps=[]}return e.prototype.createOfferVersion=function(){var e="c"+this.offerVersion++;return this.pendingOfferVersions.push(e),this.pendingOfferVersions.length>=this.maxPendingOffer&&(this.createOfferLock=!0),e},e.prototype.removeOfferVersion=function(e){this.pendingOfferVersions=this.pendingOfferVersions.filter((function(t){return t!==e}))},e.prototype.validateOfferVersion=function(e){return this.pendingOfferVersions.includes(e)},e.prototype.getConnection=function(){return this.connection},e.prototype.rollback=function(){this.connection.setRemoteDescription({type:"rollback"})},e}();t.PeerConnection=n},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LeaveOperation=t.JoinOperation=void 0;var d=i(170),c=a(i(159)),l=i(99),p=i(91),u=i(182),_=p.Logger.getLogger("join-leave"),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.transIceServers=function(e){return void 0===e&&(e=[]),e.map((function(e){var t=atob(e.pwc),i=t.slice(2)+t.slice(0,2);return{urls:[e.uri],username:e.user,credential:i}}))},t.prototype.join=function(e,t,i){return o(this,void 0,void 0,(function(){var n,r,o,a,d;return s(this,(function(s){switch(s.label){case 0:if(n=this.roomService,r=n.room,n.streamService,r.status!==l.ROOM_STATE.DISCONNECTED)return _.error(["[joinMeeting]","duplicate join room. room id: "+t].join("\n")),[2];r.status=l.ROOM_STATE.CONNECTING,_.info(["[joinMeeting]","join room. ","enableaudio: "+(null==i?void 0:i.enableaudio)+",","enablevideo: "+(null==i?void 0:i.enablevideo)+",",'vendorType": '+(null==i?void 0:i.vendorType)].join("\n")),s.label=1;case 1:if(s.trys.push([1,4,,5]),!(a=c.default.getServerConfig()))throw new Error("[joinMeeting] Error: join before updateServerConfig");return[4,n.signalService.connect(a.domains)];case 2:return s.sent(),[4,n.signalService.joinRoom(e,t,null==i?void 0:i.enablevideo,null==i?void 0:i.enableaudio)];case 3:return o=s.sent(),_.info("[joinMeeting] join room success!"),n.clientId=o.clientId,n.openPeerConnection({iceServers:this.transIceServers(o.config.ice_servers)}),_.info("[joinMeeting] peerconnection opened"),[3,5];case 4:throw d=s.sent(),r.status=l.ROOM_STATE.DISCONNECTED,_.error(["[joinMeeting]","JoinOperation.join error","room status: "+r.status].join("\n")),d;case 5:return r.status=l.ROOM_STATE.CONNECTED,[2,o]}}))}))},t.prototype.onRejoin=function(e,t){var i,n;return o(this,void 0,void 0,(function(){var r,o,a,d,p,E,h,T,y,f,I,g,S,C;return s(this,(function(s){switch(s.label){case 0:return r=this.roomService,o=r.streamService,a=r.signalService,d=r.room,r.pconnectionService,p=c.default.getToken(),_.log("rejoin success. room id: "+(null===(i=null==p?void 0:p.params)||void 0===i?void 0:i.roomId),"reponse:",e),d.status=l.ROOM_STATE.CONNECTED,E=e.streams||[],h=E.map((function(e){return e.streamId})),T=[],y=[],E.forEach((function(e){o.getStreamById(e.streamId)||T.push(e)})),f=o.getRemoteStreams(),Object.keys(f).forEach((function(e){h.includes(e)||y.push(f[e])})),_.log("added streams: "+JSON.stringify(T)),_.log("removed streams: "+JSON.stringify(y)),y.forEach((function(e){r.onStreamRemove(e.id,e.userId)})),["failed","closed"].includes(t)?(r.clearRemoteStreams(),r.openPeerConnection({iceServers:this.transIceServers(e.config.ice_servers)}),_.log("reopen peer connection"),[4,r.publishStream()]):[3,2];case 1:return s.sent(),r.publishStream(void 0,!0),E.forEach((function(e){r.onStreamAdd(e.streamId,e.clientId,e.attributes,e.screen)})),u.isAutomation&&(null===(n=e.clients)||void 0===n||n.forEach((function(e){_.debug(u.AutomationCallback.OnUserJoined,e)}))),[2];case 2:return T.forEach((function(e){r.onStreamAdd(e.streamId,e.clientId,e.attributes)})),I=r.clientId,g=E.filter((function(e){return e.clientId===I})),_.log("responsePublishStreams",g),S=g.filter((function(e){return!o.getStreamById(e.streamId)})),_.log("need unpublish streams.",S),C=Object.keys(o.getLocalStreams()).filter((function(e){return!g.find((function(t){return t.streamId===e}))})),_.log("need republish streams.",C),S.forEach((function(e){a.unpublishStream(e.streamId)})),C.forEach((function(e){var t=o.getStreamById(e);r.publishStream(void 0,t.isScreen)})),[2]}}))}))},t.prototype.leave=function(){return o(this,void 0,void 0,(function(){var e,t,i,n,r;return s(this,(function(o){switch(o.label){case 0:if(_.log("leave room"),e=this.roomService,t=e.room,i=e.signalService,n=e.pconnectionService,r=e.streamService,t.status===l.ROOM_STATE.DISCONNECTED)return[2];o.label=1;case 1:return o.trys.push([1,4,5,6]),[4,Promise.all([e.unpublishStream(),e.unpublishStream(!0)])];case 2:return o.sent(),[4,i.leaveRoom()];case 3:return o.sent(),[3,6];case 4:throw o.sent();case 5:return t.status=l.ROOM_STATE.DISCONNECTED,i.disconnect(),n.close(),r.clear(),c.default.clear(),[7];case 6:return[2]}}))}))},t}(d.BaseOperation);t.JoinOperation=E;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(d.BaseOperation);t.LeaveOperation=h},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},s=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PublishOperation=void 0;var c=i(170),l=d(i(159)),p=i(99),u=i(91),_=d(i(331)),E=d(i(329)),h=u.Logger.getLogger("publish");var T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.publish=function(e,t){return void 0===t&&(t=!1),s(this,void 0,void 0,(function(){var i,n,r,s,d,c,u,T,y,f,I,g,S,C,m,N,A,R;return a(this,(function(a){switch(a.label){case 0:i=this.roomService,n=i.streamService,r=i.pconnectionService,s=i.signalService,d=n.getStreamByUserId(void 0,t),a.label=1;case 1:return a.trys.push([1,7,,8]),(c=e)?(d.setMediaStream(c),[3,4]):[3,2];case 2:return(c=d.getMediaStream())||t||!E.default.canStartAudio&&!E.default.canStartVideo?[3,4]:(u=d.attribute,T=u.localaudio,y=u.localvideo,[4,n.initLocalStream()]);case 3:a.sent(),d.enableAudio(T),d.enabelVideo(y),c=d.getMediaStream(),a.label=4;case 4:return d&&c?(d.userId=l.default.getUserId(),d.setStatus(p.StreamStatus.PUBLISHING),r.addStream(d),[4,i.getOffer()]):(h.log(["no media stream to publish.","localStream:",d,"mediaStream:",c,"stream:",e].join("\n")),[2]);case 5:return f=a.sent(),I=f.offer,g=f.offerVersion,S=o(o({},{state:"relay",data:!1,audio:!0,video:!0,attributes:{audiostream:!0,localaudio:!0,videostream:!0,localvideo:!0,videoDescriptions:[{width:640,height:480,framerate:30,maxkbps:2048}]},minVideoBW:200,singlePC:!0,eventSessionId:_.default,pc_session_id:_.default,diffSdp:!0}),{offerVersion:g,sdpInfo:I,screen:t,msid:c.id}),C=d.getAttribute(),Object.assign(S.attributes,o({},C)),h.track("publish",{publish_state:"send_offer",publish_type:t?"share":"camera",result:"",stream_id:S.streamId||"",elapse:0}),m=Date.now(),[4,s.publishStream(S)];case 6:return N=a.sent(),h.track("publish",{publish_state:"send_offer_ack",publish_type:t?"share":"camera",result:"success",stream_id:N.streamId||"",elapse:Date.now()-m}),A=d.id,d.id=N.streamId,d.pubOrSubStartTime=Date.now(),d.attempts++,A!==d.id&&this.roomService.getClient().emit(p.SDKEventName.STREAM_REMOVED,d.userId,A,d.isScreen),h.info(["[joinMeeting]","[micStream]","[cameraStream]","[pub]","publishStream success, original localStream id: "+A+" ===> signal server create id: "+N.streamId,"rtc-sessionId: "+S.pc_session_id+", attr: "+JSON.stringify(S.attributes)].join("\n")),d.setStatus(p.StreamStatus.PUBLISHED),[2,!0];case 7:throw R=a.sent(),null==d||d.setStatus(p.StreamStatus.INIT),h.error(["[joinMeeting]","[micStream]","[cameraStream]","[pub]","publishStream failed: ",R].join("\n")),new Error("publish stream failed");case 8:return[2]}}))}))},t.prototype.unpublish=function(e){return void 0===e&&(e=!1),s(this,void 0,void 0,(function(){var t,i,n,r;return a(this,(function(o){switch(o.label){case 0:return t=this.roomService,i=t.streamService,n=t.signalService,(r=i.getStreamByUserId(void 0,e)).attempts=0,r.pubOrSubStartTime=0,r&&r.id&&!r.removed?[4,n.unpublishStream(r.id)]:[2];case 1:return o.sent(),[2]}}))}))},t}(c.BaseOperation);t.PublishOperation=T},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SubscribeOperation=void 0;var d=i(170),c=i(99),l=i(91),p=a(i(331)),u=i(182),_=l.Logger.getLogger("subscribe"),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.subscribe=function(e,t,i){return void 0===t&&(t=!1),void 0===i&&(i=!0),o(this,void 0,void 0,(function(){var n,r,o,a,d,l,E,h;return s(this,(function(s){switch(s.label){case 0:if(n=this.roomService,r=n.streamService,o=n.signalService,!(a=r.getStreamById(e))||a.isLocal||a.getStatus()===c.StreamStatus.SUBSCRIBING)return _.info([t?"[cameraStream]":"",i?"[micStream]":"","[sub]","invalid subscribe stream or duplicate subscribe. stream id: "+e].join("\n")),[2];if(a.getStatus()===c.StreamStatus.SUBSCRIBED)return[2,this.roomService.updateStreamSubscribe(a,t,i)];a.setStatus(c.StreamStatus.SUBSCRIBING),_.info([t?"[cameraStream]":"",i?"[micStream]":"","[sub]","try subscribe stream id: "+e].join("\n")),s.label=1;case 1:return s.trys.push([1,4,,5]),[4,n.getOffer()];case 2:return d=s.sent(),l=d.offer,E=d.offerVersion,[4,o.subscribeStream({streamId:a.id,audio:i,video:t,data:!0,browser:"chrome-stable",config:{enableMediaType:{video:t,audio:i}},singlePC:!0,offerVersion:E,sdpInfo:l,eventSessionId:p.default,pc_session_id:p.default,streamUserId:a.userId,diffSdp:!0})];case 3:return s.sent(),a.pubOrSubStartTime=Date.now(),a.attempts++,a.setStatus(c.StreamStatus.SUBSCRIBED),_.info([t?"[cameraStream]":"",i?"[micStream]":"","[sub]","subscribe stream id: "+e+" success!","audio: "+i+", video: "+t+", targetDeviceId: "+a.userId+", rtc-sessionId: "+p.default].join("\n")),u.isAutomation&&_.debug(u.AutomationCallback.OnStreamSubscribed,0,a.userId,a.id,a.isScreen,t,i),[3,5];case 4:throw h=s.sent(),a.setStatus(c.StreamStatus.INIT),h;case 5:return[2]}}))}))},t.prototype.unsubscribe=function(e){return o(this,void 0,void 0,(function(){var t,i,n,r;return s(this,(function(o){switch(o.label){case 0:return t=this.roomService,i=t.signalService,n=t.streamService,(r=n.getStreamById(e))&&r.hasSubscribed?[4,i.unsubscribeStream(e)]:[2];case 1:return o.sent(),r.attempts=0,r.pubOrSubStartTime=0,r.setStatus(c.StreamStatus.INIT),[2]}}))}))},t.prototype.updateStreamAttribute=function(){},t}(d.BaseOperation);t.SubscribeOperation=E},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.AttachOperation=void 0;var a=i(170),d=i(99),c=i(91),l=i(182),p=c.Logger.getLogger("attach-dettach"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.attach=function(e,t,i,n,r){return void 0===n&&(n=0),o(this,void 0,void 0,(function(){var r,o,a;return s(this,(function(s){switch(s.label){case 0:return r=this.roomService,o=r.streamService,[4,this.detach(e)];case 1:return s.sent(),(a=o.getStreamByUserId(i,t===d.StreamType.SCREEN))?(p.log("attach stream. stream id: "+a.id+", simulcastIndex:, "+n),l.isAutomation?[3,3]:[4,r.updateStreamSubscribe(a,!0,!0,n)]):[2];case 2:s.sent(),s.label=3;case 3:return o.attachStreamVideo(a.id,e),[2]}}))}))},t.prototype.detach=function(e){return o(this,void 0,void 0,(function(){var t,i,n;return s(this,(function(r){switch(r.label){case 0:return t=this.roomService,i=t.streamService,(n=i.getStreamByVideoAttachEl(e))?(p.log("detach stream. stream id: "+n.id),i.detachStreamVideo(n.id,e),n&&!n.removed&&n.videoAttachEls.length<1?[4,t.updateStreamSubscribe(n,!1)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t}(a.BaseOperation);t.AttachOperation=u},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DeviceOperation=void 0;var d=i(170),c=i(99),l=a(i(159)),p=a(i(352)),u=i(91),_=i(330),E=i(112),h=u.Logger.getLogger("device"),T=function(e){function t(t){var i=e.call(this,t)||this;return i.updateVideoDevice=E.debounce((function(e){return o(i,void 0,void 0,(function(){return s(this,(function(t){return this.updateInputDevice(c.DeviceType.kCamera,e),[2]}))}))}),100),i.updateRecordDevice=E.debounce((function(e){return o(i,void 0,void 0,(function(){return s(this,(function(t){return this.updateInputDevice(c.DeviceType.kRecord,e),[2]}))}))}),100),i.handleDeviceChange=function(e){return o(i,void 0,void 0,(function(){var e,t,i=this;return s(this,(function(n){switch(n.label){case 0:return e=l.default.getAllDevices(),[4,this.getAllDevices()];case 1:return t=n.sent(),Object.keys(c.DeviceType).forEach((function(n){var r=c.DeviceType[n];if("number"==typeof r){var o=l.default.compareDevices(r,e[r]),s=o[0],a=o[1];s.length&&(h.log("handleDeviceChange. device removed"),i.roomService.getClient().emit(c.SDKEventName.DEVICE_REMOVED,r,t[r],e[r],s)),a.length&&(h.log("handleDeviceChange. device added"),i.roomService.getClient().emit(c.SDKEventName.DEVICE_ADDED,r,t[r],e[r],a)),(a.length||s.length)&&l.default.resetCurrentDeviceId(r)}})),[2]}}))}))},p.default.onDeviceChange(i.handleDeviceChange),i}return r(t,e),t.prototype.enableLocalVideo=function(e){return void 0===e&&(e=!0),o(this,void 0,void 0,(function(){var t,i,n,r,o,a;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),h.info(["[cameraMute]","enableLocalVideo to "+e].join("\n")),t=this.roomService,i=t.streamService,n=i.getLocalStream(),r=n.getMediaStream(),[4,i.enableVideo(e)];case 1:return(o=s.sent())&&t.updateStreamAttributes(n.id,{localvideo:e,videostream:e}),e&&o&&r&&this.replacePublishedStream(r),[3,3];case 2:return a=s.sent(),h.error(["[cameraMute]","enableLocalVideo to "+e+" error!","errName: "+a.name,"errMsg:  "+a.message].join("\n")),[3,3];case 3:return[2]}}))}))},t.prototype.enableLocalAudio=function(e,t){return void 0===t&&(t=!1),o(this,void 0,void 0,(function(){var i,n,r,o,a,d;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),h.info(["[micMute]","enableLocalAudio to "+e+", isScreen: "+t].join("\n")),i=this.roomService,n=i.streamService,r=n.getStreamByUserId(void 0,t),o=r.getMediaStream(),[4,n.enableAudio(e,t)];case 1:return(a=s.sent())&&i.updateStreamAttributes(r.id,{localaudio:e,audiostream:e}),!t&&e&&a&&o&&this.replacePublishedStream(o),[3,3];case 2:return d=s.sent(),h.error(["[micMute]","enableLocalAudio to "+e+" error! isScreen: "+t,"errName: "+d.name,"errMsg:  "+d.message].join("\n")),[3,3];case 3:return[2]}}))}))},t.prototype.getAllDevices=function(){return o(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.freshDevices()];case 1:return e.sent(),[2,l.default.getAllDevices()]}}))}))},t.prototype.getDevices=function(e){return l.default.getDevices(e)},t.prototype.setDevices=function(e,t){return o(this,void 0,void 0,(function(){var i,n,r;return s(this,(function(o){return i=this.roomService,n=i.streamService,(r=l.default.getCurrentDeviceId(e))===t&&"default"!==t?(h.info(["[selectCurDevice]","setDevices","already selected "+r].join("\n")),[2]):(h.info(["[selectCurDevice]","setDevices","type: "+e+", deviceId: "+t].join("\n")),l.default.updateCurrentDeviceId(e,t),e===c.DeviceType.kPlayback?(n.setPlayback(t),h.info(["[selectCurDevice]","setDevices","already change playback stream to "+t].join("\n")),[2]):(e===c.DeviceType.kCamera?this.updateVideoDevice(t):e===c.DeviceType.kRecord&&this.updateRecordDevice(t),[2]))}))}))},t.prototype.updateInputDevice=function(e,t){return o(this,void 0,void 0,(function(){var i,n,r,o;return s(this,(function(s){switch(s.label){case 0:if(i=this.roomService.streamService,n=i.getLocalStream(),!(r=n.getMediaStream()))return h.info(["[selectCurDevice]","setDevices","haven't collected stream, mark this "+e+":"+t].join("\n")),[2];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,i.updateLocalStream(e===c.DeviceType.kCamera?c.MediaChangeType.VIDEO:c.MediaChangeType.AUDIO)];case 2:return s.sent(),h.track("active_device",{camera_name:t,speaker_name:""}),this.replacePublishedStream(r),h.info(["[selectCurDevice]","setDevices","replace stream success to "+e+":"+t].join("\n")),[3,4];case 3:return o=s.sent(),h.info(["[selectCurDevice]","setDevices","replace stream error to "+e+":"+t,"errName: "+o.name,"errMsg: "+o.message].join("\n")),[3,4];case 4:return[2]}}))}))},t.prototype.destroyMediaStream=function(e){var t=this.roomService.streamService.getLocalStream().getMediaStream();h.log("destroyMediaStream.","new",null==t?void 0:t.getTracks(),"old:",e.getTracks()),e.getTracks().forEach((function(e){(null==t?void 0:t.getTracks().includes(e))||(e.enabled=!1,e.stop())}))},t.prototype.replacePublishedStream=function(e){var t=this.roomService,i=t.streamService,n=t.pconnectionService,r=i.getLocalStream();if(r.hasPublished){var o=r.getMediaStream();n.replaceStream(e,o),this.destroyMediaStream(e)}else this.destroyMediaStream(e)},t.prototype.freshDevices=function(){return o(this,void 0,void 0,(function(){var e,t;return s(this,(function(i){switch(i.label){case 0:return e=this.roomService,[4,Promise.all([p.default.enumerateDevices(),e.getAuthorStatus(c.AuthType.Camera),e.getAuthorStatus(c.AuthType.Microphone)])];case 1:return t=i.sent()[0],l.default.updateAllDevices(),t.forEach((function(e){/virtual/i.test(e.label)&&h.info("[getAllDevices] virtual "+e.kind+" detected");var t=_.formatDeviceLabel(e.label);switch(e.kind){case"audioinput":l.default.getDevices(c.DeviceType.kRecord).push({deviceId:e.deviceId,deviceName:t,deviceType:c.DeviceType.kRecord});break;case"videoinput":l.default.getDevices(c.DeviceType.kCamera).push({deviceId:e.deviceId,deviceName:t,deviceType:c.DeviceType.kCamera});break;case"audiooutput":l.default.getDevices(c.DeviceType.kPlayback).push({deviceId:e.deviceId,deviceName:t,deviceType:c.DeviceType.kPlayback});break;default:h.warn(["[getAllDevices]","get unknown device: "+JSON.stringify(e)].join("\n"))}})),l.default.updateAllDevices(l.default.getAllDevices()),h.info("[getAllDevices] freshDevices function invoke."),[2]}}))}))},t}(d.BaseOperation);t.DeviceOperation=T},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Room=void 0;var n=i(99),r=function(){this.status=n.ROOM_STATE.DISCONNECTED,this.id=""};t.Room=r},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveSpeakerOperation=void 0;var a=i(170),d=i(99),c=i(91).Logger.getLogger("active-speaker"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timer=0,t.baseVolume=20,t.activeUser=t.getInitActiveUser(),t.caculateActiveSpeaker=function(){return o(t,void 0,void 0,(function(){var e,t,i,n,r,o;return s(this,(function(s){switch(s.label){case 0:return e=this.roomService,t=e.pconnectionService,i=e.streamService,n=this,[4,t.getStat()];case 1:return n.stat=s.sent(),r=this.getInitActiveUser(),null===(o=this.stat)||void 0===o||o.forEach((function(e,t){var n;if("audio"===e.kind&&"track"===e.type&&"number"==typeof e.audioLevel){var o=Math.floor(1e3*e.audioLevel);if(window.debugActive&&c.log("active mediatrack. remote:",e.remoteSource,"origin audioLevel:",e.audioLevel,"computed AudioLevel:",o,"trackIdentifier:",e.trackIdentifier,"kind:",e.kind),o>r.volume){var s=null===(n=e.trackIdentifier)||void 0===n?void 0:n.slice(0,-5),a=i.getUserIdByStreamId(s);Object.assign(r,{uid:a,volume:o})}}})),window.debugActive&&c.log("newActiveUse. id: "+r.uid+". volume:, "+r.volume),r.volume<=this.baseVolume?(this.activeUser=this.getInitActiveUser(),e.getClient().emit(d.SDKEventName.ACTIVE_SPEAKER,this.activeUser)):r.uid!==this.activeUser.uid&&(Object.assign(this.activeUser,r),e.getClient().emit(d.SDKEventName.ACTIVE_SPEAKER,this.activeUser)),[2]}}))}))},t}return r(t,e),t.prototype.start=function(){return o(this,void 0,void 0,(function(){return s(this,(function(e){return this.timer&&clearInterval(this.timer),this.timer=window.setInterval(this.caculateActiveSpeaker,2e3),[2]}))}))},t.prototype.stop=function(){return o(this,void 0,void 0,(function(){return s(this,(function(e){return clearInterval(this.timer),[2]}))}))},t.prototype.getInitActiveUser=function(){return{uid:"",volume:0,users:[]}},t}(a.BaseOperation);t.ActiveSpeakerOperation=l},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ShareScreenOperation=void 0;var a=i(170),d=i(91),c=i(99),l=d.Logger.getLogger("share-screen"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isSharing=!1,t.onShareScreenEnd=function(){return o(t,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return e=this.roomService,this.isSharing?(l.log("onShareScreenEnd"),[4,this.stopShareScreen()]):[2];case 1:return t.sent(),e.getClient().emit(c.SDKEventName.SHARE_SCREEN_STOP),[2]}}))}))},t}return r(t,e),t.prototype.hasScreenAudioTrack=function(){var e;return!!(null===(e=this.roomService.streamService.getLocalScreenStream().getMediaStream())||void 0===e?void 0:e.getAudioTracks().length)},t.prototype.getIsSharingAudio=function(){var e,t;return!!(null===(t=null===(e=this.roomService.streamService.getLocalScreenStream().getMediaStream())||void 0===e?void 0:e.getAudioTracks()[0])||void 0===t?void 0:t.enabled)},t.prototype.chooseShareScreenWindow=function(){return o(this,void 0,void 0,(function(){var e,t,i;return s(this,(function(n){switch(n.label){case 0:e=this.roomService,t=e.streamService,l.log("chooseShareScreenWindow"),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,t.updateLocalScreenStream()];case 2:return n.sent(),[3,4];case 3:if("object"==typeof(i=n.sent())&&0===i.code&&i.message.includes("Permission denied by system"))throw{code:c.SDKErrorCode.SHARE_SCREEN_NO_PERMISSION,message:i.message};if("object"==typeof i&&0===i.code&&i.message.includes("Permission denied"))throw{code:c.SDKErrorCode.SHARE_SCREEN_CANCELED,message:i.message};throw i;case 4:return[2]}}))}))},t.prototype.startShareScreen=function(e){return o(this,void 0,void 0,(function(){var e,t,i;return s(this,(function(n){switch(n.label){case 0:e=this.roomService,t=e.streamService,t.getLocalScreenStream().onVideoEnd(this.onShareScreenEnd),l.log("startShareScreen"),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.publishStream(void 0,!0)];case 2:return n.sent(),this.isSharing=!0,[3,4];case 3:throw i=n.sent(),this.stopShareScreen(),i;case 4:return[2]}}))}))},t.prototype.stopShareScreen=function(){return o(this,void 0,void 0,(function(){var e,t;return s(this,(function(i){switch(i.label){case 0:return e=this.roomService,t=e.streamService,l.log("stopShareScreen"),[4,e.unpublishStream(!0)];case 1:return i.sent(),this.isSharing=!1,[4,t.freeLocalDevices(!0)];case 2:return i.sent(),[2]}}))}))},t}(a.BaseOperation);t.ShareScreenOperation=p},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchPost=t.fetchGet=void 0;var n=i(91).Logger.getLogger("room");t.fetchGet=function(e,t){var i="";return t&&(i=Object.keys(t).reduce((function(e,i){return e.push(i+"="+t[i]),e}),[]).join("&").trim()),window.fetch(""+e+(i&&"?"+i)).then((function(e){return e.json()}))},t.fetchPost=function(e,t){return window.fetch(e,{method:"POST",body:JSON.stringify(t),headers:new Headers({"Content-Type":"application/json"})}).then((function(t){return n.log("res from "+e+", get header x-tt-logid: "+t.headers.get("x-tt-logid")),t.json()}))}},function(e,t,i){"use strict";var n,r,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),s=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PermissionOperation=void 0;var c=i(170),l=i(99),p=d(i(159)),u=d(i(352)),_=d(i(159)),E=i(91),h=d(i(329)),T=E.Logger.getLogger("permission"),y=((r={})[l.AuthType.Camera]=l.DeviceType.kCamera,r[l.AuthType.Microphone]=l.DeviceType.kRecord,r);function f(e){switch(e){case"denied":return l.AuthStatus.Denied;case"granted":return l.AuthStatus.Granted;default:return T.warn(["[deviceAuthorState]","convertPermissionStateToAuthorStatus","get NotDetermined: "+e].join("\n")),l.AuthStatus.NotDetermined}}var I=function(e){function t(){var t,i=null!==e&&e.apply(this,arguments)||this;return i.permissionStatusMap=((t={})[l.AuthType.Camera]=null,t[l.AuthType.Microphone]=null,t),i}return o(t,e),t.prototype.getAuthStatus=function(e){return s(this,void 0,void 0,(function(){var t,i,n,r,o,s,d;return a(this,(function(a){switch(a.label){case 0:if(t=this.roomService,i=this.permissionStatusMap[e])return n=p.default.getAuthStatus(e),T.info(["[deviceAuthorState]","getAuthStatus already exist","current "+e+" auth: "+n].join("\n")),[2,n];a.label=1;case 1:return a.trys.push([1,3,,5]),r=this.permissionStatusMap,o=e,[4,u.default.query({name:e})];case 2:return i=r[o]=a.sent(),[3,5];case 3:return a.sent(),[4,h.default.check()];case 4:return a.sent(),e===l.AuthType.Microphone?[2,h.default.getSupportList().microphonePermissions?l.AuthStatus.Granted:l.AuthStatus.Denied]:[2,h.default.getSupportList().cameraPermissions?l.AuthStatus.Granted:l.AuthStatus.Denied];case 5:return i&&(i.onchange=function(i){var n,r=f((i.target||{}).state),o=_.default.getAuthStatus(e);p.default.updateAuthStatusMap(((n={})[e]=r,n)),t.getClient().emit(l.SDKEventName.PERMISSION_CHANGE,y[e],r,o)},p.default.updateAuthStatusMap(((d={})[e]=f(i.state),d))),s=p.default.getAuthStatus(e),T.info(["[deviceAuthorState]","first getAuthStatus","current "+e+" auth: "+s].join("\n")),[2,s]}}))}))},t}(c.BaseOperation);t.PermissionOperation=I},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StreamChangeOperation=void 0;var d=i(170),c=a(i(159)),l=i(91),p=i(99),u=i(182),_=l.Logger.getLogger("stream-change"),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMediaStreamAdd=function(e){var i=Date.now(),n=t.roomService,r=n.streamService,o=r.getStreamById(e.id);if(_.log("onMediaStreamAdd: "+e.id),o&&!o.getMediaStream()){o.setMediaStream(e),r.cacheStreamByTrackId(o);var s=o.userId,a=o.id,d=o.isScreen,c=o.getAttribute().videoDescriptions;r.attachStreamAudio(a),_.track("first_audio_frame",{stream_id:a,elapse:Date.now()-i}),n.getClient().emit(p.SDKEventName.STREAM_ADDED,s,a,d,c),u.isAutomation&&(d?_.debug(u.AutomationCallback.OnFirstRemoteScreenFrame,s):(_.debug(u.AutomationCallback.OnFirstRemoteVideoFrame,s),_.debug(u.AutomationCallback.OnFirstRemoteAudioFrame,s)),e.getTracks().forEach((function(e){_.debug(u.AutomationCallback.OnAddTrack,"audio"===e.kind?0:1,s,o.id,d)})))}},t}return r(t,e),t.prototype.updateStreamSubscribe=function(e){return o(this,void 0,void 0,(function(){var t;return s(this,(function(i){switch(i.label){case 0:return t=this.roomService,[4,t.signalService.updateStreamSubscibe(e)];case 1:return i.sent(),[2]}}))}))},t.prototype.updateStreamAttributes=function(e,t){return o(this,void 0,void 0,(function(){var i,n,r;return s(this,(function(o){switch(o.label){case 0:return i=this.roomService,n=i.signalService,r=i.streamService,r.getStreamById(e).hasPublished?[4,n.updateStreamAttributes(e,t)]:[2];case 1:return o.sent(),[2]}}))}))},t.prototype.onUpdateStreamAttributes=function(e,t){return o(this,void 0,void 0,(function(){var i,n,r;return s(this,(function(o){return _.log("onUpdateStreamAttributes. streamId "+e+", attributes: "+JSON.stringify(t)),i=this.roomService,n=i.streamService,(r=n.getStreamById(e))&&r.id?(r.updateAttribute(t),u.isAutomation&&(_.debug(u.AutomationCallback.OnUserMuteAudio,r.userId,!t.audiostream),_.debug(u.AutomationCallback.OnUserMuteVideo,r.userId,!t.videostream)),[2]):[2]}))}))},t.prototype.onStreamFailed=function(e){return o(this,void 0,void 0,(function(){var t,i,n,r;return s(this,(function(o){switch(o.label){case 0:return e.streamId?(t=this.roomService,_.error("stream failed. stream id: "+e.streamId),i=t.streamService,n=e.message,e.type,(r=i.getStreamById(e.streamId))?(null==n?void 0:n.code)&&n.code>=400&&n.code<500?(r.setStatus(p.StreamStatus.CLOSED),_.log("stream closed. stream id: "+e.streamId),[2]):(this.roomService.getClient().emit(p.SDKEventName.STREAM_FAILED,r),r.isLocal?[4,t.publishStream(void 0,r.isScreen)]:[3,2]):[2]):[2];case 1:return o.sent(),[2];case 2:return t.subscribeStream(r.id,r.hasSubscribeVideo,!0),[2]}}))}))},t.prototype.onStreamAdd=function(e,t,i,n){return void 0===n&&(n=!1),o(this,void 0,void 0,(function(){var r,o,a;return s(this,(function(s){return _.log(["[joinMeeting]","[micStream]","[cameraStream]","[sub]","get signal server onAddStream event","targetDeviceId: "+t+" streamId: "+e+", isScreen: "+n+" isLocal: "+c.default.isSelf(t)+" attr: "+JSON.stringify(i)].join("\n")),u.isAutomation&&_.debug(u.AutomationCallback.OnStreamAdd,e,t,n,null==i?void 0:i.audiostream,null==i?void 0:i.videostream,null==i?void 0:i.videoDescriptions.length,JSON.stringify(null==i?void 0:i.videoDescriptions)),r=this.roomService,o=r.streamService,c.default.isSelf(t)?(a=o.getStreamByUserId(void 0,n),r.getClient().emit(p.SDKEventName.STREAM_ADDED,t,e,n,a.getAttribute().videoDescriptions)):(o.addRemoteStream(e,t,n,void 0,i),u.isAutomation||r.subscribeStream(e,!1,!0)),[2]}))}))},t.prototype.onStreamRemove=function(e,t){return o(this,void 0,void 0,(function(){var i,n,r;return s(this,(function(o){switch(o.label){case 0:if(_.log("onStreamRemove stream id: "+e),i=this.roomService,n=i.streamService,!(r=n.getStreamById(e)))return[2];if(r.isLocal&&!r.isScreen)return[2];n.markStreamRemoved(e),o.label=1;case 1:return o.trys.push([1,,3,4]),[4,i.unsubscribeStream(e)];case 2:return o.sent(),[3,4];case 3:return n.tryRemoveStream(e),i.getClient().emit(p.SDKEventName.STREAM_REMOVED,t,e,r.isScreen),[7];case 4:return[2]}}))}))},t}(d.BaseOperation);t.StreamChangeOperation=E},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewOperation=void 0;var d=i(170),c=i(99),l=i(91),p=a(i(352)),u=a(i(329)),_=l.Logger.getLogger("preview-operation"),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.startPreview=function(){return o(this,void 0,void 0,(function(){var e,t,i,n,r;return s(this,(function(o){switch(o.label){case 0:return e=this.roomService,t=e.streamService,[4,e.getClient().supportStateList()];case 1:return o.sent(),[4,this.getPreviewMediaStream()];case 2:return o.sent(),i=u.default.canStartAudio,n=u.default.canStartVideo,i&&n||this.showDeviceAccessErrorIcon(),(r=t.getLocalStream()).onVideoEnd((function(){r.getAttribute().localvideo&&e.getClient().emit(c.SDKEventName.ERROR,{code:c.SDKErrorCode.LOCAL_CAMERA_FAILED})})),[2]}}))}))},t.prototype.stopPreview=function(){return o(this,void 0,void 0,(function(){var e,t,i;return s(this,(function(n){switch(n.label){case 0:return e=this.roomService,t=e.streamService,i=t.getLocalStream(),[4,t.detachStreamVideo(i.id)];case 1:return n.sent(),[4,t.freeLocalDevices()];case 2:return n.sent(),[2]}}))}))},t.prototype.getPreviewMediaStream=function(){return o(this,void 0,void 0,(function(){var e,t;return s(this,(function(i){switch(i.label){case 0:return e=this.roomService,(t=e.streamService).getLocalStream().getMediaStream()?[3,2]:[4,t.initLocalStream()];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))},t.prototype.showDeviceAccessErrorIcon=function(){return o(this,void 0,void 0,(function(){var e,t;return s(this,(function(i){switch(i.label){case 0:e={audio:!0,video:!0},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,p.default.getUserMedia(e)];case 2:return i.sent(),[3,4];case 3:return t=i.sent(),_.info(["showDeviceAccessErrorIcon complete",t.message].join("\n")),[3,4];case 4:return[2]}}))}))},t}(d.BaseOperation);t.PreviewOperation=E},function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StatOperation=void 0;var r=n(i(537));t.StatOperation=r.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SoundMeter=void 0;var n=i(112),r=function(){function e(e){var t=this;this.context=e,this.instant=0,this.slow=0,this.clip=0,this.script=e.createScriptProcessor(2048,1,1),this.script.onaudioprocess=n.throttle((function(e){var i,n=e.inputBuffer.getChannelData(0),r=0;for(i=0;i<n.length;++i)r+=n[i]*n[i],Math.abs(n[i])>.99&&1;t.instant=Math.sqrt(r/n.length)}),500)}return e.prototype.connectToSource=function(e,t){try{this.mic=this.context.createMediaStreamSource(e),this.mic.connect(this.script),this.script.connect(this.context.destination),void 0!==t&&t()}catch(e){console.error(e),void 0!==t&&t(e)}},e.prototype.stop=function(){this.mic&&this.mic.disconnect(),this.script.disconnect()},e}();t.SoundMeter=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(538);t.default=function(e){var t={};return e.forEach((function(e){var i;switch(e.type){case"outbound-rtp":case"inbound-rtp":n.assignWithoutOverwrite(t,e);break;case"track":n.assignWithoutOverwrite(t,{trackIdentifier:(i=e).trackIdentifier,remoteSource:i.remoteSource,ended:i.ended,detached:i.detached});break;case"candidate-pair":n.assignWithoutOverwrite(t,function(e){return{availableOutgoingBitrate:e.availableOutgoingBitrate,totalRoundTripTime:e.totalRoundTripTime,currentRoundTripTime:e.currentRoundTripTime}}(e));break;case"codec":n.assignWithoutOverwrite(t,function(e){return{payloadType:e.payloadType,mimeType:e.mimeType,clockRate:e.clockRate,channels:e.channels,sdpFmtpLine:e.sdpFmtpLine}}(e));break;case"media-source":n.assignWithoutOverwrite(t,function(e){return{audioLevel:e.audioLevel,totalAudioEnergy:e.totalAudioEnergy,totalSamplesDuration:e.totalSamplesDuration,width:e.width,height:e.height,framesPerSecond:e.framesPerSecond}}(e));break;case"remote-inbound-rtp":n.assignWithoutOverwrite(t,function(e){return{remoteInboundRtpJitter:e.jitter,remoteInboundRtpRoundTripTime:e.roundTripTime,remoteInboundPacketsReceived:e.packetsReceived,remoteInboundPacketsLost:e.packetsLost}}(e));break;case"local-candidate":n.assignWithoutOverwrite(t,function(e){return{localCandidateNetworkType:e.networkType,localCandidateIp:e.ip,localCandidatePort:e.port,localCandidateProtocol:e.protocol,localCandidateCandidateType:e.candidateType,localCandidatePriority:e.priority}}(e));break;case"remote-candidate":n.assignWithoutOverwrite(t,function(e){return{remoteCandidateIp:e.ip,remoteCandidatePort:e.port,remoteCandidateProtocol:e.protocol,remoteCandidateCandidateType:e.candidateType,remoteCandidatePriority:e.priority}}(e))}})),t}},function(e,t,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.computeInBoundPackets=t.computeOutBoundPackets=t.computeCommonProcess=void 0;var r=i(182),o=i(91),s=i(537),a=o.Logger.getLogger("stat"),d={},c={},l={},p={},u={},_={},E={},h={},T={};t.computeCommonProcess=function(e){var t=function(e){return e.audioLevel}(e),i=function(e){return e.availableOutgoingBitrate/1e3}(e),r=function(e){var t=e.id,i=0;switch(e.type){case"outbound-rtp":var n=(e.bytesSent||0)+(e.headerBytesSent||0),r=(d[t]||0)+(c[t]||0);i=(n-r)/(s.INTERVAL/1e3)*8,d[t]=e.bytesSent,c[t]=e.headerBytesSent;break;case"inbound-rtp":var o=(e.bytesReceived||0)+(e.headerBytesReceived||0),a=(l[t]||0)+(p[t]||0);i=(o-a)/(s.INTERVAL/1e3)*8,l[t]=e.bytesReceived,p[t]=e.headerBytesReceived}return Math.max(i,0)}(e),o=function(e){var t=0,i=0,n=e.id;if(e.jitterBufferDelay){var r=u[n]||0;t=e.jitterBufferDelay-r,u[n]=e.jitterBufferDelay}if(e.jitterBufferEmittedCount){var o=_[n]||0;i=e.jitterBufferEmittedCount-o,_[n]=e.jitterBufferEmittedCount}return{curJitterBufferDelay:t,curJitterBufferEmittedCount:i}}(e),a=o.curJitterBufferDelay,E=o.curJitterBufferEmittedCount;return n(n({},e),{rtpbr:r,availbr:i,level:t,curJitterBufferDelay:a,curJitterBufferEmittedCount:E})},t.computeOutBoundPackets=function(e){var t=0,i=0,o=e.id;if(e.remoteInboundPacketsLost){var s=T[o]||0;t=e.remoteInboundPacketsLost-s,T[o]=e.remoteInboundPacketsLost}if(e.packetsSent){var d=h[o]||0;i=e.packetsSent-d,h[o]=e.packetsSent}var c=t/i;return r.isAutomation&&i&&(e.isVideo?e.isScreen?a.debug(r.AutomationCallback.OnScreenFrame):a.debug(r.AutomationCallback.OnVideoFrame):e.isAudio&&a.debug(r.AutomationCallback.OnAudioFrame)),n(n({},e),{curRemoteInboundPacketsLost:t,curPacketsSent:i,lossRatio:c})},t.computeInBoundPackets=function(e){var t=0,i=0,o=e.id;if(e.packetsLost){var s=T[o]||0;t=e.packetsLost-s,T[o]=e.packetsLost}if(e.packetsReceived){var d=E[o]||0;i=e.packetsReceived-d,E[o]=e.packetsReceived}var c=t/i;return r.isAutomation&&i&&(e.isVideo?e.isScreen?a.debug(r.AutomationCallback.OnScreenFrame,e.streamUserId):a.debug(r.AutomationCallback.OnVideoFrame,e.streamUserId):e.isAudio&&Math.floor(1e3*e.audioLevel)&&a.debug(r.AutomationCallback.OnAudioFrame,e.streamUserId)),n(n({},e),{curPacketsLost:t,curPacketsReceived:i,lossRatio:c})}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={peerConnection:[],candidatePair:[],transceiver:[],transport:[],sctpTransport:[],localCandidate:[],remoteCandidate:[],certificate:[],iceServer:[]};return e&&e.forEach((function(e){switch(e.type){case"peer-connection":t.peerConnection.push(e);break;case"candidate-pair":t.candidatePair.push(e);break;case"transceiver":t.transceiver.push(e);break;case"transport":t.transport.push(e);break;case"sctp-transport":t.sctpTransport.push(e);break;case"local-candidate":t.localCandidate.push(e);break;case"remote-candidate":t.remoteCandidate.push(e);break;case"certificate":t.certificate.push(e);break;case"ice-server":t.iceServer.push(e)}})),t}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={vrxRtpbrAvg:0,vrxRtpbrMax:0,vrxRtpbrMin:1/0,vrxJitterAvg:0,vrxJitterMax:0,vrxJitterMin:1/0,vrxLossAvg:0,arxRtpbrAvg:0,arxRtpbrMax:0,arxRtpbrMin:1/0,arxJitterAvg:0,arxJitterMax:0,arxJitterMin:1/0,arxLossAvg:0},i=0;return(i=e.vrxStrm.length)&&(e.vrxStrm.map((function(e){t.vrxRtpbrAvg+=e.rtpbr,t.vrxRtpbrMax=Math.max(t.vrxRtpbrMax,e.rtpbr),t.vrxRtpbrMin=Math.min(t.vrxRtpbrMin,e.rtpbr),t.vrxJitterAvg+=e.jitter,t.vrxJitterMax=Math.max(t.vrxJitterMax,e.jitter),t.vrxJitterMin=Math.min(t.vrxJitterMin,e.jitter),t.vrxLossAvg+=e.lossRatio})),t.vrxRtpbrAvg/=i,t.vrxJitterAvg/=i,t.vrxLossAvg/=i),(i=e.arxStrm.length)&&(e.arxStrm.map((function(e){t.arxRtpbrAvg+=e.rtpbr,t.arxRtpbrMax=Math.max(t.arxRtpbrMax,e.rtpbr),t.arxRtpbrMin=Math.min(t.arxRtpbrMin,e.rtpbr),t.arxJitterAvg+=e.jitter,t.arxJitterMax=Math.max(t.arxJitterMax,e.jitter),t.arxJitterMin=Math.min(t.arxJitterMin,e.jitter),t.arxLossAvg+=e.lossRatio})),t.arxRtpbrAvg/=i,t.arxJitterAvg/=i,t.arxLossAvg/=i),t}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserInfo=t.osInfo=void 0;var n=new(i(842).UAParser);t.osInfo=n.getOS(),t.browserInfo=n.getBrowser()},,,,function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},,function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return pu}));i(733);var n=i(25);window.fuckAdBlock.onDetected((function(){n.a.meetingStore.isAdBlockEnabled=!0})),window.fuckAdBlock.onNotDetected((function(){n.a.meetingStore.isAdBlockEnabled=!1}));var r=i(37),o=i(24),s=i(1),a=i.n(s),d=i(75),c=i.n(d),l=i(14),p=i(1122),u=i(2),_=i(0),E=i(32),h=i(31),T=i(6),y=i(20),f=i(34),I=i(176),g=i(7),S=i(19),C=i(87);const m={[_.PageInMeetingNoticeType.TOAST_HOST_REQUEST_SENT]:"View_G_RequestSent",[_.PageInMeetingNoticeType.TOAST_HOST_CHANGE_TO_ME]:({rootStore:e})=>{const{isInterviewee:t,isWeb:i}=e.userStore.currentUser;if(!t&&!i)return"View_M_HostMadeYouNewHost"},[_.PageInMeetingNoticeType.TOAST_BECOME_CO_HOST]:"View_M_YouBecameCoHost",[_.PageInMeetingNoticeType.TOAST_REMOVE_CO_HOST]:"View_M_CoHostPermissionWithdrawn",[_.PageInMeetingNoticeType.TOAST_CAN_UNMUTE_MICROPHONE_BY_SELF]:"View_M_YouCanNowUnmuteYourself",[_.PageInMeetingNoticeType.TOAST_HOST_APPROVED_MICROPHONE_UNMUTE]:"View_M_HostUnmutedYou",[_.PageInMeetingNoticeType.TOAST_HOST_REJECTED_MICROPHONE_UNMUTE]:"View_M_HostDeclinedRequestToSpeak",[_.PageInMeetingNoticeType.TOAST_ALL_MUTE_INCLUDING_NEW]:["View_M_AllCurrentAndNewParticipantsMuted","icon-mic-off-solid"],[_.PageInMeetingNoticeType.TOAST_ALL_MICROPHONE_MUTE]:["View_M_HostMutedAll","icon-mic-off-solid"],[_.PageInMeetingNoticeType.TOAST_ALL_MICROPHONE_UNMUTE]:["View_M_HostMutedAll","icon-mic-solid"],[_.PageInMeetingNoticeType.TOAST_MUTE_MY_MICROPHONE]:["View_M_HostMutedYourMic","icon-mic-off-solid"],[_.PageInMeetingNoticeType.TOAST_UNMUTE_MY_MICROPHONE]:["View_M_HostUnmutedYourMic","icon-mic-solid"],[_.PageInMeetingNoticeType.TOAST_MUTE_MY_CAMERA]:["View_M_HostTurnedOffyourCamera","icon-video-off-solid"],[_.PageInMeetingNoticeType.TOAST_KICKED_OUT_BY_HOST]:"View_M_HostRemovedYou",[_.PageInMeetingNoticeType.TOAST_MEETING_ANYONE]:"View_M_PermissionsSetAnyone",[_.PageInMeetingNoticeType.TOAST_MEETING_SAME_COMPANY]:"View_M_PermissionsSetOrganizerCompany",[_.PageInMeetingNoticeType.TOAST_MEETING_SELECTED]:"View_M_PermissionsSetSelected",[_.PageInMeetingNoticeType.TOAST_MEETING_HOST_INVITED]:"View_M_PermissionsSetHostInvited",[_.PageInMeetingNoticeType.TOAST_SUBTITLE_OPEN_FAILED]:"View_G_TurnOnSubtitlesFailed",[_.PageInMeetingNoticeType.TOAST_SUBTITLE_LOAD_FAILED]:"View_G_FailedToLoadSubtitles",[_.PageInMeetingNoticeType.TOAST_MUTE_ON_ENTRY]:"View_M_MutedOnEntryHost",[_.PageInMeetingNoticeType.TOAST_UNMUTE_ON_ENTRY]:"View_M_UnmutedOnEntryHost",[_.PageInMeetingNoticeType.TOAST_FIRST_OPEN_SUBTITLE]:({rootStore:e,info:t})=>{const{participantList:i}=e.userStore,{operator:n}=t;if(n&&i){const e=i.find(e=>e.id===n.userId);return{message:"View_G_TurnedOnSubtitlesNameBraces",data:{name:e&&e.name||""}}}},[_.PageInMeetingNoticeType.CONFIRM_ALL_MICROPHONE_UNMUTE]:({rootStore:e})=>{const{hasMicAccess:t,hasMic:i}=e[g.l];return S.a.openByName(_.PageName.IN_MEETING_MIC_CONFIRM,{type:_.MeetingConfirmType.OPEN_MIC,hasMic:i,hasMicAccess:t}),["View_M_HostUnmutedAll","icon-mic-solid"]},[_.PageInMeetingNoticeType.TOAST_ALL_START_SHARE_SCREEN]:({rootStore:e,participant:t,pageInMeetingNoticeData:i})=>{const{info:n}=i;if(n.participantId===e.userStore.currentUserId&&n.participantDeviceId===e.userStore.currentDeviceId)return"View_M_NowSharingToast";if(n.participantId!==e.userStore.currentUserId&&n.participantDeviceId!==e.userStore.currentDeviceId){return{message:"View_VM_SharingNameBraces",data:{name:t&&t.name||""}}}},[_.PageInMeetingNoticeType.TOAST_ALL_STOP_SHARE_SCREEN]:({rootStore:e,participant:t,pageInMeetingNoticeData:i})=>{const{info:n}=i;if(n.participantId===e.userStore.currentUserId&&n.participantDeviceId===e.userStore.currentDeviceId)return"View_M_YouStoppedSharing";if(n.participantId!==e.userStore.currentUserId&&n.participantDeviceId!==e.userStore.currentDeviceId){return{message:"View_M_StoppedSharingName",data:{name:t&&t.name||""}}}},[_.PageInMeetingNoticeType.CONFIRM_UNMUTE_MY_CAMERA]:({rootStore:e})=>{const{hasCamera:t,hasCameraAccess:i}=e[g.l];S.a.openByName(_.PageName.IN_MEETING_CONFIRM,{type:_.MeetingConfirmType.OPEN_CAMERA,hasCamera:t,hasCameraAccess:i})},[_.PageInMeetingNoticeType.CONFIRM_UNMUTE_MY_MICROPHONE]:({rootStore:e})=>{const{hasMicAccess:t,hasMic:i}=e[g.l];S.a.openByName(_.PageName.IN_MEETING_MIC_CONFIRM,{type:_.MeetingConfirmType.OPEN_MIC,hasMic:i,hasMicAccess:t})},[_.PageInMeetingNoticeType.TOAST_HOST_KICK_OUT_PARTICIPANT]:({rootStore:e,pageInMeetingNoticeData:t})=>{const{info:i}=t,n=e.userStore.participantsMap[Object(C.b)(i.participantId,i.participantDeviceId)];return{message:"View_M_YouRemovedName",data:n?{name:n.name}:void 0}},[_.PageInMeetingNoticeType.CONFIRM_POPUP]:({rootStore:e,info:t})=>{e.shareScreenStore.isSharing?S.a.openByName(_.PageName.IN_MEETING_CONFIRM,{type:_.MeetingConfirmType.NORMAL_CONFIRM,title:t.title,content:t.content,confirmEventType:t.type}):e.appStore.setConfirmPopupModalData(Object.assign({visible:!0},t))},[_.PageInMeetingNoticeType.CONFIRM_RECORDING]:({rootStore:e,pageInMeetingNoticeData:t})=>{const{info:i}=t,n={visible:!0,type:_.RecordConfirmType.RECORDING_CONFIRM,data:i};e.appStore.setRecordModalData(n)},[_.PageInMeetingNoticeType.MEETING_END_CONFIRM]:({rootStore:e,pageInMeetingNoticeData:t})=>{const{info:i}=t,n={visible:!0,data:i};e.appStore.setMeetingEndConfirmModalData(n)}};function N(e,t){const{type:i,info:n={}}=t,r=n&&n.participantId&&n.participantDeviceId&&e.userStore.participantList.find(e=>e.id===n.participantId&&e.deviceId===n.participantDeviceId);let o=m[i];if("function"==typeof o){const i=o({rootStore:e,pageInMeetingNoticeData:t,info:n,participant:r});if(!i)return;o=i}!function(e){let t,i,n;"string"==typeof e?t=e:Array.isArray(e)?[t,i]=e:"object"==typeof e&&(t=e.message,i=e.icon,n=e.data),t&&f.b.emit(f.a.IN_MEETING_NOTICE,{icon:i,id:(new Date).getTime(),msg:Object(y.b)(t,n)})}(o)}var A=i(29),R=i(16),O=i.n(R),v=(i(845),function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))});var P=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},M=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const L=/@@([\s\S]*)@@/;let b=class extends A.a{constructor(){super(...arguments),this.message="",this.handleClick=e=>M(this,void 0,void 0,(function*(){!function(e,t,i={}){v(this,void 0,void 0,(function*(){i.schemeCallbacks&&"function"==typeof i.schemeCallbacks[e]&&i.schemeCallbacks[e]()}))}(e,this.props.i18nKeyInfo,{schemeCallbacks:this.props.schemeCallbacks,closeTip:this.props.closeTip})}))}didMount(){return M(this,void 0,void 0,(function*(){const{i18nKeyInfo:e,i18nMessage:t}=this.props;this.message=t||(yield S.a.getViewI18nFromRust(e))}))}render(){if(!L.exec(this.message))return a.a.createElement(s.Fragment,{key:"tip-message"},this.message);const e=this.message.match(/@@.+?@@/g)||[],t=[];return t.push(e.reduce((e,i,n)=>{const r=e.match(i);if(r){const o=r.index;t.push(a.a.createElement("span",{key:n+" 00"},e.slice(0,o))),t.push(a.a.createElement("span",{key:n+" 01",className:O()("click-able-part"),onClick:()=>{this.handleClick(n)}},e.slice(o+2,o+i.length-2)));return e.slice(o+i.length)}return e},this.message)),a.a.createElement(s.Fragment,{key:"tip-content"},t)}};P([u.p],b.prototype,"message",void 0),b=P([l.c],b);var D=i(22),U=i.n(D),w=i(646),k=i.n(w),G=i(255),V=i(108),H=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const B=U.a.bind(k.a);let F;function j(){return F||(F=G.a.config({placement:V.a.TOP_MIDDLE}),F)}let W=[];function x(e){return H(this,void 0,void 0,(function*(){const t=yield e;j().close(t),W=W.filter(t=>e!==t)}))}var K={show:function(e,t){return H(this,void 0,void 0,(function*(){for(const e of W)yield x(e);let i=null;const n=t&&t.type||"info";return i=j()[n]({message:a.a.createElement("div",{className:B("bv-tip")},e),duration:t&&t.duration||0,closable:!0,closeIcon:t&&t.closeIcon,onClose:function(){return H(this,void 0,void 0,(function*(){i&&(yield x(i),i=null),t&&t.onClose&&t.onClose()}))}}),W.push(i),i}))},close:x},q=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Y={};function J(e){return`${e}-${_.NoticeType.TIPS}`}function z(e,t){return q(this,void 0,void 0,(function*(){const{msgI18nKey:t,message:i,needCacheToUpdate:n,updateData:r}=e;i?K.show(i):r?function(e){q(this,void 0,void 0,(function*(){switch(e.action){case _.VideoChatNoticeUpdate_Action.DISMISS:{const t=J(e.key);K.close(Y[t]),Y[t]=null;break}}}))}(r):t&&function(e,t){q(this,void 0,void 0,(function*(){let i=null;const n=yield S.a.getViewI18nFromRust(e),r=a.a.createElement(b,{i18nKeyInfo:e,i18nMessage:n,closeTip:()=>i&&K.close(i)});if(t){const t=J(e.newKey);i=K.show(r,{onClose:()=>{Y[t]=null}}),Y[t]=i}else i=K.show(r)}))}(t,n)}))}function X(e,t){if(!t)return null;const i=1e3,{i18nKey:n="",i18nParams:r={},i18nText:o="",duration:s=i,type:a=_.ToastEvent.ERROR}=t,d=function(e,t,i,n){if(["View_AV_RecordingStartIfApprovalNameBraces","View_AV_DeclinedToRecordNameBraces","View_G_CallEndedNameBraces"].includes(i)){const{userStore:t}=e,{participantList:n,currentParticipantId:r}=t,o=n.filter(e=>e.participantId!==r)[0];return Object(y.b)(i,{name:o.name})}return t||i?t||Object(y.b)(i,n):""}(e,o,n,r);return d?{message:d,duration:s||i,type:a}:null}function Q(e,t,i){return q(this,void 0,void 0,(function*(){T.c.info("handlePageSendEvent",i);const{pageStore:t,meetingStore:n}=e;switch(i.event){case _.PageSendEvent.MODAL_MESSAGE:{const t=X(e,i.data);if(!t)break;const{duration:n,message:r}=t;I.a.notice({iconName:"",duration:n,message:r,animation:"none"});break}case _.PageSendEvent.TOAST:{const t=X(e,i.data);if(!t)break;const{duration:n,message:r,type:o}=t;I.a.notice({iconName:o===_.ToastEvent.NONE?"":o,duration:n,message:r});break}case _.PageSendEvent.TIP:if(n.isSharingMode)break;z(i.data);break;case _.PageSendEvent.OPTIONS:if(!i.data)break;break;case _.PageSendEvent.PAGE_DATA:{const n=i.data;if(!n)break;t.setPageData(n.name,n.payload),function(e,t,i){const{appStore:n,conferenceStore:r,userStore:o}=e;switch(t){case _.PageName.CALLING:case _.PageName.RINGING:break;case _.PageName.LIVE_CONFIRM:const{isOn:e,modal:t,requester:n}=i,{live:o}=r;o.isOn=e,o.confirmModal=t,o.requester=n}}(e,n.name,n.payload);break}case _.PageSendEvent.IN_MEETING_NOTICE:{const t=i.data;N(e,"object"==typeof t?t:{type:t});break}case _.PageSendEvent.PAGE_WILL_CLOSE:f.b.emit(f.a.PAGE_WILL_CLOSE);break;case _.PageSendEvent.SHARE_ANOTHER_SCREEN:f.b.emit(f.a.SHARE_ANOTHER_SCREEN,i),e.shareScreenStore.setSharingItem(i.data);break;case _.PageSendEvent.NATIVE_WINDOW:{const t=i.data;t.pageName===_.PageName.IN_MEETING_CONFIRM&&e.meetingStore.setInMeetingConfirmModalData(Object.assign({visible:!0},t.pageData));break}case _.PageSendEvent.IN_MEETING_DATA:}}))}var $=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function Z(e,t){return $(this,void 0,void 0,(function*(){if(T.c.info("handleConferenceUpdate",t),!t)return;const{conference:i,conferenceExtraInfo:n,conferenceInMeetingInfo:r,state:o,targetId:s,participants:a,calendarInfo:d}=t;if(o!==_.UserState.IDLE&&i){try{const{groupId:t="",participants:n=[],inviterId:a,settings:c={},type:l,inviterType:p=_.ParticipantType.LARK_USER,hostId:u}=i,{appStore:E,userStore:h,conferenceStore:y,meetingStore:f}=e;if(null===f.controlbarStatus&&f.setControlbarStatus("opened"),y.setConferenceState(o),y.setGroupId(t),y.updateConferenceInfo(i),y.updateCalendarInfo(d),l===_.VideoChatType.CALL&&(h.setTargetUserId(s||a),f.callViewMain||f.setCallViewMain(s||a||u)),l===_.VideoChatType.MEETING&&h.setInviter(a,p),!r){const e=n.filter(e=>e.status!==_.ParticipantStatus.IDLE);h.syncParticipants(e),T.c.info("[handleConferenceUpdate] meetingSettings.allowPartiUnmute "+c.allowPartiUnmute),y.setMeetingSettings(c)}f.getAdminSettings(),E.setLoading(!1)}catch(e){T.c.error("handleDataUpdate error",e.message)}n&&te(e,n),r&&ee(e,r),a&&ie(e,a)}}))}function ee(e,t){const{appStore:i,userStore:n,conferenceStore:r,meetingStore:o,shareScreenStore:s}=e,{id:a,hostId:d,hostDeviceId:c,meetingSettings:l={},isRecording:p,hasRecorded:u,shareScreenInMeetingInfo:E,shouldPullSuggested:h=!1,whiteboardData:y,meetingUrl:f="",isSubtitleOn:I,liveInfo:g,recordingHover:C,vcType:m,followInfo:N,interviewCodingData:A}=t;if(T.c.info("handleInMeetingInfoUpdate: ",t),r.updateConferenceInfo({id:a,hostDeviceId:c}),Object(T.d)({context:{meeting_id:a}}),r.setIsRecording(p),r.setHasRecorded(u),l&&l.featureConfig&&o.setFeatureConfig(l.featureConfig,m||_.VideoChatType.MEETING),g&&r.live.updateLiveInfo(g),N&&s.setShareFollowInfo(N),E){E.version&&s.setShareScreenInfoVersion(E.version);const e=E.participantId,t=E.participantDeviceId;E.isSharing||o.setIsSharingMode(!1),!n.currentDeviceId||s.sharingParticipantId!==n.currentParticipantId||E.isSharing&&e===s.sharingUserId&&t===s.sharingDeviceId||s.stopScreenSharingItem(),E.isSharing?s.setShareScreenUserIds(e,t,E.shareScreenId):s.removeShareScreenUserDeviceId()}else s.isSharing?(s.stopScreenSharingItem(),o.setIsSharingMode(!1),s.removeShareScreenUserDeviceId()):s.inSharing&&s.removeShareScreenUserDeviceId();const{allowPartiUnmute:R}=r.meetingSettings;R&&!l.allowPartiUnmute&&S.a.closeByName(_.PageName.IN_MEETING_MIC_CONFIRM),r.setMeetingUrl(f),T.c.info(`[micMute][handleInMeetingInfoUpdate] meetingSettings.allowPartiUnmute ${R} -> ${l.allowPartiUnmute}`),r.setMeetingSettings(l),n.setHostIds(d,c||""),i.setLoading(!1),C&&o.setRecordingHover(C),r.setInterviewCodingData(A)}function te(e,t){const{userStore:i,conferenceStore:n}=e;switch(t.type){case _.VideoChatExtraType.RINGING_RECEIVED:i.targetUserId===t.ringingReceivedData.participant.id&&n.setTargetRingingReceived(!0);break;case _.VideoChatExtraType.UPDATE_LIVE_EXTRA_INFO:t.liveExtraInfo&&n.live.updateLiveExtraInfo(t.liveExtraInfo)}}function ie(e,t){T.c.info("handleParticipantsInfo",t);const{userStore:i,meetingStore:n}=e;n.pinedId&&t.find(e=>Object(C.b)(e.id,e.deviceId)===n.pinedId)||n.setPinedId("");n.activeSpeaker&&t.find(e=>(e.rtcJoinId||e.deviceId)===n.activeSpeaker)||n.setActiveSpeaker(""),i.syncParticipants(t),i.rankParticipantList(),n.setDefaultSidebar(),i.updateUserInSideList(),i.updateUserInGalleryList()}var ne=i(27),re=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};class oe{constructor(e){this.conferenceData=null,this.initSdkPromise=null,this.init=()=>re(this,void 0,void 0,(function*(){T.c.info("messager.handleInit");const e=yield S.a.getConferenceData();e&&e.conference?(this.conferenceData=e,T.c.info("messager.getConferenceData",e),this.handleConferenceUpdate(e)):S.a.openByName(_.PageName.PREVIEW,{})})),this.shutdown=e=>{f.b.off(f.a.WINDOW_EVENT,this.handlePageSendEvent),Object(r.d)("PUSH_SESSION_EXPIRED",this.handleSessionExpired),e===_.PageName.MEETING?(S.a.off(_.BroadcastEvent.LIVE_DATA_UPDATE,this.handleLiveDataUpdate),S.a.off(_.BroadcastEvent.INVOKE_MESSAGER_INIT,this.handleInvokeMessagerInit),Object(r.d)(_.RustPushEvent.PUSH_DYNAMIC_NET_STATUS,this.handleDynamicNetStatus),Object(r.d)(_.RustPushEvent.PUSH_MEETING_INFO,this.handleInMeetingUpdate),Object(r.d)(_.RustPushEvent.PUSH_VIDEO_CHAT_COMBINED_INFO,this.handleCombineInfo),Object(r.d)(_.RustPushEvent.PUSH_MEETING_PARTICIPANT_CHANGE,this.handleParticipantsChange),Object(r.d)(_.RustPushEvent.NOTIFY_VIDEO_CHAT_EXTRA,this.handleExtraInfo),Object(r.d)(_.RustPushEvent.PUSH_MEETING_CHANGED_INFO,this.handleMeetingChangedInfo),Object(r.d)(_.RustPushEvent.PUSH_GROOT_CELLS_FOLLOW,this.handleGrootCells)):e===_.PageName.LOBBY&&Object(r.d)(_.RustPushEvent.PUSH_VC_MANAGE_RESULT,this.handleVCManageResult)},this.handleSessionExpired=e=>{T.c.info("handleSessionExpired"),Object(r.d)("PUSH_SESSION_EXPIRED",this.handleSessionExpired);const t=Object(E.c)();t===_.PageName.MEETING?this.rootStore.meetingStore.hangup(_.Action.LOG_OUT):t===_.PageName.LOBBY&&S.a.cancelWait(_.LocalEndReason.LOG_OUT)},this.saveEndReason=e=>{T.c.info("saveEndReason: "+e),this.rootStore.pageStore.setEndReason(e)},this.handleInMeetingUpdate=e=>{T.c.info("messager handleInMeetingUpdate: ",e);const{participants:t,inMeetingInfo:i,meetingId:n}=e,{id:r}=this.rootStore.conferenceStore;r===n&&(ie(this.rootStore,t),ee(this.rootStore,i))},this.handleParticipantsChange=e=>{T.c.info("messager handleParticipantsChange: ",e),function(e,t){const{userStore:i,meetingStore:n}=e,{removeParticipants:r,upsertParticipants:o}=t;r.length&&r.forEach(e=>{const t=`${e.id}-${e.deviceId||""}`;e.deviceId===n.pinedId&&n.setPinedId(""),e.deviceId===n.activeSpeaker&&n.setActiveSpeaker(""),i.participantsMap[t].resetParticipantInfo()}),o.length&&i.syncParticipants(o),i.rankParticipantList(),i.updateUserInSideList(),i.updateUserInGalleryList()}(this.rootStore,e)},this.handleMeetingChangedInfo=e=>{T.c.info("messager handleMeetingChangedInfo: ",e),function(e,t){if(Object(E.c)()!==_.PageName.MEETING)return;const{conferenceStore:i,meetingStore:n,userStore:r}=e;t.changes.forEach(e=>{e.type===_.InMeetingDataType.SETTINGS_CHANGED&&e.settingsChangedData&&e.settingsChangedData.meetingSettings&&e.settingsChangedData.meetingSettings.allowPartiUnmute&&r.closeHandsUpConfirm()})}(this.rootStore,e)},this.handleGrootCells=e=>{this.rootStore.shareScreenStore.followInfo.shareId===e.channelId&&f.b.emit(f.a.GROOT_CELLS,{cells:e.cells,timestamp:e.timestamp})},this.handleExtraInfo=e=>{T.c.info("messager handleExtraInfo: ",e),te(this.rootStore,e)},this.handleMsgInfo=e=>re(this,void 0,void 0,(function*(){})),this.handleLiveDataUpdate=e=>{T.c.info("handleLiveDataUpdate: ",e),this.rootStore.conferenceStore.live.updateLiveInfo(e)},this.handleInvokeMessagerInit=()=>{this.init()},this.handleDynamicNetStatus=e=>{T.c.info("messager handleDynamicNetStatus: "+e.netStatus),this.rootStore.appStore.setNetStatus(e.netStatus)},this.handleCombineInfo=e=>{if(T.c.info("messager handleCombineInfo: ",e),!this.conferenceData||!this.conferenceData.conference||this.conferenceData.conference.id!==e.inMeetingInfo.id)return;e.inMeetingInfo&&ee(this.rootStore,e.inMeetingInfo),e.extraInfo&&te(this.rootStore,e.extraInfo),e.calendarInfo&&this.rootStore.conferenceStore.updateCalendarInfo(e.calendarInfo);const{vcType:t}=e.inMeetingInfo;t&&(this.rootStore.conferenceStore.type=t)},this.handleVCManageResult=e=>re(this,void 0,void 0,(function*(){T.c.info("messager handleVCManageResult: "+e.action);const{conferenceStore:t}=this.rootStore;if(e.meetingId===t.id)if(e.action===_.VCManageResultAction.HOSTALLOWED){const{previewStore:e}=this.rootStore;e.callJoinMeetingApi(!0)}else e.action===_.VCManageResultAction.HOSTREJECT?(ne.a.stopPreview(),S.a.cancelWait(_.LocalEndReason.HOST_KICK_OUT_LOBBY)):e.action===_.VCManageResultAction.MEETINGEND&&(ne.a.stopPreview(),S.a.cancelWait(_.LocalEndReason.HOST_END))})),this.rootStore=e,this.handlePageSendEvent=Q.bind(this,e),this.handleConferenceUpdate=Z.bind(this,e)}startup(e){f.b.on(f.a.WINDOW_EVENT,this.handlePageSendEvent),Object(r.f)("PUSH_SESSION_EXPIRED",this.handleSessionExpired),e===_.PageName.MEETING?(S.a.on(_.BroadcastEvent.LIVE_DATA_UPDATE,this.handleLiveDataUpdate),S.a.on(_.BroadcastEvent.INVOKE_MESSAGER_INIT,this.handleInvokeMessagerInit),Object(r.a)(_.Command.TRIG_PUSH_FULL_MEETING_INFO,{}),Object(r.f)(_.RustPushEvent.PUSH_DYNAMIC_NET_STATUS,this.handleDynamicNetStatus),Object(r.f)(_.RustPushEvent.PUSH_MEETING_INFO,this.handleInMeetingUpdate),Object(r.f)(_.RustPushEvent.PUSH_VIDEO_CHAT_COMBINED_INFO,this.handleCombineInfo),Object(r.f)(_.RustPushEvent.PUSH_MEETING_PARTICIPANT_CHANGE,this.handleParticipantsChange),Object(r.f)(_.RustPushEvent.NOTIFY_VIDEO_CHAT_EXTRA,this.handleExtraInfo),Object(r.f)(_.RustPushEvent.PUSH_MEETING_CHANGED_INFO,this.handleMeetingChangedInfo),Object(r.f)(_.RustPushEvent.PUSH_GROOT_CELLS_FOLLOW,this.handleGrootCells)):e===_.PageName.LOBBY&&Object(r.f)(_.RustPushEvent.PUSH_VC_MANAGE_RESULT,this.handleVCManageResult)}}var se=i(18),ae=i.n(se),de=i(134),ce=i(79),le=i(61),pe=i(8),ue=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};class _e{constructor(){this.syncStreams=()=>ue(this,void 0,void 0,(function*(){ne.a.fetchAllStreamInfo().forEach(({uid:e,sid:t,streamType:i,resolutions:n})=>{this.handleStreamAdded(e,t,i===se.StreamType.SCREEN,n)})})),this.switchListeners=e=>ue(this,void 0,void 0,(function*(){})),this.addListeners=()=>ue(this,void 0,void 0,(function*(){this.syncStreams(),ne.a.on(se.SDKEventName.STREAM_ADDED,this.handleStreamAdded),ne.a.on(se.SDKEventName.STREAM_REMOVED,this.handleStreamRemoved),ne.a.on(se.SDKEventName.ACTIVE_SPEAKER,this.handleActiveSpeakerChange),ne.a.on(se.SDKEventName.PERMISSION_CHANGE,this.handlePermissionChanged),ne.a.on(se.SDKEventName.SHARE_SCREEN_STOP,this.handleShareScreenStop),ne.a.on(se.SDKEventName.CONNECTION_UNSTABLE,this.handleConnectionUnstable),ne.a.on(se.SDKEventName.CONNECTION_INTERRUPTED,this.handleConnectionInterrupted),ne.a.on(se.SDKEventName.CONNECTION_LOST,this.handleConnectionLost),ne.a.on(se.SDKEventName.DEVICE_ADDED,this.handleDeviceUpdate),ne.a.on(se.SDKEventName.DEVICE_REMOVED,this.handleDeviceUpdate),ne.a.on(se.SDKEventName.REJOIN_CHANNEL_SUCCESS,this.handleRejoinSuccess),ne.a.on(se.SDKEventName.ICE_FAILED,this.handleIceFailed),ne.a.on(se.SDKEventName.ERROR,this.handleSdkError)})),this.removeListeners=()=>ue(this,void 0,void 0,(function*(){ne.a.off(se.SDKEventName.STREAM_ADDED,this.handleStreamAdded),ne.a.off(se.SDKEventName.STREAM_REMOVED,this.handleStreamRemoved),ne.a.off(se.SDKEventName.ACTIVE_SPEAKER,this.handleActiveSpeakerChange),ne.a.off(se.SDKEventName.PERMISSION_CHANGE,this.handlePermissionChanged),ne.a.off(se.SDKEventName.SHARE_SCREEN_STOP,this.handleShareScreenStop),ne.a.off(se.SDKEventName.CONNECTION_UNSTABLE,this.handleConnectionUnstable),ne.a.off(se.SDKEventName.CONNECTION_INTERRUPTED,this.handleConnectionInterrupted),ne.a.off(se.SDKEventName.CONNECTION_LOST,this.handleConnectionLost),ne.a.off(se.SDKEventName.DEVICE_ADDED,this.handleDeviceUpdate),ne.a.off(se.SDKEventName.DEVICE_REMOVED,this.handleDeviceUpdate),ne.a.off(se.SDKEventName.REJOIN_CHANNEL_SUCCESS,this.handleRejoinSuccess),ne.a.off(se.SDKEventName.ERROR,this.handleSdkError)})),this.handleSdkError=e=>{switch(e.code){case se.SDKErrorCode.LOCAL_CAMERA_FAILED:{const e=Object(E.c)();n.a.rtcStore.setCameraWarnCode(se.SDKMediaDeviceErrorCode.BRERR_VDM_CAMERA_START_FAILED),e===_.PageName.MEETING&&f.b.emit(f.a.IN_MEETING_NOTICE,{id:Date.now(),msg:Object(y.b)("View_W_CameraNotWorkingTryReloading")}),e===_.PageName.PREVIEW&&de.a.notice(Object(y.b)("View_W_CameraNotWorkingTryReloading"),{theme:ce.b.LARK,iconType:ce.a.WARNING,interval:3e3});break}case se.SDKErrorCode.JOIN_ROOM_FAILED:this.rootStore.previewStore.setJoinButtonLoading(!1)}},this.getStream=(e,t,i,n)=>({id:t,uid:e,type:i,resolutions:n}),this.handleStreamAdded=(e,t,i,n)=>{T.c.info(`handleStreamAdded, rtcId:${e}, sid:${t}, isScreen:${i}`,n),i?(T.c.info(`screen stream added. \nsid:${t} \rtcId: ${e}`),this.addScreenStream(e,t,n)):(T.c.info(`video stream added. \nsid:${t} \rtcId: ${e}`),this.addVideoStream(e,t,n))},this.addScreenStream=(e,t,i)=>{const{rtcStore:n,userStore:r}=this.rootStore;if(r.currentRtcId!==e){const r=this.getStream(e,t,se.StreamType.SCREEN,i);n.addStream(r)}},this.addVideoStream=(e,t,i)=>{const{rtcStore:n}=this.rootStore,r=this.getStream(e,t,se.StreamType.CAMERA,i);n.addStream(r)},this.handleStreamRemoved=(e,t,i)=>{T.c.info("handleStreamRemoved: ",e,t,i);const{shareScreenStore:n,rtcStore:r,userStore:o}=this.rootStore;i?(T.c.info(`screen stream removed.\n sid:${t} \n rtcId:${e}`),n.removeReceivedStream(e),o.currentRtcId!==e&&r.removeStream(t)):(T.c.info(`video stream removed.\n sid:${t} \n rtcId:${e}`),r.removeStream(t))},this.handleDeviceUpdate=(e,t)=>{T.c.info("handleDeviceUpdate: ",e,t),this.rootStore.rtcStore.updateDevices(e,t)},this.handlePermissionChanged=(e,t,i)=>{if(T.c.info(`[deviceAuthorState] handlePermissionChanged type: ${e}, from ${i} to ${t}`),(i===se.AuthStatus.NotDetermined||i===se.AuthStatus.Denied)&&t===se.AuthStatus.Granted)return void window.location.reload();const{rtcStore:n}=this.rootStore;e===se.DeviceType.kRecord?(n.updateMicStatus(t,i),t===se.AuthStatus.Denied&&ne.a.supportStateList().then(e=>{e.microphonePermissions=!1})):e===se.DeviceType.kCamera&&(n.updateCameraStatus(t,i),t===se.AuthStatus.Denied&&ne.a.supportStateList().then(e=>{e.cameraPermissions=!1}))},this.handleShareScreenStop=()=>{T.c.info("handleShareScreenStop: "),this.rootStore.shareScreenStore.stopScreenSharingItem(),pe.b.emit(pe.a.VC_MEETING_ONTHECALL_CLICK,{click:"stop_share_screen",target:"none",location:"dragged_bar"})},this.handleRenderStarted=(e,t)=>{if(t){const{shareScreenStore:t}=this.rootStore;t.addReceivedStream(e)}T.c.info(`handleRenderStarted, uid: ${e}, ifScreen: ${t}`)},this.handleActiveSpeakerChange=e=>{const{uid:t="",users:i=[]}=e,{meetingStore:n,userStore:r}=this.rootStore;r.participantList.forEach(e=>e.setIsSpeaking(e.rtcId===t));const o=r.participantList.find(e=>e.rtcId===t);t&&o&&t!==r.currentRtcId&&t!==n.activeSpeaker&&this.handleRankView(t,i),t&&o&&(this.updateUserSpeechWeight(i),r.updateASInGalleryList(t))},this.updateUserSpeechWeight=e=>{const{userStore:t}=this.rootStore;e.forEach(e=>{const i=t.participantsMap[e.uid];if(i)i.setWeight(e.weight);else{const i=`updateUserSpeechWeight user is undefined. uid: ${e.uid}; idList: ${t.participantIdList.join(",")}; map keys: ${Object.keys(t.participantsMap)}`;T.c.error(i)}})},this.handleRankView=(e,t)=>{const{meetingStore:i,userStore:n}=this.rootStore;this.rootStore.userStore.setSpeechParticipantIdList(t.map(e=>e.uid)),i.setActiveSpeaker(e),n.rankParticipantList()},this.handleConnectionUnstable=()=>{Object(h.d)(le.a.VC_WEB_RTC_SDK,{action_name:"rtc_sdk_websocket_unstable"},!1),f.b.emit(f.a.NETWORK_UNSTABLE)},this.handleIceFailed=()=>{Object(h.d)(le.a.VC_WEB_RTC_SDK,{action_name:"rtc_sdk_ice_failed"},!1),f.b.emit(f.a.NETWORK_UNSTABLE)},this.handleConnectionInterrupted=()=>{const{meetingStore:e}=this.rootStore;e.setNetWorkStatus(_.NetWorkStatus.CONNECTING)},this.handleConnectionLost=()=>{const{meetingStore:e,rtcStore:t}=this.rootStore;e.netWorkStatus===_.NetWorkStatus.CONNECTING&&(e.setNetWorkStatus(_.NetWorkStatus.OFFLINE),t.setIsRtcSdkReady(!1))},this.handleRejoinSuccess=e=>{T.c.info("rejoin meeting success");const{meetingStore:t,shareScreenStore:i}=this.rootStore;t.setNetWorkStatus(_.NetWorkStatus.ONLINE),Object(h.d)(le.a.VC_WEB_RTC_SDK,{action_name:"rtc_sdk_rejoin_room",ice_state:e},!1)},this.rootStore=n.a}}var Ee=i(17);function he(e,t=""){return 0!==t.replace(/\s/g,"").length&&new RegExp(` ${t} `).test(` ${e.className} `)}function Te(e,t){e&&!he(e,t)&&(e.className=""===e.className?t:`${e.className} ${t}`)}function ye(e,t){if(he(e,t)){let i=` ${e.className.replace(/[\t\r\n]/g,"")} `;for(;i.indexOf(` ${t} `)>=0;)i=i.replace(` ${t} `," ");e.className=i.replace(/^\s+|\s+$/g,"")}}function fe(e=!0){let t=0,i=!1;return function(n){return e&&t>0||(i=n.scrollWidth!==n.clientWidth||n.scrollHeight!==n.clientHeight,t++),i}}var Ie=i(380);class ge extends A.a{constructor(){super(...arguments),this.pageTitle=Ie.a}componentDidMount(...e){Te(document.firstElementChild,"page-"+this.getDisplayName().toLowerCase()),super.componentDidMount.apply(this,e)}componentWillUnmount(...e){document.firstElementChild&&ye(document.firstElementChild,"page-"+this.getDisplayName().toLowerCase()),super.componentWillUnmount.apply(this,e)}render(){return s.createElement("div",{className:"page-content "+this.getPageContentClass()},super.render())}getPageContentClass(){return""}}var Se=i(56),Ce=i(161),me=i(44);const Ne=function(){const e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))&&0===e.toDataURL("image/webp").indexOf("data:image/webp")}();function Ae(e){return{72:Re({avatarKey:e,size:72}),144:Re({avatarKey:e,size:144}),200:Re({avatarKey:e,size:200}),origin:Re({avatarKey:e})}}function Re(e){const{avatarKey:t,resourceType:i="avatar",size:n,face:r,quality:o=70}=e,s=me.b.file,a=Ne?e.format||"webp":"png";let d="";return d=n?`https://${s}/api/${i}/v1/${t}/${n}x${n}${r?"_cs":""}_q${o}.${a}`:`https://${s}/api/${i}/v1/${t}/noop.${a}`,d}var Oe=({className:e,avatarKey:t,avatarSize:i,avatarUrl:n})=>(t&&i&&(n=Re({avatarKey:t})),a.a.createElement(Ce.a,{className:e,url:n})),ve=i(245),Pe=i(647),Me=i.n(Pe);var Le=i(648),be=i.n(Le),De=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i};const Ue=U.a.bind(be.a);class we extends s.Component{render(){const e=this.props,{url:t,className:i}=e,n=De(e,["url","className"]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ce.a,Object.assign({url:t,className:Ue("bv-avatar-blur_avatar",i)},n)))}}var ke=({avatarUrl:e,avatarKey:t,avatarSize:i,loading:n})=>n||(e?a.a.createElement(we,{url:e,className:"avatar"}):null);const Ge={backgroundStyle:"#0F1114",renderMode:se.RenderMode.CONTAIN},Ve=U.a.bind(Me.a),He=new Map;let Be=new Map;const Fe=Object(ve.a)((function(){const e=[],t=[];Be.forEach((i,n)=>{i?t.push(n):e.push(n)}),Be=new Map,e.forEach(e=>{e.detachParticipantStream()}),t.slice(0,3).forEach(e=>{e.attachParticipantStream()}),t.length>3&&(t.slice(3).forEach(e=>{Be.set(e,!0)}),Fe())}),500);class je extends s.Component{constructor(){super(...arguments),this.videoContainer=a.a.createRef(),this.visibleObserver=null,this.visible=!1,this.shouldSetRemoteControlStreamContainerDomAfterAttach=!1,this.attached=!1,this.checkVisiblity=()=>{const e=this.videoContainer.current;if(e){let t=e.parentElement;for(;t&&"item"!==t.dataset.participantScroll;)t=t.parentElement;if(!t)return T.c.error("participant-item 未找到!"),!0;let i=t.parentElement;for(;i&&"list"!==i.dataset.participantScroll;)i=i.parentElement;if(!i)return T.c.error("participant-list 未找到!"),!0;const n=t.offsetTop,r=t.clientHeight,o=i.scrollTop;return n<=o+i.clientHeight&&n+r>=o}return!1},this.shouldAttach=()=>!this.visible&&this.checkVisiblity(),this.attachParticipantStream=()=>{if(!this.shouldAttach())return;const{stream:e}=this.props,t=this.videoContainer.current;if(!e)return Be.set(this,!0),void Fe();t&&(He.size>12&&He.forEach((e,t)=>{t.detachParticipantStream()}),this.visible=!0,He.set(this,!0),this.attach(e,t))},this.shouldDetach=()=>!!this.visible&&!this.checkVisiblity(),this.detachParticipantStream=()=>{if(!this.shouldDetach())return;const{stream:e}=this.props,t=this.videoContainer.current;e&&t&&(this.visible=!1,He.delete(this),this.detach(e,t))},this.attach=(e,t)=>{const i=function(e,t){if(!e||e.type===se.StreamType.SCREEN||!e.resolutions||1===e.resolutions.length)return 0;if(0===e.resolutions.length)return T.c.warn(`stream: ${e.id} uid: ${e.uid} resolution length = 0`),0;const i=new Map;e.resolutions.forEach((e,t)=>{i.set(`${e.width}-${e.height}`,t)});const n=e.resolutions.sort((e,t)=>Math.min(e.height,e.width)>Math.min(t.height,t.width)?-1:1),r=n.findIndex(e=>Math.min(e.height,e.width)<=t),o=n.length?n.length-1:0,s=n[r<0?o:r];return i.get(`${s.width}-${s.height}`)}(e,this.props.simulcastMode);ne.a.attach(t,e.type,e.uid,i,Object.assign({},Ge)),t.dataset.stream="attached",this.attached=!0},this.detach=(e,t)=>{ne.a.detach(t),t.dataset.stream="detached",this.attached=!1},this.initObserver=(e,t)=>{const i=document.body.clientHeight;if(!i||i<510)return void setTimeout(()=>{this.initObserver(e,t)},50);(this.visibleObserver=new IntersectionObserver(e=>{const{isIntersecting:t}=e[0];window.isUserListScrolling?t?Be.set(this,!0):Be.set(this,!1):t?this.attachParticipantStream():this.detachParticipantStream()},{root:t,rootMargin:"0px 0px"})).observe(e)}}componentDidMount(){const e=this.videoContainer.current,t=document.getElementById("user-list"),{stream:i}=this.props;if(e)if(t&&t.contains(e)){this.checkVisiblity()&&(window.isUserListScrolling?Be.set(this,!0):this.attachParticipantStream()),this.initObserver(e,t)}else this.visible=!0,i&&this.attach(i,e)}componentDidUpdate(e){const t=this.videoContainer.current,{stream:i,isMirror:n}=e,{stream:r,isMirror:o}=this.props;t&&i!==r&&(r&&this.visible?this.attach(r,t):i&&this.detach(i,t))}componentWillUnmount(){const{stream:e}=this.props,t=this.videoContainer.current;if(t){e&&this.detach(e,t);const{visibleObserver:i}=this;i&&(i.unobserve(t),i.disconnect())}}renderLoading(){const{avatarUrl:e,loading:t}=this.props;return a.a.createElement(ke,{avatarUrl:e,loading:t})}render(){return a.a.createElement("div",{className:Ve("bv-video")},this.renderLoading(),a.a.createElement("div",{ref:this.videoContainer,className:Ve("video")}))}}var We=i(1084),xe=i(1075);function Ke(e,t){const{userStore:i}=t.rootStore,{status:n,offlineReason:r,isLarkGuest:o}=e,{isMeeting:s}=t;let a="";if(i.currentParticipantId===e.participantId&&s?a="View_M_MeParentheses":o&&(a="View_M_GuestParentheses"),n===_.ParticipantStatus.RINGING&&(a="View_M_CallingParentheses"),n===_.ParticipantStatus.IDLE)switch(r){case _.OfflineReason.BUSY:a="View_M_UnavailableParentheses";break;case _.OfflineReason.REFUSE:a="View_M_DeclinedParentheses";break;case _.OfflineReason.RING_TIMEOUT:a="View_M_NoResponseParentheses"}return a&&Object(y.b)(a)}function qe(e,t){const{isHost:i,isCoHost:n,isLarkGuest:r,isWeb:o}=e;if(t.isCall||e.isInterviewee||!t.isOwnerJoinedMeeting||r||o)return[];const s=[];return i?s.push("View_M_Host"):n&&s.push("View_M_CoHost"),s.map(y.b)}function Ye(e){return e!==_.EquipmentStatus.NORMAL&&e!==_.EquipmentStatus.UNKNOWN}function Je(e){return Ye(e.cameraStatus)}var ze=i(302),Xe=i.n(ze),Qe=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};const $e=U.a.bind(Xe.a);let Ze=class extends A.a{get isCameraAbnormal(){return Je(this.props.user)}get avatarSize(){const{mode:e,meetingStore:t}=this.props,i="main"===e,{layout:{isGalleryView:n}}=t;return i?160:n?120:48}renderShareScreenLoading(){return a.a.createElement("div",{className:$e("share-screen-loading")},a.a.createElement(We.a,{className:$e("icon-share-screen-loading")}),a.a.createElement("span",{className:$e("loading-text")},this.intl("View_VM_Loading")))}render(){const{user:e,stream:t,mode:i,shareScreenStore:n,meetingStore:r,userStore:o,rtcStore:s,forceAvatar:d}=this.props,{participantId:c,avatar:l,avatarKey:p,status:u,isCameraMuted:E,offlineReason:h}=e,{dynamicLayoutParticipantList:T,participantCount:y}=o,{avatarSize:f}=this,I="main"===i,g=(I?l[200]:l[144])||e.avatarUrl,S=I?r.mainMode:r.thumbnailMode,{sharingParticipantId:C}=n,{pinedId:m,isPinedInSharing:N}=r,A=C&&C===e.participantId,R=e.participantId===m&&N;if(I&&A&&!R&&!(y<=1)){const e=je;return a.a.createElement(e,{stream:t,simulcastMode:S,loading:this.renderShareScreenLoading()})}if(this.isCameraAbnormal&&!e.isPstnUser&&e.type!==_.ParticipantType.UNKNOWN)return a.a.createElement("div",{className:$e(this.props.ignoreVideo&&"ignore-video-avatar")},a.a.createElement(xe.a,{className:$e("icon-video-off","user-video-avatar-icon-video-off")}));if(e.status===_.ParticipantStatus.RINGING)return a.a.createElement("div",{className:$e(this.props.ignoreVideo&&"ignore-video-avatar")},a.a.createElement(Oe,{className:$e("avatar"),avatarKey:p,avatarSize:f,avatarUrl:g}));if(d||E||u===_.ParticipantStatus.IDLE&&h!==_.OfflineReason.UNKNOWN)return a.a.createElement("div",{className:$e(this.props.ignoreVideo&&"ignore-video-avatar")},a.a.createElement(Oe,{className:$e("avatar"),avatarKey:p,avatarSize:f,avatarUrl:g}));if(this.props.ignoreVideo)return null;const O=c===o.currentParticipantId&&s.localVideoMirror,v=je;return a.a.createElement(v,{stream:t,avatarKey:p,avatarSize:f,simulcastMode:S,isMirror:O})}};Ze=Qe([Object(l.b)(g.n,g.i,g.o,g.l,g.e),l.c],Ze);var et=Ze,tt=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};const it=U.a.bind(Xe.a);let nt=class extends Se.c{render(){const{user:e,meetingStore:t,className:i,stream:n}=this.props,{isSharingMode:r}=t;return a.a.createElement("div",{className:it("bv-user-video","is-main",i)},a.a.createElement(et,{mode:"main",user:e,stream:n}))}};nt=tt([Object(l.b)(g.i),l.c],nt);var rt=nt,ot=i(649),st=i.n(ot),at=i(153),dt=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};const ct=U.a.bind(st.a);let lt=class extends A.a{constructor(){super(...arguments),this.getMainUserVideo=()=>this.props.isCall?this.getMainUserVideoInCall():this.getMainUserVideoInMeeting(),this.getMainUserVideoInMeeting=()=>{const{userStore:e,shareScreenStore:t,meetingStore:i}=this.props,{meetingMainVideoUser:n,currentUser:r}=e,{sharingParticipantId:o}=t,{pinedId:s}=i;return{participant:n,stream:function(e,t,i,n,r){return e.streams?t===e.participantId&&t!==r?e.participantId===i&&n?e.streams.frame:e.streams.screen:e.streams.frame:""}(n,o,s,i.isPinedInSharing,r.participantId)}},this.getMainUserVideoInCall=()=>{const{userStore:e,shareScreenStore:t}=this.props,{sharingParticipantId:i}=t,{callMainVideoUser:n}=e;return{participant:n,stream:i?n.streams.screen:n.streams.frame}},this.handleDoubleClick=()=>{}}rendering(){let e=null;const{meetingStore:t,isCall:i}=this.props,{layout:n}=t,{viewType:r}=n;if(r===at.b.gallery);else{const{participant:t,stream:i}=this.getMainUserVideo();e=a.a.createElement(rt,{user:t,stream:i,key:r})}return a.a.createElement("div",{className:ct("main-user-video","bv-watermark",{isCall:i}),onDoubleClick:this.handleDoubleClick,style:{display:this.props.visible?"block":"none"}},e)}};lt=dt([Object(l.b)(g.o,g.i,g.n),l.c],lt);var pt,ut=lt,_t=i(650),Et=i.n(_t),ht=i(53),Tt=i(656),yt=i.n(Tt),ft=i(106),It=i(1085);!function(e){e.DIVIDER="divider",e.DEVICE_SETTING="device_setting",e.HANGUP="hangup",e.CAMERA="camera",e.MIC="mic",e.SCREEN="screen",e.PARTICIPANT="participant",e.HOST="wintype",e.SETTING="setting",e.MORE="more",e.REFRESH="refresh",e.STOP_SHARING="stop-sharing",e.FOLLOW="follow",e.RECORD="record",e.STOP_RECORD="stop_record",e.BROWSE="browse",e.SUBTITLE_ON="subtitle-on",e.SUBTITLE_OFF="subtitle-off",e.RESTORE="restore",e.INTERVIEW_SPACE="interview-space",e.START_SKETCH="start-sketch",e.STOP_SKETCH="stop-sketch",e.APPLY_REMOTE_CONTROL="apply-remote-control",e.STOP_REMOTE_CONTROL="stop-remote-control",e.COPY_LIVE_LINK="copy-live-link",e.LIVE="live",e.REQUEST_LIVE="request-live",e.VC_LABS="vc-las",e.PHONE_INVITE="phone-invite",e.SIP_INVITE="sip-invite"}(pt||(pt={}));var gt=e=>{const{volume:t,disabled:i}=e;let n=t;n<0&&(n=0),n>100&&(n=100);const r=18.67*(1-n/100)+1.33;return a.a.createElement("svg",{viewBox:"0 0 32 32",className:O()(e.className,"larkc-svg-icon",i&&"larkc-svg-icon-disabled"),"aria-disabled":i},a.a.createElement("path",{d:"M11.3333333,6 C11.3333333,3.42266666 13.4226667,1.33333333 16,1.33333333 C18.5773333,1.33333333 20.6666667,3.42266666 20.6666667,6 L20.6666667,15.3333333 C20.6666667,17.9106667 18.5773333,20 16,20 C13.4226667,20 11.3333333,17.9106667 11.3333333,15.3333333 L11.3333333,6 Z M17.3333333,25.9173333 C22.5953333,25.2613333 26.6666667,20.7726667 26.6666667,15.3333333 L26.6666667,13.6666667 C26.6666667,13.2986667 26.368,13 26,13 L24.6666667,13 C24.2986667,13 24,13.2986667 24,13.6666667 L24,15.3333333 C24,19.7513333 20.418,23.3333333 16,23.3333333 C11.582,23.3333333 8,19.7513333 8,15.3333333 L8,13.6666667 C8,13.2986667 7.70133334,13 7.33333334,13 L6,13 C5.632,13 5.33333334,13.2986667 5.33333334,13.6666667 L5.33333334,15.3333333 C5.33333334,20.7726667 9.40466666,25.2613333 14.6666667,25.9173333 L14.6666667,30 C14.6666667,30.368 14.9653333,30.6666667 15.3333333,30.6666667 L16.6666667,30.6666667 C17.0346667,30.6666667 17.3333333,30.368 17.3333333,30 L17.3333333,25.9173333 Z"}),a.a.createElement("clipPath",{id:"vc-speaker-icon-clip-path"},a.a.createElement("path",{d:"M11.3333333,6 C11.3333333,3.42266666 13.4226667,1.33333333 16,1.33333333 C18.5773333,1.33333333 20.6666667,3.42266666 20.6666667,6 L20.6666667,15.3333333 C20.6666667,17.9106667 18.5773333,20 16,20 C13.4226667,20 11.3333333,17.9106667 11.3333333,15.3333333 L11.3333333,6 Z"})),!i&&a.a.createElement("rect",{clipPath:"url(#vc-speaker-icon-clip-path)",fill:"#34c724",x:"11.33",y:r,width:"9.33",height:18.67}))},St=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};let Ct=class extends s.Component{get volume(){const{hasMic:e,hasMicAccess:t,audioVolume:i,micHasWarnCode:n}=this.props.rtcStore;return e&&t&&!n?i/255*100:0}render(){const{disabled:e,className:t}=this.props;return s.createElement(gt,{volume:this.volume,className:t,disabled:e})}};St([u.h],Ct.prototype,"volume",null),Ct=St([Object(l.b)(g.l),l.c],Ct);var mt=Ct,Nt=i(657),At=i.n(Nt),Rt=i(1086);const Ot=U.a.bind(At.a);class vt extends s.Component{constructor(){super(...arguments),this.addTooltip=e=>{const{tooltip:t,languageWidth:i}=this.props;return t?a.a.createElement(ht.a,{content:t,langWidth:i},e):e},this.addGuide=e=>{}}get clickHandler(){const{clickHandler:e}=this.props;return void 0===e?S.g:e}get processors(){const{processors:e=[]}=this.props;return[...e]}renderChain(e){for(const t of this.processors)e=t(e);return e}renderIcon(){const{icon:e,modifiers:t=[]}=this.props;if(!e)return null;const i={"g-controlbar-icon":!0,icon:!0,muted:t.findIndex(e=>"muted-mic"===e||"muted-camera"===e)>-1};return a.a.cloneElement(e,{className:Ot(i,e.props.className)})}render(){const{className:e,text:t,active:i,disabled:n,hoverBackgroundWhenDisabled:r,warning:o,redDot:s,settingBtn:d,tooltip:c,languageWidth:l}=this.props,p=d?4:0,u=a.a.createElement("div",{className:Ot("g-controlbar-btn","ref-container","controlbar-btn",{active:i,disabled:n,"has-setting-btn":d,"hover-background-when-disabled":r},e)},a.a.createElement(ht.a,{content:c,langWidth:l,targetClassName:Ot("content-wrapper"),offset:[p,ft.d]},a.a.createElement("div",{className:Ot("content"),onClick:this.clickHandler},a.a.createElement("span",{className:Ot("icon-wrapper")},this.renderIcon(),o&&a.a.createElement(Rt.a,{className:Ot("icon-warning")}),s&&a.a.createElement("span",{className:Ot("red-dot")})),t&&a.a.createElement("span",{className:Ot("g-controlbar-text","text")},t))),d);return this.renderChain(u)}}vt.defaultProps={clickHandler:S.g,processors:[]};var Pt=vt,Mt=i(658),Lt=i.n(Mt),bt=i(139),Dt=i(1087);const Ut=U.a.bind(Lt.a);var wt=({onClick:e,onPopupChange:t,popup:i,disabled:n,className:r,tooltip:o,theme:d})=>{const[c,l]=Object(s.useState)(!1);return Object(s.useEffect)(()=>{t&&t(c)},[c]),a.a.createElement(ht.a,{content:o,theme:d},a.a.createElement(bt.a,{enableClickToggle:!n,autoToggle:n?void 0:"click",visibility:c?"visible":"hidden",popClassName:Ut("device-setting-popup-container",d),targetClassName:Ut("device-setting-btn-ref"),offset:[0,ft.d],placement:"top",content:e=>a.a.cloneElement(i,{onClose:i.props.onClose?()=>i.props.onClose(e):e.onClose}),onShow:()=>l(!0),onHide:()=>l(!1)},a.a.createElement("div",{className:Ut("g-controlbar-btn","device-setting-btn",{disabled:n},r),onClick:function(){n||e&&e()}},a.a.createElement(Dt.a,{className:Ut("icon",{"is-popup-visible":c})}))))},kt=i(659),Gt=i.n(kt);i(847);var Vt=({checked:e,className:t,disabled:i=!1})=>{const n=O()("radio",e?"checked":"unchecked",i?"disable":"enable",t);return s.createElement("i",{className:n})},Ht=i(1088);const Bt=U.a.bind(Gt.a),Ft=({onClick:e,invisible:t})=>{if(t)return null;return a.a.createElement("div",{className:Bt("setting-btn"),onClick:function(){}},a.a.createElement(Ht.a,{className:Bt("icon-setting")}))},jt=({children:e,theme:t})=>a.a.createElement("div",{className:Bt("group-title",t)},e),Wt=e=>{const{selected:t,deviceId:i="",deviceName:n,onClick:r,theme:o}=e;return a.a.createElement("div",{className:Bt("group-item",o,{selected:t}),onClick:function(){r&&r(i)}},a.a.createElement(Vt,{checked:t,className:Bt("radio")}),a.a.createElement("span",{className:Bt("device-name")},n))};var xt=({children:e,onClick:t,invisible:i,theme:n})=>a.a.createElement("div",{className:Bt("group-title-with-setting-btn",n)},a.a.createElement(jt,{theme:n},e),a.a.createElement(Ft,{onClick:t,invisible:i})),Kt=jt,qt=Wt,Yt=({deviceName:e,theme:t})=>a.a.createElement(Wt,{selected:!0,theme:t,deviceName:e}),Jt=({children:e,theme:t})=>a.a.createElement("div",{className:Bt("group",t)},e);var zt=Object(l.c)(({onClose:e,hideSettingBtn:t,onMicrophoneChange:i,onSpeakerChange:r,theme:o})=>{const{rtcStore:d}=n.a,{hasMic:c,hasMicAccess:l,microphoneList:p,hasPlayback:u,playbackList:E,currentDevice:f}=d;function I(e){const t=d.currentDevice[se.DeviceType.kRecord];Object(h.d)(_.Homeric.VC_MEETING_PAGE_SETTING,{action_name:_.MeetingPageAction.mic,extend_value:{action_changed:Number(t===e)}}),pe.b.emit(pe.a.VC_MEETING_MIC_SOURCE_CLICK,{click:"mic",target:"none",is_default:String(e===p[0].deviceId)}),T.c.info("setCurrentDevice: "+e),d.setCurrentDevice(se.DeviceType.kRecord,e),i&&i(e)}function g(e){const t=d.currentDevice[se.DeviceType.kPlayback];Object(h.d)(_.Homeric.VC_MEETING_PAGE_SETTING,{action_name:_.MeetingPageAction.speaker,extend_value:{action_changed:Number(t===e)}}),pe.b.emit(pe.a.VC_MEETING_MIC_SOURCE_CLICK,{click:"speaker",target:"none",is_default:String(e===E[0].deviceId)}),d.setCurrentDevice(se.DeviceType.kPlayback,e),r&&r(e)}return Object(s.useEffect)(()=>{Object(h.d)(_.Homeric.VC_MEETING_PAGE_ONTHECALL,{action_name:_.MeetingPageAction.voice_source,from_source:"control_bar"}),pe.b.emit(pe.a.VC_MEETING_MIC_SOURCE_VIEW)},[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(Jt,{theme:o},a.a.createElement(xt,{onClick:e,invisible:t,theme:o},Object(y.b)("View_VM_Mic")),c?p.map(e=>a.a.createElement(qt,{key:e.deviceId,selected:f[se.DeviceType.kRecord]===e.deviceId,deviceId:e.deviceId,deviceName:e.deviceName,onClick:I,theme:o})):a.a.createElement(Yt,{deviceName:Object(y.b)("View_VM_NoMic")})),a.a.createElement(Jt,{theme:o},a.a.createElement(Kt,{theme:o},Object(y.b)("View_VM_Speaker")),u?E.map(e=>a.a.createElement(qt,{key:e.deviceId,selected:f[se.DeviceType.kPlayback]===e.deviceId,deviceId:e.deviceId,deviceName:e.deviceName,onClick:g,theme:o})):a.a.createElement(Yt,{deviceName:Object(y.b)("View_VM_NoSpeaker"),theme:o})))}),Xt=i(660),Qt=i.n(Xt);const $t=U.a.bind(Qt.a);var Zt=Object(l.c)(({hideSettingBtn:e,onClose:t,onVirtualBackgroundClick:i,hideVirtualBackground:r,onCameraChange:o,theme:d})=>{const{rtcStore:c,meetingStore:l}=n.a,{hasCamera:p,hasCameraAccess:u,cameraList:E,currentDevice:T}=c,{isBackgroundBlurEnabled:f}=l,I=f&&!r;function g(e){const t=c.currentDevice[se.DeviceType.kCamera];Object(h.d)(_.Homeric.VC_MEETING_PAGE_SETTING,{action_name:_.MeetingPageAction.camera,extend_value:{action_changed:Number(t===e)}}),pe.b.emit(pe.a.VC_MEETING_CAM_SOURCE_CLICK,{click:"choose_cam",target:"none",is_default:String(e===E[0].deviceId)}),c.setCurrentDevice(se.DeviceType.kCamera,e),o&&o(e)}return Object(s.useEffect)(()=>{Object(h.d)(_.Homeric.VC_MEETING_PAGE_ONTHECALL,{action_name:_.MeetingPageAction.video_source,from_source:"control_bar"}),pe.b.emit(pe.a.VC_MEETING_CAM_SOURCE_VIEW)},[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(Jt,{theme:d},a.a.createElement(xt,{onClick:t,invisible:e,theme:d},Object(y.b)("View_VM_Camera")),p?a.a.createElement(a.a.Fragment,null,E.map(e=>a.a.createElement(qt,{key:e.deviceId,selected:T[se.DeviceType.kCamera]===e.deviceId,deviceId:e.deviceId,deviceName:e.deviceName,onClick:g,theme:d})),I&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:$t("camera-setting-divider")}),a.a.createElement("div",{className:$t("camera-setting-change-bg"),onClick:t},a.a.createElement("div",{className:$t("change-virtual-bg"),onClick:i},Object(y.b)("View_VM_BackgroundEffects"),a.a.createElement(ht.a,{content:Object(y.b)("View_VM_BackgroundEffectsTip")},a.a.createElement("div",{className:$t("beta-icon")},"Beta")))))):a.a.createElement(Yt,{deviceName:Object(y.b)("View_VM_NoCamera"),theme:d})))}),ei=i(1089),ti=i(661),ii=i.n(ti);const ni=U.a.bind(ii.a);var ri=()=>a.a.createElement("span",{className:ni("hangup-icon-wrapper")},a.a.createElement(ei.a,{className:ni("icon-hangup")})),oi=i(662),si=i.n(oi);const ai=U.a.bind(si.a);var di=({className:e})=>a.a.createElement("div",{className:ai("g-controlbar-btn","divider",e)}),ci=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i};var li=e=>{const{selector:t,className:i,calcDynamicBtnWidth:n,reorderControlbarBtns:r}=e,o=ci(e,["selector","className","calcDynamicBtnWidth","reorderControlbarBtns"]);return Object(s.useLayoutEffect)(()=>(n(t),r(t),()=>{setTimeout(()=>{r(t)},50)}),[]),a.a.createElement(Pt,Object.assign({},o,{className:O()(i,t)}))},pi=i(663),ui=i.n(pi);const _i=U.a.bind(ui.a);var Ei=({count:e,disabled:t,isUnread:i})=>a.a.createElement("div",{className:_i("participant-icon-container",{disabled:t})},a.a.createElement(It.a,{className:_i("icon-group")}),i?a.a.createElement("span",{className:_i("participant-unread")}):a.a.createElement("span",{className:_i("participant-count")},e)),hi=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i};const Ti=Object(l.c)(e=>{var{onBtnClick:t,connectingOverrideProps:i}=e,r=hi(e,["onBtnClick","connectingOverrideProps"]);const{participantCount:o,isParticipantUnread:s}=n.a.userStore;return a.a.createElement(li,Object.assign({selector:ft.f.participant,icon:a.a.createElement(Ei,{count:o,isUnread:s,disabled:i.disabled}),tooltip:Object(y.b)("View_M_Participants"),clickHandler:()=>t(pt.PARTICIPANT)},i,r))});var yi=Object(l.c)(e=>{const{meetingStore:t,conferenceStore:i}=n.a,{hasHostControl:r,hasCoHostControl:o}=i,{isMeetingSpaceEnabled:s,isSubtitleEnabled:d,isSubtitleBtnInControlbarEnabled:c}=t;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ti,Object.assign({},e)))}),fi=i(1073),Ii=i(1074),gi=i(107),Si=i(1090);var Ci=Object(l.c)(({onBtnClick:e,connectingOverrideProps:t})=>{const{conferenceStore:i,meetingStore:{mainViews:r}}=n.a,{isInterviewSpaceEnabled:o}=i.interviewStore;return o?a.a.createElement(Pt,Object.assign({icon:a.a.createElement(Si.a,null),tooltip:Object(y.b)("ViewWeb_G_ProgrammingTest"),clickHandler:()=>e(pt.INTERVIEW_SPACE),active:r.shouldShowInterviewSpace},t)):null});const mi=U.a.bind(yt.a),Ni=T.a.getLogger("meeting-controlbar-btns"),Ai=g.p.DARK,Ri=Object(l.c)(({onBtnClick:e,connectingOverrideProps:t})=>{const{rtcStore:i,userStore:r}=n.a,{hasMic:o,hasMicAccess:s,micHasWarnCode:d,getMicCanStart:c,micSystemPermissions:l}=i,{currentUser:{isMicrophoneMuted:p}}=r,u=!(o&&s&&c&&l),_=u||d,E=u||t.disabled;return Ni.info(["[micDisable][micMute]","meeting page btn",`isMicrophoneMuted: ${p}, hasMic: ${o}, hasMicAccess: ${s}, micHasWarnCode: ${d}`,`render mic btn: iconBtnDisabled ${_}, settingBtnDisabled: ${E}`].join("\n")),a.a.createElement(Pt,Object.assign({className:mi("g-controlbar-btn-mic"),icon:u||t.disabled||p?a.a.createElement(fi.a,null):a.a.createElement(mt,null),processors:[function(e){return e}],modifiers:_?[]:p?["muted-mic"]:[],tooltip:c?l?s?o?d?Object(y.b)(i.micWarnMessageKey):p?Object(y.b)("View_M_Unmute"):Object(y.b)("View_VM_Mute"):Object(y.b)("View_VM_NoMicTip"):Object(y.b)("View_W_AllowAccessToMicHovertip"):Object(y.b)("Mac OS"===gi.a.os.name?"View_G_AllowBrowserMicAccess":"View_G_AllowBrowserMicAccessWindows"):Object(y.b)("View_G_RestartBrowserOrComputerMic"),hoverBackgroundWhenDisabled:!0,disabled:_,warning:_,clickHandler:()=>e(pt.MIC),settingBtn:a.a.createElement(wt,{popup:a.a.createElement(zt,{hideSettingBtn:!0,theme:Ai}),disabled:E,onClick:()=>{pe.b.emit(pe.a.VC_MEETING_ONTHECALL_CLICK,{click:"mic_more",target:"vc_meeting_mic_source_view"}),e(pt.DEVICE_SETTING)},theme:Ai})},t))}),Oi=Object(l.c)(({onBtnClick:e,connectingOverrideProps:t})=>{const{userStore:i,rtcStore:r,meetingStore:o}=n.a,{hasCamera:s,hasCameraAccess:d,cameraHasWarnCode:c,getCameraCanStart:l,cameraSystemPermissions:p}=r,{currentUser:{isCameraMuted:u}}=i,_=!(s&&d&&l&&p),E=_||c,h=_||t.disabled;return Ni.info(["[cameraDisable][cameraMute]","meeting page btn",`isCameraMuted: ${u}, hasCamera: ${s}, hasCameraAccess: ${d}, cameraHasWarnCode: ${c}`,`render camera btn: iconBtnDisabled ${E}, settingBtnDisabled: ${h}`].join("\n")),a.a.createElement(Pt,Object.assign({className:mi("control-bar-device-btn"),icon:_||t.disabled||u?a.a.createElement(xe.a,null):a.a.createElement(Ii.a,null),processors:[function(e){return e}],modifiers:E?[]:u?["muted-camera"]:[],tooltip:l?p?d?s?c?Object(y.b)(r.cameraWarnMessageKey):u?Object(y.b)("View_VM_StartVideo"):Object(y.b)("View_VM_StopVideo"):Object(y.b)("View_VM_NoCameraTip"):Object(y.b)("View_W_AllowAccessToCameraHovertip"):Object(y.b)("Mac OS"===gi.a.os.name?"View_G_AllowBrowserCamAccess":"View_G_AllowBrowserCamAccessWindows"):Object(y.b)("View_G_RestartBrowserOrComputerCam"),hoverBackgroundWhenDisabled:!0,disabled:E,warning:E,clickHandler:()=>e(pt.CAMERA),settingBtn:a.a.createElement(wt,{popup:a.a.createElement(Zt,{onVirtualBackgroundClick:function(){},hideSettingBtn:!0,theme:Ai}),disabled:h,onClick:()=>{pe.b.emit(pe.a.VC_MEETING_ONTHECALL_CLICK,{click:"cam_more",target:"vc_meeting_cam_source_view"}),e(pt.DEVICE_SETTING)},theme:Ai})},t))}),vi=Object(l.c)(({onBtnClick:e,connectingOverrideProps:t})=>{const{shareScreenStore:i,conferenceStore:r,userStore:o}=n.a,{isMeSharing:s,isShowTable:d,someoneIsShaing:c}=i,{meetingSettings:l}=r,{onlyHostCanShare:p=!1,onlyHostCanReplaceShare:u=!1}=l;let E=!1,T=Object(y.b)("View_VM_ShareContentButton"),f=!1;const I=p,g=c&&!s&&u;E=I||g,g&&(T=Object(y.b)("View_M_ShareAfterCurrentSessionEnds")),I&&(T=Object(y.b)("View_M_NoPermissionToShare")),f=d;return a.a.createElement(Pt,Object.assign({className:mi("controlbar-btn-share",{disabled:E}),icon:a.a.createElement(We.a,null),tooltip:T,disabled:E,active:f,clickHandler:()=>{E||(Object(h.d)(_.Homeric.VC_MEETING_PAGE_ONTHECALL,{action_name:_.MeetingPageAction.sharedesk}),pe.b.emit(pe.a.VC_MEETING_ONTHECALL_CLICK,{click:"share",target:"vc_meeting_sharewindow_view"}),e(pt.SCREEN))}},t))}),Pi=({onBtnClick:e})=>a.a.createElement(Pt,{icon:a.a.createElement(ri,null),tooltip:Object(y.b)("View_VM_LeaveButton"),clickHandler:()=>e(pt.HANGUP)});var Mi=Object(l.c)(e=>{const{meetingStore:t,conferenceStore:i,shareScreenStore:r}=n.a,o=t.netWorkStatus===_.NetWorkStatus.CONNECTING||t.isCallConnecting,s=Object.assign({},e);return s.connectingOverrideProps=o?{disabled:!0,active:!1,processors:[]}:{},a.a.createElement(a.a.Fragment,null,a.a.createElement(Ri,Object.assign({},s)),a.a.createElement(Oi,Object.assign({},s)),a.a.createElement(Ci,Object.assign({},s)),a.a.createElement(vi,Object.assign({},s)),a.a.createElement(yi,Object.assign({},s)),a.a.createElement(di,{className:mi("divider3-gap")}),a.a.createElement(Pi,Object.assign({},s)))}),Li=i(1091),bi=i(1092),Di=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};const Ui=U.a.bind(Et.a),wi={isControlbarFaded:!1,mounted:!1};let ki=class extends A.a{constructor(){super(...arguments),this.nextControlbarStatusDisposer=null,this.layoutViewTypeDisposer=null,this.layoutSidebarDisposer=null,this.meetingLayoutMountedDisposer=null,this.controlbarRef=a.a.createRef(),this.state=wi,this.controlbarFullWidth=null,this.controlbarMiniWidth=ft.c,this.transitionEndTimer=null,this.pendingControlbarStatus=null,this.fadeoutTimer=null,this.oldMainViewWidth=null,this.dynamicBtnsWidthCache=new Map(ft.e.map(e=>[e.selector,0])),this.dynamicBtnsPriororIndex=0,this.handleResize=Object(ve.a)(()=>{const{meetingStore:e}=this.props,{controlbarStatus:t}=e;"opened"!==t?"closed"===t&&this.calcControlbarLeft():this.reorderControlbarBtns()},300),this.calcControlbarLeft=()=>{const{meetingStore:e}=this.props,{controlbarStatus:t}=e,{mainViewWidth:i,controlbarWidth:n}=this.getBoundingsWithEffect();if("closed"===t){const t=i-24-72;e.setControlbarLeft(t)}else if("opened"===t){const t=(i-n)/2;e.setControlbarLeft(t)}},this.calcDynamicBtnWidth=e=>{const t=this.controlbarRef.current;if(!t)return;const{dynamicBtnsWidthCache:i}=this,n=t.getElementsByClassName(e)[0];n&&i.set(e,n.getBoundingClientRect().width)},this.calcDynamicBtnsWidth=()=>{const{dynamicBtnsWidthCache:e}=this;e.forEach((e,t)=>{this.calcDynamicBtnWidth(t)})},this.getBoundings=()=>{const e=this.controlbarRef.current,t=document.getElementById("main-view");if(!e||!t)return{mainViewWidth:960,controlbarWidth:600};const{width:i}=t.getBoundingClientRect(),{width:n}=e.getBoundingClientRect();return{mainViewWidth:i,controlbarWidth:n}},this.getBoundingsWithEffect=()=>{const{meetingStore:e}=this.props,t=this.getBoundings(),{height:i,width:n}=document.body.getBoundingClientRect();return e.setBodySize(n,i),t},this.reorderControlbarBtns=e=>{const t=this.controlbarRef.current;if(!t)return;const{meetingStore:i}=this.props,{mainViewWidth:n,controlbarWidth:r}=this.getBoundingsWithEffect();let o=n-r;const{oldMainViewWidth:s}=this;this.oldMainViewWidth=n;const a=()=>{for(let e=0;e<ft.e.length;e++){const{selector:n,onShow:r}=ft.e[e],o=t.getElementsByClassName(n)[0];o&&"none"===o.style.display&&(o.style.display=null,r?r():i.setDynamicBtnShownInMoreIcon(n,!1))}this.dynamicBtnsPriororIndex=0};if(!s||n<s)i.setControlbarLeft(o/2);else{if(s===n&&e&&this.state.mounted)return a(),this.oldMainViewWidth=null,void this.reorderControlbarBtns();(()=>{for(let e=this.dynamicBtnsPriororIndex-1;e>=0;e--){const{selector:e,onShow:n}=ft.e[this.dynamicBtnsPriororIndex-1];if(o-this.dynamicBtnsWidthCache.get(e)<ft.g)break;this.dynamicBtnsPriororIndex--;const r=t.getElementsByClassName(e)[0];if(r){const t=this.dynamicBtnsWidthCache.get(e)||0;r.style.display=null,o-=t,n?n():i.setDynamicBtnShownInMoreIcon(e,!1)}}})(),i.setControlbarLeft(o/2)}},this.calcControlbarFullWidth=e=>{const t=this.controlbarRef.current;if(!t)return;const i=()=>getComputedStyle(t).width;if("closed"===e){const e=i();this.controlbarFullWidth=e}else{const e=t.style.visibility,n=t.style.width;t.style.visibility="hidden",t.style.width=null,t.classList.remove(Ui("closed"));const r=i();t.classList.add(Ui("closed")),t.style.width=n,t.style.visibility=e,this.controlbarFullWidth=r,i()}},this.openControlbar=()=>{const{conferenceStore:e}=this.props;this.track(e.isCall?_.Homeric.VC_CALL_PAGE_ONTHECALL:_.Homeric.VC_MEETING_PAGE_ONTHECALL,{action_name:_.MeetingPageAction.show_control_bar}),this.animateControlbarTo("opened")},this.closeControlbar=()=>{const{conferenceStore:e,shareScreenStore:t}=this.props;this.track(e.isCall?_.Homeric.VC_CALL_PAGE_ONTHECALL:_.Homeric.VC_MEETING_PAGE_ONTHECALL,{action_name:_.MeetingPageAction.hide_control_bar}),pe.b.emit(pe.a.VC_MEETING_ONTHECALL_CLICK,{click:"hide_control_bar",target:"none"}),this.animateControlbarTo("closed")},this.clearTransitionEndTimeout=()=>{this.transitionEndTimer&&(clearTimeout(this.transitionEndTimer),this.transitionEndTimer=null)},this.startTransitionEndTimeout=()=>{this.clearTransitionEndTimeout(),this.transitionEndTimer=setTimeout(this.handleTranstionEnd,500)},this.animateControlbarTo=e=>{const t=this.controlbarRef.current;if(!t)return;let i,n;this.calcControlbarFullWidth(e),"closed"===e?(i=this.controlbarFullWidth,n=this.controlbarMiniWidth,this.setControlbarStatus("closing"),this.pendingControlbarStatus=e):(i=this.controlbarMiniWidth,n=this.controlbarFullWidth,this.setControlbarStatus("opening"),this.pendingControlbarStatus=e),t.style.width="number"==typeof i?i+"px":i,setTimeout(()=>{t.style.width="number"==typeof n?n+"px":n},0),this.startTransitionEndTimeout()},this.clearWidth=()=>{const e=this.controlbarRef.current;e&&(e.style.width=null)},this.handleTranstionEnd=Object(ve.a)(()=>{if(this.pendingControlbarStatus)switch(this.clearTransitionEndTimeout(),this.pendingControlbarStatus){case"closed":this.setControlbarStatus("closed"),this.pendingControlbarStatus=null,this.startFadeoutTimer(),this.calcControlbarLeft();break;case"opened":this.setControlbarStatus("opened"),this.pendingControlbarStatus=null,this.clearWidth(),this.calcControlbarLeft()}},50),this.clearFadeoutTimer=()=>{this.fadeoutTimer&&(clearTimeout(this.fadeoutTimer),this.fadeoutTimer=null)},this.startFadeoutTimer=()=>{this.clearFadeoutTimer(),this.fadeoutTimer=setTimeout(this.fadeoutControlbar,3e3)},this.fadeoutControlbar=()=>{const{controlbarStatus:e}=this.props.meetingStore,{isControlbarFaded:t}=this.state;"closed"!==e&&t||this.setState(()=>({isControlbarFaded:!0}))},this.fadeinControlbar=()=>{const{controlbarStatus:e}=this.props.meetingStore,{isControlbarFaded:t}=this.state;("closed"===e||t)&&(this.clearFadeoutTimer(),this.setState(()=>({isControlbarFaded:!1})))},this.renderCloseControlbarBtn=()=>{const e=a.a.createElement(Li.a,{className:Ui("icon-hide-controlbar")});return a.a.createElement("span",{onClick:this.closeControlbar,className:Ui("close-controlbar-btn")},a.a.createElement(ht.a,{content:this.intl("View_VM_HideControlBar")},e),a.a.createElement(di,{className:Ui("close-btn-divider")}))}}componentDidMount(){const{meetingStore:e}=this.props;window.addEventListener("resize",this.handleResize),this.meetingLayoutMountedDisposer=Object(u.q)(()=>e.meetingLayoutMounted,e=>{e&&(this.calcDynamicBtnsWidth(),this.reorderControlbarBtns(),this.setState(()=>({mounted:!0})))},{fireImmediately:!0}),this.layoutViewTypeDisposer=Object(u.q)(()=>e.layout.viewType,()=>{this.calcDynamicBtnsWidth(),this.reorderControlbarBtns()},{delay:100}),this.layoutSidebarDisposer=Object(u.q)(()=>e.layout.sidebar,()=>{this.handleResize()}),this.nextControlbarStatusDisposer=Object(u.q)(()=>e.nextControlbarStatus,t=>{null!==t&&t!==e.controlbarStatus&&this.animateControlbarTo(t)},{fireImmediately:!0})}componentWillUnmount(){this.clearFadeoutTimer(),window.removeEventListener("resize",this.handleResize),this.meetingLayoutMountedDisposer(),this.layoutViewTypeDisposer(),this.layoutSidebarDisposer(),this.nextControlbarStatusDisposer()}setControlbarStatus(e){this.props.meetingStore.setControlbarStatus(e)}render(){const{controlbarStatus:e}=this.props.meetingStore,{isControlbarFaded:t,mounted:i}=this.state,n="closed"===e,r="opened"===e,o="closing"===e,s="opening"===e;return a.a.createElement(a.a.Fragment,null,(o||n)&&a.a.createElement("span",{className:Ui("open-controlbar-btn",{"is-controlbar-closing":o}),onClick:this.openControlbar,onMouseEnter:this.fadeinControlbar,onMouseLeave:this.startFadeoutTimer},a.a.createElement(ht.a,{content:this.intl("View_VM_ShowControlBar")},a.a.createElement(bi.a,{className:Ui("icon-show-controlbar")}))),a.a.createElement("div",{ref:this.controlbarRef,className:Ui("controlbar",{mounted:i,faded:t,closed:n,closing:o,opening:s}),onTransitionEnd:this.handleTranstionEnd,onMouseEnter:this.fadeinControlbar,onMouseLeave:this.startFadeoutTimer},(r||s)&&this.renderCloseControlbarBtn(),a.a.createElement(Mi,{onBtnClick:this.props.handleIconBtnClick,calcDynamicBtnWidth:this.calcDynamicBtnWidth,reorderControlbarBtns:this.reorderControlbarBtns})))}};ki.defaultProps={cameraMuted:!1,micMuted:!1,isScreenSharing:!1},ki=Di([Object(l.b)(g.l,g.o,g.f,g.n,g.i),l.c],ki);var Gi=ki;function Vi(){pe.b.emit(pe.a.VC_MEETING_POPUP_VIEW,{content:"current_device_coding"}),n.a.meetingStore.setInMeetingConfirmModalData({visible:!0,cancelBtnTxt:"ViewWeb_G_CancelButton",confirmBtnTxt:"ViewWeb_G_Continue",title:"ViewWeb_G_IsCodeGoingOn",content:"ViewWeb_G_AlreadyInCodeTest",confirmEventType:_.ConfirmPopUpEvent.INFO,onConfirm(){pe.b.emit(pe.a.VC_MEETING_POPUP_CLICK,{click:"confirm",content:"current_device_coding"}),n.a.conferenceStore.interviewStore.occupyCoding()},onCancel(){pe.b.emit(pe.a.VC_MEETING_POPUP_CLICK,{click:"cancel",content:"current_device_coding"})}})}var Hi=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};const Bi=T.a.getLogger("meeting-control-bar");let Fi=class extends A.a{constructor(){super(...arguments),this.copyMeetingInfoFlag=0,this.stopShare=()=>{},this.handleMicIconBtnClick=()=>{const{userStore:e,meetingStore:t,rtcStore:i}=this.props,{isSharingMode:n}=t,{hasMic:r,hasMicAccess:o,micHasWarnCode:s,getMicCanStart:a,micSystemPermissions:d}=i,c=e.currentUser.isMicrophoneMuted,l=!c;if(Bi.info(["[micMute]","meeting control-bar",`mic btn click, try from ${c} to ${l}`].join("\n")),!o)return t.isShowBrowserDeviceAccessModal=!0,void Bi.info(["[micMute]","meeting control-bar","not hasMicAccess"].join("\n"));r&&!s&&a&&d?(e.trySetUserMicStatus(l),this.track(this.pageActionName,{action_name:_.MeetingPageAction.mic,from_source:"control_bar",extend_value:{is_sharing:n?1:0,action_enabled:l?0:1}}),pe.b.emit(pe.a.VC_MEETING_ONTHECALL_CLICK,{click:"mic",target:"none",option:l?"close":"open"})):Bi.info(["[micMute]","meeting control-bar",`not hasMic || ${s} || ${a} || ${d}`].join("\n"))},this.handleCameraIconBtnClick=()=>{const{userStore:e,meetingStore:t,rtcStore:i}=this.props,{isSharingMode:n}=t,{hasCamera:r,hasCameraAccess:o,cameraHasWarnCode:s,getCameraCanStart:a,cameraSystemPermissions:d}=i,c=e.currentUser.isCameraMuted,l=!c;if(Bi.info(["[cameraMute]","meeting control-bar",`camera btn click, try from ${c} to ${l}`].join("\n")),!o)return t.isShowBrowserDeviceAccessModal=!0,void Bi.info(["[cameraMute]","meeting control-bar","not hasCameraAccess"].join("\n"));r&&!s&&a&&d?(e.setUserCameraStatus(l),this.track(this.pageActionName,{action_name:_.MeetingPageAction.camera,from_source:"control_bar",extend_value:{is_sharing:n?1:0,action_enabled:l?0:1}}),pe.b.emit(pe.a.VC_MEETING_ONTHECALL_CLICK,{click:"cam",target:"none",option:l?"close":"open"})):Bi.info(["[cameraMute]","meeting control-bar",`not hasCamera || ${s} || ${a} || ${d}`].join("\n"))},this.handleHostIconBtnClick=()=>{},this.handleHangupIconBtnClick=()=>{const{conferenceStore:e,appStore:t,meetingStore:i}=this.props,{type:n,isScreenShareToRoom:r}=e;T.c.info("handle hangup btn click"),this.track(this.pageActionName,{action_name:_.MeetingPageAction.hangup,from_source:"control_bar"}),pe.b.emit(pe.a.VC_MEETING_ONTHECALL_CLICK,{click:"leave",target:"none"}),n!==_.VideoChatType.CALL?(t.setHangupModalData(!0,_.ConfirmModalType.MEETING),pe.b.emit(pe.a.VC_MEETING_POPUP_VIEW,{content:"confirm_leave"})):S.a.hangup(_.Action.END)},this.handleSubtitleIconBtnClick=()=>{},this.handleFollowRefreshIconBtnClick=()=>{},this.handleStopFollowShareIconBtnClick=()=>{},this.handleRecordIconBtnClick=e=>{},this.handleFollowStatusChangeClick=()=>{},this.handleInterviewSpaceIconClick=()=>{const{mainViews:e}=this.props.meetingStore,{interviewStore:{IAmInterviewee:t,isInterviewSpaceEnabled:i,isCurrentDeviceCodingTesting:n}}=this.props.conferenceStore;if(t&&i&&!n)return void Vi();const r=e.shouldShowInterviewSpace;r?e.hideInterviewSpace():e.showInterviewSpace(),n&&pe.b.emit(pe.a.VC_MEETING_ONTHECALL_CLICK,{click:"coding_test",if_fold:r?"true":"false"}),this.track(_.Homeric.VC_MEETING_PAGE_ONTHECALL,{from_source:"control_bar",action_name:_.MeetingPageAction.meeting_space,extend_value:{action_enabled:r?0:1}}),this.props.conferenceStore.isPeopleMeeting&&this.track(le.a.VC_INTERVIEW,{action_name:r?"click_close":"click_open"});const{someoneIsShaing:o}=this.props.shareScreenStore;pe.b.emit(pe.a.VC_MEETING_ONTHECALL_CLICK,{click:r?"fold_people_zone":"people_zone",is_sharing:o?"true":"false",is_more:"false",target:"none"})},this.handleMuteAllBtnClick=()=>{},this.handleIconBtnClick=e=>{const{meetingStore:t,shareScreenStore:i,userStore:n,conferenceStore:r,inviteStore:o}=this.props;if(t.netWorkStatus!==_.NetWorkStatus.ONLINE&&e!==pt.HANGUP)return;const{someoneIsShaing:s,isMeSharing:a}=i;switch(e){case pt.MORE:case pt.MIC:this.handleMicIconBtnClick();break;case pt.CAMERA:this.handleCameraIconBtnClick();break;case pt.PARTICIPANT:{let e={action_name:_.MeetingPageAction.user_list,from_source:"control_bar"};s&&(e=Object.assign(e,{is_sharer:a?1:0})),this.track(_.Homeric.VC_MEETING_PAGE_ONTHECALL,e),pe.b.emit(pe.a.VC_MEETING_ONTHECALL_CLICK,{click:"userlist",target:"none"}),t.layout.onToggleParticipantSidebar();break}case pt.HOST:break;case pt.HANGUP:this.handleHangupIconBtnClick();break;case pt.SCREEN:T.c.info("handle screen share btn click"),i.chooseShareScreenWindow();break;case pt.SETTING:case pt.REFRESH:case pt.STOP_SHARING:case pt.FOLLOW:case pt.RECORD:case pt.BROWSE:case pt.STOP_RECORD:case pt.SUBTITLE_ON:case pt.SUBTITLE_OFF:break;case pt.INTERVIEW_SPACE:this.handleInterviewSpaceIconClick();break;case pt.START_SKETCH:case pt.STOP_SKETCH:case pt.APPLY_REMOTE_CONTROL:case pt.STOP_REMOTE_CONTROL:case pt.COPY_LIVE_LINK:case pt.REQUEST_LIVE:case pt.LIVE:case pt.VC_LABS:case pt.PHONE_INVITE:case pt.SIP_INVITE:}},this.handleCopyMeetingInfo=()=>{}}didMount(){}willUnmount(){}get pageActionName(){return this.props.conferenceStore.type===_.VideoChatType.CALL?_.Homeric.VC_CALL_PAGE_ONTHECALL:_.Homeric.VC_MEETING_PAGE_ONTHECALL}rendering(){const{userStore:e,shareScreenStore:t}=this.props,{currentUser:i}=e||{},n=Gi;return s.createElement(n,{micMuted:i.isMicrophoneMuted,cameraMuted:i.isCameraMuted,handleIconBtnClick:this.handleIconBtnClick,isScreenSharing:t.isSharing})}};Fi=Hi([Object(l.b)(g.e,g.f,g.o,g.i,g.n,g.h,g.l),l.c],Fi);var ji,Wi,xi=Fi;i(848);!function(e){e.primary="primary",e.normal="normal",e.dashed="dashed",e.danger="danger",e.dangerGhost="danger-ghost"}(ji||(ji={})),function(e){e.default="default",e.large="large",e.small="small"}(Wi||(Wi={}));class Ki extends s.PureComponent{constructor(){super(...arguments),this.clickHandler=e=>{const{onClick:t,disabled:i}=this.props;!i&&t&&t(e)}}render(){const{text:e,type:t,className:i,loading:n,disabled:r,style:o,size:a="default",loadingText:d}=this.props,c="size-"+a,l=O()("bv-btn",t,i,c,{disabled:r,normal:void 0===t}),p=n&&d?d:e;return s.createElement("button",{type:"button",className:l,style:o,onClick:this.clickHandler},p)}}Ki.defaultPorps={disabled:!1,size:"default"};i(849);var qi=i(1083),Yi=i(1077);const Ji=430;class zi extends s.Component{constructor(){super(...arguments),this.okLock=!1,this.handleOkClick=()=>{const{onOkClick:e,okClickOnce:t}=this.props;if(e){if(t){if(this.okLock)return;this.okLock=!0}e()}},this.handleCancelClick=()=>{const{onCancelClick:e}=this.props;e&&e()},this.handleCloseAllModal=()=>{this.props.closeModal()},this.handleGlobalEscape=e=>{const{escClosable:t,visible:i}=this.props;i&&t&&(e.nativeEvent?e.nativeEvent.hasHandleEscInGlobal=!0:e.hasHandleEscInGlobal=!0,this.handleClose(e))},this.handleClose=e=>{e.stopPropagation(),this.props.closeModal(),this.props.afterClose&&this.props.afterClose()},this.handleClickContent=e=>{e.stopPropagation()}}getModalFooter(){const{showOk:e,showCancel:t,okText:i=Object(y.b)("View_G_OkButton"),cancelText:n=Object(y.b)("View_G_CancelButton"),isOkEnable:r}=this.props;if(!e&&!t)return null;const o=t&&a.a.createElement(Ki,{className:"lark-modal-button cancel-button ghost",type:ji.normal,text:n,onClick:this.handleCancelClick}),s=e&&a.a.createElement(Ki,{type:ji.primary,text:i,onClick:this.handleOkClick,className:"lark-modal-button submit-button",disabled:!r});return a.a.createElement("div",{className:"lark-modal-footer"},o,s)}render(){const{className:e="",visible:t,children:i,title:n,width:r,maskClosable:o,isWrapCenter:s,showCloseIcon:d,contentStyle:c,description:l,otherNode:p,showWarnIcon:u}=this.props;if(!t)return null;const _=O()({"lark-modal-wrapper":!0,[e]:!!e,"wrap-center":s}),E=d&&a.a.createElement("div",{className:"lark-modal-close",onClick:this.handleClose},a.a.createElement(qi.a,null)),h=n&&a.a.createElement("div",{className:"lark-modal-header"},a.a.createElement("div",{className:"header-title"},a.a.createElement(Yi.a,{style:{display:u?"":"none"},className:"bv-lark-icon-confirm-warn"}),a.a.createElement("span",null,n)),l&&a.a.createElement("div",{className:"header-description"},l)),T=p||null;return a.a.createElement("div",{className:_},a.a.createElement("div",{onClick:o?this.handleClose:void 0,className:"lark-modal-title electron-draggable"}),a.a.createElement("div",{className:"lark-modal-mask",onClick:o?this.handleClose:void 0}),T,a.a.createElement("div",{className:"lark-modal-content",style:Object.assign(Object.assign({},c),{width:"string"==typeof r?r:r+"px"}),onClick:this.handleClickContent},E,h,a.a.createElement("div",{className:"lark-modal-body"},i),this.getModalFooter()))}}zi.defaultProps={visible:!1,isWrapCenter:!0,className:"",title:"",contentStyle:{},width:"",showOk:!0,isOkEnable:!0,onOkClick:S.g,okClickOnce:!0,showCancel:!0,showCloseIcon:!0,onCancelClick:S.g,closeModal:S.g,maskClosable:!0,escClosable:!0,showWarnIcon:!1};i(850);var Xi=i(1093);class Qi extends s.Component{constructor(){super(...arguments),this.state={checked:void 0===this.props.checked?this.props.defaultChecked:this.props.checked},this.renderChildren=()=>{const{children:e}=this.props;return"function"==typeof e?this.props.children(this.state.checked):e},this.isDisabled=()=>!0===this.props.disabled,this.clickHandler=()=>{if(this.isDisabled())return;const{checked:e}=this.state;void 0===this.props.checked&&this.setState({checked:!e}),this.props.onChange(!e)},this.renderChildrenBefore=()=>"before"===this.props.contentPosition?this.renderChildren():null,this.renderChildrenAfter=()=>"after"===this.props.contentPosition?this.renderChildren():null}render(){const{theme:e}=this.props;return s.createElement("div",{className:O()("bv-checkable",this.props.className),onClick:this.clickHandler},this.renderChildrenBefore(),this.state.checked?s.createElement("div",{className:O()("checkbox checkbox-selected",{"checkbox-selected-light":e===g.p.LIGHT,disabled:this.isDisabled()})},s.createElement(Xi.a,null)):s.createElement("div",{className:O()("checkbox checkbox-unselected",{"checkbox-unselected-light":e===g.p.LIGHT,disabled:this.isDisabled()})}),this.renderChildrenAfter())}}Qi.defaultProps={defaultChecked:!1,disabled:!1,onChange:S.g,theme:g.p.DARK,contentPosition:"before"},Qi.getDerivedStateFromProps=(e,t)=>void 0!==e.checked?Object.assign(Object.assign({},t),{checked:e.checked}):null;var $i=i(664),Zi=i.n($i),en=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};const tn=U.a.bind(Zi.a);let nn=class extends A.a{constructor(){super(...arguments),this.onCancelClick=()=>{const{onClose:e}=this.props;e&&e(),this.track(_.Homeric.VC_MEETING_PAGE_ONTHECALL,{action_name:_.MeetingPageAction.cancelHangup}),pe.b.emit(pe.a.VC_MEETING_POPUP_CLICK,{click:"cancel",content:"confirm_leave"})},this.onHangupAllClick=()=>{T.c.info("hangup all btn click in hangup modal"),this.props.meetingStore.hangup(_.Action.END);const{onClose:e}=this.props;e&&e(),this.openIntervieweeResume(),this.track(_.Homeric.VC_MEETING_PAGE_ONTHECALL,{action_name:_.MeetingPageAction.hangup,extend_value:{hangup_type:"leave"}}),this.track(_.Homeric.VC_MEETING_PAGE_ONTHECALL,{action_name:_.MeetingPageAction.endMeeting})},this.onHangupSelfClick=()=>{T.c.info("hangup self btn click in hangup modal"),this.props.meetingStore.hangup(_.Action.LEAVE);const{onClose:e}=this.props;e&&e(),this.openIntervieweeResume(),this.track(_.Homeric.VC_MEETING_PAGE_ONTHECALL,{action_name:_.MeetingPageAction.hangup,extend_value:{hangup_type:"exit"}}),this.track(_.Homeric.VC_MEETING_PAGE_ONTHECALL,{action_name:_.MeetingPageAction.leaveMeeting}),pe.b.emit(pe.a.VC_MEETING_POPUP_CLICK,{click:"confirm",content:"confirm_leave"})},this.handleInterviewerCheckboxChange=Object(ve.a)(e=>{this.props.settingStore.patchSettingByKey("userSetting.ifDirectToPeopleAfterInterview",e)},200)}openIntervieweeResume(){}renderLeaveMeetingButton(){return s.createElement("button",{type:"button",className:tn("float-right"),onClick:this.onHangupSelfClick},this.intl("View_M_LeaveMeetingButton"))}renderInterviewerOption(){const{ifDirectToPeopleAfterInterview:e}=this.props.settingStore.userSetting,{meetingStore:t,conferenceStore:i}=this.props;return t.isMeetingSpaceEnabled&&i.isPeopleMeeting?s.createElement("div",{className:tn("interviewerOption")},s.createElement(Qi,{checked:e,onChange:this.handleInterviewerCheckboxChange}),s.createElement("div",{className:tn("interviewerOption_text")},this.intl("View_M_InterviewEndOpenPeople"))):null}renderModalContent(){const{isHost:e,conferenceStore:t}=this.props;let i;const{isMeeting:n,isCall:r}=t;i=n?this.intl("View_M_SureToLeaveMeetingQuestion"):this.intl("View_VM_SureToLeaveQuestion");const o=s.createElement(s.Fragment,null,s.createElement("button",{type:"button",className:tn("float-right")+" danger",onClick:this.onHangupSelfClick}," ",this.intl("View_M_LeaveMeetingButton")," "),s.createElement("button",{type:"button",className:tn("float-right","default","ghost"),onClick:this.onCancelClick},this.intl("View_G_CancelButton"))),a=s.createElement("div",{className:"meeting-host-btns"},s.createElement("button",{type:"button",className:tn("default","ghost"),onClick:this.onCancelClick},this.intl("View_G_CancelButton")),s.createElement("button",{type:"button",className:tn("float-right")+" danger",onClick:this.onHangupSelfClick},this.intl("View_M_LeaveMeetingButton")),s.createElement("button",{type:"button",className:tn("float-right","danger-ghost"),onClick:this.onHangupAllClick}," ",this.intl("View_M_EndMeetingForAll")," ")),d=s.createElement(s.Fragment,null,s.createElement("button",{type:"button",className:tn("float-right")+" danger",onClick:this.onHangupSelfClick},this.intl("View_VM_LeaveButton")),s.createElement("button",{type:"button",className:tn("float-right","default","ghost"),onClick:this.onCancelClick},this.intl("View_G_CancelButton")));return s.createElement("div",{className:tn("content")},s.createElement("div",{className:tn("title")},s.createElement(Rt.a,null),i),n&&e&&s.createElement("div",{className:tn("des")},this.intl("View_M_LeaveMeetingInfo")),this.renderInterviewerOption(),s.createElement("div",{className:tn("btn-wrap")},r&&o,n&&!e&&d,n&&e&&a))}render(){const{visible:e,isWindow:t,isHost:i,cls:n,conferenceStore:r}=this.props,{isMeeting:o}=r,a=o?i?"meeting":"meeting-not-host":"call";return s.createElement(zi,{className:tn("vc-confirm-modal",a,n,t?"window":""),visible:e,showOk:!1,showCloseIcon:!1,showCancel:!1,maskClosable:!1},this.renderModalContent())}};nn.defaultProps={visible:!0,cls:""},nn=en([Object(l.b)(g.i,g.f,g.o,g.m),l.c],nn);var rn=nn;i(851);class on extends Se.b{render(){const{style:e,color:t}=this.props;return s.createElement("svg",{className:"bv-spinner",style:e,viewBox:"0 0 66 66",xmlns:"http://www.w3.org/2000/svg"},s.createElement("circle",{className:"bv-spinner-path",fill:"none",style:{stroke:t},strokeWidth:"6",strokeLinecap:"round",cx:"33",cy:"33",r:"30"}))}}on.defaultProps={style:{height:16,width:16},color:"#37f"};i(852),i(853);class sn extends s.PureComponent{constructor(){super(...arguments),this.afterClose=()=>{const{afterClose:e}=this.props;return e?e():this.handleCloseModal()},this.handleCloseModal=()=>{const{closeCallback:e,closeModal:t}=this.props;t(),"function"==typeof e&&e()},this.handleGlobalEnter=()=>{this.props.visible&&this.handleConfirmModal()},this.handleConfirmModal=()=>{const{confirmModal:e,closeModal:t}=this.props;t(),"function"==typeof e&&e()}}render(){const{title:e,content:t,visible:i,closeModal:n,okText:r,cancelText:o,maskClosable:s,showCloseIcon:d,okClickOnce:c,className:l=""}=this.props;return a.a.createElement(zi,{title:e,className:"lark-confirm-modal "+l,visible:i,showOk:!0,showCancel:!0,cancelText:o,okText:r,onOkClick:this.handleConfirmModal,onCancelClick:this.handleCloseModal,width:Ji,closeModal:n,afterClose:this.afterClose,maskClosable:s,showCloseIcon:d,okClickOnce:c},t)}}sn.defaultProps={okText:"Confirm",cancelText:"Cancel",maskClosable:!0};var an=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},dn=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};let cn=class extends A.a{constructor(){super(...arguments),this.handleCancelBtnClick=()=>{this.props.onCancel()},this.handleConfirmModal=()=>dn(this,void 0,void 0,(function*(){this.props.onConfirm()}))}rendering(){const e=this.intl("View_M_JoinMeetingQuestion"),t=this.intl("View_M_LeaveAndJoinQuestion"),i=this.intl("View_G_ConfirmButton"),n=this.intl("View_G_CancelButton");return s.createElement(sn,{title:e,content:t,maskClosable:!1,okText:i,cancelText:n,visible:this.props.visible||!1,confirmModal:this.handleConfirmModal,closeCallback:this.handleCancelBtnClick,closeModal:this.handleCancelBtnClick,showCloseIcon:!1})}};cn.defaultProps={visible:!1,onConfirm:S.g,onCancel:S.g},cn=an([Object(l.b)(g.e,g.f,g.j,g.o,g.l),l.c],cn);var ln=cn,pn=i(440),un=i.n(pn),_n=i(148),En=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},hn=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};let Tn=class extends A.a{constructor(e){super(e),this.handleJoinMeetingModalConfirmBtnClick=()=>{this.track(_.Homeric.VC_MEETING_POPUP,{action_name:_.MeetingPopupPageAction.unknown_error_refresh,from_source:"unknown_error_display"}),S.a.openByName(_.PageName.PREVIEW,{})},this.handleJoinMeetingModalCancelBtnClick=()=>{this.track(_.Homeric.VC_MEETING_POPUP,{action_name:_.MeetingPopupPageAction.unknown_error_leave,from_source:"unknown_error_display"}),this.toggleJoinMeetingModal(!1)},this.handleRejoinBtnClick=()=>hn(this,void 0,void 0,(function*(){this.track(_.Homeric.VC_MEETING_POPUP,{action_name:_.MeetingPopupPageAction.unknown_error_refresh,from_source:"unknown_error_display"}),pe.b.emit(pe.a.VC_POPUP_UNKNOW_CLICK,{click:"reloading",target:"none"}),Object(_n.c)(),setTimeout(()=>{Object(E.l)(_.PageName.PREVIEW)},100)})),this.handleCancelBtnClick=()=>{this.track(_.Homeric.VC_MEETING_POPUP,{action_name:_.MeetingPopupPageAction.unknown_error_leave,from_source:"unknown_error_display"}),pe.b.emit(pe.a.VC_POPUP_UNKNOW_CLICK,{click:"leave_meeting",target:"none"}),setTimeout(()=>{Object(E.l)(_.PageName.END)},100)},this.state={joinMeetingModalVisible:!1}}didMount(){this.track(_.Homeric.VC_MEETING_POPUP,{action_name:_.MeetingPopupPageAction.display,from_source:"unknown_error_display"})}toggleJoinMeetingModal(e){this.setState({joinMeetingModalVisible:e})}handleRejoinResponse(e){const{meetingStore:t}=this.props;switch(this.toggleJoinMeetingModal(!1),e){case _.RejoinMeetingResponseStatusCode.VC_BUSY_ERROR:return void this.toggleJoinMeetingModal(!0);case _.RejoinMeetingResponseStatusCode.SUCCESS:t.setNetWorkStatus(_.NetWorkStatus.ONLINE),S.a.emit(_.BroadcastEvent.NETWORK_STATUS_UPDATE,_.NetWorkStatus.ONLINE)}}rejoinMeeting(e={}){return hn(this,void 0,void 0,(function*(){try{const t=yield S.a.rejoinMeeting(Object.assign(Object.assign({},e),{pageName:_.PageName.MEETING}));this.handleRejoinResponse(t.status),this.props.handleRejoinMeetingSuccess();const{participants:i}=t.videoChatInfo;if(i){const e=i.filter(e=>e.status!==_.ParticipantStatus.IDLE);this.props.userStore.syncParticipants(e)}}catch(e){T.c.error("rejoin error",e)}}))}closeWindow(){}renderMask(){const{meetingStore:e}=this.props,{netWorkStatus:t,isCallConnecting:i}=e;return t===_.NetWorkStatus.OFFLINE?(pe.b.emit(pe.a.VC_POPUP_UNKNOW_VIEW),s.createElement("div",{className:O()("main-layout-mask")},s.createElement("img",{src:un.a,alt:""}),s.createElement("div",{className:O()("main-layout-offline-info1")},this.intl("View_G_SomethingWentWrong")),s.createElement("div",{className:O()("main-layout-offline-info2")},this.intl("View_W_ReloadPageOrCheckConnection")),s.createElement("div",{className:O()("main-layout-buttons")},s.createElement("div",{className:O()("main-layout-button","main-layout-button-close"),onClick:this.handleCancelBtnClick},this.intl("View_M_LeaveMeetingButton")),s.createElement("div",{className:O()("main-layout-button","main-layout-button-reconnecting"),onClick:this.handleRejoinBtnClick},this.intl("View_VM_Refresh"))))):t===_.NetWorkStatus.RECONNECTING?s.createElement("div",{className:O()("main-layout-mask")},s.createElement(on,{color:"#fff",style:{height:36,width:36}}),s.createElement("div",{className:O()("main-layout-offline-info3")},this.intl("View_G_TryingToReconnect"))):t===_.NetWorkStatus.CONNECTING?s.createElement("div",{className:O()("main-view-mask")},s.createElement(on,{color:"#fff",style:{height:36,width:36}}),s.createElement("div",{className:O()("main-view-breaking-info1")},this.intl("View_VM_UnstableConnection")),s.createElement("div",{className:O()("main-view-breaking-info2")},this.intl("View_G_TryingToReconnect"))):i?s.createElement("div",{className:O()("main-view-mask")},s.createElement(on,{color:"#fff",style:{height:36,width:36}}),s.createElement("div",{className:O()("main-view-breaking-info1")},this.intl("View_G_Connecting"))):null}rendering(){const{joinMeetingModalVisible:e}=this.state;return s.createElement(s.Fragment,null,this.renderMask(),s.createElement(ln,{visible:e,onCancel:this.handleJoinMeetingModalCancelBtnClick,onConfirm:this.handleJoinMeetingModalConfirmBtnClick}))}};Tn=En([Object(l.b)(g.i,g.o,g.j),l.c],Tn);var yn=Tn,fn=i(665),In=i.n(fn),gn=i(666),Sn=i.n(gn),Cn=i(178),mn=i(205),Nn=i(50),An=i(82);const Rn=mn.d?Cn.a.Staging:mn.c?Cn.a.Prerelease:Cn.a.Production;Cn.b.init({appName:"vc-web",appVersion:"1.0.0",locale:An.b.langCode,appRegion:Nn.c?"va":"cn",env:Rn,urls:{larkAPIDomain:me.b.api}});const On=a.a.lazy(()=>i.e(3).then(i.bind(null,1704))),vn=(a.a.lazy(()=>i.e(3).then(i.bind(null,1703))),{fallback:null}),Pn=e=>a.a.createElement(a.a.Suspense,vn,a.a.createElement(On,e));var Mn=i(669),Ln=i.n(Mn),bn=i(444),Dn=i.n(bn),Un=i(670),wn=i.n(Un),kn=i(671),Gn=i.n(kn);const Vn=U.a.bind(Gn.a);class Hn extends Se.b{constructor(){super(...arguments),this.handleDoubleClick=e=>{e.stopPropagation()}}getColorClass(){const{type:e}=this.props;return"color-btn-"+e}renderTextButton(e){const{children:t}=this.props;return s.createElement("span",null,e||t)}renderIconButton(e){const{iconClassName:t}=this.props;return s.createElement(e,{className:t})}rendering(){const{text:e,tooltip:t,className:i,iconName:n,type:r,onClick:o}=this.props,a=this.getColorClass();return s.createElement("div",{className:i},s.createElement(ht.a,{content:t,placement:"bottom",style:{maxWidth:320}},s.createElement("button",{className:Vn(a,"meetingTitleBar_btn-"+r,{"meetingTitleBar_btn-icon":n,"meetingTitleBar_btn-normal":!n}),onDoubleClick:this.handleDoubleClick,type:"submit",onClick:o},n?this.renderIconButton(n):this.renderTextButton(e))))}}var Bn=i(1094),Fn=i(1095),jn=i(1096),Wn=i(1097),xn=i(256);const Kn=U.a.bind(wn.a),qn={margin:"0 4px"},Yn=[-10,2];var Jn;!function(e){e[e.WIDTH_SCREEN=0]="WIDTH_SCREEN",e[e.NARROW_SCREEN=1]="NARROW_SCREEN",e[e.MORE_BTN=2]="MORE_BTN"}(Jn||(Jn={}));class zn extends Se.b{constructor(){super(...arguments),this.backGuideRef=s.createRef(),this.state={confirmModalVisible:!1,isMoreVisible:!1,isPassSharingListVisible:!1},this.handleDOMClick=()=>{const{isOpenForCCMSettings:e,toggleDocSettings:t}=this.props;e&&t(!1)},this.permissionRefs={[Jn.WIDTH_SCREEN]:s.createRef(),[Jn.NARROW_SCREEN]:s.createRef(),[Jn.MORE_BTN]:s.createRef()},this.togglePermissionSettings=e=>{const{isOpenForCCMSettings:t,toggleDocSettings:i}=this.props,n=this.getDocSettingsPosition(e);void 0!==n&&(t?i(!1):i(!0,n))},this.handleMoreShow=()=>{this.setState({isMoreVisible:!0})},this.handleMoreClose=()=>{this.setState({isMoreVisible:!1})},this.handlePassSharingListShow=()=>{this.setState({isPassSharingListVisible:!0})},this.handlePassSharingListClose=()=>{this.setState({isPassSharingListVisible:!1})},this.handleTakeOver=()=>{this.props.canTakeOver()?this.setState({confirmModalVisible:!0}):this.props.showToast(this.intl("View_VM_YouCanNotTakeControl"),_.ToastEvent.ERROR,Object(xn.uuid)()),this.track(Ee.g.VC_MEETING_PAGE_ONTHECALL,{action_name:Ee.j.steal_present,extend_value:{file_token:this.props.currentDocToken||"",sub_type:this.props.currentSubType,follow_type:this.props.currentFollowType,share_id:this.props.currentShareId}})},this.closeConfirmModal=()=>{this.setState({confirmModalVisible:!1}),this.track(Ee.g.VC_MEETING_PAGE_ONTHECALL,{action_name:Ee.j.cancel,from_source:"steal_present_confirm",extend_value:{file_token:this.props.currentDocToken||"",sub_type:this.props.currentSubType,follow_type:this.props.currentFollowType,share_id:this.props.currentShareId}})},this.handleConfirmModal=()=>{this.track(Ee.g.VC_MEETING_PAGE_ONTHECALL,{action_name:Ee.j.confirm,from_source:"steal_present_confirm",extend_value:{file_token:this.props.currentDocToken||"",sub_type:this.props.currentSubType,follow_type:this.props.currentFollowType,share_id:this.props.currentShareId}}),this.props.takeOverFollow()}}didMount(){window.addEventListener("click",this.handleDOMClick)}willUnmount(){window.removeEventListener("click",this.handleDOMClick)}didUpdate(e){const{shareInfoTip:t}=e,{shareInfoTip:i,canBeBack:n}=this.props;t!==i&&n&&this.backGuideRef.current&&this.backGuideRef.current.resetPosition()}getDisplayDocTitle(e=40){const{docTitle:t}=this.props;return t.length>e?t.substr(0,e)+"...":t}getLastDisplayDocTitle(e=40){const{lastDocTitle:t}=this.props;return t.length>e?t.substr(0,e)+"...":t}getDocSettingsPosition(e){const{current:t}=this.permissionRefs[e];if(!t)return;const{left:i,width:n}=t.getBoundingClientRect();return i+n}renderMoreBtn(){const{isMoreVisible:e}=this.state,{hasOtherUser:t,ifhidePermissionBtn:i}=this.props;return t||i?t&&i?s.createElement(s.Fragment,null,this.renderPassOnSharingBtn({isInMoreBtnList:!1,isShownLessThan1000:!0})):!t&&i?s.createElement(s.Fragment,null):s.createElement(bt.a,{enableClickToggle:!0,placement:"bottom",autoToggle:"click",targetClassName:Kn("meetingTitleBar_moreTarget","shareControlBar_btn",{active:e}),popClassName:Kn("meetingTitleBar_morePop","meetingTitleBar_displayLessThan1000"),onShow:this.handleMoreShow,onClose:this.handleMoreClose,content:({onClose:e})=>this.renderMoreBtnList(e)},s.createElement("div",null,s.createElement(Hn,{className:Kn("meetingTitleBar_moreBtn","meetingTitleBar_displayLessThan1000",{active:e}),type:"border",style:qn},this.intl("View_G_More"),s.createElement(Bn.a,{className:Kn("meetingTitleBar_moreBtnTri")})))):s.createElement("div",{ref:this.permissionRefs[Jn.NARROW_SCREEN]},this.renderPermissionBtn({isInMoreBtnList:!1,isShownLessThan1000:!0,type:Jn.NARROW_SCREEN}))}renderMoreBtnList(e){return s.createElement(s.Fragment,null,this.renderPermissionBtn({isInMoreBtnList:!0,isShownLessThan1000:!0,onClick:e,type:Jn.MORE_BTN}),this.renderPassOnSharingBtn({isInMoreBtnList:!0,isShownLessThan1000:!0}))}renderPermissionBtn(e){const{isShownLessThan1000:t,isInMoreBtnList:i,onClick:n,type:r}=e,{ifhidePermissionBtn:o}=this.props;return o?s.createElement(s.Fragment,null):i?s.createElement("div",{className:Kn("meetingTitleBar_moreListItem"),onClick:()=>{this.handleMoreClose(),this.togglePermissionSettings(r),n&&n()},ref:this.permissionRefs[r]},this.intl("View_VM_PermissionSettings")):s.createElement("div",{ref:this.permissionRefs[r]},s.createElement(Hn,{type:"border",onClick:()=>{this.togglePermissionSettings(r)},className:Kn("meetingTitleBar_shareControlBarBtn-permission",{meetingTitleBar_displayMoreThan1000:!t,meetingTitleBar_displayLessThan1000:t}),text:this.intl("View_VM_PermissionSettings"),style:qn}))}renderPassOnSharingBtn(e){const{isInMoreBtnList:t,isShownLessThan1000:i}=e,{hasOtherUser:n}=this.props,{isPassSharingListVisible:r}=this.state;return n?s.createElement(s.Fragment,null,s.createElement(bt.a,{offset:t?Yn:[0,8],placement:t?"right-start":"bottom",autoToggle:t?"hover":"click",onClose:t?this.handlePassSharingListClose:void 0,onShow:t?this.handlePassSharingListShow:void 0,enableClickToggle:!0,popClassName:Kn("meetingTitleBar_successorPop",{"meetingTitleBar_displayMoreThan1000-block":!t&&!i,"meetingTitleBar_displayLessThan1000-block":!t&&i}),content:null},t?s.createElement("div",{className:Kn("meetingTitleBar_moreListItem",{active:r})},this.intl("View_VM_PassOnSharing"),s.createElement(Bn.a,{className:Kn("meetingTitleBar_moreBtnTri")})):s.createElement(Hn,{className:Kn("meetingTitleBar_shareControlBarBtn-passOnSharing",{meetingTitleBar_displayMoreThan1000:!i,meetingTitleBar_displayLessThan1000:i}),type:"border",text:this.intl("View_VM_PassOnSharing"),style:qn}))):s.createElement(s.Fragment,null)}renderBackBtn(){const{canBeBack:e,needBackGuide:t,rollBackMagicShare:i,backGuideKey:n,lastIsWeb:r}=this.props;r?this.intl("View_VM_ClickToGoBackToWebPage"):this.intl("View_VM_ClickToGoBackToFile");return e?s.createElement("div",{className:Kn("meetingTitleBar_shareControlBarBtnWrapper-back")},s.createElement(bt.a,{ref:this.backGuideRef,key:n,popClassName:Kn("meetingTitleBar_backGuideTrigger"),content:null,visibility:"visible",placement:"bottom",portal:!0,offset:[0,20],renderArrow:!0,preventOverflow:{padding:10},arrowClassName:Kn("meetingTitleBar_backGuideArrow"),enableTrigger:t},s.createElement(Hn,{type:"noborder",onClick:i,className:Kn("meetingTitleBar_shareControlBarBtn-back"),iconClassName:Kn("meetingTitleBar_shareControlBarIcon-back"),iconName:Fn.a,tooltip:this.intl("View_VM_GoBackToFileName",{fileName:this.getLastDisplayDocTitle()})}))):s.createElement(s.Fragment,null)}renderToPresenterBtn(){const{changeFollowStatus:e,toPresenterGuideKey:t,needToPresenterGuide:i}=this.props;return s.createElement(bt.a,{key:t,popClassName:Kn("meetingTitleBar_backGuideTrigger"),content:null,visibility:"visible",placement:"bottom",portal:!0,offset:[0,20],renderArrow:!0,preventOverflow:{padding:10},arrowClassName:Kn("meetingTitleBar_backGuideArrow"),enableTrigger:i},s.createElement(Hn,{type:"primary",onClick:e,text:this.intl("View_VM_FollowPersonSharing")}))}renderFollowerButtons(){const{followingStatus:e,currentIsWeb:t,canProduce:i,canConsume:n,isPinnedInSharing:r,onUnpin:o}=this.props,{confirmModalVisible:a}=this.state,d=this.intl("View_G_ConfirmButton"),c=this.intl("View_G_CancelButton");return r?s.createElement(Hn,{type:"border",onClick:o,text:this.intl("View_M_BackToSharedContent")}):s.createElement(s.Fragment,null,i&&s.createElement(Hn,{type:"border",onClick:this.handleTakeOver,tooltip:t?this.intl("View_VM_YouWillTakeOverSharingWebPageName",{webPageName:this.getDisplayDocTitle()}):this.intl("View_VM_YouWillTakeOverSharingFileName",{fileName:this.getDisplayDocTitle()}),className:Kn(e?"":"meetingTitleBar_shareControlBarBtn-takeOver"),text:this.intl("View_VM_TakeOverSharingButton")}),!e&&n&&this.renderToPresenterBtn(),s.createElement(sn,{visible:a,content:"",confirmModal:this.handleConfirmModal,closeModal:this.closeConfirmModal,okText:d,cancelText:c,title:t?this.intl("View_VM_YouWillTakeOverSharingWebPageNameTitle",{webPageName:this.getDisplayDocTitle()}):this.intl("View_VM_YouWillTakeOverSharingFileNameTitle",{fileName:this.getDisplayDocTitle()}),maskClosable:!0,showCloseIcon:!1,className:Kn("meetingTitleBar_takeOverModal"),okClickOnce:!1}))}renderPresenterButtons(){const{stopShare:e}=this.props;return s.createElement(s.Fragment,null,this.renderMoreBtn(),this.renderPermissionBtn({isInMoreBtnList:!1,isShownLessThan1000:!1,type:Jn.WIDTH_SCREEN}),this.renderPassOnSharingBtn({isInMoreBtnList:!1,isShownLessThan1000:!1}),s.createElement(Hn,{type:"danger",onClick:e,text:this.intl("View_VM_StopSharing")}))}rendering(){const{shareInfoTip:e,refreshMagicShare:t,copyMagicShareURL:i,currentIsWeb:n,isPresenter:r,isPinnedInSharing:o}=this.props;return s.createElement(s.Fragment,null,this.renderBackBtn(),s.createElement("div",{className:Kn("meetingTitleBar_shareInfoTip")},e),!o&&s.createElement(Hn,{className:Kn("meetingTitleBar_shareControlBarBtn-copy"),type:"noborder",iconClassName:Kn("meetingTitleBar_shareControlBarIcon-copy"),iconName:jn.a,onClick:i,tooltip:n?this.intl("View_VM_CopyWebPageLink"):this.intl("View_VM_CopyFileLink")}),!o&&s.createElement(Hn,{className:Kn("meetingTitleBar_shareControlBarBtn-refresh"),type:"noborder",iconClassName:Kn("meetingTitleBar_shareControlBarIcon-refresh"),iconName:Wn.a,onClick:t,tooltip:this.intl("View_VM_Refresh")}),r?this.renderPresenterButtons():this.renderFollowerButtons())}}var Xn=i(1098),Qn=i(1081),$n=i(1099),Zn=i(1100),er=i(1080),tr=i(1101),ir=i(195),nr=i(341),rr=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const or=e=>rr(void 0,void 0,void 0,(function*(){const{conferenceStore:t,inviteStore:i,userStore:n,hasPstnInfo:r}=e,{meetingSettings:o={}}=t,{currentUser:s}=n;let{topic:a}=o,{meetingUrl:d,meetNumber:c}=t,l=c;d||(yield S.a.request(_.Command.GET_MEETING_URL_INFO,{meetingIdStr:t.id}).then(e=>{d=e.meetingUrl||"",c=e.meetingNo||"",a=Object(S.b)(t,e.topic||"")})),a||(a=Object(y.b)("View_G_ServerNoTitle")),l&&(l=Object(S.c)(l));let p=Object(y.b)("View_M_InvitedToMeetingNameBraces",{name:s.name}),u=Object(y.b)("View_M_MeetingIdColon"),E=Object(y.b)("View_M_MeetingTopicColon"),h=Object(y.b)("View_M_MeetingLinkColon");try{[p,u,E,h]=yield Promise.all([S.a.getViewI18nFromRust({key:"View_M_InvitedToMeetingNameBraces",params:{name:s.name}}),S.a.getViewI18nFromRust({key:"View_M_MeetingIdColon"}),S.a.getViewI18nFromRust({key:"View_M_MeetingTopicColon"}),S.a.getViewI18nFromRust({key:"View_M_MeetingLinkColon"})])}catch(e){T.c.error("getViewI18nFromRust error in copyLink")}let I=p+"\n"+`${E}${a}\n`+`${u}${l}\n`+`${h}${d}\n`;const g=Object(y.b)("View_M_JoiningInfoCopied");if(r)try{let e=i.sponsorAdminSettings;e||(e=yield S.a.request(_.Command.GET_ADMIN_SETTINGS,{tenantId:t.tenantId||""})),T.c.info("utils adminSettings: ",e);const n=Object(y.b)("View_M_JoinMeetingByPhone");let r="";const o=Object(y.b)("View_M_DialInByLocation");let s="";const a=S.a.getLang()||_.I18nLocale.EN_US,d=e.pstnIncomingCallPhoneList;for(let e of d){const t=yield Object(nr.a)(e.country,a);s+=`${e.number}（${t.name}）\n`}const l=e.pstnIncomingCallCountryDefault;for(let e of l){const t=yield Object(nr.a)(e,a);d.filter(t=>t.country===e).forEach(e=>{r+=`${e.number},,${c}#（${t.name}）\n`})}I+="\n"+n+"\n"+r+"\n"+o+"\n"+s}catch(e){T.c.error("get admin settings error")}const C=((e,t)=>{if(!t.isSipCallInEnabled)return"";const i=e.sipDomain;return`${Object(y.b)("View_G_JoinByRoomSystem")}\n${e.meetNumber}@${i}`})(t,i);""!==C&&(I+=`\n${C}\n`);const m=yield((e,t)=>rr(void 0,void 0,void 0,(function*(){if(!t.isH323CopyEnabled)return"";const i=e.h323IPAddresses;if(0===i.length)return"";const n=Object(y.b)("View_G_Use323ToJoin"),r=(yield Promise.all(i.map(({ip:e,country:t})=>rr(void 0,void 0,void 0,(function*(){return`${e}${yield S.a.getViewI18nFromRust({key:t})}`}))))).join("\n"),o=Object(S.c)(e.meetNumber);return`${n}\n${r}\n${Object(y.b)("View_G_MeetingIdVariable")}${o}`})))(t,i);""!==m&&(I+=`\n${m}\n`),navigator.clipboard.writeText(I),f.b.emit(f.a.IN_MEETING_NOTICE,{id:(new Date).getTime(),msg:g})}));var sr=i(672),ar=i.n(sr),dr=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},cr=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const lr=U.a.bind(ar.a),pr=a.a.lazy(()=>i.e(0).then(i.bind(null,1705))),ur=a.a.lazy(()=>i.e(4).then(i.bind(null,1706)));let _r=class extends A.a{constructor(){super(...arguments),this.state={},this.handleMeetingTitleClick=()=>{},this.onCopyMeetingInfoClick=()=>cr(this,void 0,void 0,(function*(){const{conferenceStore:e,inviteStore:t,userStore:i}=this.props;yield or({conferenceStore:e,userStore:i,inviteStore:t,hasPstnInfo:this.isPstnEnabled}),this.track(_.Homeric.VC_MEETING_PAGE_ONTHECALL,{action_name:_.MeetingPageAction.copy_join_info}),pe.b.emit(pe.a.VC_MEETING_CARD_CLICK,{click:"copy_meeting_in",target:"none"})})),this.showPstnInfoModal=()=>cr(this,void 0,void 0,(function*(){this.props.inviteStore.setPstnModalVisible(!0),this.props.closeMeetingInfoBoard&&this.props.closeMeetingInfoBoard(),pe.b.emit(pe.a.VC_MEETING_CARD_CLICK,{click:"more_telephone",target:"none"})})),this.handleOnInt=e=>{}}get meetingTopic(){const{meetingSettings:e={}}=this.props.conferenceStore,{topic:t}=e;return t||this.intl("View_G_ServerNoTitle")}get copyMeetingLinkEnable(){return!0}get isPstnEnabled(){return this.props.inviteStore.isCopyMeetingInfoEnabled}get eventTimeParams(){const{conferenceStore:e,appStore:t}=this.props,{calendarInfo:i}=e;if(!i)return null;const{theEventEndTime:n,theEventStartTime:r,isAllDay:o}=e.calendarInfo,{lang:s,isTime12HourFormat:a,localTimeZone:d}=t,c=o?"UTC":d;T.c.info("timeZone: "+c);return{timeParam:{startTime:r/1e3,endTime:n/1e3,startTimezone:c,endTimezone:c,displayTimezone:c,isAllDay:o},formatOption:{locale:s.replace("_","-"),is12Hour:a}}}didMount(){this.props.conferenceStore.getMeetingInfo(),this.props.inviteStore.getPstnInfo(this.props.conferenceStore.tenantId)}getRoomText(e,t,i){const n=[];return Object(ir.a)([e,t],e=>{Object(ir.a)(e,e=>{if(i[e.roomId]!==_.CalendarAcceptStatus.ACCEPT)return;const t=[],{location:r,capacity:o,name:s}=e;if(r&&r.floorName){const e=s?`${r.floorName}-${s}`:r.floorName;t.push(e)}o&&t.push(`(${o})`),r&&r.buildingName&&t.push(r.buildingName),t.length&&n.push(t.join(" "))})}),n.join("\n")}getLocationText(e){const t=[];return Object(ir.a)(e,e=>{const i=[],{name:n,address:r}=e;n&&i.push(n),r&&i.push(r),i.length&&t.push(i.join(" "))}),t.join("\n")}renderGeneralInfo(){const{meetNumber:e,meetingUrl:t,calendarInfo:i}=this.props.conferenceStore,{pstnInfo:n}=this.props.inviteStore,r=Object(S.c)(e);let o,s,d;i&&(o=this.getRoomText(i.rooms,i.viewRooms,i.roomStatus),s=i.description,d=this.getLocationText(i.calendarLocations));const{eventTimeParams:c}=this,l=n?n.all[n.current]:null;return a.a.createElement("table",{className:lr("meetingInfoBoard_generalInfo")},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("th",null,this.intl("View_N_MeetingId")),a.a.createElement("td",null,r)),a.a.createElement("tr",null,a.a.createElement("th",null,this.intl("View_M_MeetingLink")),a.a.createElement("td",null,t)),this.isPstnEnabled&&a.a.createElement("tr",null,a.a.createElement("th",{rowSpan:2},this.intl("View_M_DialIn")),a.a.createElement("td",null,l&&l.numbers?`${l.numbers[0]} (${l.name})`:this.intl("Lark_View_Loading"))),this.isPstnEnabled&&a.a.createElement("tr",null,n&&a.a.createElement("td",null,a.a.createElement(Ki,{text:this.intl("View_M_MorePhoneNumbers"),className:lr("meetingInfoBoard_pstn"),onClick:this.showPstnInfoModal}))),!!c&&a.a.createElement("tr",null,a.a.createElement("th",null,this.intl("View_G_Date")),a.a.createElement("td",null,a.a.createElement(a.a.Suspense,{fallback:this.intl("Lark_View_Loading")},a.a.createElement(ur,Object.assign({},c))))),!!o&&a.a.createElement("tr",null,a.a.createElement("th",null,this.intl("View_M_MeetingRoom")),a.a.createElement("td",null,o)),!!d&&a.a.createElement("tr",null,a.a.createElement("th",null,this.intl("View_M_Location")),a.a.createElement("td",null,d)),!!s&&a.a.createElement("tr",null,a.a.createElement("th",null,this.intl("View_S_Description")),a.a.createElement("td",null,a.a.createElement(a.a.Suspense,{fallback:this.intl("Lark_View_Loading")},a.a.createElement(pr,{textContent:s,style:{fontSize:"14px"}}))))))}renderCopyMeetingInfoLinkBtn(){return this.copyMeetingLinkEnable?a.a.createElement(Ki,{onClick:this.onCopyMeetingInfoClick,text:this.intl("View_M_CopyJoiningInfo"),className:lr("meetingInfoBoard_infoBtn")}):null}renderFooter(){return a.a.createElement("div",{className:lr("meetingInfoBoard_footer")},a.a.createElement("div",{className:lr("meetingInfoBoard_btn-wrapper")},this.renderCopyMeetingInfoLinkBtn()))}renderCalendarBoard(){const{calendarInfo:e}=this.props.conferenceStore;if(!e)return null;const{topic:t}=e,i=this.meetingTopic,n=t||i||this.intl("View_G_ServerNoTitle");return a.a.createElement("div",{className:lr("meetingInfoBoard_calendarInfo")},a.a.createElement("div",{className:lr("meetingInfoBoard_calendarTitle")},n),a.a.createElement("div",{className:lr("meetingInfoBoard_calendarContent")},this.renderGeneralInfo()),this.renderFooter())}renderNormalBoard(){return a.a.createElement("div",{className:lr("meetingInfoBoard_normal")},a.a.createElement("div",{onClick:this.handleMeetingTitleClick,className:lr({meetingInfoBoard_meetingTitle:!0,"meetingInfoBoard_meetingTitle-cannotModify":!0})},this.meetingTopic),this.renderGeneralInfo(),this.renderFooter())}render(){const{meetingSource:e}=this.props.conferenceStore;return a.a.createElement("div",{className:lr("meetingInfoBoard")},e===_.MeetingSource.VC_FROM_CALENDAR?this.renderCalendarBoard():this.renderNormalBoard())}};_r=dr([Object(l.b)(g.h,g.f,g.i,g.o,g.e),l.c],_r);var Er=_r,hr=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Tr=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};let yr=class extends A.a{constructor(){super(...arguments),this.copyLink=()=>Tr(this,void 0,void 0,(function*(){const{conferenceStore:e,userStore:t,inviteStore:i}=this.props;yield or({conferenceStore:e,userStore:t,inviteStore:i,hasPstnInfo:i.isCopyMeetingInfoEnabled}),this.props.trackFunc&&this.props.trackFunc()}))}rendering(){const{meetingStore:e,className:t}=this.props,{isCopymeetinglinkEnabled:i}=e||{};return i?s.createElement("span",{onClick:this.copyLink,className:O()(t)},this.props.children):null}};yr=hr([Object(l.b)(g.i,g.f,g.o,g.h),l.c],yr);var fr=yr,Ir=i(673),gr=i.n(Ir),Sr=i(674),Cr=i.n(Sr),mr=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Nr=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Ar=U.a.bind(Dn.a);let Rr=class extends a.a.PureComponent{constructor(){super(...arguments),this.timerRef=a.a.createRef()}componentDidMount(){return Nr(this,void 0,void 0,(function*(){this.timeUpdaterDisposer=yield this.props.conferenceStore.addMeetingUpdateTimer((e="")=>{const t=this.timerRef.current;t&&(t.innerText=e)})}))}componentWillUnmount(){this.timeUpdaterDisposer&&this.timeUpdaterDisposer()}render(){return a.a.createElement("div",{className:Ar("meetingTitleBar_time")},a.a.createElement("span",{ref:this.timerRef}))}};Rr=mr([Object(l.b)(g.f)],Rr);var Or=Rr,vr=i(579),Pr=i(253),Mr=i(675),Lr=i.n(Mr);const br=U.a.bind(Lr.a);var Dr=({style:e,className:t,color:i="white",children:n})=>a.a.createElement("div",{style:e,className:br("tag","tag-"+i,t)},n),Ur=i(676),wr=i.n(Ur);const kr=U.a.bind(wr.a);var Gr=Object(l.b)(g.f,g.i)(Object(l.c)(({meetingStore:e,conferenceStore:t})=>{const{interviewStore:{refreshInterviewSpace:i}}=t;return s.createElement("div",{className:kr("meetingTitleBar_interviewSpaceBar")},s.createElement("div",{className:kr("meetingTitleBar_interviewSpaceInfoTip")},Object(y.b)("ViewWeb_G_YouTakeCodeTest")),s.createElement(Hn,{className:kr("meetingTitleBar_interviewSpaceBarBtn-refresh"),type:"noborder",iconClassName:kr("meetingTitleBar_interviewSpaceBarIcon-refresh"),iconName:Wn.a,onClick:()=>{i()},tooltip:Object(y.b)("View_VM_Refresh")}),s.createElement(Hn,{type:"border",onClick:()=>{pe.b.emit(pe.a.VC_MEETING_ONTHECALL_CLICK,{click:"fold_coding_test"}),e.mainViews.hideInterviewSpace()},className:kr("meetingTitleBar_interviewSpaceBarBtn-fold",{}),text:Object(y.b)("ViewWeb_G_StopCodeTest")}))}));const Vr=U.a.bind(Dn.a);function Hr(){}function Br(){return!1}class Fr extends Se.b{constructor(){super(...arguments),this.meetingNumberRef=s.createRef(),this.state={isActiveForMeetingNumber:!1},this.handleMeetingInfoBoardShow=()=>{this.track(_.Homeric.VC_MEETING_PAGE_ONTHECALL,{action_name:_.MeetingPageAction.show_meeting_info}),pe.b.emit(pe.a.VC_MEETING_ONTHECALL_CLICK,{click:"info_more",target:"vc_meeting_card_view"}),pe.b.emit(pe.a.VC_MEETING_CARD_VIEW),this.setState({isActiveForMeetingNumber:!0})},this.handleMeetingInfoBoardHide=()=>{this.setState({isActiveForMeetingNumber:!1})},this.handleDoubleClickNoop=e=>{},this.handleMouseEnterNetStatusIcon=()=>{},this.closeMeetingInfoBoard=()=>{const{current:e}=this.meetingNumberRef;e&&e.togglePop(!1)},this.trackCopyLink=()=>{this.track(_.Homeric.VC_MEETING_PAGE_ONTHECALL,{action_name:_.MeetingPageAction.copy_meeting_id}),pe.b.emit(pe.a.VC_MEETING_ONTHECALL_CLICK,{click:"copy_meeting_in",target:"none"})},this.stopPropagation=e=>{e.stopPropagation()}}get shouldRenderIconDivider(){const{isLive:e,isLockForMeeting:t,isRecording:i}=this.props;return e||t||i}didMount(){}willUnmount(){}didUpdate(e){const{networkState:t,signalLevel:i}=this.props,{isActiveForMeetingNumber:n}=this.state;t!==_.NetWorkStatus.ONLINE&&n&&this.setState({isActiveForMeetingNumber:!1});e.signalLevel}renderMagicShareControlBar(){const{hasOtherUser:e,shareInfoTip:t,refreshMagicShare:i,toggleDocSettings:n,isOpenForCCMSettings:r,followingStatus:o,changeFollowStatus:a,lastIsWeb:d,currentIsWeb:c,ifhidePermissionBtn:l,showToast:p,docTitle:u,copyMagicShareURL:_,currentDocToken:E,lastDocTitle:h,canConsume:T,canProduce:y,currentSubType:f,currentFollowType:I,currentShareId:g}=this.props;return s.createElement(zn,{shareInfoTip:t,refreshMagicShare:i,isPresenter:!1,copyMagicShareURL:_,toggleDocSettings:n,takeOverFollow:Hr,isOpenForCCMSettings:r,stopShare:Hr,changeFollowStatus:a,rollBackMagicShare:Hr,needBackGuide:!1,toPresenterGuideKey:"",currentDocToken:E,hasOtherUser:e,canBeBack:!1,backGuideKey:"",followingStatus:o,lastIsWeb:d,canTakeOver:Br,needToPresenterGuide:!1,currentIsWeb:c,ifhidePermissionBtn:l,showToast:p,docTitle:u,lastDocTitle:h,canProduce:y,canConsume:T,currentFollowType:I,currentSubType:f,currentShareId:g,isPinnedInSharing:!1,onUnpin:Hr})}renderMeetingID(){const{meetNumber:e,isCopymeetinglinkEnabled:t}=this.props,i=Object(S.c)(e),n=`${this.intl("View_M_MeetingIDShort")}${i}`;return t?s.createElement("div",{onClick:this.stopPropagation,onMouseDown:this.stopPropagation},s.createElement(ht.a,{content:this.intl("View_M_CopyJoiningInfo"),placement:"bottom",style:{maxWidth:320}},s.createElement("div",{className:Vr("meetingTitleBar_meetingNumber","color-btn-noborder")},s.createElement(fr,{trackFunc:this.trackCopyLink},n)))):s.createElement("div",{className:Vr("meetingTitleBar_meetingNumber","color-btn-noborder")},n)}renderDropDown(){const{isActiveForMeetingNumber:e}=this.state,t=e?"View_VM_HideMeetingDetails":"View_VM_ShowMeetingDetails";return s.createElement("div",{className:Vr("meetingTitleBar_dropDownPopWrapper")},s.createElement(ht.a,{content:this.intl(t),placement:"bottom",style:{maxWidth:320},key:t},s.createElement("div",{className:Vr("meetingTitleBar_dropDownBtn",e?"meetingTitleBar_dropDownBtn-active":"","color-btn-noborder"),onDoubleClick:this.handleDoubleClickNoop},s.createElement(Xn.a,{className:Vr("meetingTitleBar-dropDownTri")}))))}renderLiveState(){const{audients:e,isLive:t,copyLiveLinkUrl:i}=this.props;return t&&s.createElement(ht.a,{content:this.intl("View_M_ClickToCopyLivestreamLink"),placement:"bottom",style:{maxWidth:320}},s.createElement("div",{className:Vr("meetingTitleBar-live-state"),onClick:i},s.createElement("img",{src:gr.a,className:Vr("meetingTitleBar-liveEnIcon"),alt:""}),s.createElement("span",{className:Vr("meetingTitleBar-liveAudients")},e)))}renderRECState(){const{isRecording:e,recordingHover:t}=this.props,i=t&&t.key?ht.a:vr.a;return e&&s.createElement(i,{content:s.createElement(b,{i18nKeyInfo:t}),placement:"bottom",style:{width:"250px"},contentMinWidth:"100%"},s.createElement("div",{className:Vr("meetingTitleBar-recordArea")},s.createElement("div",{className:Vr("meetingTitleBar-recordIcon")}),s.createElement("img",{src:Cr.a,className:Vr("meetingTitleBar-recEnIcon"),alt:""})))}renderMeetingLock(){const{isLockForMeeting:e}=this.props;return e&&s.createElement(s.Fragment,null,s.createElement(Qn.a,{className:Vr("meetingTitleBar-lockIcon")}))}renderNetStatusDetail(){const{rtt:e,signalLevel:t}=this.props,i=t===Pr.a.BAD?"View_G_InternetConnectionPoorStatus":"View_G_InternetConnectionAverageStatus";return s.createElement("div",{className:Vr("meetingTitleBar-netStatusDetailPanel")},s.createElement("div",{className:Vr("meetingTitlebar-netStatusDetail-title")},this.intl(i)),s.createElement("div",{className:Vr("meetingTitlebar-netStatusDetail-info")},s.createElement("div",null,this.intl("View_G_Latency")),s.createElement("div",null,e)))}renderNetStatusIcon(){const{signalLevel:e,netStatusEnable:t}=this.props;if(!t||![Pr.a.BAD,Pr.a.NORMAL].includes(e))return"";const i=e===Pr.a.BAD?$n.a:Zn.a,n=Vr("meetingTitleBar-netStatusIcon",{"meetingTitleBar-netStatusIcon-margin":this.shouldRenderIconDivider});return s.createElement(ht.a,{content:this.renderNetStatusDetail(),placement:"bottom",className:Vr("meetingTitleBar-netStatusDetail"),style:{padding:"18px 20px"},fitContent:!0},s.createElement(i,{onMouseEnter:this.handleMouseEnterNetStatusIcon,className:n}))}renderMainPart(){const{isSidebarPopup:e,isSharingMode:t,isSharingAudioEnabled:i,isSharingAudio:n,stopShareScreen:r,shouldRenderSharing:o,shouldShowInterviewSpaceBar:a,startSharingAudio:d,stopSharingAudio:c}=this.props;let l=null;if(a)l=s.createElement(Gr,null);else if(o)l=this.renderMagicShareControlBar();else if(t){let e=null;if(i){const t=n?er.a:tr.a,i=this.intl(n?"View_G_ClickStopShareAudio_HoverButtonInfo":"View_G_ClickStartShareAudio_HoverButtonInfo");e=s.createElement(ht.a,{placement:"bottom",content:i,targetClassName:Vr("meetingTitleBar_shareAudioContainer")},s.createElement(t,{className:Vr("meetingTitleBar_shareAudioIcon"),onClick:n?c:d}))}l=s.createElement(s.Fragment,null,s.createElement("span",{className:Vr("sharingText")},this.intl("View_M_NowSharingToast")),e,s.createElement(Hn,{type:"danger",onClick:r,text:this.intl("Lark_View_StopSharing")}))}return s.createElement("div",{className:Vr("meetingTitleBar_mainPart",{"meetingTitleBar_mainPart-popup":e})},l)}renderLeftPart(){const{networkState:e,isExternalMeeting:t}=this.props,{isActiveForMeetingNumber:i}=this.state,n=s.createElement(Er,{closeMeetingInfoBoard:this.closeMeetingInfoBoard});return s.createElement("div",{className:Vr("meetingTitleBar_leftPart")},e===_.NetWorkStatus.ONLINE&&s.createElement("div",{className:Vr("meetingTitleBar_info",{active:i})},s.createElement(bt.a,{content:n,placement:"bottom-start",enableClickToggle:!0,popClassName:Vr("meetingTitleBar_dropDownPop"),targetClassName:Vr("meetingTitleBar_trigger"),autoToggle:"click",portal:!0,offset:[0,4],ref:this.meetingNumberRef,onHide:this.handleMeetingInfoBoardHide,onDoubleClick:this.handleDoubleClickNoop,enableMouseDownReplaceClick:!0,onShow:this.handleMeetingInfoBoardShow,preventOverflow:{padding:8}},this.renderMeetingID(),this.renderDropDown())),t&&s.createElement(Dr,{color:"red",className:Vr("meetingTitleBar_tag")},this.intl("View_G_ExternalLabel")))}renderRightPart(){const{networkState:e}=this.props;return s.createElement(s.Fragment,null,e===_.NetWorkStatus.ONLINE&&s.createElement(s.Fragment,null,this.renderNetStatusIcon(),this.renderLiveState(),this.renderRECState(),this.renderMeetingLock(),this.shouldRenderIconDivider&&s.createElement("span",{className:Vr("meetingTitleBar-dividingLine")}),s.createElement(Or,null)))}rendering(){const{isSidebarPopup:e}=this.props;return s.createElement("div",{className:Vr("meetingTitleBar")},s.createElement("div",{className:Vr("meetingTitleBar_main",{"meetingTitleBar_main-popup":e})},this.renderLeftPart(),this.renderMainPart()),s.createElement("div",{className:Vr("meetingTitleBar_side",{"meetingTitleBar_side-popup":e})},this.renderRightPart()))}}var jr=i(154),Wr=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};let xr=class extends Se.a{constructor(){super(...arguments),this.copyMagicShareURL=()=>{navigator.clipboard.writeText(this.shareRawUrl),pe.b.emit(pe.a.VC_MEETING_MAGIC_SHARE_CLICK,{click:"copy_file_link",is_sharer:"false",file_token:this.props.shareScreenStore.followInfo.docToken})},this.refreshMagicShare=()=>{const{shareScreenStore:e}=this.props;e&&(pe.b.emit(pe.a.VC_MEETING_MAGIC_SHARE_CLICK,{click:"reload",is_sharer:"false"}),e.refreshWebview())},this.toggleDocSettings=(e,t)=>{const{shareScreenStore:i}=this.props;i&&f.b.emit(f.a.TOGGLE_DOC_SETTINGS,{isOpen:e,centerX:t})},this.showToast=(e,t,i)=>{f.b.emit(f.a.IN_MEETING_NOTICE,{key:i,msg:e,type:t,id:(new Date).getTime()})},this.changeFollowStatus=()=>{this.props.shareScreenStore.localFollowingStatus===jr.a.LocalFollowing?this.props.shareScreenStore.setLocalUnFollowing():(pe.b.emit(pe.a.VC_MEETING_MAGIC_SHARE_CLICK,{click:"follow",is_sharer:"false"}),this.props.shareScreenStore.setLocalFollowing())},this.stopShareScreen=()=>{this.props.shareScreenStore.tryStopScreenSharingItem(),pe.b.emit(pe.a.VC_MEETING_ONTHECALL_CLICK,{click:"stop_share_screen",target:"none",location:"top_bar"})},this.startSharingAudio=()=>{this.props.shareScreenStore.startSharingAudio()},this.stopSharingAudio=()=>{this.props.shareScreenStore.stopSharingAudio()}}get shareInfoTip(){const{shareScreenStore:e,userStore:t}=this.props;if(!t||!e)return"";const{magicSharingUser:i}=e;if(!i)return"";if(i.deviceId===t.currentDeviceId)return this.intl("View_VM_YouAreSharingFileName",{fileName:this.docTitle});if(i.deviceId!==t.currentDeviceId&&e.followVisitPagesStack.length>1)return this.intl("View_VM_YouAreViewingFileName",{fileName:this.docTitle});{const e=i.name||"";return this.intl("View_VM_NameIsSharingFileName",{name:e,fileName:this.docTitle})}}get docTitle(){return this.props.shareScreenStore&&this.props.shareScreenStore.currentDocsTitle?this.props.shareScreenStore.currentDocsTitle:this.intl("View_VM_UntitledDocument")}get lastDocTitle(){return this.props.shareScreenStore&&this.props.shareScreenStore.lastDocsTitle?this.props.shareScreenStore.lastDocsTitle:this.intl("View_VM_UntitledDocument")}get meetNumber(){return this.props.conferenceStore?this.props.conferenceStore.meetNumber:""}get meetingTitle(){const{conferenceStore:e,userStore:t}=this.props;if(!e||!t)return this.intl("View_G_ServerNoTitle");if(this.is1V1){const e=t.targetUserIn1V1Meeting,{name:i}=t.currentUser;if(!e)return this.intl("View_G_ServerNoTitle");const{isHost:n}=t.currentUser,r=n?i:e.name,o=n?e.name:i;return this.intl("View_AV_CallTitleCallerNameCalleeName",{callerName:r,calleeName:o})}const{meetingSettings:{topic:i}}=e;return i||this.intl("View_G_ServerNoTitle")}get meetingSource(){return this.props.conferenceStore?this.props.conferenceStore.meetingSource:_.MeetingSource.VC_UNKNOWN_SOURCE_TYPE}get calendarInfo(){return this.props.conferenceStore?this.props.conferenceStore.calendarInfo:null}get isLockForMeeting(){return this.props.conferenceStore.isLocked}get isRecording(){return!!this.props.conferenceStore&&this.props.conferenceStore.isRecording}get isLive(){return!!this.props.conferenceStore&&this.props.conferenceStore.live.isOn}get audients(){return this.props.conferenceStore?this.props.conferenceStore.live.audients:0}get shareRawUrl(){return this.props.shareScreenStore&&(this.props.shareScreenStore.currentVisitPartialFollowInfo.rawUrl||this.props.shareScreenStore.currentDocsUrl)||""}get hasOtherUser(){return!!this.props.userStore&&this.props.userStore.onTheCallParticipantListExcludeMe.length>0}get isOpenForCCMSettings(){return!!this.props.shareScreenStore&&this.props.shareScreenStore.isOpenForCCMSettings}get canConsume(){return!0}get canProduce(){return!1}get lastIsWeb(){const{lastVisitPartialFollowInfo:e}=this.props.shareScreenStore;return!(!e||e.shareType!==_.FollowShareType.UNIVERSAL)}get currentIsWeb(){const{currentVisitPartialFollowInfo:e}=this.props.shareScreenStore;return!(!e||e.shareType!==_.FollowShareType.UNIVERSAL)}get ifhidePermissionBtn(){return this.props.shareScreenStore.followInfo&&this.props.shareScreenStore.followInfo.shareType!==_.FollowShareType.CCM}get isCopymeetinglinkEnabled(){return!!this.props.meetingStore&&this.props.meetingStore.isCopymeetinglinkEnabled}get isShowCopyMeetingInfo(){return this.props.inviteStore.isCopyMeetingInfoEnabled}get isSidebarPopup(){return!!this.props.meetingStore&&this.props.meetingStore.isSidebarPopup}get is1V1(){return!!this.props.conferenceStore&&this.props.conferenceStore.isCall}get currentDocToken(){return this.props.shareScreenStore&&this.props.shareScreenStore.currentVisitPartialFollowInfo?this.props.shareScreenStore.currentVisitPartialFollowInfo.docToken:void 0}get currentSubType(){return this.props.shareScreenStore&&this.props.shareScreenStore.currentVisitPartialFollowInfo?this.props.shareScreenStore.currentVisitPartialFollowInfo.shareSubtype:void 0}get currentFollowType(){return this.props.shareScreenStore&&this.props.shareScreenStore.currentVisitPartialFollowInfo?this.props.shareScreenStore.currentVisitPartialFollowInfo.shareType:void 0}get networkState(){return this.props.meetingStore?this.props.meetingStore.netWorkStatus:_.NetWorkStatus.ONLINE}get recordingHover(){return this.props.meetingStore.recordingHover}rendering(){const{conferenceStore:e,userStore:t,meetingStore:i,shareScreenStore:n}=this.props,{live:r}=e,o=r.copyLink,{signalLevel:a,rtt:d}=t.currentUser;return s.createElement(Fr,Object.assign({shouldRenderSharing:this.props.shareScreenStore.isInFollow,followingStatus:this.props.shareScreenStore.localFollowingStatus===jr.a.LocalFollowing,shareInfoTip:this.shareInfoTip,isOpenForCCMSettings:this.isOpenForCCMSettings,currentIsWeb:this.currentIsWeb,lastIsWeb:this.lastIsWeb,docTitle:this.docTitle,lastDocTitle:this.lastDocTitle,currentDocToken:this.currentDocToken,canConsume:this.canConsume,canProduce:this.canProduce,currentSubType:this.currentSubType,currentFollowType:this.currentFollowType,changeFollowStatus:this.changeFollowStatus,refreshMagicShare:this.refreshMagicShare,toggleDocSettings:this.toggleDocSettings,copyMagicShareURL:this.copyMagicShareURL,ifhidePermissionBtn:this.ifhidePermissionBtn,meetNumber:this.meetNumber,isLockForMeeting:this.isLockForMeeting,isRecording:this.isRecording,isLive:this.isLive,hasOtherUser:this.hasOtherUser,showToast:this.showToast,isSidebarPopup:this.isSidebarPopup,copyLiveLinkUrl:o,isCopymeetinglinkEnabled:this.isCopymeetinglinkEnabled,audients:this.audients,networkState:this.networkState,recordingHover:this.recordingHover,signalLevel:a,rtt:d,netStatusEnable:!0,shouldShowInterviewSpaceBar:i.mainViews.shouldShowInterviewSpace,isSharingMode:i.isSharingMode,isSharingAudioEnabled:n.isSharingAudioEnabled,isSharingAudio:n.isSharingAudio,stopShareScreen:this.stopShareScreen,startSharingAudio:this.startSharingAudio,stopSharingAudio:this.stopSharingAudio,isExternalMeeting:t.isExternalMeeting},this.props))}};Wr([u.h],xr.prototype,"shareInfoTip",null),Wr([u.h],xr.prototype,"docTitle",null),Wr([u.h],xr.prototype,"lastDocTitle",null),Wr([u.h],xr.prototype,"meetNumber",null),Wr([u.h],xr.prototype,"meetingTitle",null),Wr([u.h],xr.prototype,"meetingSource",null),Wr([u.h],xr.prototype,"calendarInfo",null),Wr([u.h],xr.prototype,"isLockForMeeting",null),Wr([u.h],xr.prototype,"isRecording",null),Wr([u.h],xr.prototype,"isLive",null),Wr([u.h],xr.prototype,"audients",null),Wr([u.h],xr.prototype,"shareRawUrl",null),Wr([u.h],xr.prototype,"hasOtherUser",null),Wr([u.h],xr.prototype,"isOpenForCCMSettings",null),Wr([u.h],xr.prototype,"canConsume",null),Wr([u.h],xr.prototype,"canProduce",null),Wr([u.h],xr.prototype,"lastIsWeb",null),Wr([u.h],xr.prototype,"currentIsWeb",null),Wr([u.h],xr.prototype,"ifhidePermissionBtn",null),Wr([u.h],xr.prototype,"isCopymeetinglinkEnabled",null),Wr([u.h],xr.prototype,"isShowCopyMeetingInfo",null),Wr([u.h],xr.prototype,"isSidebarPopup",null),Wr([u.h],xr.prototype,"is1V1",null),Wr([u.h],xr.prototype,"currentDocToken",null),Wr([u.h],xr.prototype,"currentSubType",null),Wr([u.h],xr.prototype,"currentFollowType",null),Wr([u.h],xr.prototype,"networkState",null),Wr([u.h],xr.prototype,"recordingHover",null),xr=Wr([Object(l.b)(g.o,g.f,g.i,g.h,g.n),l.c],xr);var Kr=xr,qr=i(677),Yr=i.n(qr),Jr=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};const zr=U.a.bind(Yr.a);let Xr=class extends A.a{constructor(){super(...arguments),this.state={tempMeetingTitle:"",showTempMeetingTitle:!1,editing:!1,visible:!1,hoverRecording:!1},this.handleUnpin=()=>{const{userStore:e,shareScreenStore:t}=this.props,i=e.participantList.find(e=>e.participantId===this.props.meetingStore.pinedId);this.props.meetingStore.setPinedId(""),i&&this.track(_.Homeric.VC_CALL_PAGE_ONTHECALL,{from_source:"main_view",action_name:_.MeetingPageAction.unpin,extend_value:{from_uuid:i.id,from_device_id:i.deviceId,from_interactive_id:i.interactiveId},is_sharer:t.isMeSharing?1:0,meeting_in_sharing:t.someoneIsShaing?1:0,participant_num:e.participantIdList.length})}}get is1v1(){return this.props.conferenceStore.isCall}get showUnpin(){const{meetingStore:e,shareScreenStore:t}=this.props,{pinedId:i,layout:n,isPinedInSharing:r}=e,{sharingParticipantId:o}=t;return!!i&&(o?r:n.viewType!==at.b.gallery)}get isSharingDocButNot1v1(){return!!this.props.shareScreenStore.sharingDoc&&!this.is1v1}get isSharingDocAnd1v1(){return!!this.props.shareScreenStore.sharingDoc&&this.is1v1}get isWhiteboarActiveButNot1v1(){return!1}get isWhiteboardNotActiveAnd1v1(){return!1}get timerClass(){this.props.meetingStore.pinedId;return zr("timer",{"timer-streaming":!this.props.shareScreenStore.sharingDoc&&!this.props.shareScreenStore.sharingParticipantId})}renderUnpin(){return this.showUnpin&&!this.is1v1?s.createElement("div",{className:zr("unpin-btn"),onClick:this.handleUnpin},this.intl("View_G_Unpin")):null}rendering(){return s.createElement("div",{className:this.timerClass},this.renderUnpin())}};Xr=Jr([Object(l.b)(g.f,g.i,g.o,g.n),l.c],Xr);var Qr,$r,Zr,eo,to=Xr;!function(e){e[e.NONE=0]="NONE",e[e.TOP=1]="TOP",e[e.RIGHT=2]="RIGHT",e[e.BOTTOM=4]="BOTTOM",e[e.LEFT=8]="LEFT"}(Qr||(Qr={})),function(e){e[e.TOP=1]="TOP",e[e.RIGHT=2]="RIGHT",e[e.BOTTOM=4]="BOTTOM",e[e.LEFT=8]="LEFT"}($r||($r={})),function(e){e.Top="Top",e.Right="Right",e.Bottom="Bottom",e.Left="Left"}(Zr||(Zr={})),function(e){e[e.Popup=0]="Popup",e[e.Dock=1]="Dock"}(eo||(eo={}));var io=e=>e.dockMode===Qr.RIGHT?a.a.createElement("div",{style:{position:"absolute",right:0,height:"100%",transitionProperty:"top, left, right, bottom",transitionDuration:"150ms",transitionTimingFunction:"ease",width:e.width,backgroundColor:"white",opacity:.2,borderRadius:10}}):(e.dockMode,Qr.LEFT,a.a.createElement("div",{style:{position:"absolute",left:0,width:200,backgroundColor:"white",opacity:.2}}));function no(e,t){const i=t.offsetParent||t.ownerDocument.body,n=i===(i.ownerDocument&&i.ownerDocument.body)?{left:0,top:0}:i.getBoundingClientRect();return{pointX:e.clientX+i.scrollLeft-n.left,pointY:e.clientY+i.scrollTop-n.top}}function ro(e){let t=e.clientHeight;const i=e.ownerDocument.defaultView.getComputedStyle(e);return t-=so(i.paddingTop),t-=so(i.paddingBottom),t}function oo(e){let t=e.clientWidth;const i=e.ownerDocument.defaultView.getComputedStyle(e);return t-=so(i.paddingLeft),t-=so(i.paddingRight),t}function so(e){return parseInt(e||"0",10)}function ao(e){return"number"==typeof e&&!isNaN(e)}function co(e,t){const{ownerDocument:i}=e;if(!i)return null;const n=i.defaultView,r=n.getComputedStyle(e),o=n.getComputedStyle(t),s=oo(t),a=ro(t),d=oo(e),c=ro(e);return{left:so(o.paddingLeft)-so(r.marginLeft),top:so(o.paddingTop)-so(r.marginTop),right:s-d+so(o.paddingRight)-so(r.marginRight),bottom:a-c+so(o.paddingBottom)-so(r.marginBottom),boundWidth:s,boundHeight:a,nodeWidth:d,nodeHeight:c}}var lo=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i};const po={childList:!0,subtree:!0};var uo=e=>{const{modeChange:t}=e;return e=>{var t;return(t=class extends a.a.Component{constructor(e){super(e),this.wrappedRef=a.a.createRef(),this.nodeSize={width:0,height:0},this.boundSize={width:0,height:0},this.uiData={windowWidth:0,windowHeight:0,placeholderWidth:300},this.handleWindowResize=e=>{},this.fitPositionIfNeed=()=>{if(this.props.mode!==eo.Popup)return;if(oo(this.wrapperNode)!==this.nodeSize.width||ro(this.wrapperNode)!==this.nodeSize.height){const[e,t]=this.getPosition(this.props.x,this.props.y);if(this.boundSize.width<=300)return;this.props.onPositionChange&&this.props.onPositionChange({x:e,y:t})}},this.handleMouseDown=e=>{if(0!==e.button)return!1;const{pointX:t,pointY:i}=no(e,this.wrapperNode);this.setState({originX:t,originY:i,pointX:t,pointY:i}),document.addEventListener("mousemove",this.handleMouseMove,!0),document.addEventListener("mouseup",this.handleMouseUp,!0);const{x:n,y:r}=this.props;return this.props.onDragStart&&this.props.onDragStart(e,{x:n,y:r}),!0},this.handleMouseMove=e=>{const t=this.wrapperNode;if(!t)throw new Error("Must wrap HTMLElement");const{pointX:i,pointY:n}=no(e,t);let r=0,o=0,s=0,a=0,d=0,c=0,l=0,p=0;if(this.props.mode===eo.Popup){const{pointX:e,pointY:u}=this.state,{originX:_,originY:E}=this.state,h=i-_,T=n-E,y=Math.sqrt(h*h+T*T);if(r=i-e,o=n-u,s=this.props.x+("left"===this.props.align?r:-r)+this.state.slackX,a=this.props.y+o+this.state.slackY,[l,p]=this.getPosition(s,a),d=s-l,c=a-p,y>4){this.setState({dragging:!0});let e=Qr.NONE;this.props.disableDock||(e=function(e,t,i,n=40){return(e.offsetParent||e.ownerDocument.body).getBoundingClientRect().width-t<n?Qr.RIGHT:Qr.NONE}(t,i)),this.setState({pointX:i,pointY:n,slackX:d,slackY:c,dockMode:e}),this.props.onPositionChange&&this.props.onPositionChange({x:l,y:p})}}else if(this.props.mode===eo.Dock){const{originX:e,originY:t}=this.state;r=i-e,o=n-t}if(!1===!(!this.props.onDrag||!this.props.onDrag(e,{x:l,y:p})))try{this.handleMouseUp(new MouseEvent("mouseup"))}catch(e){this.handleMouseUp(function(e){const t=document.createEvent("MouseEvents");return t.initMouseEvent(e,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t}("mouseup"))}},this.handleMouseUp=e=>{if(0!==e.button)return!1;document.removeEventListener("mousemove",this.handleMouseMove,!0),document.removeEventListener("mouseup",this.handleMouseUp,!0);const{x:t,y:i}=this.props;return!1!=!(!this.props.onDragStop||!this.props.onDragStop(e,{x:t,y:i}))&&(this.props.mode===eo.Popup&&this.state.dockMode!==Qr.NONE&&this.toggleMode(),this.setState({dockMode:Qr.NONE,dragging:!1,slackX:0,slackY:0}),!0)},this.state={pointX:0,pointY:0,slackX:0,slackY:0,originX:NaN,originY:NaN,dockMode:Qr.NONE,dragging:!1}}setUiData(e){Object.assign(this.uiData,e)}componentDidMount(){this.wrapperNode=Object(d.findDOMNode)(this),this.wrapperNode.addEventListener("mousedown",this.handleMouseDown,!0),this.boundNode=this.wrapperNode.offsetParent||this.wrapperNode.ownerDocument.body;this.mutationObserver=new MutationObserver((e,t)=>{let i=!1;for(const t of e)if("childList"===t.type){i=!0;break}i&&this.fitPositionIfNeed()}),this.mutationObserver.observe(this.wrapperNode,po),window.addEventListener("resize",this.handleWindowResize);const e=function(e){let t=e.clientWidth;const i=e.ownerDocument.defaultView.getComputedStyle(e);return t+=so(i.borderLeftWidth),t+=so(i.borderRightWidth),t}(this.wrapperNode);this.setUiData({placeholderWidth:e,windowWidth:oo(this.boundNode),windowHeight:ro(this.boundNode)})}getPosition(e,t,i){if(!this.wrapperNode)return[e,t];const[n,r,o,s,a,d]=function(e,t,i,n,r){const o=co(e,t);if(!o)return[0,0,0,0,0,0];if(r){const e=r.newWidth/r.oldWidth,t=r.newHeight/r.oldHeight;Math.abs(o.right/e-i)<30?i=i+o.right-o.right/e:Math.abs(o.left-i)>30&&(i*=e),Math.abs(o.bottom/t-n)<30?n=n+o.bottom/t-n:Math.abs(o.top-n)>30&&(n*=t)}return ao(o.right)&&(i=Math.min(i,o.right)),ao(o.bottom)&&(n=Math.min(n,o.bottom)),ao(o.left)&&(i=Math.max(i,o.left)),ao(o.top)&&(n=Math.max(n,o.top)),[i,n,o.nodeWidth,o.nodeHeight,o.boundWidth,o.boundHeight]}(this.wrapperNode,this.boundNode,e,t,i);return this.nodeSize={width:o,height:s},this.boundSize={width:a,height:d},[n,r]}componentWillUnmount(){const{ownerDocument:e}=this.wrapperNode;e&&(document.removeEventListener("mousemove",this.handleMouseMove,!0),document.removeEventListener("mouseup",this.handleMouseUp,!0),window.removeEventListener("resize",this.handleWindowResize)),this.mutationObserver.disconnect()}toggleMode(){this.props.onModeChanged&&this.props.onModeChanged({mode:this.props.mode===eo.Dock?eo.Popup:eo.Dock})}render(){const t=this.props,{showPlaceholder:i,threshold:n,onDragStart:r,onDrag:o,className:d,draggingClassName:c,onDragStop:l,cancelDragSelector:p,x:u,y:_,align:E}=t,h=lo(t,["showPlaceholder","threshold","onDragStart","onDrag","className","draggingClassName","onDragStop","cancelDragSelector","x","y","align"]);let T=null,y={};this.props.mode===eo.Dock?y.position="":(y=function(e,t){const{x:i,y:n}=e;return"right"===t?{right:i,top:n}:{left:i,top:n}}({x:u,y:_},E),y.position="absolute",y.margin=0,this.state.dragging&&(y.userSelect="none",!0===this.props.preventClick&&(y.pointerEvents="none"),y.opacity=.6),this.state.dockMode!==Qr.NONE&&i&&(T=a.a.createElement(io,{dockMode:this.state.dockMode,width:this.uiData.placeholderWidth})));const f=Object.assign({ref:this.wrappedRef},h);return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:O()(d),style:y},Object(s.createElement)(e,f)),T)}}).defaultProps={draggingClassName:"",mode:eo.Dock,align:"right",handle:null,x:16,y:16,onPositionChange:S.g,showPlaceholder:!0,threshold:30,onDragStart:S.g,onDrag:S.g,onDragStop:S.g},t}},_o=i(306),Eo=i.n(_o),ho=i(678),To=i.n(ho),yo=i(1102),fo=i(1103),Io=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};const go=U.a.bind(To.a),So={needTooltip:!1};let Co=class extends A.a{constructor(){super(...arguments),this.containerRef=a.a.createRef(),this.textBoxRef=a.a.createRef(),this.isEllipsis=fe(),this.state=So}get displayExtra(){const{user:e,conferenceStore:t,shareScreenStore:i,mode:n}=this.props,{sharingParticipantId:r}=i;if("main"===n&&r&&r===e.participantId)return this.intl("View_M_SharingToast");if("doc-pin"===n)return this.intl("View_VM_SharingDoc");if("screen-pin"===n)return this.intl("View_M_SharingToast");return Ke(e,t)||""}get originalName(){const{user:e}=this.props;return e.name}get nickName(){const{user:e}=this.props;return e.participantSettings.nickname||""}get displayName(){const e=this.originalName,t=this.displayExtra;return t?`${e} ${t}`:e}didMount(){this.updateContainerBorder(),this.updateNeedTooltip()}didUpdate(){this.updateContainerBorder()}updateNeedTooltip(){const e=this.textBoxRef.current;if(!e)return;const t=this.isEllipsis(e);t!==this.state.needTooltip&&this.setState(()=>({needTooltip:t}))}updateContainerBorder(){const{adaptBorder:e}=this.props;if(!e)return;const t=this.containerRef.current,i=t&&t.parentElement;if(t&&i){parseInt(window.getComputedStyle(t).width,10)===parseInt(window.getComputedStyle(i).width,10)?t.classList.add(go("user-container-no-border")):t.classList.remove(go("user-container-no-border"))}}renderTags(){const{hideTag:e,user:t,conferenceStore:i}=this.props;if(e)return null;return qe(t,i).map(e=>a.a.createElement(Dr,{className:go("user_tag"),key:t.deviceId+e},e))}renderIcon(){const{user:e,isSharingScreen:t,isUserLocked:i,shareScreenStore:n,hideIcon:r}=this.props,{magicSharingUser:o,screenSharingUser:s}=n;if(r)return null;const{isMicrophoneMuted:d,isNetworkBad:c,isCurrentUser:l,status:p}=e;if(p===_.ParticipantStatus.RINGING)return null;const u=[];return d&&u.push({IconName:fi.a,className:"user_icon-red"}),t&&(o&&o.id===e.id||s&&s.id===e.id)&&u.push({IconName:We.a,className:"user_icon-green"}),i&&u.push({IconName:yo.a,className:"user_icon-white"}),c&&!l&&u.push({IconName:fo.a,className:"user_icon-red"}),u.map(({IconName:t,className:i})=>a.a.createElement(t,{key:e.participantId+t.displayName,className:go("user_icon",i)}))}renderUser(){const{user:e,hideTooltip:t,userStore:i,showNameHover:n}=this.props,{id:r}=i.currentUser,o=go("user_name",{"user_name-ringing":e.status!==_.ParticipantStatus.ON_THE_CALL});return a.a.createElement("span",{className:o},a.a.createElement(ht.a,{content:this.state.needTooltip?this.displayName:""},this.displayName))}renderSpeakerText(){const{speakerMode:e}=this.props;return e?a.a.createElement("span",{className:go("user_speaking")},this.intl("View_VM_SpeakingColon")):null}renderUserInfo(){const{speakerMode:e,hasSpeaker:t}=this.props;return e&&!t?null:a.a.createElement(a.a.Fragment,null,this.renderTags(),this.renderIcon(),this.renderUser())}render(){const{className:e,lineClamp:t=2}=this.props,i={WebkitLineClamp:t};return a.a.createElement("div",{className:go("user-container",e)},a.a.createElement("div",{className:go("user"),style:i,ref:this.textBoxRef},this.renderSpeakerText(),this.renderUserInfo()))}};Co=Io([Object(l.b)(g.f,g.i,g.o,g.n),l.c],Co);var mo=Co,No=i(1105),Ao=i(1106),Ro=i(1107),Oo=i(1108),vo=i(1109),Po=i(1072),Mo=i(1110),Lo=i(1104),bo=i(679),Do=i.n(bo),Uo=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i};const wo=U.a.bind(Do.a);class ko extends Se.c{get normalItemClass(){const{modifier:e,disable:t=!1,selected:i}=this.props;return wo("menu-item",{"menu-item-danger":"danger"===e,"menu-item-disabled":t,selected:i})}get optionItemClass(){const{selected:e}=this.props;return wo("menu-item","menu-item-option",{"menu-item-selected":e})}renderDivider(){return s.createElement("div",{className:wo("menu-divider")})}renderOption(){const{id:e,content:t,selected:i,onClick:n=S.g,wrapper:r=(e=>e)}=this.props;return r(s.createElement("div",{className:this.optionItemClass,onClick:()=>n(e)},this.renderIcon(),t,i&&s.createElement(Lo.a,{className:wo("menu-tick")})))}renderContent(){const{id:e,content:t,hasMore:i,onClick:n=S.g,wrapper:r=(e=>e),disable:o=!1}=this.props;return r(s.createElement("div",{className:this.normalItemClass,onClick:()=>!o&&n(e)},this.renderIcon(),t,i&&s.createElement("div",{className:wo("menu-arrow-right")})))}renderIcon(){const{icon:e,showNewBadge:t}=this.props,i=e&&s.createElement(e,{className:wo("menu-icon")});return e&&t?s.createElement("div",null,i,s.createElement("div",{className:wo("new-tag")},s.createElement("svg",{width:"26",height:"14",viewBox:"0 0 26 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M0 7C0 3.13401 3.13401 0 7 0H19C22.866 0 26 3.13401 26 7C26 10.866 22.866 14 19 14H7C3.13401 14 0 10.866 0 7Z",fill:"#F54A45"}),s.createElement("path",{d:"M3.58599 3.39491V10.5349H4.67599V5.16491H4.71599L8.40599 10.5349H9.46599V3.39491H8.37599V8.70491H8.33599L4.68599 3.39491H3.58599ZM12.9611 5.22491C12.2011 5.22491 11.5911 5.48491 11.1511 6.01491C10.6911 6.53491 10.4711 7.17491 10.4711 7.94491C10.4711 8.79491 10.7111 9.46491 11.1911 9.96491C11.6311 10.4349 12.2411 10.6749 13.0011 10.6749C13.6911 10.6749 14.2611 10.4749 14.7111 10.0849C15.0711 9.76491 15.3011 9.35491 15.4211 8.87491H14.3611C14.2211 9.17491 14.0711 9.40491 13.8911 9.54491C13.6611 9.71491 13.3611 9.80491 12.9911 9.80491C12.5711 9.80491 12.2411 9.66491 12.0011 9.40491C11.7611 9.13491 11.6311 8.74491 11.5911 8.24491H15.5111C15.5011 7.32491 15.2911 6.60491 14.8911 6.08491C14.4511 5.50491 13.8011 5.22491 12.9611 5.22491ZM12.9911 6.09491C13.8311 6.09491 14.3011 6.54491 14.4011 7.44491H11.6111C11.6711 7.00491 11.8211 6.67491 12.0411 6.44491C12.2811 6.20491 12.5911 6.09491 12.9911 6.09491ZM15.8657 5.36491L17.6157 10.5349H18.5957L19.6757 6.66491L20.7557 10.5349H21.7357L23.4857 5.36491H22.3157L21.2257 9.27491L20.1657 5.36491H19.1857L18.1257 9.27491L17.0357 5.36491H15.8657Z",fill:"white"})))):i}rendering(){const{type:e}=this.props;return"divider"===e?this.renderDivider():"option"===e?this.renderOption():this.renderContent()}}class Go extends Se.c{constructor(){super(...arguments),this.handleItemClick=e=>{const{onItemClick:t=(()=>!0),onClose:i=S.g}=this.props;!1!==t(e)&&i()}}componentDidMount(){this.props.onDidMount&&this.props.onDidMount()}componentWillUnmount(){this.props.onWillUnmount&&this.props.onWillUnmount()}rendering(){const{itemList:e,size:t}=this.props;return s.createElement("div",{className:wo("menu-list",{small:"small"===t})},e&&e.map(e=>s.createElement(ko,Object.assign({key:e.id,onClick:this.handleItemClick},e))))}}var Vo=e=>{var{itemList:t,onItemClick:i,onDidMount:n,onWillUnmount:r,size:o="medium"}=e,a=Uo(e,["itemList","onItemClick","onDidMount","onWillUnmount","size"]);return s.createElement(bt.a,Object.assign({popClassName:wo("pop-menu"),content:({onClose:e})=>s.createElement(Go,{onClose:e,itemList:t,onItemClick:i,onDidMount:n,onWillUnmount:r,size:o}),autoToggle:"hover"},a))},Ho=i(680),Bo=i.n(Ho);const Fo=U.a.bind(Bo.a);class jo extends A.a{render(){const{icon:e,text:t,disabled:i}=this.props;return a.a.createElement("span",{className:Fo("bv-more-operation-item",{disabled:i})},a.a.createElement(e,{className:Fo("icon")}),a.a.createElement("span",{className:Fo("text")},this.intl(t)))}}var Wo=i(681),xo=i.n(Wo),Ko=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};const qo=U.a.bind(xo.a);let Yo=class extends A.a{constructor(){super(...arguments),this.moreIconRef=a.a.createRef(),this.toggleMoreOperations=()=>{this.props.toggleMore&&this.props.toggleMore()},this.closeMoreOperations=e=>{this.props.closeMore&&this.props.closeMore(e);const t=this.moreIconRef.current;t&&!e&&t.click()}}get moreOperations(){const{showButtons:{showMakeHost:e,showMakeCoHost:t,showRemoveCoHost:i,showLowerHand:n,showRemove:r,showReclaimHost:o},moreOptions:{onMakeHost:s,onMakeCoHost:d,onRemoveCoHost:c,onLowerHand:l,onDeleteParticipant:p,onReclaimHost:u}}=this.props;return[{id:"make host",show:e,content:a.a.createElement(jo,{text:"View_M_MakeHost",icon:No.a}),onClick:()=>{s(),this.closeMoreOperations()}},{id:"make co-host",show:t,content:a.a.createElement(jo,{text:"View_M_MakeCoHost",icon:No.a}),onClick:()=>{d(),this.closeMoreOperations()}},{id:"remove co-host",show:i,content:a.a.createElement(jo,{text:"View_M_WithdrawCoHostPermission",icon:Ao.a}),onClick:()=>{c(),this.closeMoreOperations()}},{id:"lower hand",show:n,content:a.a.createElement(jo,{text:"View_M_LowerHand",icon:Ro.a}),onClick:()=>{l(),this.closeMoreOperations()}},{id:"remove",show:r,content:a.a.createElement(jo,{text:"View_M_RemoveFromMeeting",icon:Oo.a}),onClick:()=>{p(),this.closeMoreOperations()}},{id:"reclaim host",show:o,content:a.a.createElement(jo,{text:"View_M_ReclaimHost",icon:No.a}),onClick:()=>{u(),this.closeMoreOperations()}}].filter(e=>e.show)}renderWarningIcon(){return a.a.createElement(Yi.a,{className:qo("warning")})}renderPinBtn(){const{iconClassName:e,showButtons:{showPin:t},buttonStatus:{isUserLocked:i},onToggleEvents:{onToggleUserLocked:n},ignoreVideo:r}=this.props;if(!t)return null;const o=i?this.intl("View_G_Unpin"):this.intl("View_G_Pin");return a.a.createElement(ht.a,{content:o,placement:"top",key:"pin-icon-"+i,targetClassName:qo("op-item-tooltip")},a.a.createElement("button",{type:"button",className:qo("op-item",{ignoreVideo:r}),onClick:n},i?a.a.createElement(yo.a,{className:e}):a.a.createElement(vo.a,{className:e})))}renderMicBtn(){const{iconClassName:e,user:{isMicrophoneMuted:t},showButtons:{showMuteMic:i},buttonStatus:{isMicDisabled:n},onToggleEvents:{onToggleMicrophone:r},ignoreVideo:o,rtcStore:s}=this.props;if(!i)return null;const{micHasWarnCode:d}=s;if(n||d)return a.a.createElement("button",{type:"button",disabled:!0,className:qo("op-item",{ignoreVideo:o}),onClick:r},t||d?a.a.createElement(fi.a,{className:e}):a.a.createElement(Po.a,{className:e}),this.renderWarningIcon());const c=t?this.intl("View_M_Unmute"):this.intl("View_VM_Mute");return a.a.createElement(ht.a,{content:c,placement:"top",targetClassName:qo("op-item-tooltip")},a.a.createElement("button",{type:"button",className:qo("op-item",{"muted-mic":t,ignoreVideo:o}),onClick:r},t?a.a.createElement(fi.a,{className:e}):a.a.createElement(Po.a,{className:e})))}renderCameraBtn(){const{iconClassName:e,user:{isCameraMuted:t},showButtons:{showMuteCamera:i},buttonStatus:{isCameraDisabled:n},onToggleEvents:{onToggleCamera:r},ignoreVideo:o,rtcStore:s}=this.props;if(!i)return null;const{cameraHasWarnCode:d}=s;if(n||d)return a.a.createElement("button",{type:"button",disabled:!0,className:qo("op-item",{ignoreVideo:o}),onClick:r},t||d?a.a.createElement(xe.a,{className:e}):a.a.createElement(Ii.a,{className:e}),this.renderWarningIcon());const c=t?this.intl("View_VM_StartVideo"):this.intl("View_VM_StopVideo");return a.a.createElement(ht.a,{content:c,placement:"top",targetClassName:qo("op-item-tooltip")},a.a.createElement("button",{type:"button",className:qo("op-item",{"muted-camera":t,ignoreVideo:o}),onClick:r},t?a.a.createElement(xe.a,{className:e}):a.a.createElement(Ii.a,{className:e})))}renderMoreBtn(){const{iconClassName:e,showButtons:{showMore:t},ignoreVideo:i}=this.props;if(!t)return null;const n=this.intl("View_G_More");return a.a.createElement(Vo,{autoToggle:"click",itemList:this.moreOperations,enableClickToggle:!0,onClose:this.closeMoreOperations,size:"small",placement:"bottom-end"},a.a.createElement(ht.a,{content:n,placement:"top",targetClassName:qo("op-item-tooltip")},a.a.createElement("span",{ref:this.moreIconRef,className:qo("op-item",{ignoreVideo:i}),onClick:this.toggleMoreOperations},a.a.createElement(Mo.a,{className:e}))))}render(){return a.a.createElement(a.a.Fragment,null,this.renderPinBtn(),this.renderMicBtn(),this.renderCameraBtn(),this.renderMoreBtn())}};Yo=Ko([Object(l.b)(g.o,g.f,g.l),l.c],Yo);var Jo=Yo,zo=i(1111),Xo=i(1112),Qo=i(682),$o=i.n(Qo),Zo=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};const es=U.a.bind($o.a);let ts=class extends A.a{constructor(){super(...arguments),this.handleClick=()=>{this.props.onLowerHand()}}renderContent(){const{hover:e,useTooltip:t,user:i}=this.props,{currentUser:n}=this.props.userStore,{hasHostControl:r,hasCoHostControl:o}=this.props.conferenceStore;return(i.id===n.id&&i.deviceId===n.deviceId||r||o)&&e?a.a.createElement(ht.a,{content:t?this.intl("View_M_LowerHand"):"",placement:"top"},a.a.createElement("div",{className:es("hover-wrapper"),onClick:this.handleClick},a.a.createElement(zo.a,{className:es("item-icon")}),t?null:a.a.createElement("div",{className:es("lower-hand-text")},this.intl("View_M_LowerHand")))):a.a.createElement("div",{className:es("single-icon-wrapper")},a.a.createElement(Xo.a,{className:es("item-icon")}))}rendering(){return a.a.createElement("div",{className:es("hands-up-wrapper")},this.renderContent())}};ts=Zo([Object(l.b)(g.o,g.f),l.c],ts);var is=ts,ns=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};const rs=U.a.bind(Xe.a);function os(e){e.stopPropagation()}let ss=class extends Se.c{renderHandsUpZone(){const{hover:e,user:t,useTooltip:i,onLowerHand:n}=this.props;return n&&t.isHandsUp?a.a.createElement("div",{className:rs("hands-up-zone"),onDoubleClick:os},a.a.createElement(is,{user:t,hover:e,useTooltip:i,onLowerHand:n})):null}renderButtons(){const{hover:e,hideIcons:t,user:i,controlBarProps:n,ignoreVideo:r}=this.props;let o=null;if(i.status===_.ParticipantStatus.RINGING){}else if(t&&e&&n){const{showButtons:e,buttonStatus:t,onToggleEvents:s,moreOptions:d,toggleMore:c,closeMore:l}=n;o=a.a.createElement(Jo,{iconClassName:rs("op-icon"),user:i,showButtons:e,buttonStatus:t,onToggleEvents:s,moreOptions:d,toggleMore:c,closeMore:l,ignoreVideo:r})}return a.a.createElement("div",{className:rs("op-list"),onDoubleClick:os},o)}renderVideo(){const{user:e,stream:t,overlay:i,isUserLocked:n,isSharingScreen:r,meetingStore:o,ignoreVideo:s,forceAvatar:d}=this.props,{isSharingMode:c}=o,l=a.a.createElement(et,{mode:"mini",user:e,stream:t,ignoreVideo:s,forceAvatar:d}),p=a.a.createElement(mo,{mode:"mini",user:e,isUserLocked:n,isSharingScreen:r,adaptBorder:!0,showNameHover:i?void 0:"dark",hideTooltip:c});return a.a.createElement(a.a.Fragment,null,l,p)}render(){const{meetingStore:e,className:t,overlay:i,ignoreVideo:n}=this.props,{isSidebarPopup:r,isSharingMode:o}=e;return a.a.createElement("div",{className:rs("bv-user-video",t,{"is-detach":r,"is-sidebar":!0,ignoreVideo:n})},this.renderVideo(),this.renderHandsUpZone(),this.renderButtons(),i)}};ss=ns([Object(l.b)(g.i,g.o,g.n),l.c],ss);var as=ss;function ds(e){return e.isCameraMuted||Je(e)}var cs=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};const ls=U.a.bind(Eo.a);let ps=class extends A.a{constructor(){super(...arguments),this.handleVideoClick=()=>{const{conferenceStore:e,shareScreenStore:t}=this.props;e.isMeeting||t.someoneIsShaing||this.changeCallMainUser()},this.changeCallMainUser=()=>{const{meetingStore:e,userStore:t}=this.props,{callPopupMiniUser:i}=t;e.setCallViewMain(i.id)}}get user(){const{conferenceStore:e,userStore:t}=this.props,{callPopupMiniUser:i,meetingPopupMiniUser:n}=t;return e.isMeeting?n:i}render(){const{contentClassName:e,border:t}=this.props,{user:i}=this,n=ds(i)||this.props.conferenceStore.isClosing;return a.a.createElement("div",{onClick:this.handleVideoClick},a.a.createElement(as,{user:i,stream:i.streams.frame,isUserLocked:!1,isSharingScreen:!1,className:ls("bv-mini-window__video",e),overlay:t?a.a.createElement("div",{className:ls("bv-mini-window__video-border-overlay",{"show-border":n})}):null}))}};ps=cs([Object(l.b)(g.i,g.o,g.n,g.f),l.c],ps);var us=ps,_s=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};const Es=U.a.bind(Eo.a);let hs=class extends A.a{constructor(){super(...arguments),this.handleVideoClick=e=>{const{meetingStore:t}=this.props;t.isSharingMode||(e.participantId===t.pinedId?this.unpin(e):this.pin(e))},this.pin=e=>{const{participantId:t}=e,{meetingStore:i}=this.props;i.setPinedId(t),this.trackPin(e,!0)},this.unpin=e=>{const{meetingStore:t}=this.props;t.setPinedId(""),this.trackPin(e,!1)},this.trackPin=(e,t)=>{this.track(_.Homeric.VC_MEETING_PAGE_ONTHECALL,{from_source:"floating_view",action_name:t?_.MeetingPageAction.doubleclick_pin:_.MeetingPageAction.doubleclick_unpin})}}get firstUser(){return this.props.userStore.popupShareScreenUsers[0]}get secondUser(){return this.props.userStore.popupShareScreenUsers[1]}get sharing(){return this.props.shareScreenStore.sharingInfoForUserList}get sharingDocTitle(){return this.props.shareScreenStore.currentDocsTitle}get hasPin(){return!!this.props.meetingStore.pinedId}get sharingUser(){return this.props.shareScreenStore.sharingAnythingUser}renderFirstPart(){const{shareScreenStore:e}=this.props,{sharing:t,sharingDocTitle:i,hasPin:n,firstUser:r,sharingUser:o}=this,{contentClassName:s,border:a}=this.props;return n&&t?this.renderUserStream(r,0,t.stream):this.renderUserStream(r,0)}renderSecondPart(){return this.renderUserStream(this.secondUser,1)}renderUserStream(e,t,i){if(!e)return null;const{contentClassName:n,border:r}=this.props,{shareScreenStore:o}=this.props;return a.a.createElement("div",{key:e.participantId,className:Es("bv-mini-window__two-videos_item_wrapper"),onDoubleClick:()=>this.handleVideoClick(e)},a.a.createElement(as,{user:e,stream:i||e.streams.frame,isUserLocked:!1,isSharingScreen:e.participantId===o.sharingAnythingParticipantId,className:Es("bv-mini-window__video","child"+t,n),overlay:r?a.a.createElement("div",{className:Es("bv-mini-window__video-border-overlay",{"show-border":ds(e)},"child"+t)}):null}))}render(){const{userStore:e}=this.props,{popupShareScreenUsers:t}=e;return a.a.createElement("div",{className:Es("bv-mini-window__two-videos-container",{multiple:t.length>1},{single:1===t.length})},this.renderFirstPart(),this.renderSecondPart())}};_s([u.h],hs.prototype,"firstUser",null),_s([u.h],hs.prototype,"secondUser",null),_s([u.h],hs.prototype,"sharing",null),_s([u.h],hs.prototype,"sharingDocTitle",null),_s([u.h],hs.prototype,"hasPin",null),_s([u.h],hs.prototype,"sharingUser",null),hs=_s([Object(l.b)(g.o,g.n,g.f,g.i),l.c],hs);var Ts=hs,ys=i(1113),fs=i(1114),Is=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};const gs=U.a.bind(Eo.a);let Ss=class extends A.a{constructor(){super(...arguments),this.getUserDisplayName=e=>e.name,this.toggleDisplayMode=()=>{const{meetingStore:e}=this.props,t=this.isVideoMode?g.b.HIDE_VIDEO:g.b.VIDEO;e.setDisplayMode(t),pe.b.emit(pe.a.VC_MEETING_ONTHECALL_VIEW)}}didMount(){}willUnmount(){}get isVideoMode(){const{meetingStore:e}=this.props;return e.displayMode===g.b.VIDEO}get hasExtraInfo(){return!1}get hasInteraction(){return!1}get hasSubtitle(){return!1}renderVideo(){const{shareScreenStore:e,meetingStore:t,conferenceStore:i,border:n}=this.props,{isPeopleMeeting:r}=i,o=t.mainViews.shouldShowInterviewSpace;return e.someoneIsShaing||r&&o?a.a.createElement(Ts,{border:n}):a.a.createElement(us,{border:n})}renderSpeakingText(){const{userStore:e}=this.props,{speakingUser:t}=e,i=t?this.getUserDisplayName(t):"";return a.a.createElement("div",{className:gs("speaking-text")},a.a.createElement("span",{className:gs("speaking")},this.intl("View_VM_SpeakingColon")),a.a.createElement("span",{className:gs("g-text-ellipsis","name"),title:i},i))}render(){return a.a.createElement("div",{className:gs("bv-mini-window",{bv_mini_window_with_other:this.hasExtraInfo})},this.isVideoMode?this.renderVideo():this.renderSpeakingText(),a.a.createElement("div",{className:gs("toggle-btn"),onClick:this.toggleDisplayMode},this.isVideoMode?a.a.createElement(ys.a,null):a.a.createElement(fs.a,null)))}};Is([u.h],Ss.prototype,"hasExtraInfo",null),Is([u.h],Ss.prototype,"hasInteraction",null),Is([u.h],Ss.prototype,"hasSubtitle",null),Ss=Is([Object(l.b)(g.i,g.o,g.f,g.n),l.c],Ss);var Cs=Ss,ms=i(683),Ns=i.n(ms),As=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};const Rs=U.a.bind(Ns.a),Os=uo({})(Cs);let vs=class extends A.a{constructor(){super(...arguments),this.state={isDragging:!1},this.handleDragStart=()=>(this.setState({isDragging:!0}),!0),this.handleDragStop=()=>(this.setState({isDragging:!1}),!0),this.handleDrag=()=>(this.setState({isDragging:!0}),!0)}componentDidMount(){const{meetingStore:e}=this.props;e.initDragAndDockPosition()}renderTransparentMask(){const{isDragging:e}=this.state;return e?a.a.createElement("div",{className:Rs("bv-sidebar-popup__transparent-mask")}):null}render(){const{meetingStore:e,shareScreenStore:t}=this.props;return a.a.createElement("div",{className:Rs("sidebar-popup-mini-window")},this.renderTransparentMask(),a.a.createElement(Os,{border:!0,disableDock:!0,className:Rs("bv-sidebar-popup__draggable-mini-window"),mode:eo.Popup,x:e.dragAndDockX,y:e.dragAndDockY,onPositionChange:e.updateDragAndDockPosition,onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragStop:this.handleDragStop,preventClick:!t.sharingDoc&&!e.mainViews.shouldShowInterviewSpace}))}};vs=As([Object(l.b)(g.i,g.n),l.c],vs);var Ps=vs;class Ms extends A.a{render(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ps,null))}}var Ls=i(684),bs=i.n(Ls),Ds=i(685),Us=i.n(Ds),ws=i(686),ks=i.n(ws),Gs=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};const Vs=U.a.bind(ks.a),Hs={hover:!1,showMoreOperations:!1};let Bs=class extends A.a{constructor(){super(...arguments),this.state=Hs,this.containerRef=a.a.createRef(),this.toggleMoreOperations=()=>{const{onMore:e}=this.props;e&&e(),this.setState(e=>({showMoreOperations:!e.showMoreOperations}))},this.closeMoreOperations=e=>{this.setState(()=>({showMoreOperations:!1}));const t=this.containerRef.current;t&&e&&!t.contains(e.target)&&this.setState(()=>({hover:!1}))},this.enterContainer=()=>{this.setState(()=>({hover:!0}))},this.leaveContainer=()=>{const{showMoreOperations:e}=this.state;e||this.setState(()=>({hover:!1}))}}render(){const{props:e}=this,{hover:t}=this.state,{user:i,stream:n,isUserLocked:r,isSharingScreen:o,isActiveSpeaker:s,isCameraDisabled:d,isMicDisabled:c,onToggleMicrophone:l,onToggleCamera:p,onToggleUserLocked:u,handleDoubleClick:_,onMakeHost:E,onMakeCoHost:h,onRemoveCoHost:T,onLowerHand:y,onDeleteParticipant:f,onReclaimHost:I,showButtons:g,ignoreVideo:S,forceAvatar:C,useTooltip:m}=e,{showPin:N,showMuteMic:A,showMuteCamera:R,showMore:O}=g,v={user:i,showButtons:g,buttonStatus:{isUserLocked:r,isMicDisabled:c,isCameraDisabled:d},onToggleEvents:{onToggleUserLocked:u,onToggleMicrophone:l,onToggleCamera:p},moreOptions:{onMakeHost:E,onMakeCoHost:h,onRemoveCoHost:T,onReclaimHost:I,onDeleteParticipant:f,onLowerHand:y},toggleMore:this.toggleMoreOperations,closeMore:this.closeMoreOperations};return a.a.createElement("div",{ref:this.containerRef,className:Vs("bv-full-mode",{hover:t,ignoreVideo:S}),onDoubleClick:_,onMouseEnter:this.enterContainer,onMouseLeave:this.leaveContainer},a.a.createElement(as,{user:i,stream:n,useTooltip:m,isUserLocked:r,isSharingScreen:o,hideIcons:t&&(N||A||R||O),hover:t,controlBarProps:v,onLowerHand:y,ignoreVideo:S,forceAvatar:C}),a.a.createElement("div",{className:Vs({"speaking-user-border":s})}))}};Bs=Gs([Object(l.b)(g.o,g.i),l.c],Bs);var Fs=Bs,js=i(687),Ws=i.n(js),xs=i(1115),Ks=i(1116),qs=i(715),Ys=i(688),Js=i.n(Ys);const zs=U.a.bind(Js.a);var Xs=({deviceIcon:e,handsIcon:t,pinIcon:i,shareIcon:n,signalIcon:r,pstnIcon:o})=>{const s="mobile"===e?a.a.createElement(xs.a,{className:zs("icon","icon-mobile")}):null,d="web"===e?a.a.createElement(Ks.a,{className:zs("icon","icon-web")}):null,c=t?a.a.createElement(Xo.a,{className:zs("icon","icon-raise-hand")}):null,l=i?a.a.createElement(yo.a,{className:zs("icon","icon-pin")}):null,p=n?a.a.createElement(We.a,{className:zs("icon","icon-share")}):null,u=r?a.a.createElement(fo.a,{className:zs("icon","icon-network")}):null,_=o?a.a.createElement(qs.a,{className:zs("icon","icon-pstn")}):null;return a.a.createElement(a.a.Fragment,null,s,d,c,l,p,u,_)},Qs=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};const $s=U.a.bind(Ws.a),Zs={hover:!1,showMoreOperations:!1,needTooltip:!1};let ea=class extends A.a{constructor(){super(...arguments),this.state=Zs,this.containerRef=a.a.createRef(),this.textBoxRef=a.a.createRef(),this.isEllipsis=fe(),this.toggleMoreOperations=()=>{const{onMore:e}=this.props;e&&e(),this.setState(e=>({showMoreOperations:!e.showMoreOperations}))},this.openUserCardWindowCallback=()=>{const{rootStore:e}=this.props.userStore,{shareScreenStore:t}=e;t.isUserCardWindowLoading=!0},this.closeMoreOperations=e=>{if(this.setState(()=>({showMoreOperations:!1})),!e)return void this.setState(()=>({hover:!1}));const t=this.containerRef.current;t&&e&&!t.contains(e.target)&&this.setState(()=>({hover:!1}))},this.enterContainer=()=>{this.setState(()=>({hover:!0}),()=>{this.updateNeedTooltip()})},this.leaveContainer=()=>{const{showMoreOperations:e}=this.state;e||this.setState(()=>({hover:!1}))}}get userIsNotOnTheCall(){const{user:e}=this.props;return e.status!==_.ParticipantStatus.ON_THE_CALL}get userIsOnTheCall(){return!this.userIsNotOnTheCall}get userIsRinging(){const{user:e}=this.props;return e.status===_.ParticipantStatus.RINGING}get userIsWaiting(){const{user:e}=this.props;return e.isInLobby&&this.userIsNotOnTheCall}get moreOperations(){const{onMakeHost:e,onMakeCoHost:t,onRemoveCoHost:i,onLowerHand:n,onDeleteParticipant:r,onReclaimHost:o,showButtons:{showMakeHost:s,showMakeCoHost:d,showRemoveCoHost:c,showLowerHand:l,showRemove:p,showReclaimHost:u}}=this.props;return[{id:"make host",show:s,content:a.a.createElement(jo,{text:"View_M_MakeHost",icon:No.a}),onClick:()=>{e(),this.closeMoreOperations()}},{id:"make co-host",show:d,content:a.a.createElement(jo,{text:"View_M_MakeCoHost",icon:No.a}),onClick:()=>{t(),this.closeMoreOperations()}},{id:"remove co-host",show:c,content:a.a.createElement(jo,{text:"View_M_WithdrawCoHostPermission",icon:Ao.a}),onClick:()=>{i(),this.closeMoreOperations()}},{id:"lower hand",show:l,content:a.a.createElement(jo,{text:"View_M_LowerHand",icon:Ro.a}),onClick:()=>{n(),this.closeMoreOperations()}},{id:"remove",show:p,content:a.a.createElement(jo,{text:"View_M_RemoveFromMeeting",icon:Oo.a}),onClick:()=>{r(),this.closeMoreOperations()}},{id:"reclaim host",show:u,content:a.a.createElement(jo,{text:"View_M_ReclaimHost",icon:No.a}),onClick:()=>{o(),this.closeMoreOperations()}}].filter(e=>e.show)}get displayAnyOption(){const{showButtons:{showPin:e,showMuteCamera:t,showMuteMic:i,showMore:n}}=this.props;return e||i||t||n}updateNeedTooltip(){const e=this.textBoxRef.current;if(!e)return;const t=this.isEllipsis(e);t!==this.state.needTooltip&&this.setState(()=>({needTooltip:t}))}renderWarning(){return a.a.createElement(Yi.a,{className:$s("warning")})}renderCameraBtn(){const{onToggleCamera:e,isCameraDisabled:t,user:{isCameraMuted:i},showButtons:{showMuteCamera:n},rtcStore:r}=this.props;if(!n)return null;const{cameraHasWarnCode:o}=r;if(t||o)return a.a.createElement("button",{type:"button",disabled:!0,className:$s("op-item"),onClick:e},i||o?a.a.createElement(xe.a,null):a.a.createElement(Ii.a,null),this.renderWarning());const s=i?this.intl("View_VM_StartVideo"):this.intl("View_VM_StopVideo");return a.a.createElement(ht.a,{content:s,placement:"top",targetClassName:$s("op-item-tooltip")},a.a.createElement("button",{type:"button",className:$s("op-item",{"muted-camera":i}),onClick:e},i?a.a.createElement(xe.a,null):a.a.createElement(Ii.a,null)))}renderPinBtn(){const{onToggleUserLocked:e,isUserLocked:t,showButtons:{showPin:i}}=this.props;if(!i)return null;const n=t?this.intl("View_G_Unpin"):this.intl("View_G_Pin");return a.a.createElement(ht.a,{content:n,placement:"top",key:"pin-icon-"+t,targetClassName:$s("op-item-tooltip")},a.a.createElement("button",{type:"button",className:$s("op-item"),onClick:e},t?a.a.createElement(yo.a,null):a.a.createElement(vo.a,null)))}renderMicBtn(){const{onToggleMicrophone:e,isMicDisabled:t,user:{isMicrophoneMuted:i},showButtons:{showMuteMic:n},rtcStore:r}=this.props;if(!n)return null;const{micHasWarnCode:o}=r;if(t||o)return a.a.createElement("button",{type:"button",disabled:!0,className:$s("op-item"),onClick:e},i||o?a.a.createElement(fi.a,null):a.a.createElement(Po.a,null),this.renderWarning());const s=i?this.intl("View_M_Unmute"):this.intl("View_VM_Mute");return a.a.createElement(ht.a,{content:s,placement:"top",targetClassName:$s("op-item-tooltip")},a.a.createElement("button",{type:"button",className:$s("op-item",{"muted-mic":i}),onClick:e},i?a.a.createElement(fi.a,null):a.a.createElement(Po.a,null)))}renderMoreBtn(){const{showButtons:{showMore:e}}=this.props;if(!e)return null;const t=this.intl("View_G_More");return a.a.createElement(Vo,{autoToggle:"click",itemList:this.moreOperations,enableClickToggle:!0,onClose:this.closeMoreOperations,size:"small",placement:"bottom-end",flip:!0,targetClassName:$s("more-btn-dropdown")},a.a.createElement(ht.a,{content:t,placement:"top",targetClassName:$s("op-item-tooltip")},a.a.createElement("span",{className:$s("op-item"),onClick:this.toggleMoreOperations},a.a.createElement(Mo.a,null))))}renderButtons(){return a.a.createElement("div",{className:$s("buttons")},this.renderPinBtn(),this.renderMicBtn(),this.renderCameraBtn(),this.renderMoreBtn())}renderIcons(){if(this.userIsOnTheCall){const{props:e}=this,{user:t,isUserLocked:i,isSharingScreen:n}=e,{multiDevice:r,isMobile:o,isWeb:s,isHandsUp:d,isCurrentUser:c,isNetworkBad:l,hasPstnIcon:p}=t;let u;return r&&o?u="mobile":r&&s&&(u="web"),a.a.createElement(Xs,{deviceIcon:u,handsIcon:d,pinIcon:i,shareIcon:n,signalIcon:!c&&l,pstnIcon:p})}return a.a.createElement(Xs,{pstnIcon:this.props.user.hasPstnIcon})}renderAvatar(){const{user:e,currentUserId:t,isActiveSpeaker:i,handleDoubleClick:n}=this.props,r=$s("avatar",{"avatar-active":i});return a.a.createElement("div",{className:r},a.a.createElement("div",null,a.a.createElement(Ce.a,{className:$s("avatar_image"),url:e.avatarUrl})))}renderName(){const{user:e,user:{name:t},currentUserId:i,userExtraInfo:n}=this.props,r=$s("name");return a.a.createElement(ht.a,{content:this.state.needTooltip?t:""},a.a.createElement("div",{className:r},a.a.createElement("span",{className:$s("g-text-ellipsis"),ref:this.textBoxRef},t),n&&!this.userIsRinging&&a.a.createElement("span",{className:$s("name_extra")},n)))}renderNameAndIcons(){return a.a.createElement("div",{className:$s("info")},this.renderName(),this.renderIcons())}renderTags(){const{userTags:e,user:t}=this.props;if(this.userIsNotOnTheCall)return null;const i=e.map(e=>a.a.createElement(Dr,{key:t.deviceId+e},e));return t.isExternal&&i.push(a.a.createElement(Dr,{key:t.deviceId+"external",color:"red"},this.intl("View_G_ExternalLabel"))),0===i.length?null:a.a.createElement("div",{className:$s("tag")},i)}renderDevices(){const{user:e,isHideCameraButton:t,rtcStore:i}=this.props,{isMicrophoneMuted:n,isCameraMuted:r}=e,{micHasWarnCode:o,cameraHasWarnCode:s}=i,d=n||o,c=r||s,l=$s("devices_icon",{"devices_icon-muted":d});let p=null;if(!t){const e=$s("devices_icon",{"devices_icon-muted":c});p=c?a.a.createElement(xe.a,{className:e}):a.a.createElement(Ii.a,{className:e})}return a.a.createElement("div",{className:$s("devices")},d?a.a.createElement(fi.a,{className:l}):a.a.createElement(Po.a,{className:l}),p)}renderMain(){return a.a.createElement("div",{className:$s("main")},this.renderNameAndIcons(),this.renderTags())}renderExtra(){const{hover:e}=this.state;return e&&this.displayAnyOption?this.renderButtons():this.renderDevices()}render(){const{hover:e}=this.state;return a.a.createElement("div",{ref:this.containerRef,className:$s("bv-list-mode",{hover:e,unhoverable:!this.displayAnyOption}),onMouseEnter:this.enterContainer,onMouseLeave:this.leaveContainer},this.renderAvatar(),this.renderMain(),this.renderExtra())}};ea=Qs([Object(l.b)(g.o,g.i,g.n,g.l),l.c],ea);var ta=ea,ia=i(691),na=i.n(ia),ra=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};const oa=U.a.bind(na.a);let sa=class extends A.a{constructor(){super(...arguments),this.toggleMicrophone=()=>{const{user:e,userStore:t,fromSource:i}=this.props,n=!e.isMicrophoneMuted;t.trySetUserMicStatus(n,!1,e),t.currentParticipantId===e.participantId?this.track(_.Homeric.VC_MEETING_PAGE_ONTHECALL,{from_source:"float_window",action_name:_.MeetingPageAction.mic,extend_value:{action_enabled:n?0:1}}):this.track(_.Homeric.VC_MEETING_PAGE_ONTHECALL,{from_source:i,action_name:_.MeetingPageAction.attendeeMic,extend_value:{is_all:0,action_enabled:n?0:1,attendee_uuid:e.id,attendee_device_id:e.participantId}})},this.toggleCamera=()=>{const{user:e,userStore:t,fromSource:i}=this.props,n=!e.isCameraMuted;t.setUserCameraStatus(!e.isCameraMuted,!1,!1,e.participantId),t.currentParticipantId===e.participantId?this.track(_.Homeric.VC_MEETING_PAGE_ONTHECALL,{from_source:"float_window",action_name:_.MeetingPageAction.camera,extend_value:{action_enabled:n?0:1}}):this.track(_.Homeric.VC_MEETING_PAGE_ONTHECALL,{from_source:i,action_name:_.MeetingPageAction.attendee_cam,extend_value:{action_enabled:n?0:1,attendee_uuid:e.id,attendee_device_id:e.participantId}})},this.handleDoubleClick=e=>{},this.toggleUserLocked=e=>{e.stopPropagation(),this.toggleUserLockedFunc()},this.toggleUserLockedFunc=e=>{const{user:t,meetingStore:i}=this.props;this.currentUserIsOnTheCall&&(i.pinedId===t.participantId?(this.trackUserLock(!1,e),i.setPinedId("")):(this.trackUserLock(!0,e),i.setPinedId(t.participantId)))},this.lowerHand=()=>{const{user:e,fromSource:t}=this.props,i=this.isCurrentUser?_.MeetingPageAction.self_lower_hand:_.MeetingPageAction.lower_hand,n=this.isCurrentUser?void 0:{attendee_uuid:e.id,attendee_device_id:e.participantId};this.track(_.Homeric.VC_MEETING_PAGE_ONTHECALL,{from_source:t,action_name:i,extend_value:n}),this.props.userStore.lowerHand(e)},this.makeHost=()=>{},this.makeCoHost=()=>{},this.removeCoHost=()=>{},this.reclaimHost=()=>{},this.onMoreClick=()=>{},this.deleteParticipant=()=>{}}get isUserLocked(){const{user:e,meetingStore:t}=this.props;return t.pinedId===e.participantId}get isSharingScreen(){const{user:e,shareScreenStore:t}=this.props;return t.sharingAnythingParticipantId===e.participantId}get isAnyoneSharingScreen(){const{shareScreenStore:e}=this.props;return!!e.sharingAnythingParticipantId}get isCurrentUser(){const{userStore:e,user:t}=this.props;return e.currentParticipantId===t.participantId}get currentDeviceIsHost(){return this.props.conferenceStore.hasHostControl}get currentDeviceIsCoHost(){return this.props.conferenceStore.hasCoHostControl}get currentUserIsCandidate(){const{userStore:e}=this.props;return e.currentUser.role===_.ParticipantRole.INTERVIEWEE}get currentUserIsOnTheCall(){const{user:e}=this.props;return e.status===_.ParticipantStatus.ON_THE_CALL}get isHideCameraButton(){const{user:e}=this.props;return e.participantSettings.cameraStatus===_.EquipmentStatus.NOT_EXIST&&e.isPstnUser}get isCameraAbnormal(){return Je(this.props.user)}get isMicAbnormal(){return Ye(this.props.user.microphoneStatus)}get isCameraDisabled(){return this.isCurrentUser&&this.isCameraAbnormal}get isMicDisabled(){return this.isCurrentUser&&this.isMicAbnormal}get isActiveSpeaker(){const{user:e,conferenceStore:t}=this.props;return e.isSpeaking&&t.isMeeting}trackUserLock(e,t){const{user:i,fromSource:n,shareScreenStore:r,userStore:o}=this.props;this.track(_.Homeric.VC_MEETING_PAGE_ONTHECALL,{from_source:"userlist",action_name:e?_.MeetingPageAction.pin:_.MeetingPageAction.unpin})}get showButtons(){const e={},{userStore:t,user:i,conferenceStore:n}=this.props;return this.currentUserIsOnTheCall?(e.showPin=!0,e.showMuteMic=this.isCurrentUser,e.showMuteCamera=this.isCurrentUser&&!this.isHideCameraButton,e.showLowerHand=i.isHandsUp&&this.isCurrentUser,e.showMore=e.showLowerHand,e):e}render(){const{user:e,stream:t,useTooltip:i,mode:n,conferenceStore:r,currentUserId:o,meetingStore:s}=this.props,{isUserLocked:d,isSharingScreen:c,isAnyoneSharingScreen:l}=this,p={user:e,userExtraInfo:Ke(e,r),userTags:qe(e,r),stream:t,isUserLocked:d,isSharingScreen:c,isAnyoneSharingScreen:l,useTooltip:i,isCameraAbnormal:this.isCameraAbnormal,isMicAbnormal:this.isMicAbnormal,isCameraDisabled:this.isCameraDisabled,isHideCameraButton:this.isHideCameraButton,isMicDisabled:this.isMicDisabled,isActiveSpeaker:this.isActiveSpeaker,onToggleMicrophone:this.toggleMicrophone,onToggleCamera:this.toggleCamera,onToggleUserLocked:this.toggleUserLocked,handleDoubleClick:this.handleDoubleClick,onLowerHand:this.lowerHand,onMakeHost:this.makeHost,onDeleteParticipant:this.deleteParticipant,onMakeCoHost:this.makeCoHost,onRemoveCoHost:this.removeCoHost,onReclaimHost:this.reclaimHost,onMore:this.onMoreClick,showButtons:this.showButtons,currentUserId:o},u="list"===n?ta:Fs;let _="list-mode";return"placeholder"===n?(p.ignoreVideo=!0,_="placeholder-mode"):"full"===n&&(_="full-mode"),a.a.createElement("div",{className:oa("bv-participant-item",_),"data-participant-scroll":"item",style:this.props.style},a.a.createElement(u,p))}};sa=ra([Object(l.b)(g.o,g.i,g.n,g.f),l.c],sa);var aa=sa,da=i(592),ca=i(1117),la=i(1118),pa=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},ua=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const _a=U.a.bind(Us.a);var Ea;!function(e){e[e.RINGING=0]="RINGING",e[e.WAITING=1]="WAITING",e[e.ON_THE_CALL=2]="ON_THE_CALL"}(Ea||(Ea={}));let ha=class extends A.a{constructor(){super(...arguments),this.userListRef=a.a.createRef(),this.observing=!1,this.state={listStatusMap:{[Ea.RINGING]:!0,[Ea.WAITING]:!0,[Ea.ON_THE_CALL]:!0},listHeight:0},this.handleAdmitAllClick=()=>ua(this,void 0,void 0,(function*(){this.track(_.Homeric.VC_MEETING_PAGE_ONTHECALL,{action_name:_.MeetingPageAction.admit_all})})),this.handleSectionHeaderClick=e=>{const{listStatusMap:t}=this.state,i={[Ea.RINGING]:t[Ea.RINGING],[Ea.WAITING]:t[Ea.WAITING],[Ea.ON_THE_CALL]:t[Ea.ON_THE_CALL]};i[e]=!i[e],this.setState({listStatusMap:i})},this.renderNormalSectionHeader=e=>this.renderSectionHeader(this.sections,e),this.renderNormalSectionList=e=>{const{list:t}=this.sections[e];return this.numberOfRows(this.sections,e)>0?t.map(t=>this.renderRow(t,{section:e})):null},this.renderRow=(e,{section:t},i)=>{const{fromSource:n}=this.props,{currentUserId:r}=this.props.userStore,o=`${t}_${e.deviceId}_${e.id}`;return a.a.createElement(aa,{currentUserId:r,key:o,user:e,mode:"list",style:i,stream:e.streams.frame,fromSource:n})}}get sectionTypeList(){return[Ea.RINGING,Ea.WAITING,Ea.ON_THE_CALL]}get listMap(){const{ringingParticipantList:e,waitingParticipantList:t,onTheCallParticipantList:i}=this.props.userStore;return{[Ea.RINGING]:e,[Ea.WAITING]:t,[Ea.ON_THE_CALL]:i}}get headerTextMap(){return{[Ea.RINGING]:"View_M_CallingNumber",[Ea.WAITING]:"View_M_WaitingToJoin",[Ea.ON_THE_CALL]:"View_M_AlreadyInMeetingNumberBraces"}}get allSections(){return this.sectionTypeList.map(e=>({type:e,list:this.listMap[e],headerText:this.headerTextMap[e]}))}get showRingingHeader(){return this.props.userStore.ringingParticipantList.length>0}get showWaitingHeader(){const{hasHostControl:e,hasCoHostControl:t}=this.props.conferenceStore,{waitingParticipantList:i}=this.props.userStore;return(e||t)&&i.length>0}get showOnTheCallHeader(){return this.showRingingHeader||this.showWaitingHeader}get showHeaderMap(){return{[Ea.RINGING]:this.showRingingHeader,[Ea.WAITING]:this.showWaitingHeader,[Ea.ON_THE_CALL]:this.showOnTheCallHeader}}get showSectionMap(){return{[Ea.RINGING]:this.showRingingHeader,[Ea.WAITING]:this.showWaitingHeader,[Ea.ON_THE_CALL]:!0}}get sections(){return this.allSections.filter(e=>this.showSectionMap[e.type])}componentDidMount(){this.observer=new ResizeObserver(e=>{for(const t of e)this.setState({listHeight:t.contentRect.height})})}componentWillUnmount(){this.observer.disconnect()}componentDidUpdate(){this.userListRef.current&&(this.observing||(this.observing=!0,this.observer.observe(this.userListRef.current)))}renderNormalList(){return a.a.createElement("div",{className:_a("participant-group-list")},this.sections.map(({type:e},t)=>a.a.createElement(a.a.Fragment,{key:e},this.renderNormalSectionHeader(t),this.renderNormalSectionList(t))))}renderVirtualList(){const e={height:this.state.listHeight,estimatedRowHeight:56,numberOfSections:this.sections.length,renderRow:this.renderRow,numberOfRows:this.numberOfRows.bind(this,this.sections),recordForRowAt:this.recordForRowAt.bind(this,this.sections),keyMapper:this.keyMapper.bind(this,this.sections),sectionHeaderHeight:this.sectionHeaderHeight.bind(this),renderSectionHeader:this.renderSectionHeader.bind(this,this.sections)};return a.a.createElement("div",{className:_a("participant-group-list","virtual-list","bv-watermark"),ref:this.userListRef},a.a.createElement(da.a,Object.assign({},e)))}renderSectionHeader(e,t,i){const n=e[t],{list:r,headerText:o,type:s}=n,d=this.state.listStatusMap[s]?ca.a:la.a;if(!this.showHeaderMap[s])return null;const c=s===Ea.WAITING&&r.length>1;return a.a.createElement("div",{className:_a("section-header"),key:"section-header-"+t,style:i},a.a.createElement("div",{className:_a("section-header__left"),onClick:this.handleSectionHeaderClick.bind(this,s)},a.a.createElement(d,{className:_a("section-header__icon")}),a.a.createElement("div",{className:_a("section-header__text")},this.intl(o,{number:r.length}))),c?a.a.createElement("div",{className:_a("section-header__right"),onClick:this.handleAdmitAllClick},this.intl("View_M_AdmitAllButton")):null)}numberOfRows(e,t){const i=e[t],n=this.state.listStatusMap[i.type],r=this.showHeaderMap[i.type];return(i.type===Ea.ON_THE_CALL?!this.showOnTheCallHeader||n:r&&n)?e[t].list.length:0}recordForRowAt(e,{section:t,row:i}){return e[t].list[i]}keyMapper(e,{section:t,row:i}){const n=e[t].list[i];return`${t}_${n.id}_${n.deviceId}`}sectionHeaderHeight(){return this.showOnTheCallHeader?40:0}rendering(){return this.props.useVirtual&&this.props.meetingStore.isVirtualListParticipantsEnabled&&!this.props.conferenceStore.isCall?this.renderVirtualList():this.renderNormalList()}};ha=pa([Object(l.b)(g.o,g.i,g.n,g.f),l.c],ha);var Ta=ha,ya=i(1119),fa=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};const Ia=U.a.bind(bs.a);let ga=class extends A.a{constructor(){super(...arguments),this.onCopyMeetingIdAttempt=()=>{},this.closePanel=()=>{this.props.meetingStore.layout.onCloseSidebar(),pe.b.emit(pe.a.VC_MEETING_ONTHECALL_CLICK,{click:"close_userlist",target:"none"})},this.renderInMeetingList=()=>a.a.createElement("div",{className:Ia("in-meeting-list",{})},a.a.createElement(Ta,{useVirtual:!0,fromSource:"userlist"}))}renderHeader(){const{participantCount:e}=this.props.userStore;return a.a.createElement("div",{className:Ia("header")},a.a.createElement("span",{className:Ia("text"),onClick:this.onCopyMeetingIdAttempt},this.intl("View_M_ParticipantsNumberBraces",{number:e})),a.a.createElement(ht.a,{content:this.intl("View_G_CloseButton"),placement:"left"},a.a.createElement("button",{type:"button",className:Ia("icon-close-btn"),onClick:this.closePanel},a.a.createElement(ya.a,{className:Ia("icon-close")}))))}renderMask(){const{meetingStore:e}=this.props;return e.isSidebarMaskVisible&&a.a.createElement("div",{className:Ia("mask")})}render(){const{conferenceStore:e,meetingStore:t}=this.props;return a.a.createElement("div",{className:Ia("bv-sidebar__participant-list")},this.renderHeader(),this.renderInMeetingList(),this.renderMask())}};ga=fa([Object(l.b)(g.i,g.o,g.f),l.c],ga);var Sa=ga,Ca=i(692),ma=i.n(Ca),Na=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};const Aa=U.a.bind(ma.a);let Ra=class extends a.a.Component{render(){const{className:e,meetingStore:t}=this.props,i=Aa("bv-sidebar",e),{layout:n}=t,{sidebar:r}=n;switch(r){case at.a.participant:return a.a.createElement("div",{className:i},a.a.createElement(Sa,null));default:return null}}};Ra=Na([Object(l.b)(g.i),l.c],Ra);var Oa=Ra,va=(i(948),function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s}),Pa=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};let Ma=class extends A.a{constructor(){super(...arguments),this.state={participantIdNameMap:new Map},this.getUserNameMap=()=>Pa(this,void 0,void 0,(function*(){})),this.handleConfirm=()=>{const{onconfirm:e,recordConfirmData:t}=this.props;switch(t.type){case _.RecordConfirmType.RECORDING_CONFIRM:this.props.conferenceStore.recordMeeting(_.RecordMeetingRequestAction.PARTICIPANT_CONSENT_STAY),this.track(_.Homeric.VC_MEETING_PAGE_ONTHECALL,{from_source:"record_popup",action_name:_.MeetingPageAction.stayMeeting})}e&&e(t.type)},this.handleCancel=()=>{const{oncancel:e,recordConfirmData:t}=this.props;switch(t.type){case _.RecordConfirmType.RECORDING_CONFIRM:this.props.conferenceStore.recordMeeting(_.RecordMeetingRequestAction.PARTICIPANT_CONSENT_LEAVE),this.track(_.Homeric.VC_MEETING_PAGE_ONTHECALL,{from_source:"record_popup",action_name:_.MeetingPageAction.leaveMeeting}),this.props.meetingStore.hangup(_.Action.LEAVE)}e&&e(t.type)}}getContentData(){const{userStore:e,conferenceStore:t}=this.props,{type:i,data:n}=this.props.recordConfirmData;let r="",o="",a="",d="",c="",l="ghost";switch(i){case _.RecordConfirmType.STOP:r=this.intl("View_M_StopRecordingQuestion"),a=this.intl("View_G_StopButton"),d=this.intl("View_G_CancelButton"),c="confirm-stop";break;case _.RecordConfirmType.REQUEST_RECORD:{const i=n&&n.user&&Object(C.b)(n.user)||"",l=n&&n.policyUrl||"",p=(e.participantsMap[i]||{}).name||this.state.participantIdNameMap.get(i),u=t.type;!p&&this.props.isolatedMode&&this.getUserNameMap();const E=u===_.VideoChatType.CALL?"View_AV_RequestToRecord":"View_M_RequestToRecord",h=u===_.VideoChatType.CALL?"View_AV_RequestToRecordInfoNew":"View_M_RequestToRecordInfoNew",T={key:"",jumpScheme:l,type:_.I18nKeyType.SCHEME_JUMP},y=this.intl(h,{name:p});r=this.intl(E),o=p?s.createElement(b,{i18nKeyInfo:T,i18nMessage:y}):"",a=this.intl("View_G_ApproveButton"),d=this.intl("View_G_DeclineButton"),c="confirm-approve";break}case _.RecordConfirmType.RECORDING_CONFIRM:a=this.intl("View_M_StayInMeetingShort"),d=this.intl("View_M_LeaveMeetingShort"),r=n&&n.titleI18nKey?s.createElement(b,{i18nKeyInfo:n.titleI18nKey}):"",o=n&&n.msgI18nKey?s.createElement(b,{i18nKeyInfo:n.msgI18nKey}):"",l="danger-ghost"}return{title:r,content:o,confirmBtnCx:c,confirmBtnText:a,cancelBtnText:d,cancelBtnCx:l}}renderModalContent(){const{title:e,content:t,confirmBtnCx:i,confirmBtnText:n,cancelBtnText:r,cancelBtnCx:o}=this.getContentData();return s.createElement("div",{className:O()("content")},s.createElement("div",{className:O()("title")},s.createElement(Rt.a,null),e),t&&s.createElement("div",{className:O()("content-text")},t),s.createElement("div",{className:O()("btn-wrap")},s.createElement("button",{type:"button",className:O()("float-right","primary","confirm-btn",i),onClick:this.handleConfirm},n),s.createElement("button",{type:"button",className:O()(o,"float-right","default","cancel-btn"),onClick:this.handleCancel},r)))}rendering(){const{cxs:e}=this.props,{visible:t}=this.props.recordConfirmData;return s.createElement(zi,{className:O()("vc-confirm-modal","record-confirm-modal",e),visible:t,showOk:!1,showCloseIcon:!1,showCancel:!1,maskClosable:!1},this.renderModalContent())}};Ma.defaultProps={visible:!0,type:_.ConfirmModalType.MEETING,cxs:"",isolatedMode:!1},Ma=va([Object(l.b)(g.o,g.f,g.i),l.c],Ma);var La=Ma,ba=i(142),Da=(i(949),i(408)),Ua=i(693),wa=i.n(Ua),ka=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};const Ga=U.a.bind(wa.a);let Va=class extends a.a.Component{constructor(){super(...arguments),this.renderReg=/(\[\[.+?:.+?\]\])/g}get i18nStr(){const{key:e,data:t}=this.props.i18nData;return e.split(this.renderReg).map((e,i)=>{const n=e.match(/^\[\[(.+?):(.+?)\]\]$/);if(!n)return e;{const[,e,r]=n;if(!t[e])return r;{const{type:n,payload:o}=t[e];switch(n){case _.MegaI18nDataType.LINK:return a.a.createElement("span",{key:`link-${e}-${i}`,onClick:()=>{this.props.openUrl(o)},className:Ga("mega-i18n-data","mega-i18n-data-link")},r);case _.MegaI18nDataType.CLICK:return a.a.createElement("span",{key:`click-${e}-${i}`,onClick:()=>{this.props.onClick(o)},className:Ga("mega-i18n-data","mega-i18n-data-clickable")},r);default:return r}}}})}render(){return this.i18nStr}};ka([u.h],Va.prototype,"i18nStr",null),Va=ka([l.c],Va);var Ha=Va,Ba=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};class Fa extends A.a{constructor(){super(...arguments),this.state={i18nStr:"",mounted:!1},this.openUrl=e=>{if(T.c.info("openUrl: ",e),/^lark:\/\/client\/chat/.test(e)&&S.a.request(_.Command.INVOKE_JUMP_TO_SCHEMA_URL,e),/^lark:\/\/client\/web/.test(e)||/^https?:\/\//.test(e)){const t=/(?:url=)(.*)/.exec(e)||/(^https?:\/\/.*)/.exec(e);if(!t)return;const i=t[1],n=window.decodeURIComponent(i);window.open(n)}},this.onClick=e=>""}componentDidMount(){return Ba(this,void 0,void 0,(function*(){const e=yield S.a.getViewI18nFromRust({key:"string"==typeof this.props.i18nData?this.props.i18nData:this.props.i18nData.key,params:this.props.i18nParams});this.setState({mounted:!0,i18nStr:e})}))}render(){if(!this.state.mounted)return"";const e={key:this.state.i18nStr,data:"string"==typeof this.props.i18nData?{}:this.props.i18nData.data};return a.a.createElement(Ha,{openUrl:this.openUrl,onClick:this.onClick,i18nData:e})}}var ja=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Wa=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};let xa=class extends A.a{constructor(e){super(e),this.closeModal=()=>{this.props.conferenceStore.live.hideConfirmModal(),this.props.onCancel()},this.handleConfirm=()=>Wa(this,void 0,void 0,(function*(){const{live:e}=this.props.conferenceStore,{confirmModal:t}=e;switch(T.c.info(`live modal confirm clicked (${t})`),t){case _.LiveConfirmModalType.CONFIRM_END:this.track(_.Homeric.VC_END_LIVE_POPUP,{action_name:"confirm"}),yield e.toggleLive(Da.a.ConfirmModal);break;case _.LiveConfirmModalType.CONFIRM_REQUEST:this.track(_.Homeric.VC_BEGIN_LIVE_POPUP,{action_name:"agree"}),yield e.acceptLiveRequest();break;case _.LiveConfirmModalType.CONFIRM_COPY_FAILED:break;case _.LiveConfirmModalType.VOTE:this.track(_.Homeric.VC_BEGIN_LIVE_POPUP,{action_name:"agree_host_live"}),yield e.acceptLiveVote()}this.props.onConfirm(),this.setState({acceptPolicy:!1})})),this.handleCancel=()=>Wa(this,void 0,void 0,(function*(){const{live:e}=this.props.conferenceStore,{confirmModal:t}=e;switch(T.c.info(`live modal cancel clicked (${t})`),t){case _.LiveConfirmModalType.CONFIRM_END:e.hideConfirmModal(),this.track(_.Homeric.VC_END_LIVE_POPUP,{action_name:"cancel"});break;case _.LiveConfirmModalType.CONFIRM_REQUEST:this.track(_.Homeric.VC_BEGIN_LIVE_POPUP,{action_name:"refuse"}),yield e.refuseLiveRequest();break;case _.LiveConfirmModalType.CONFIRM_COPY_FAILED:break;case _.LiveConfirmModalType.VOTE:this.track(_.Homeric.VC_BEGIN_LIVE_POPUP,{action_name:"refuse_host_live"}),yield e.refuseLiveVote()}this.props.onCancel(),this.setState({acceptPolicy:!1})})),this.handleCheckBox=e=>{this.setState({acceptPolicy:e})},this.trackClickPrivacyPolicy=()=>{this.track(_.Homeric.VC_BEGIN_LIVE_POPUP,{action_name:"click_privacy_policy"})},this.trackClickUserTermsOfService=()=>{this.track(_.Homeric.VC_BEGIN_LIVE_POPUP,{action_name:"click_user_terms_of_service"})},this.state={acceptPolicy:!1}}getContentData(){const{confirmModal:e,requester:t,shouldShowPolicy:i,megaI18nDataForConfirmLiveRequestPolicyTips:n,megaI18nDataForVotePopupWithPolicy:r}=this.props.conferenceStore.live;switch(e){case _.LiveConfirmModalType.CONFIRM_END:return{title:this.intl("View_M_StopLivestreamingQuestionNew"),confirmBtnText:this.intl("View_G_ConfirmButton"),cancelBtnText:this.intl("View_G_CancelButton"),confirmBtnCx:"confirm-stop",icon:!0};case _.LiveConfirmModalType.CONFIRM_REQUEST:{const{deviceId:r="",userId:o}=t||{},a=this.props.userStore.participantList.find(e=>e.id===o&&e.deviceId===r);return T.c.info(`[LIVE] confirm request modal, requester=${JSON.stringify(t)}, modal=${e}`),i?{title:this.intl("View_M_RequestToLivestreamNew"),content:s.createElement("div",{className:"policy-text"},s.createElement(Fa,{i18nData:n,i18nParams:{name:a?a.name:""}})),checkBoxText:this.intl("View_G_ReadPrivacyPolicy"),confirmBtnText:this.intl("View_G_ApproveButton"),cancelBtnText:this.intl("View_G_DeclineButton"),icon:!0}:{title:this.intl("View_M_RequestToLivestreamNew"),content:this.intl("View_M_RequestToLivestreamInfoBracesNewSettings",{name:a?a.name:""}),confirmBtnText:this.intl("View_G_ApproveButton"),cancelBtnText:this.intl("View_G_DeclineButton"),icon:!0}}case _.LiveConfirmModalType.CONFIRM_COPY_FAILED:return{title:this.intl("View_M_CopyLivestreamLinkErrorTryAgainLaterNew"),confirmBtnText:this.intl("View_G_ConfirmButton"),icon:!0};case _.LiveConfirmModalType.VOTE:return i?{title:this.intl("View_M_HostLivestreamRequestTitle"),content:s.createElement("div",{className:"policy-text"},s.createElement(Fa,{i18nData:r})),checkBoxText:this.intl("View_G_ReadPrivacyPolicy"),confirmBtnText:this.intl("View_G_AllowButton"),cancelBtnText:this.intl("View_G_DontAllowButton")}:{title:this.intl("View_M_HostLivestreamRequestTitle"),confirmBtnText:this.intl("View_G_AllowButton"),cancelBtnText:this.intl("View_G_DontAllowButton")};default:return{title:"",content:"",confirmBtnText:this.intl("View_G_ConfirmButton"),cancelBtnText:this.intl("View_G_CancelButton")}}}renderModalContent(){const{title:e,content:t,confirmBtnCx:i,confirmBtnText:n,cancelBtnText:r,icon:o,checkBoxText:a}=this.getContentData();return s.createElement("div",{className:O()("content",!o&&"content-without-icon")},s.createElement("div",{className:O()("title")},o&&s.createElement(Rt.a,null),e),t&&s.createElement("div",{className:O()("content-text")},t),a&&s.createElement(Qi,{contentPosition:"after",className:O()("live-confirm-modal-checkbox"),checked:this.state.acceptPolicy,onChange:this.handleCheckBox,theme:g.p.LIGHT},s.createElement("span",{className:O()("checkbox-content")},a)),s.createElement("div",{className:O()("btn-wrap")},s.createElement("button",{type:"button",className:O()("float-right","primary","confirm-btn",i),disabled:!!a&&!this.state.acceptPolicy,onClick:this.handleConfirm},n),r&&s.createElement("button",{type:"button",className:O()("float-right","default","ghost","cancel-btn"),onClick:this.handleCancel},r)))}rendering(){const{cxs:e,conferenceStore:t}=this.props;return s.createElement(zi,{className:O()("vc-confirm-modal","live-confirm-modal",e,t.live.confirmModal===_.LiveConfirmModalType.VOTE&&"live-confirm-modal-vote"),visible:t.live.confirmModal!==_.LiveConfirmModalType.NONE,showOk:!1,showCancel:!1,showCloseIcon:!1,closeModal:this.closeModal,maskClosable:!1},this.renderModalContent())}};xa=ja([Object(l.b)(g.o,g.f,g.e),l.c],xa);var Ka=xa,qa=i(1076),Ya=i(1078);const Ja=e=>{switch(e){case Ee.d.ERROR:return[qa.a,"icon-error"];case Ee.d.INFO:return[Ya.a,"icon-info"];default:return[Rt.a,"icon-warning"]}};var za=i(321),Xa=i(694),Qa=i.n(Xa),$a=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Za=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const ed=U.a.bind(Qa.a);var td;!function(e){e.MIC="MIC",e.CAMERA="CAMERA"}(td||(td={}));let id=class extends A.a{constructor(){super(...arguments),this.pageTitle=this.intl("View_M_VideoMeetingName"),this.confirmModalDomQuery=".lark-modal-content",this.closeSelf=()=>{this.props.meetingStore.inMeetingConfirmModalData.visible=!1},this.handleConfirm=()=>Za(this,void 0,void 0,(function*(){const{type:e,hasCamera:t,hasCameraAccess:i,hasMic:n,hasMicAccess:r,onConfirm:o}=this.props.meetingStore.inMeetingConfirmModalData;switch(e){case _.MeetingConfirmType.OPEN_CAMERA:if(this.trackCameraConfirm(),!t||!i)break;if(this.props.userStore.setUserCameraStatus(!0),!t)break;i&&this.props.userStore.setUserCameraStatus(!1,!0);break;case _.MeetingConfirmType.OPEN_MIC:if(!n||!r)break;if(this.props.userStore.trySetUserMicStatus(!0),!n)break;r&&this.props.userStore.setUserMicStatus(!1,!0,!0);break;default:null==o||o()}this.closeSelf()})),this.handleCancel=()=>{const{type:e,onCancel:t}=this.props.meetingStore.inMeetingConfirmModalData;e===_.MeetingConfirmType.OPEN_CAMERA?Object(h.d)(_.Homeric.VC_MEETING_LARK_HINT,{action_name:"cancel",from_source:"invite_open_camera"}):null==t||t(),this.closeSelf()}}didMount(){}trackCameraConfirm(){let e;const{hasCamera:t,hasCameraAccess:i}=this.props.meetingStore.inMeetingConfirmModalData;e=t?i?_.InMeetingConfirmNextStatus.is_open:_.InMeetingConfirmNextStatus.root_setting:_.InMeetingConfirmNextStatus.no_camera,this.track(_.Homeric.VC_MEETING_LARK_HINT,{action_name:"confirm",from_source:"invite_open_camera",extend_value:{next_status:e}})}renderModalContent(){const{appName:e}=this.props.appStore,{visible:t,type:i,hasCamera:n,hasCameraAccess:r,hasMic:o,hasMicAccess:a,content:d,title:c,confirmEventType:l,confirmBtnTxt:p="View_G_ConfirmButton",cancelBtnTxt:u}=this.props.meetingStore.inMeetingConfirmModalData;let E=c||"",h=d,T={},y=p,f=!0,I=Rt.a,g="icon-warning";switch(i){case _.MeetingConfirmType.OPEN_MIC:E="View_M_HostMicRequestStandard",o&&a?(h="",y="View_G_ConfirmButton"):o?(h=za.b?"View_M_HostMicRequestAccessInfoMacAppNameBrace":"View_M_HostMicRequestAccessInfoWindowsAppNameBrace",T={appName:e},y="View_G_OpenSystemPreferences"):(h="View_M_HostMicRequestPleaseCheck",y="View_G_OkButton",f=!1);break;case _.MeetingConfirmType.OPEN_CAMERA:E="View_M_HostCameraRequestStandard",r&&n?(h="",y="View_G_ConfirmButton"):n?(h=za.b?"View_M_HostCameraRequestAccessInfoMacAppNameBrace":"View_M_HostCameraRequestAccessInfoWindowsAppNameBrace",T={appName:e},y="View_G_OpenSystemPreferences"):(h="View_M_HostCameraRequestPleaseCheck",y="View_G_OkButton",f=!1);break;case _.MeetingConfirmType.SKETCH_CANNOT_SEE:f=!1,E=this.props.conferenceStore.type===_.VideoChatType.CALL?["View_V_CantSeeAnnotationsBraces",{name:this.props.userStore.targetUser?this.props.userStore.targetUser.name:""}]:"View_M_CantSeeAnnotations",h="",y="View_G_ConfirmButton";break;case _.MeetingConfirmType.SKETCH_SERVER_CANNOT_START:f=!1,E="View_VM_FailedToStartAnnotating",y="View_G_OkButton";break;case _.MeetingConfirmType.SKETCH_SERVER_UNAVAIUNAVAILABLE:f=!1,E="View_VM_UnableToShowAnnotations",y="View_G_OkButton";break;case _.MeetingConfirmType.SKETCH_CRASH:f=!1,E="View_VM_ErrorOccurredWithAnnotation",y="View_G_OkButton";break;case _.MeetingConfirmType.NORMAL_CONFIRM:f=!1,y="View_G_OkButton",[I,g]=Ja(l);break;default:[I,g]=Ja(l),f=Boolean(u)}return s.createElement("div",{className:ed("content")},s.createElement("div",{className:ed("title")},s.createElement(I,{className:ed(g)}),E instanceof Array?this.intl(E[0],E[1]):this.intl(E)),s.createElement("div",{className:ed("content-text")},this.intl(h||"",T)),s.createElement("div",{className:ed("btn-wrap")},s.createElement("button",{type:"button",className:ed("float-right","primary","confirm-btn"),onClick:this.handleConfirm},this.intl(y)),s.createElement("button",{type:"button",className:ed("float-right","default","ghost","cancal-btn",{show:f}),onClick:this.handleCancel},this.intl(u||"View_G_CancelButton"))))}rendering(){const{visible:e}=this.props.meetingStore.inMeetingConfirmModalData;return s.createElement(zi,{className:ed("vc-confirm-modal","meeting"),visible:e,showOk:!1,showCloseIcon:!1,showCancel:!1,maskClosable:!1},this.renderModalContent())}};id=$a([Object(l.b)(g.e,g.o,g.j,g.l,g.f,g.i),l.c],id);var nd=id,rd=i(695),od=i.n(rd),sd=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};const ad=U.a.bind(od.a);let dd=class extends A.a{constructor(){super(...arguments),this.closePstnInfoModal=()=>{this.props.inviteStore.setPstnModalVisible(!1),this.props.onClose&&this.props.onClose()}}render(){const{pstnModalVisible:e}=this.props.inviteStore,{pstnInfo:t,meetNumber:i}=this.props,n=Object(S.c)(i);return a.a.createElement(zi,{className:ad("pstnInfoModal"),visible:this.props.visible||e,showOk:!1,showCancel:!1,width:420,showCloseIcon:!1,maskClosable:!0,closeModal:this.closePstnInfoModal},a.a.createElement("div",{className:ad("pstnInfoModal_close"),onClick:this.closePstnInfoModal},a.a.createElement(qi.a,null)),a.a.createElement("div",{className:ad("pstnInfoModal_content")},a.a.createElement("div",{className:ad("pstnInfoModal_header")},a.a.createElement("div",{className:ad("pstnInfoModal_title")},this.intl("View_M_DialIn")),a.a.createElement("div",{className:ad("pstnInfoModal_subtitle")},this.intl("View_M_DialInInfo")),a.a.createElement("div",{className:ad("pstnInfoModal_desc")},this.intl("View_N_MeetingId"),"：",n)),a.a.createElement("div",{className:ad("pstnInfoModal_body")},a.a.createElement("div",{className:ad("pstnInfoModal_listTitle","pstnInfoModal_listItem")},a.a.createElement("div",{className:ad("pstnInfoModal_cell")},this.intl("View_M_CountryOrRegion")),a.a.createElement("div",{className:ad("pstnInfoModal_cell")},this.intl("View_M_Number"))),t&&t.countries.map(e=>{const i=t.all[e];return i?a.a.createElement("div",{className:ad("pstnInfoModal_listItem"),key:e},a.a.createElement("div",{className:ad("pstnInfoModal_cell")},i.name),a.a.createElement("div",{className:ad("pstnInfoModal_cell")},i.numbers.map(e=>a.a.createElement("div",{key:e,className:ad("pstnInfoModal_number")},e)))):null}))))}};dd=sd([Object(l.b)(g.h,g.f,g.j),l.c],dd);var cd=dd,ld=(i(950),function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s});let pd=class extends A.a{constructor(){super(...arguments),this.onConfirmClick=()=>{const{isRaiseHand:e}=this.props.handsUpConfirmData;T.c.info("HandsUpConfirm "+(e?"raised":"lowered")),e?(S.a.raiseHand(),this.trackAction("self_unmute",_.MeetingPopupPageAction.raise_hand),pe.b.emit(pe.a.VC_MEETING_POPUP_CLICK,{click:"raise_hand",content:"self_unmute"})):(S.a.lowerHand(),this.trackAction("self_lower_hand",_.MeetingPopupPageAction.lower_hand),pe.b.emit(pe.a.VC_MEETING_POPUP_CLICK,{click:"confirm",content:"self_lower_hand"})),this.props.onConfirm()},this.onCancelClick=()=>{const{isRaiseHand:e}=this.props.handsUpConfirmData;e?(this.trackAction("self_unmute",_.MeetingPopupPageAction.cancel),pe.b.emit(pe.a.VC_MEETING_POPUP_CLICK,{click:"cancel",content:"self_unmute"})):(this.trackAction("self_lower_hand",_.MeetingPopupPageAction.keep_raising),pe.b.emit(pe.a.VC_MEETING_POPUP_CLICK,{click:"cancel",content:"self_lower_hand"})),this.props.onCancel()},this.trackAction=(e,t)=>{this.track(_.Homeric.VC_MEETING_POPUP,{from_source:e,action_name:t})},this.renderModalContent=()=>{const{isRaiseHand:e}=this.props.handsUpConfirmData,t=e?this.intl("View_M_RaiseHandToSpeak"):this.intl("View_M_LowerHandQuestion"),i=e?this.intl("View_M_RaiseHand"):this.intl("View_M_LowerHand"),n=this.intl("View_G_CancelButton");return a.a.createElement(a.a.Fragment,null,a.a.createElement("p",{className:O()("title")},t),a.a.createElement("div",{className:O()("btn-wrap")},a.a.createElement("button",{type:"button",className:O()("float-right","default","confirm-btn",{primary:e,ghost:!e}),onClick:this.onConfirmClick},i),a.a.createElement("button",{type:"button",className:O()("float-right","default","ghost","cancel-btn"),onClick:this.onCancelClick},n)))}}didMount(){this.trackDisposer=Object(u.q)(()=>{const{visible:e,isRaiseHand:t}=this.props.handsUpConfirmData;return e&&t},e=>{e&&pe.b.emit(pe.a.VC_MEETING_POPUP_VIEW,{content:"unmute"})})}componentWillUnmount(){var e;null===(e=this.trackDisposer)||void 0===e||e.call(this)}render(){const{visible:e}=this.props.handsUpConfirmData;return a.a.createElement(zi,{className:O()("vc-confirm-modal","hands-up-confirm-modal"),visible:e,showCloseIcon:!1,maskClosable:!1,showCancel:!1,showOk:!1},this.renderModalContent())}};pd=ld([l.c],pd);var ud=pd,_d=(i(951),i(38)),Ed=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},hd=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};let Td=class extends A.a{constructor(){super(...arguments),this.message="",this.title="",this.reactionDisposer=null,this.handleConfirm=()=>{T.c.info("page meeting-end-confirm-modal confirm"),this.endTimeHandler()},this.handleCancel=()=>{T.c.info("page meeting-end-confirm-modal cancel"),this.props.meetingStore.keepMeeting(),this.props.appStore.setMeetingEndConfirmModalData({visible:!1})},this.endTimeHandler=()=>{this.props.appStore.setMeetingEndConfirmModalData({visible:!1}),this.props.meetingStore.hangup(_.Action.AUTO_END)}}didMount(){this.reactionDisposer=Object(u.q)(()=>this.props.userStore.participantCount,e=>{e>=2&&this.props.appStore.setMeetingEndConfirmModalData({visible:!1})})}didUpdate(){return hd(this,void 0,void 0,(function*(){if(this.props.data.data&&""===this.title&&""===this.message){const{msgI18nKey:e,titleI18nKey:t}=this.props.data.data;[this.title,this.message]=yield Promise.all([S.a.getViewI18nFromRust(t),S.a.getViewI18nFromRust(e)])}}))}get meetingEndTime(){if(!this.props.data.data)return 0;const{meetingEndTime:e}=this.props.data.data;return Math.floor((1e3*e-Date.now())/1e3)}renderModalContent(){return a.a.createElement("div",{className:O()("content")},a.a.createElement("div",{className:O()("title")},a.a.createElement(Rt.a,null),this.title),a.a.createElement("div",{className:O()("content-text")},this.message),a.a.createElement("div",{className:O()("btn-wrap")},a.a.createElement("button",{type:"button",className:O()("float-right","primary","confirm-btn","confirm-stop"),onClick:this.handleConfirm},a.a.createElement(fd,{meetingEndTime:this.meetingEndTime,endTimeHandler:this.endTimeHandler})),a.a.createElement("button",{type:"button",className:O()("ghost","float-right","default","cancel-btn"),onClick:this.handleCancel},this.intl("View_G_StayMeeting_PopUpButton"))))}rendering(){const{visible:e}=this.props.data;return a.a.createElement(zi,{className:O()("vc-confirm-modal","meeting-end-confirm-modal"),visible:Boolean(e&&this.title&&this.message),showOk:!1,showCloseIcon:!1,showCancel:!1,maskClosable:!1},this.renderModalContent())}};Ed([u.p],Td.prototype,"message",void 0),Ed([u.p],Td.prototype,"title",void 0),Td=Ed([Object(l.b)(g.e,g.i,g.o),l.c],Td);var yd=Td;function fd({meetingEndTime:e,endTimeHandler:t}){const[i,n]=Object(s.useState)(e),r=Object(s.useRef)(),o=Object(s.useRef)();return Object(s.useEffect)(()=>{let s=i;return r.current=window.setTimeout(()=>{o.current&&clearInterval(o.current),t()},1e3*e),o.current=window.setInterval(()=>{if(s-=1,s<=0)return t(),void(o.current&&clearInterval(o.current));n(s)},1e3),()=>{r.current&&clearTimeout(r.current),o.current&&clearInterval(o.current)}},[]),a.a.createElement(a.a.Fragment,null,Object(_d.d)("View_G_EndMeetingTimer_PopUpButton",{number:i}))}var Id=i(696),gd=i.n(Id),Sd=i(697),Cd=i.n(Sd),md=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};const Nd=U.a.bind(Cd.a);let Ad=class extends Se.a{constructor(e){super(e),this.hideModal=()=>{this.props.meetingStore.isShowBrowserDeviceAccessModal=!1};const{cameraAccessStatus:t,micAccessStatus:i}=this.props.rtcStore;this.state={camStatus:t,micStatus:i}}didMount(){this.track(_.Homeric.VC_MEETING_POPUP,{action_name:_.MeetingPopupPageAction.display,from_source:"mic_camera_block_toast",is_onthecall:this.props.page===_.PageName.MEETING?1:0})}rendering(){const{appStore:e}=this.props,{camStatus:t,micStatus:i}=this.state,{appName:n}=e;let r="",o="";return t!==se.AuthStatus.Granted&&i!==se.AuthStatus.Granted?(r=this.intl("View_M_AccessDialogTitle"),o=this.intl("View_W_ClickTheBlockedCameraIcon",{appName:n})):t!==se.AuthStatus.Granted?(r=this.intl("View_VM_AccessToCameraDenied"),o=this.intl("View_W_AllowAccessToCameraAndReloadPage")):i!==se.AuthStatus.Granted&&(r=this.intl("View_VM_AccessToMicDenied"),o=this.intl("View_W_AllowAccessToMicAndReloadPage")),a.a.createElement("div",{className:Nd("browser-device-access-modal")},a.a.createElement("img",{className:Nd("browser-device-png"),src:gd.a}),a.a.createElement("div",{className:Nd("container")},a.a.createElement("p",{className:Nd("title")},r),a.a.createElement("p",{className:Nd("content")},o),a.a.createElement("button",{onClick:this.hideModal},this.intl("View_G_CloseButton"))))}};Ad=md([Object(l.b)(g.i,g.l,g.e),l.c],Ad);var Rd=Ad,Od=i(698),vd=i.n(Od),Pd=i(446),Md=i.n(Pd),Ld=i(101),bd=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};let Dd=0;var Ud;!function(e){e[e.STARTING=0]="STARTING",e[e.STARTED=1]="STARTED",e[e.STOPPED=2]="STOPPED"}(Ud||(Ud={}));class wd{constructor(e,t){this.iframe=e,this.myDeviceID=t,this.status=Ud.STOPPED,this.events=[],this.pendings=new Map,this.stashed={cells:[],timestamp:0},this.disposers=[],this.onPosChangeCb=function(){},this.lastLocationInfo=null,this.src="",this.handleGrootCells=this.handleGrootCells.bind(this),this.onLifecycleChange=this.onLifecycleChange.bind(this),this.onLag=this.onLag.bind(this),this.onTrack=this.onTrack.bind(this),this.onLocationChange=this.onLocationChange.bind(this)}onLifecycleChange(e){e.strategyId="ccm",e.status=e.type,Ld.d.handleActionLifecycleChange(e)}onLag(e){const t={time:+new Date,isLag:e};Ld.d.handleCCMVersionLag(t)}onLocationChange(e){if(n.a.shareScreenStore.localFollowingStatus!==jr.a.LocalUnFollowing)return;if(!e)return;const{presenter:{x:t,y:i,space:r},follower:{x:o,y:s,space:a}}=e;if(this.lastLocationInfo){const{presenter:{x:e,y:n,space:d},follower:{x:c,y:l,space:p}}=this.lastLocationInfo;if(t===e&&i===n&&r===d&&o===c&&s===l&&a===p)return}let d=!0,c=0;const l=t-o,p=i-s;r!==a?d=!1:0===l&&0==p?(d=!1,c=0):c=Math.abs(l)>Math.abs(p)?l>0?90:-90:(Math.abs(l),Math.abs(p),p<0?0:180),this.lastLocationInfo=e,this.onPosChangeCb({visible:!0,pointerVisible:d,angle:c},{py:i,fy:s,offsetY:p})}setOnPosChangeCb(e){this.onPosChangeCb=e}onTrack({type:e,data:t}){Object(h.d)(e,t)}dispatchEvent(e){this.events.forEach(t=>{t.name===e.event&&t.cb(e.data)})}applyCallback(e,t){if(!t)return;if(!this.pendings.has(e))return;const{resolve:i,reject:n}=this.pendings.get(e);0===t.code?i(t.data):n(t.data)}_handshake(){const e=this;return new Promise((t,i)=>{const n=setTimeout(()=>{T.c.error("[MagicShare] not able to receive handshake in 1 minute!"),window.removeEventListener("message",r),i(new Error("timeout"))},6e4);function r(o){const s=o.data;if(s&&"handshake"===s.type){if(!e.iframe.contentWindow)return i("contentWindow is null");e.iframe.contentWindow.postMessage({source:"vc",contextId:"",type:"handshake",payload:{proactive:!1,dependentEvents:["FOLLOW_ACTION_VERSION_LAG","FOLLOW_ACTION_LIFECYCLE_CHANGE","FOLLOW_TRACK","PRESENTER_FOLLOWER_LOCATION"]}},"*"),window.removeEventListener("message",r),Ld.d.setStrategyReady(),clearTimeout(n),t()}}window.addEventListener("message",r)})}_inject(){const e=this;function t(t){const{data:i}=t;if(i)switch(i.type){case"event":e.dispatchEvent(i.payload);break;case"callback":e.applyCallback(i.contextId,i.payload)}}return window.addEventListener("message",t),()=>window.removeEventListener("message",t)}handleGrootCells({cells:e,timestamp:t}){if(this.status===Ud.STOPPED)return;if(this.status===Ud.STARTING)return void(this.stashed={cells:e,timestamp:t});const i=[],n=+new Date;e.forEach(e=>{const{type:t,patches:r,states:o}=e;if(t===_.FollowGrootCellPayloadType.STATES){if(Array.isArray(o)&&o.length&&o[0].sender!==this.myDeviceID){if("ccm"!==o[0].webData.strategyId)return!1;i.push(o.map(e=>{const t=e.webData.payload,i=JSON.parse(t);return i.uuid=(Dd>=Number.MAX_SAFE_INTEGER&&(Dd=0),Dd+=1,`${+new Date}-${Dd}`),Ld.d.handleActionLifecycleChange({strategyId:"ccm",uuid:i.uuid,timestamp:n,status:Ld.a.RECEIVED}),i}))}}else _.FollowGrootCellPayloadType.PATCHES}),i.forEach(e=>{0!==e.length&&(Ld.d.receiveAction(n-t),this.apply("replayActions",e))})}start(e){return bd(this,void 0,void 0,(function*(){T.c.info(["[MagicShare] start:",`url ${this.src===e?"the":"not the"} same,`,(""===this.src?"has no":"has")+" this.src,","this.status = "+this.status].join(" ")),this.src!==e&&(this.status=Ud.STARTING,f.b.addListener(f.a.GROOT_CELLS,this.handleGrootCells),""===this.src?(this.iframe.src=e,yield this._handshake()):(yield this.apply("render",e),Ld.d.setStrategyReady()),T.c.info(["[MagicShare] start:",`after ${""===this.src?"handshake":"render"} API,`,"this.status = "+this.status].join(" ")),this.src=e,this.status!==Ud.STOPPED&&(this.status=Ud.STARTED,this.disposers.push(Object(u.g)(()=>{const e=n.a.shareScreenStore.localFollowingStatus;e===jr.a.LocalFollowing?(T.c.info("[MagicShare] trigger startFollow"),this.apply("startFollow",[])):e===jr.a.LocalUnFollowing&&(T.c.info("[MagicShare] trigger stopFollow"),this.apply("stopFollow",[]))})),this.disposers.push(()=>{f.b.removeListener(f.a.GROOT_CELLS,this.handleGrootCells)}),this.disposers.push(this._inject()),this.stashed.cells.length>0&&(T.c.info("[MagicShare] replay stashed actions right after ready"),this.handleGrootCells(this.stashed),this.stashed={cells:[],timestamp:0}),Ld.d.handleActionLifecycleMeta({strategyId:"ccm",modules:["DocPosition","DocImage"]}),this.addEventListener("FOLLOW_ACTION_LIFECYCLE_CHANGE",this.onLifecycleChange),this.addEventListener("FOLLOW_ACTION_VERSION_LAG",this.onLag),this.addEventListener("FOLLOW_TRACK",this.onTrack),this.addEventListener("PRESENTER_FOLLOWER_LOCATION",this.onLocationChange),this.disposers.push(()=>{this.removeEventListener(this.onLifecycleChange),this.removeEventListener(this.onLag),this.removeEventListener(this.onTrack),this.removeEventListener(this.onLocationChange)})))}))}stop(){T.c.info("[MagicShare] bridge stop"),this.disposers.forEach(e=>{e()}),this.disposers=[],this.stashed={cells:[],timestamp:0},this.status=Ud.STOPPED,this.src=""}apply(e,...t){return this.status!==Ud.STARTED?Promise.reject("bridge not started."):new Promise((i,n)=>{if(!this.iframe.contentWindow)return n("contentWindow is null");const r=`context-${Date.now()}-${Math.random()}`;this.pendings.set(r,{resolve:i,reject:n}),this.iframe.contentWindow.postMessage({source:"vc",contextId:r,type:"invoke",payload:{method:e,params:t}},"*")})}addEventListener(e,t){this.events.push({name:e,cb:t})}removeEventListener(e){this.events=this.events.filter(t=>t.cb!==e)}}const kd=U.a.bind(Md.a);class Gd extends a.a.Component{render(){const{avatarUrl:e,angle:t,onClick:i,pointerVisible:n}=this.props;return a.a.createElement("div",{className:kd("presenter-pos"),onClick:i},a.a.createElement(ht.a,{content:Object(y.b)("View_VM_GetBackInSyncWithPresenter"),placement:"left"},a.a.createElement("div",{className:kd("shadow")}),a.a.createElement("div",{className:kd("pos-pointer",{"pointer-hidden":!n}),style:{transform:`rotateZ(${t}deg)`}}),a.a.createElement(Ce.a,{className:kd("presenter-avatar"),url:e}),a.a.createElement("svg",{width:"0",height:"0"},a.a.createElement("defs",null,a.a.createElement("clipPath",{id:"pointerClip"},a.a.createElement("polygon",{points:"26 0,16 12, 36 12"}),a.a.createElement("circle",{cx:"26",cy:"26",r:"18"}))))))}}var Vd=Gd;const Hd=U.a.bind(Md.a);class Bd extends a.a.Component{constructor(e){super(e),this.ref=a.a.createRef(),this.state={loading:!0,angle:0,visible:!0,pointerVisible:!1},this.onPositionChange=this.onPositionChange.bind(this),this.onUnfollow=this.onUnfollow.bind(this)}get isSupported(){return this.props.shareType===_.FollowShareType.CCM}unmountCCM(){this.bridge&&(this.bridge.stop(),this.bridge=void 0)}onPositionChange(e,t){const{state:i}=this;e.angle===i.angle&&e.visible===i.visible&&e.pointerVisible===i.pointerVisible||(T.c.info(`[MagicShare] Position Change: ${JSON.stringify(e)}, extra info = ${JSON.stringify(t)}`),this.setState(e))}onUnfollow(){this.props.onUnfollow()}onLoad(){if(!this.isSupported)return this.props.onNotSupportDisplay(),void this.unmountCCM();this.ref.current&&(this.bridge||(this.bridge=new wd(this.ref.current,this.props.myDeviceID)),this.setState({loading:!0}),this.bridge.setOnPosChangeCb(this.onPositionChange),this.bridge.start(this.props.url).then(()=>{this.setState({loading:!1})}).catch(e=>{T.c.error(`magic share render error: ${e}, restart bridge.`),this.unmountCCM(),this.onLoad()}))}componentDidMount(){this.onLoad(),pe.b.emit(pe.a.VC_MEETING_MAGIC_SHARE_VIEW)}componentDidUpdate(e){e.url!==this.props.url&&this.onLoad()}componentWillUnmount(){this.unmountCCM()}render(){const{props:e}=this;if(!this.isSupported){pe.b.emit(pe.a.VC_POPUP_MAGICSHARE_VIEW);const t=e.isOversea?"https://www.larksuite.com/download?download_from=inappvc":"https://www.feishu.cn/download?download_from=inappvc";return a.a.createElement("div",{className:Hd("share-screen-not-support")},a.a.createElement("img",{src:vd.a}),a.a.createElement("div",{className:Hd("title")},e.intl("View_VM_UnableToSeeTheContentBeingShared")),a.a.createElement("div",{className:Hd("desc")},e.intl("View_M_UseDesktopAppToJoinDownloadAppName",{richTexts:[i=>a.a.createElement("a",{href:t,target:"__blank",onClick:e.onClickLink},i)],appName:e.appName})))}const t=this.onUnfollow;let i=null,n=null;if(this.state.loading)i=a.a.createElement("div",{className:Hd("loading-mask")},a.a.createElement("div",{className:Hd("bounce","bounce1")}),a.a.createElement("div",{className:Hd("bounce","bounce2")}),a.a.createElement("div",{className:Hd("bounce","bounce3")}));else if(e.followingStatus===jr.a.LocalFollowing)i=a.a.createElement("div",{className:Hd("follow-mask"),onClick:t,onWheel:t});else{const{angle:t,pointerVisible:i,visible:r}=this.state;n=r?a.a.createElement(Vd,{avatarUrl:e.presenterUrl,pointerVisible:i,angle:t,onClick:e.onFollow}):null}return a.a.createElement("div",{className:Hd("follow-container")},i,a.a.createElement("iframe",{className:Hd("share-screen-not-support"),ref:this.ref}),n)}}var Fd=i(699),jd=i.n(Fd),Wd=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};const xd=U.a.bind(jd.a);let Kd=class extends Se.c{constructor(){super(...arguments),this.iframeRef=s.createRef(),this.state={iframeFocused:!1},this.handleIframeMessage=e=>{switch(e.data){case"focus":this.setState({iframeFocused:!0});break;case"blur":this.setState({iframeFocused:!1})}},this.refreshIframe=()=>{var e,t;if(null===(t=null===(e=this.iframeRef)||void 0===e?void 0:e.current)||void 0===t?void 0:t.contentWindow){const e=this.props.conferenceStore.interviewStore.currentUrl;this.iframeRef.current.contentWindow.location.replace(e)}else T.c.warn("refresh iframe without ref")}}didMount(){window.addEventListener("message",this.handleIframeMessage),f.b.on(f.a.REFRESH_INTERVIEW_SPACE,this.refreshIframe),this.domReadyDisposer=Object(u.q)(()=>this.props.visible&&this.props.conferenceStore.interviewStore.isCurrentDeviceCodingTesting,e=>{var t;e?(T.c.info("[INTERVIEW] coding test observer start"),this.focusObserverDisposer=(()=>{let e=document.hasFocus(),t=this.state.iframeFocused,i=e||t;const n=Object(ve.a)(e=>{i!==e&&(i=e,e?this.props.conferenceStore.interviewStore.reportReturn():this.props.conferenceStore.interviewStore.reportLeave())},50);i||this.props.conferenceStore.interviewStore.reportLeave();const r=(i,r)=>{i?e=r:t=r,n(e||t)},o=()=>r(!0,!1),s=()=>r(!0,!0);window.addEventListener("blur",o),window.addEventListener("focus",s);const a=Object(u.q)(()=>this.state.iframeFocused,e=>r(!1,e));return()=>{window.removeEventListener("blur",o),window.removeEventListener("focus",s),null==a||a()}})()):(T.c.info("[INTERVIEW] coding test observer stop"),null===(t=this.focusObserverDisposer)||void 0===t||t.call(this))},{fireImmediately:!0})}willUnmount(){var e,t;f.b.off(f.a.REFRESH_INTERVIEW_SPACE,this.refreshIframe),window.removeEventListener("message",this.handleIframeMessage),null===(e=this.domReadyDisposer)||void 0===e||e.call(this),null===(t=this.focusObserverDisposer)||void 0===t||t.call(this)}render(){const{conferenceStore:e,visible:t}=this.props,i=e.interviewStore.currentUrl,n=xd({"interview-space-wrapper":!0,"interview-space-wrapper-hidden":!t});return i?s.createElement("div",{className:n},s.createElement("iframe",{src:i,className:xd("interview-iframe"),ref:this.iframeRef})):null}};Kd=Wd([Object(l.b)(g.f),l.c],Kd);var qd=Kd;var Yd=()=>Object(u.q)(()=>n.a.conferenceStore.interviewStore.IAmInterviewee,(e,t)=>{e&&(n.a.conferenceStore.interviewStore.isInterviewSpaceEnabled&&!n.a.conferenceStore.interviewStore.isCurrentDeviceCodingTesting&&Vi(),t.dispose())},{fireImmediately:!0}),Jd=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};var zd=()=>{let e;return Object(u.q)(()=>n.a.conferenceStore.interviewStore.isCurrentDeviceCodingTesting,t=>Jd(void 0,void 0,void 0,(function*(){t?n.a.shareScreenStore.isMeSharing?(yield n.a.shareScreenStore.stopScreenSharingItem(),null==e||e(),e=Object(u.q)(()=>n.a.shareScreenStore.isMeSharing,(e,t)=>{e||(n.a.meetingStore.mainViews.showInterviewSpace(),I.a.notice({iconName:"",duration:3e3,message:Object(y.b)("ViewWeb_G_InterviewerStartTest")}),t.dispose())},{fireImmediately:!0})):n.a.meetingStore.mainViews.showInterviewSpace():(n.a.meetingStore.mainViews.hideInterviewSpace(),null==e||e())})),{fireImmediately:!0})},Xd=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Qd=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const $d=U.a.bind(Ln.a),Zd=new Audio(In.a),ec=new Audio(Sn.a);let tc=class extends ge{constructor(e){super(e),this.deviceDisposer=null,this.disposers=[],this.pageTitle=this.intl("View_W_MeetingTopicAppName",{meetingTopic:this.intl("View_M_VideoMeetingName"),appName:this.props.appStore.appName}),this.cleanDisposers=()=>{T.c.info("clean meeting page disposers"),this.disposers.forEach((e,t)=>{try{e()}catch(e){T.c.error("meeting unmount disposer fail "+t)}}),this.disposers=[]},this.watchDeviceStatusChange=()=>{this.deviceDisposer=Object(u.g)(()=>{const{userStore:e,rtcStore:t}=this.props,{cameraStatus:i,microphoneStatus:n}=t;T.c.info(`updateCurrentUserDeviceStatus, cam:${i}, mic: ${n}`),e.updateCurrentUserDeviceStatus({cameraStatus:i,microphoneStatus:n})},{delay:50})},this.handleInMeetingToast=e=>{T.c.info("handleInMeetingToast");const{isSharingMode:t}=this.props.meetingStore;!t&&I.a.notice({duration:e.duration,message:e.msg,icon:e.iconObj,iconName:e.icon,iconUrl:e.iconUrl})},this.handleUserJoin=()=>{const{playChimes:e}=this.props.meetingStore;e&&Zd.play()},this.handleUserLeave=()=>{const{playChimes:e}=this.props.meetingStore;e&&ec.play()},this.networkUnstableNoticed=!1,this.handleNetworkUnstable=()=>{T.c.info("network unstable"),this.networkUnstableNoticed||(this.networkUnstableNoticed=!0,Object(Ee.t)().handleVCNotice({type:5,msgI18nKey:{key:"View_E_ConnectionUnstable"}}))},this.onModalHangupCancelClick=()=>{this.hideHangupModal()},this.onFollow=()=>{pe.b.emit(pe.a.VC_MEETING_MAGIC_SHARE_CLICK,{click:"follow",is_sharer:"false"}),this.props.shareScreenStore.setLocalFollowing()},this.handleRecordModalConfirmBtnClick=e=>{this.props.appStore.setRecordModalData({visible:!1})},this.handleRecordModalCancelBtnClick=e=>{this.props.appStore.setRecordModalData({visible:!1})},this.handleConfirmPopupModalConfirmBtnClick=()=>{this.props.appStore.setConfirmPopupModalData({visible:!1})},this.handleHandsUpConfirmModalClose=()=>{this.props.appStore.setHandsUpConfirmModalData({isRaiseHand:!1,visible:!1})},this.openAccessibilityPreference=()=>{window.open("x-apple.systempreferences:com.apple.preference.security?Privacy_ScreenCapture")},this.closeShareAccessModal=()=>{this.props.shareScreenStore.isShowShareAccessModal=!1},window.VC_WEB_APP_INSTANCE.messager&&(window.VC_WEB_APP_INSTANCE.messager.init(),window.VC_WEB_APP_INSTANCE.messager.startup(_.PageName.MEETING)),Object(u.g)(()=>{const{meetingStore:e}=this.props;e.netWorkStatus===_.NetWorkStatus.CONNECTING||e.isCallConnecting?document.body.classList.add("is-connecting"):document.body.classList.remove("is-connecting")}),Object(u.g)(()=>{const{meetingSettings:e={}}=this.props.conferenceStore,{topic:t}=e;this.pageTitle=this.intl("View_W_MeetingTopicAppName",{meetingTopic:t||this.intl("View_M_VideoMeetingName"),appName:this.props.appStore.appName})})}getDisplayName(){return"Meeting"}didMount(){return Qd(this,void 0,void 0,(function*(){const{conferenceStore:e,appStore:t,meetingStore:i,previewStore:n}=this.props,{hasLogin:r,meetingNumber:o}=n;this.track(_.Homeric.VC_MEETING_PAGE_ONTHECALL,{action_name:_.MeetingPageAction.display,is_loged:r?1:0,meeting_info:o}),pe.b.emit(pe.a.VC_MEETING_ONTHECALL_VIEW),this.watchDeviceStatusChange(),t.setLoading(!1),i.setLoadModalStatus(!1),i.startMeetingTimer(),i.setMeetingLayoutMounted(!0),this.setupEventListeners(),e.isCall&&!e.tenantLicense&&e.pullPreVCSettings(),this.props.meetingStore.fetchDynamicSettings(),this.props.meetingStore.showToastForOnMutedEntry(),this.disposers.push(zd()),this.disposers.push(Yd())}))}willUnmount(){window.VC_WEB_APP_INSTANCE.messager&&window.VC_WEB_APP_INSTANCE.messager.shutdown(_.PageName.MEETING),this.props.meetingStore.stopMeetingTimer(),f.b.off(f.a.IN_MEETING_NOTICE,this.handleInMeetingToast),f.b.off(f.a.USER_JOIN,this.handleUserJoin),f.b.off(f.a.USER_LEAVE,this.handleUserLeave),f.b.off(f.a.NETWORK_UNSTABLE,this.handleNetworkUnstable),this.deviceDisposer&&this.deviceDisposer(),this.cleanDisposers()}setupEventListeners(){f.b.on(f.a.IN_MEETING_NOTICE,this.handleInMeetingToast),f.b.on(f.a.USER_JOIN,this.handleUserJoin),f.b.on(f.a.USER_LEAVE,this.handleUserLeave),f.b.on(f.a.NETWORK_UNSTABLE,this.handleNetworkUnstable)}hideHangupModal(){const{appStore:e}=this.props;e.hangupModalData.visible=!1}renderNetworkMask(){return a.a.createElement("img",{className:$d("network-mask"),src:un.a,alt:""})}renderParticipantList(){}renderSidebar(){return a.a.createElement(Oa,{className:""})}renderVideo(e=!0){const{conferenceStore:t}=this.props,{type:i}=t;return a.a.createElement(ut,{key:ba.a.VIDEO,visible:e,isCall:i===_.VideoChatType.CALL})}renderMagicShare(){const e=this.props.shareScreenStore,t=this.props.meetingStore.isMagicShareCCMCustomizedRenderEnabled?e.iframeKey:`${e.iframeKey}:${e.followInfo.url}`;return a.a.createElement(Bd,{key:t,intl:this.intl,url:e.followInfo.url,followingStatus:e.localFollowingStatus,myDeviceID:this.props.userStore.currentDeviceId,presenterUrl:e.magicSharingUser.avatarUrl,shareType:e.followInfo.shareType,onUnfollow:e.setLocalUnFollowing,onFollow:this.onFollow,onRefresh:e.refreshWebview,isOversea:Nn.c,onClickLink:()=>{this.track(_.Homeric.VC_MEETING_POPUP,{action_name:_.MeetingPopupPageAction.magic_share_invisible_download,from_source:"magic_share_invisible_display"}),pe.b.emit(pe.a.VC_POPUP_MAGICSHARE_CLICK,{click:"download_feishu",target:"website_download_view"})},onNotSupportDisplay:()=>{this.track(_.Homeric.VC_MEETING_POPUP,{action_name:_.MeetingPopupPageAction.display,from_source:"magic_share_invisible_display"})},appName:this.props.appStore.appName})}renderInterviewSpace(e){return a.a.createElement(qd,{key:ba.a.INTERVIEW_SPACE,visible:e})}renderMainViewByType(e,t=!0){if(e===ba.a.INTERVIEW_SPACE)return this.renderInterviewSpace(t);const{userStore:i,shareScreenStore:n}=this.props,{meetingMainVideoUser:r}=i,{followInfo:o,isInFollow:s}=n;return s&&o.deviceId===r.rtcId?this.renderMagicShare():e===ba.a.VIDEO?this.renderVideo(t):null}renderMainView(){const{mainViews:e,layout:t}=this.props.meetingStore,i=[ba.a.VIDEO,ba.a.INTERVIEW_SPACE,ba.a.SHARING].filter(t=>e.shouldRender(t)).map(e=>this.renderMainViewByType(e,this.props.meetingStore.shouldShowView(e)));return t.viewType===at.b.float&&i.push(a.a.createElement(Ms,{key:"SidebarPopup"})),i}rendering(){const{appStore:e,meetingStore:t,userStore:i,inviteStore:n,conferenceStore:r,rtcStore:o}=this.props,s={isHost:r.hasHostControl,visible:e.hangupModalData.visible,type:e.hangupModalData.type,onClose:this.onModalHangupCancelClick,isInterviewee:i.currentUser.isInterviewee},{isShowShareAccessModal:d}=this.props.shareScreenStore,c={visible:d,showCloseIcon:!1,maskClosable:!0,showCancel:!1,showOk:!0,title:this.intl("View_VM_ScreenRecordingAccessTitle"),okText:this.intl("View_G_OpenSystemPreferences"),onOkClick:this.openAccessibilityPreference,closeModal:this.closeShareAccessModal,className:$d("share-access-modal")},{meetNumber:l,id:p}=this.props.conferenceStore;if(!p)return T.c.info("meeting no id"),null;const{isShowBrowserDeviceAccessModal:u}=this.props.meetingStore,{controlbarLeft:E,mainViewHeight:h,controlbarStatus:y}=this.props.meetingStore,{interaction:f}=this.props.conferenceStore;return a.a.createElement("div",null,a.a.createElement("div",{className:$d("main-layout")},a.a.createElement("div",{className:$d("grid-title")},a.a.createElement(Kr,null)),a.a.createElement("div",{className:$d("grid-main")},a.a.createElement("div",{className:$d("grid-main-video"),id:"main-view"},this.renderMainView(),null!==t.controlbarStatus&&a.a.createElement(xi,null),!t.mainViews.shouldShowInterviewSpace&&a.a.createElement(to,null),a.a.createElement(Pn,{isOpen:f.isOpen,setOpen:f.setOpen,setClose:f.setClose,availableWidth:E,availableHeight:h,refHeight:ft.b,refBottom:ft.a,isRefExpanded:"opening"===y||"opened"===y})),this.renderSidebar(),a.a.createElement(yn,{handleClose:()=>{},handleRejoinMeetingSuccess:()=>{}}))),a.a.createElement(nd,null),a.a.createElement(La,{recordConfirmData:this.props.appStore.recordModalData,oncancel:this.handleRecordModalCancelBtnClick,onconfirm:this.handleRecordModalConfirmBtnClick,cxs:"vc-record-confirm-meeting"}),a.a.createElement(Ka,{onCancel:this.props.conferenceStore.live.hideConfirmModal,onConfirm:this.props.conferenceStore.live.hideConfirmModal}),a.a.createElement(ud,{handsUpConfirmData:this.props.appStore.handsUpModalData,onCancel:this.handleHandsUpConfirmModalClose,onConfirm:this.handleHandsUpConfirmModalClose}),a.a.createElement(yd,{data:this.props.appStore.meetingEndConfirmModalData}),a.a.createElement(rn,Object.assign({},s)),a.a.createElement(cd,{pstnInfo:n.pstnInfo,meetNumber:l}),a.a.createElement(zi,Object.assign({},c),a.a.createElement("div",{className:$d("share-access-desc")},this.intl("View_W_ScreenRecordingAccessInfo"))),u&&a.a.createElement(Rd,{page:_.PageName.MEETING}),this.renderNetworkMask())}};tc=Xd([Object(l.b)(g.e,g.f,g.o,g.i,g.l,g.n,g.j,g.k,g.h),l.c],tc);var ic=tc;class nc extends Se.c{constructor(e){super(e),this.inputEl=a.a.createRef(),this.getSelection=(e,t)=>{const i={selectionStart:e,selectionEnd:t};return this.spaceIndexInInput.includes(e)&&(e>this.state.selectionEnd?i.selectionStart++:i.selectionStart--),this.spaceIndexInInput.includes(t)&&(t>this.state.selectionEnd?i.selectionEnd++:i.selectionEnd--),i},this.handleInputChange=e=>{const{value:t,selectionStart:i,selectionEnd:n}=e.target,r=t.slice(0,i),o=t.slice(n),s=t.slice(i,n),a=this.state.rawValue.slice(this.state.selectionEnd);let d=this.props.valueRestrict(r)+this.props.valueRestrict(s);const c=(r+s).length-d.length;let l=0;for(let e=0;e<this.spaceInsertPosition.length;e++){if(!(this.spaceInsertPosition[e]<d.length))break;l+=1}d+=a===" "+o?this.props.valueRestrict(o.slice(1)):this.props.valueRestrict(o);const p=this.spaceInsertPosition[this.spaceInsertPosition.length-1];d=d.slice(0,p),this.props.handleChange(d);const u={rawValue:this.convert(d),selectionStart:i+(l-c),selectionEnd:n+(l-c)};setTimeout(()=>{this.setState(u)},0)},this.handleSelect=e=>{const t=e.target;this.setState(this.getSelection(t.selectionStart,t.selectionEnd))},this.handleKeyPress=e=>{"Enter"===e.key&&this.props.handleEnter()},this.handleCopy=e=>{const t=window.getSelection();if(t){const i=t.toString();e.clipboardData.setData("text/plain",this.props.valueRestrict(i))}e.preventDefault()},this.onFocus=()=>{this.props.onFocus&&this.props.onFocus()},this.onBlur=()=>{this.props.onBlur&&this.props.onBlur()};const t=this.convert(e.defaultNumber||"");this.state={rawValue:t,selectionStart:t.length,selectionEnd:t.length}}get spaceInsertPosition(){const e=[];let t=0;for(const i of this.props.format)t+=i,e.push(t);return e}get spaceIndexInInput(){return this.spaceInsertPosition.map((e,t)=>e+t+1)}didUpdate(){if(this.inputEl.current){this.props.autoFocus&&this.inputEl.current.focus();const{selectionStart:e,selectionEnd:t}=this.state;this.inputEl.current.setSelectionRange(e,t)}}shouldComponentUpdate(e,t){return t.rawValue!=this.state.rawValue}convert(e){return Object(S.c)(e)}render(){return a.a.createElement("input",{ref:this.inputEl,spellCheck:!1,autoFocus:this.props.autoFocus,className:this.props.className,value:this.state.rawValue,onKeyPress:this.handleKeyPress,onChange:this.handleInputChange,onSelect:this.handleSelect,onCopy:this.handleCopy,onFocus:this.onFocus,onBlur:this.onBlur})}}var rc=i(700),oc=i.n(rc);const sc=U.a.bind(oc.a);class ac extends A.a{constructor(){super(...arguments),this.state={isActive:!1},this.onFocus=()=>{this.setState({isActive:!0})},this.onBlur=()=>{this.setState({isActive:!1})}}rendering(){const{isActive:e}=this.state,{showError:t}=this.props,i=t?"error":e?"is-active":"";return a.a.createElement("div",{className:sc("meeting-number-input")},a.a.createElement("div",{className:sc("input-hint")},this.intl("View_M_EnterMeetingId")),a.a.createElement(nc,{defaultNumber:this.props.meetingNumber,autoFocus:!0,className:sc("number-input"),format:[3,3,3],handleChange:this.props.handleChange,handleEnter:this.props.handleEnter,valueRestrict:e=>e.replace(/[^\d]/g,""),onFocus:this.onFocus,onBlur:this.onBlur}),a.a.createElement("div",{className:sc("divider",i)}),this.props.showError&&a.a.createElement("div",{className:sc("error-hint")},this.intl("View_M_InvalidMeetingId")))}}i(952);class dc extends A.a{rendering(){return a.a.createElement("div",{className:O()("preview-input")},a.a.createElement(ac,{showError:this.props.showError,meetingNumber:this.props.meetingNumber,handleEnter:this.props.handleEnter,handleChange:this.props.setMeetingNumber}))}}var cc=i(1053),lc=(i(953),function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s}),pc=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};let uc=class extends A.a{constructor(e){super(e),this.canvasDOMContainer=s.createRef(),this.openCameraDebounce=S.g,this.closeCameraDebounce=S.g,this.openCamera=()=>pc(this,void 0,void 0,(function*(){if(!0===this.state.isCameraMuted&&!1===this.props.isCameraMuted){T.c.info("open camera in preview page"),ne.a.enableLocalVideo(!0).then(()=>{const t=this.canvasDOMContainer.current;t&&(this.setState({showMask:!!e}),ne.a.attach(t,se.StreamType.PREVIEW))}).catch(()=>{});const{hasMask:e}=this.props;this.setState({isCameraMuted:!1})}})),this.closeCamera=()=>{if(!1===this.state.isCameraMuted&&!1!==this.props.isCameraMuted){T.c.info("close camera in preview page"),ne.a.enableLocalVideo(!1),this.setState({isCameraMuted:!0,showMask:!1});this.canvasDOMContainer.current}},this.state={isCameraMuted:e.isCameraMuted,showMask:!1}}didMount(){return pc(this,void 0,void 0,(function*(){this.props.isCameraMuted||ne.a.startPreview().then(()=>{const e=this.canvasDOMContainer.current;if(e){const{hasMask:t}=this.props;this.setState({showMask:!!t}),ne.a.attach(e,se.StreamType.PREVIEW)}}).catch(()=>{ne.a.stopPreview()}),this.openCameraDebounce=Object(ve.a)(this.openCamera,500),this.closeCameraDebounce=Object(ve.a)(this.closeCamera,500)}))}didUpdate(e){!1===this.props.isCameraMuted&&!0===e.isCameraMuted&&this.openCameraDebounce(),!0===this.props.isCameraMuted&&!0!==e.isCameraMuted&&this.closeCameraDebounce()}rendering(){const{showMask:e}=this.state;return s.createElement("div",null,s.createElement("div",{className:O()("preview-canvas"),ref:this.canvasDOMContainer}),e&&s.createElement("div",{className:O()("preview-mask")}))}};uc=lc([l.c],uc);var _c=uc,Ec=(i(954),function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s});let hc=class extends A.a{get isCameraMuted(){return!this.props.showVirtualBackground&&this.props.settingStore.tempCameraMuted}rendering(){const{rtcStore:e}=this.props;return a.a.createElement("div",{className:"preview-video"},e.cameraAccessStatus===se.AuthStatus.Granted&&e.hasCamera?a.a.createElement("div",null,a.a.createElement("div",{className:"preview-spinner-bg"},a.a.createElement(cc.a,{className:"preview-spinner",style:{width:48,height:48}})),a.a.createElement(_c,{isCameraMuted:this.isCameraMuted,isMirror:this.props.rtcStore.localVideoMirror}),a.a.createElement("div",{className:O()("preview-video-mask",{"not-transparent":this.isCameraMuted})})):a.a.createElement(xe.a,{className:O()("icon-video-off","user-video-avatar-icon-video-off")}))}};hc=Ec([Object(l.b)(g.m,g.l),l.c],hc);var Tc=hc,yc=(i(956),i(701)),fc=i.n(yc);const Ic=U.a.bind(fc.a),gc=T.a.getLogger("device-btn"),Sc=g.p.LIGHT,Cc=Object(l.b)(g.f,g.l,g.m,g.i,g.e,g.k)(Object(l.c)(({conferenceStore:e,rtcStore:t,settingStore:i,meetingStore:n,appStore:r,previewStore:o,isMuteOnEntry:d,onMicrophoneChange:c,onSpeakerChange:l,onToggleMicrophone:p})=>{const{tempMicrophoneMuted:u}=i,{hasMic:_,hasMicAccess:E,micHasWarnCode:h,micWarnMessageKey:T,getMicCanStart:f,micSystemPermissions:I}=t,{joinButtonLoading:S}=o,C=!(_&&E&&f&&I),m=C||h,N=d||u,A=g.c[g.a.MIC][N||m||d?"off":"on"],R=r.appName||"";gc.info(["[micDisable][micMute]","preview page btn",`isMuted: ${N}, hasMic: ${_}, hasMicAccess: ${E}, micHasWarnCode: ${h}`,"render mic btn: iconBtnDisabled "+m].join("\n"));const[O,v]=Object(s.useState)(!1),P=h?"from-preview-warning":"from-preview";return a.a.createElement(ht.a,{content:f?I?E?_?h?Object(y.b)(T):N?Object(y.b)("View_VM_TurnOnMic"):Object(y.b)("View_VM_TurnOffMic"):Object(y.b)("View_VM_NoMicTip"):Object(y.b)("View_W_AllowAccessToMicHovertip",{appName:R}):Object(y.b)("Mac OS"===gi.a.os.name?"View_G_AllowBrowserMicAccess":"View_G_AllowBrowserMicAccessWindows"):Object(y.b)("View_G_RestartBrowserOrComputerMic"),offset:[-10,8],theme:g.p.DARK,hasTriangle:!0},a.a.createElement("div",{className:Ic("preview-device-setting-wrapper",{disabled:m,"is-popop-device-1019":O}),style:{marginRight:"12px"}},a.a.createElement("div",{className:Ic("device-icon-wrapper",{disabled:m}),onClick:function(){if(gc.info(["[micMute]",`preview btn click mic, isMuteOnEnter: ${d}, current tempMicrophoneMuted from ${u} to ${!N}`].join("\n")),S)return;if(d)return void de.a.notice(Object(y.b)("View_M_MutedOnEntryPreview"),{theme:ce.b.IN_MEETING,iconType:ce.a.NULL,interval:2e3});if(!E)return void(n.isShowBrowserDeviceAccessModal=!0);i.tempMicrophoneMuted=!N,p&&p(!N),gc.info(["[micMute]",`preview btn click mic success, isMuteOnEnter: ${d}, current tempMicrophoneMuted is ${i.tempMicrophoneMuted}, final mute is: ${d||i.tempMicrophoneMuted}`].join("\n"));const e=N?"mic_on":"mic_off";o.trackForPreviewPage(e),pe.b.emit(pe.a.VC_MEETING_PRE_CLICK,{click:"mic",target:"none",is_mic_on:String(N)})}},a.a.createElement(A,{className:Ic("device-icon",{muted:N&&!C})}),m&&a.a.createElement(Yi.a,{className:Ic("icon-alert-preview")})),a.a.createElement(wt,{className:P,popup:a.a.createElement(zt,{hideSettingBtn:!0,onMicrophoneChange:c,onSpeakerChange:l,theme:Sc}),disabled:C,theme:Sc,onClick:function(){o.trackForPreviewPage("mic_more"),pe.b.emit(pe.a.VC_MEETING_PRE_CLICK,{click:"mic_more",target:"vc_meeting_mic_source_view"})},onPopupChange:e=>{v(e)}})))})),mc=Object(l.b)(g.f,g.l,g.m,g.i,g.e,g.k)(Object(l.c)(({conferenceStore:e,rtcStore:t,settingStore:i,meetingStore:n,appStore:r,previewStore:o,onCameraChange:d,onToggleCamera:c})=>{const{hasCamera:l,hasCameraAccess:p,cameraHasWarnCode:u,cameraWarnMessageKey:_,getCameraCanStart:E,cameraSystemPermissions:h}=t,{joinButtonLoading:T}=o,f=!(l&&p&&E&&h),I=f||u,S=i.tempCameraMuted,C=g.c[g.a.CAMERA][S||I?"off":"on"],m=r.appName;function N(){}function A(){o.trackForPreviewPage("camera_more"),pe.b.emit(pe.a.VC_MEETING_PRE_CLICK,{click:"camera_more",target:"vc_meeting_cam_source_view"})}gc.info(["[cameraDisable][cameraMute]","meeting page btn",`isMuted: ${S}, hasCamera: ${l}, hasCameraAccess: ${p}, cameraHasWarnCode: ${u}`,"render mic btn: iconBtnDisabled "+I].join("\n"));const[R,O]=Object(s.useState)(!1);return a.a.createElement(ht.a,{content:E?h?p?l?u?Object(y.b)(_):S?Object(y.b)("View_VM_TurnOnCamera"):Object(y.b)("View_VM_TurnOffCamera"):Object(y.b)("View_VM_NoCameraTip"):Object(y.b)("View_W_AllowAccessToCameraHovertip",{appName:m}):Object(y.b)("Mac OS"===gi.a.os.name?"View_G_AllowBrowserCamAccess":"View_G_AllowBrowserCamAccessWindows"):Object(y.b)("View_G_RestartBrowserOrComputerCam"),offset:[-10,8],theme:g.p.DARK,hasTriangle:!0},a.a.createElement("div",{className:Ic("preview-device-setting-wrapper",{disabled:I,"is-popop-device-1019":R})},a.a.createElement("div",{className:Ic("device-icon-wrapper",{disabled:I}),onClick:function(){if(gc.info(["[cameraMute]",`preview btn click cam, current tempCameraMuted from ${S} to ${!S}`].join("\n")),T)return;if(!p)return void(n.isShowBrowserDeviceAccessModal=!0);i.tempCameraMuted=!S,c&&c(!S),gc.info(["[cameraMute]","preview btn click cam success, final mute is: "+i.tempCameraMuted].join("\n"));const e=S?"camera_on":"camera_off";o.trackForPreviewPage(e),pe.b.emit(pe.a.VC_MEETING_PRE_CLICK,{click:"camera",target:"none",is_camera_on:String(S)})}},a.a.createElement(C,{className:Ic("device-icon",{muted:S&&!f})}),I&&a.a.createElement(Yi.a,{className:Ic("icon-alert-preview")})),a.a.createElement(wt,{className:u?"from-preview-warning":"from-preview",popup:a.a.createElement(Zt,{hideSettingBtn:!0,onVirtualBackgroundClick:N,onCameraChange:d,theme:Sc}),disabled:f,theme:Sc,onClick:A,onPopupChange:e=>{O(e)}})))})),Nc=(e,t,i)=>e;var Ac=Object(l.b)(g.l)(Object(l.c)(({rtcStore:e,isMuteOnEntry:t,onCameraChange:i,onMicrophoneChange:n,onSpeakerChange:r,toggleVideoBackground:o,onToggleMicrophone:s,onToggleCamera:d})=>{const{hasMicAccess:c,hasCameraAccess:l}=e;return t=!!t,a.a.createElement("div",{className:O()("configs")},Nc(a.a.createElement(Cc,{isMuteOnEntry:t,onMicrophoneChange:n,onSpeakerChange:r,onToggleMicrophone:s}),g.a.MIC),Nc(a.a.createElement(mc,{onCameraChange:i,toggleVideoBackground:o,onToggleCamera:d}),g.a.CAMERA))}));const Rc={perfName:"join_meeting",desc:"wait response with click join meeting"};var Oc=i(345),vc=i(127),Pc=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Mc=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};let Lc=class extends A.a{constructor(){super(...arguments),this.handleKeyPress=e=>{"Enter"===e.key&&this.handleJoin()},this.closePreviewPage=()=>{ne.a.stopPreview()},this.joinMeetingByMeetingNumber=()=>Mc(this,void 0,void 0,(function*(){})),this.joinUserMeeting=()=>Mc(this,void 0,void 0,(function*(){})),this.joinCalendarMeeting=()=>Mc(this,void 0,void 0,(function*(){})),this.joinInterviewMeeting=()=>Mc(this,void 0,void 0,(function*(){})),this.joinInterviewMeetingByInterviewId=()=>Mc(this,void 0,void 0,(function*(){})),this.trackJoin=()=>{const{isMicrophoneMuted:e,isCameraMuted:t}=this.props.conferenceStore.meetingSettings,{meetingSource:i,uniqueId:n,meetingId:r,entrySource:o}=this.props.pageStore[_.PageName.PREVIEW];let s=_.MeetingAttendAction.allOpen;t&&e?s=_.MeetingAttendAction.allClose:t?s=_.MeetingAttendAction.onlyVoice:e&&(s=_.MeetingAttendAction.onlyVideo);const a={action_name:s,call_type:"meeting",user_type:"attendee"};i===_.MeetingSource.VC_FROM_CALENDAR?this.track(_.Homeric.VC_MEETING_ATTEND,Object.assign(Object.assign({},a),{unique_id:n})):i===_.MeetingSource.VC_FROM_USER&&this.track(_.Homeric.VC_MEETING_ATTEND,Object.assign(Object.assign({},a),{conference_id:r}))},this.handleJoin=()=>Mc(this,void 0,void 0,(function*(){Object(Oc.c)(Rc.perfName,Rc.desc);try{if(this.disabled)return void T.c.info(["[joinMeeting]","try click join button, but disabled"].join("\n"));T.c.info(["[joinMeeting]","click join button and try join meeting"].join("\n"));const{joinButtonLoading:e,checkLogin:t,joinMeeting:i,setJoinButtonLoading:n,checkLiveStatus:r}=this.props.previewStore;if(e)return void T.c.info(["[joinMeeting]","already click join meeting, repeat click!"].join("\n"));try{const e=yield t();if(!e)return void T.c.info(["[joinMeeting]","current user not login, hasLogin: "+e].join("\n"))}catch(e){return void Object(vc.a)(e,"[fatal]checkLoginError")}if(this.props.checkPolicy)try{if(yield r())return this.props.appStore.isNamedLogin?this.props.setShowPolicy(!0):de.a.notice(Object(y.b)("View_M_LivestreamingLogInThenJoin"),{theme:ce.b.IN_MEETING,iconType:ce.a.ERROR,interval:3e3}),void n(!1)}catch(e){return T.c.error(["[joinMeeting]","videoChatLivePreCheck error","message: "+e.message,"stack: "+e.stack].join("\n")),void Object(vc.a)(e,`[fatal]videoChatLivePreCheckError [x-tt-logid: ${e.xTtLogId}]`)}this.props.isPolicyBtn&&this.track(_.Homeric.VC_PRIVACY_POLICY_POPUP,{action_name:"join"}),this.props.setShowPolicy(!1),this.props.setMicCamStatus(),this.trackJoin();const{tempCameraMuted:o,tempMicrophoneMuted:s}=this.props.settingStore;pe.b.emit(pe.a.VC_MEETING_PRE_CLICK,{click:"attend",target:"vc_meeting_onthecall_view",is_camera_on:String(!o),is_mic_on:String(!s)}),yield i(),T.c.info(["[joinMeeting]","click join meeting button success!"].join("\n"))}catch(e){throw T.c.error(["[joinMeeting]","click join meeting button error","message: "+e.message,"stack: "+e.stack].join("\n")),e}Object(Oc.a)(Rc.perfName,Rc.desc)}))}willUnmount(){}get disabled(){const{meetingNumber:e,nickname:t}=this.props.previewStore,{isNamedLogin:i}=this.props.appStore,{isOversea:n}=window.__ENV__,r=n&&!i&&!t;return e.length<9||r||this.props.disabled||this.props.meetingStore.isAdBlockEnabled}rendering(){if(this.props.isPolicyBtn)return a.a.createElement("button",{type:"button",className:O()("float-right","primary","comfirm-btn"),onClick:this.handleJoin,disabled:this.disabled},this.intl("View_G_AllowButton"));const{joinButtonLoading:e}=this.props.previewStore;return a.a.createElement("div",{className:O()("join-meeting-btn-wrapper")},a.a.createElement("div",{className:O()("join-meeting-btn",{disabled:this.disabled}),onClick:this.handleJoin},e?a.a.createElement("div",null,a.a.createElement(cc.a,{className:"join-button-spinner",style:{width:12,height:12}}),a.a.createElement("span",null,this.intl("View_M_JoiningEllipsis"))):a.a.createElement("span",null,this.intl("View_G_JoinNow"))))}};Lc=Pc([Object(l.b)(g.f,g.j,g.e,g.m,g.k,g.i),l.c],Lc);var bc=Lc,Dc=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};let Uc=class extends A.a{constructor(){super(...arguments),this.joinButtonEl=a.a.createRef(),this.handleEnter=()=>{this.joinButtonEl.current&&"function"==typeof this.joinButtonEl.current.handleJoin&&this.joinButtonEl.current.handleJoin()},this.setMicCamStatus=()=>{const{conferenceStore:e,settingStore:t}=this.props,{defaultCameraMuted:i}=t.deviceSetting.video||{},{defaultMicrophoneMuted:n}=t.deviceSetting.audio||{},{tempMicrophoneMuted:r,tempCameraMuted:o}=t,s=this.isUsageJoin?"join_meeting":"create_meeting";this.track(_.Homeric.VC_MEETING_PAGE_PREVIEW,{from_source:s,action_name:"start",default_camera:i?0:1,default_mic:n?0:1,start_camera:o?0:1,start_mic:r?0:1}),e.setMeetingSettings({isMicrophoneMuted:t.tempMicrophoneMuted,isCameraMuted:t.tempCameraMuted}),t.saveMicCamMute()}}get isUsageJoin(){return!0}render(){const{isPolicyBtn:e,checkPolicy:t,setShowPolicy:i,meetingNumber:n,setShowError:r,disabled:o}=this.props;return a.a.createElement(bc,{checkPolicy:t,isPolicyBtn:e,meetingNumber:n,setShowError:r,setShowPolicy:i,disabled:o,ref:this.joinButtonEl,setMicCamStatus:this.setMicCamStatus})}};Uc=Dc([Object(l.b)(g.j,g.m,g.f),l.c],Uc);var wc=Uc,kc=(i(957),function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s});let Gc=class extends A.a{constructor(){super(...arguments),this.state={checked:!1},this.handleCheckBox=e=>{this.setState({checked:e})},this.refusePolicy=()=>{this.track(_.Homeric.VC_PRIVACY_POLICY_POPUP,{action_name:"cancel"}),this.props.setShowPolicy(!1),this.props.handleCancelBtnClick()}}rendering(){if(!this.props.showPolicy)return null;const{meetingNumber:e,setShowError:t,setShowPolicy:i}=this.props,n=this.intl("View_M_JoinLivestreamedMeetingTitle"),r=this.intl("View_G_ReadPrivacyPolicy"),o=a.a.createElement(Fa,{i18nData:this.props.conferenceStore.live.megaI18nDataForJoinLiveMeetingPolicyTips});return a.a.createElement("div",{className:O()("preview-policy-wrapper")},a.a.createElement("p",{className:"preview-policy-title"},n),a.a.createElement("p",{className:"preview-policy-content"},o),a.a.createElement(Qi,{contentPosition:"after",className:"preview-policy-checkbox",checked:this.state.checked,onChange:this.handleCheckBox},r),a.a.createElement("div",{className:O()("preview-policy-footer")},a.a.createElement(wc,{isPolicyBtn:!0,meetingNumber:e,setShowError:t,setShowPolicy:i,checkPolicy:!1,disabled:!this.state.checked}),a.a.createElement("button",{type:"button",className:O()("float-right","default","ghost","cancel-btn"),onClick:this.refusePolicy},this.intl("View_G_DontAllowButton"))))}};Gc=kc([Object(l.b)(g.f)],Gc);var Vc=Gc;i(958),i(959);class Hc extends Se.c{constructor(){super(...arguments),this.state={isActive:!1},this.onFocus=()=>{this.setState({isActive:!0})},this.onBlur=()=>{this.setState({isActive:!1})},this.handleChange=Object(ve.a)(e=>{this.props.onInputChange(e)},200),this.onChange=e=>{const{value:t}=e.target;this.handleChange(t)},this.handleKeyPress=e=>{"Enter"===e.key&&this.props.handleEnter()}}render(){const{isActive:e}=this.state;return a.a.createElement("div",{className:O()("nickname-input-container")},a.a.createElement("input",{className:O()("nickname-input",{error:this.props.showError,active:e}),defaultValue:this.props.defaultValue,onChange:this.onChange,onKeyPress:this.handleKeyPress,maxLength:60,spellCheck:!1,placeholder:Object(y.b)("View_N_EnterAnAlias"),onFocus:this.onFocus,onBlur:this.onBlur}),this.props.showError&&a.a.createElement("div",{className:O()("error-hint")},this.intl("View_W_InvalidName")))}}var Bc=i(702),Fc=i.n(Bc),jc=i(703),Wc=i.n(jc),xc=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};const Kc=U.a.bind(Fc.a);let qc=class extends Se.b{constructor(e){super(e),this.hideModal=()=>{this.props.onConfirmHandler()};const{cameraAccessStatus:t,micAccessStatus:i}=this.props.rtcStore;this.state={camStatus:t,micStatus:i}}rendering(){const{appStore:e}=this.props,{camStatus:t,micStatus:i}=this.state,{appName:n}=e;let r="",o="";return t===se.AuthStatus.NotDetermined&&i===se.AuthStatus.NotDetermined?(r=this.intl("View_W_AllowAccessToMicAndCamera",{appName:n}),o=this.intl("View_W_AllowAccessToMicAndCameraInfo",{appName:n})):t===se.AuthStatus.NotDetermined?(r=this.intl("View_W_AllowAccessToCamera",{appName:n}),o=this.intl("View_W_AllowAccessToCameraInfo",{appName:n})):i===se.AuthStatus.NotDetermined&&(r=this.intl("View_W_AllowAccessToMic",{appName:n}),o=this.intl("View_W_AllowAccessToMicInfo",{appName:n})),a.a.createElement("div",{className:Kc("device-access-confirm-modal")},a.a.createElement("div",{className:Kc("body")},a.a.createElement("div",{className:Kc("header")},a.a.createElement("h3",null,a.a.createElement("img",{className:Kc("info-icon"),src:Wc.a,alt:""}),r)),a.a.createElement("div",{className:Kc("content")},a.a.createElement("p",null,o)),a.a.createElement("div",{className:Kc("footer")},a.a.createElement("button",{className:Kc("confirm"),onClick:this.hideModal},this.intl("View_G_CloseButton")))))}};qc=xc([Object(l.b)(g.l,g.e),l.c],qc);var Yc=qc,Jc=i(704),zc=i.n(Jc),Xc=i(705),Qc=i.n(Xc),$c=i(495),Zc=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};const el=U.a.bind(zc.a);var tl;!function(e){e.LARK="lark",e.FEISHU="feishu"}(tl||(tl={}));const il={[tl.FEISHU]:"https://www.feishu.cn/download",[tl.LARK]:"https://www.larksuite.com/download"},nl={[tl.FEISHU]:{CH:"https://www.feishu.cn/zh/download?download_from=inappvc",EN:"https://www.feishu.cn/en/?download_from=inappvc#en_home_download_block"},[tl.LARK]:"https://www.larksuite.com/download?download_from=inappvc"};let rl=class extends Se.c{constructor(e){super(e),this.hideModal=()=>{this.props.onConfirmHandler()},this.reloadModal=()=>{pe.b.emit(pe.a.VC_POPUP_MIC_CAMERA_CLICK,{click:"reloading",target:"none"}),setTimeout(()=>{window.location.reload(!0)},100)},this.downloadFeishu=()=>{setTimeout(()=>{pe.b.emit(pe.a.VC_POPUP_MIC_CAMERA_CLICK,{click:"download_feishu",target:"website_download_view"})},50),window.open(this.downloadUrl)},this.clientType=Nn.b?tl.FEISHU:tl.LARK}didMount(){pe.b.emit(pe.a.VC_POPUP_MIC_CAMERA_VIEW)}get downloadUrl(){const{clientType:e}=this;if(Object(gi.c)())return il[e];if(e===tl.LARK)return nl[tl.LARK];const t=(()=>{let e="CH";return An.b.langCode!==An.a["zh-CN"]&&(e="EN"),e})();return nl[tl.FEISHU][t]}renderDownloadFeishu(){if(!me.c.download_feishu_button||Object(gi.d)()||Object(gi.e)())return null;return a.a.createElement("p",null,Object(An.d)("View_G_DownloadAppIfProblemPersists",{richTexts:[(e,t)=>a.a.createElement("a",{key:t,rel:"noopener noreferrer",onClick:()=>{this.downloadFeishu()}},e)],appName:me.d.app_name}))}renderCloseIcon(){return a.a.createElement("svg",{onClick:this.hideModal,className:el("close-icon"),width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{d:"M10.0001 8.82149L16.4313 2.39023C16.594 2.22751 16.8579 2.22751 17.0206 2.39023L17.6098 2.97948C17.7726 3.1422 17.7726 3.40602 17.6098 3.56874L11.1786 10L17.6098 16.4313C17.7726 16.594 17.7726 16.8578 17.6098 17.0205L17.0206 17.6098C16.8579 17.7725 16.594 17.7725 16.4313 17.6098L10.0001 11.1785L3.5688 17.6098C3.40608 17.7725 3.14226 17.7725 2.97954 17.6098L2.39029 17.0205C2.22757 16.8578 2.22757 16.594 2.39029 16.4313L8.82155 10L2.39029 3.56874C2.22757 3.40602 2.22757 3.1422 2.39029 2.97948L2.97954 2.39023C3.14226 2.22751 3.40608 2.22751 3.5688 2.39023L10.0001 8.82149Z",fill:"#646A73"}))}rendering(){const{showPage:e}=this.props.previewStore,{tip_1:t,tip_2:i,camera:n,mic:r,playbackDevices:o}=e,s=[this.intl("View_G_SpeakerLowercase"),this.intl("View_G_MicLowercase"),this.intl("View_G_CameraLowercase")],d="en-US"===An.b.langCode?", ":"、";let c="",l=0,p="";if([o,r,n].forEach((e,t)=>{e&&(c+=s[t].toLocaleLowerCase()+d,l++)}),c="en-US"===An.b.langCode?c.substring(0,c.length-2):c.substring(0,c.length-1),1===l&&o)c="",p=this.intl("View_G_NoSpeakerFound");else if(1===l)p=Object(An.d)($c.isWin?"View_G_NoDeviceFoundWindows":"View_G_NoDeviceFoundMac",{device:c});else if(l>=2){if("en-US"===An.b.langCode){const e=c.lastIndexOf(d);c=c.substring(0,3===l?e+1:e)+" and"+c.substring(e+1)}p=Object(An.d)($c.isWin?"View_G_NoDevicesFoundWindows":"View_G_NoDevicesFoundMac",{devices:c})}return a.a.createElement("div",{className:el("matter-notice-confirm-modal")},a.a.createElement("div",{className:el("body")},a.a.createElement("div",{className:el("header")},a.a.createElement("h3",{className:el("header-container")},a.a.createElement("img",{className:el("info-icon"),src:Qc.a,alt:""}),this.intl("View_G_SomethingWentWrongPleaseTroubleshoot"),this.renderCloseIcon())),a.a.createElement("div",{className:el("content")},a.a.createElement("p",null,t?p:""),a.a.createElement("p",null,i?this.intl("View_G_NoInternetCheckSettings"):"")),a.a.createElement("div",{className:el("content-tip")},this.renderDownloadFeishu()),a.a.createElement("div",{className:el("footer")},a.a.createElement("button",{className:el("default"),onClick:this.hideModal},this.intl("View_M_IgnoreButton")),a.a.createElement("button",{className:el("confirm"),onClick:this.reloadModal},this.intl("View_VM_Refresh")))))}};rl=Zc([Object(l.b)(g.k,g.l,g.e),l.c],rl);var ol=rl,sl=i(323),al=i.n(sl),dl=i(208),cl=i(70),ll=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},pl=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const ul={isMuteOnEntry:!1,showPolicy:!1,topic:""};let _l=class extends ge{constructor(e){super(e),this.meetingButtonEl=s.createRef(),this.checkIsDirectlyJoinMeeting=()=>pl(this,void 0,void 0,(function*(){if(E.g){T.c.info("redirected from login page, auto join meeting");const{joinMeeting:e,checkLogin:t}=this.props.previewStore;if(!(yield t()))return;e()}const{showLoadModal:e}=this.props.meetingStore;e&&(yield this.props.previewStore.joinMeeting())})),this.setShowError=e=>{this.props.previewStore.setShowMeetingNumberInvalid(e),e&&this.setState({showPolicy:!1})},this.setShowPolicy=e=>{e!==this.state.showPolicy&&this.setState({showPolicy:e})},this.handleCancelBtnClick=()=>{},this.onCameraChange=e=>{this.props.previewStore.setCamDeviceId(e)},this.onMicrophoneChange=e=>{this.props.previewStore.setMicDeviceId(e)},this.onSpeakerChange=e=>{this.props.previewStore.setSpeakerDeviceId(e)},this.onToggleMicrophone=e=>{},this.onToggleCamera=e=>{},this.setMeetingNumber=e=>{this.props.previewStore.setMeetingNumber(e),this.props.previewStore.trackForPreviewPage("edit_meet_num"),pe.b.emit(pe.a.VC_MEETING_PRE_CLICK,{click:"insert_title",target:"none"})},this.handleMediaDialogClick=()=>{},this.handleKeyPress=e=>{"Enter"===e.key&&this.handleEnter()},this.handleEnter=()=>{this.meetingButtonEl.current&&"function"==typeof this.meetingButtonEl.current.handleEnter&&this.meetingButtonEl.current.handleEnter()},this.toggleVideoBackground=e=>{},this.onClickEnter=()=>pl(this,void 0,void 0,(function*(){const{joinMeeting:e,checkLogin:t}=this.props.previewStore;(yield t())&&e()})),this.onNameInputChange=e=>{this.props.previewStore.setNickname(e),this.props.previewStore.trackForPreviewPage("edit_user_name")},this.openConfirmModal=()=>{this.props.previewStore.setDeviceAccessConfirmVisible(!0)},this.closeConfirmModal=()=>{this.props.previewStore.setDeviceAccessConfirmVisible(!1)},this.closeMatterNoticeConfirmModal=()=>{this.props.previewStore.setMatterNoticeConfirmVisible(!1)},this.openBrowserDeviceAccessModal=()=>{this.props.meetingStore.isShowBrowserDeviceAccessModal=!0},this.renderMainInput=()=>{const{meetingNumber:e}=this.props.previewStore;return s.createElement(dc,{meetingNumber:e,showError:!1,setMeetingNumber:this.setMeetingNumber,handleEnter:this.handleEnter})},this.renderAvatar=()=>{const{settingStore:e,rtcStore:t,userStore:i}=this.props,{avatar:n}=i.currentUser;let r=al.a;n&&(r=n[200]||al.a);const{hasCamera:o,hasCameraAccess:a,cameraHasWarnCode:d}=t,c=e.tempCameraMuted,l=o&&a&&!d&&c;return T.c.info("fetch video_frame success",{hasCamera:o,hasCameraAccess:a,isCameraMuted:c,shouldRenderAvatar:l}),l?s.createElement(Ce.a,{url:r,className:O()("preview-avatar"),style:{top:this.state.topic?"166px":"197px"}}):null},this.renderPreviewConfig=()=>{const{isMuteOnEntry:e}=this.state,{meetingNumber:t,micDeviceId:i,camDeviceId:n,speakerDeviceId:r}=this.props.previewStore;return s.createElement("div",{className:O()("preview-config"),style:{display:"flex"}},s.createElement(Ac,{isMuteOnEntry:e,onCameraChange:this.onCameraChange,onMicrophoneChange:this.onMicrophoneChange,onSpeakerChange:this.onSpeakerChange,onToggleMicrophone:this.onToggleMicrophone,onToggleCamera:this.onToggleCamera,toggleVideoBackground:this.toggleVideoBackground}),s.createElement(wc,{meetingNumber:t,microphoneDeviceId:i,cameraDeviceId:n,speakerDeviceId:r,setShowError:this.setShowError,setShowPolicy:this.setShowPolicy,ref:this.meetingButtonEl,checkPolicy:!0}))},this.renderingNormalPreview=()=>s.createElement(s.Fragment,null,this.state.topic?this.renderTopic():this.renderMainInput(),s.createElement(Tc,{showVirtualBackground:!1}),this.renderAvatar(),this.renderNickNameInput(),this.renderPreviewConfig()),this.state=Object.assign({},ul),this.setInterviewUID(Object(cl.a)("interviewUId"))}getDisplayName(){return"Preview"}setInterviewUID(e){var t;null===(t=this.props.meetingStore)||void 0===t||t.setInterviewUID(e),T.c.info("Interview UID "+Object(T.b)(e))}handleTopicWithUserInfo(){return pl(this,void 0,void 0,(function*(){const e=Object(cl.a)("interviewUId");if(!e)return;const t=yield Object(dl.a)();if(t&&t.isLogin){const t=(yield Object(r.b)("GET_ASSOCIATED_VC",{id:e,idType:4,isNeedTopic:!0})).interviewTopic;t&&this.setState({topic:t})}}))}handleCheck(){return pl(this,void 0,void 0,(function*(){if(E.m===le.b.vc_lark_linux)return void this.props.previewStore.setHasCheckMatter(!0);const{showLoadModal:e}=this.props.meetingStore,{setMatterNoticeConfirmVisible:t,setHasCheckMatter:i}=this.props.previewStore;if(e)return t(!1),void i(!0);const n=yield ne.a.supportStateList();Object(h.d)(le.a.VC_WEB_RTC_SDK,{action_name:"join_meeting_support_check",support_state_list:n},!1),this.props.previewStore.setMatterNoticeConfirmStatus(n)}))}didMount(){this.props.appStore.setLoading(!1),this.checkDevice(),this.handleTopicWithUserInfo(),this.props.previewStore.trackForSource("meeting_page_preview"),pe.b.emit(pe.a.VC_MEETING_PRE_VIEW),this.checkIsDirectlyJoinMeeting(),this.handleCheck()}willUnmount(){}generateAssociateVCParams(e,t){return{id:e,idType:t,isNeedTopic:t===_.IDType.INTERVIEW_UID||t===_.IDType.UNIQUE_ID}}didUpdate(){}get isJoin(){const{previewPageUsage:e}=this.props.pageStore[_.PageName.PREVIEW];return e===_.PreviewPageUsage.JOIN}checkDevice(){return pl(this,void 0,void 0,(function*(){const{rtcStore:e}=this.props,{cameraAccessStatus:t,micAccessStatus:i}=e;t===se.AuthStatus.Denied||i===se.AuthStatus.Denied?this.openBrowserDeviceAccessModal():t!==se.AuthStatus.NotDetermined&&i!==se.AuthStatus.NotDetermined||this.openConfirmModal()}))}renderNickNameInput(){const{isOversea:e,nickname:t,showNicknameInvalid:i}=this.props.previewStore,{isNamedLogin:n}=this.props.appStore;return!e||n?null:s.createElement(Hc,{defaultValue:t,showError:i,onInputChange:this.onNameInputChange,handleEnter:this.onClickEnter})}renderTopic(){return s.createElement("p",{className:"topic"},Object(An.d)("View_M_VideoInterviewNameBraces",{name:this.state.topic}))}rendering(){const{isShowBrowserDeviceAccessModal:e}=this.props.meetingStore,{deviceAccessConfirmVisible:t,matterNoticeConfirmVisible:i,meetingNumber:n}=this.props.previewStore;return s.createElement("div",{className:O()("page-preview-container","page-preview-container-active")},s.createElement("div",{className:O()("page-preview-main"),onClick:e=>e.stopPropagation()},this.renderingNormalPreview(),s.createElement(Vc,{showPolicy:this.state.showPolicy,meetingNumber:n,setShowError:this.setShowError,setShowPolicy:this.setShowPolicy,handleCancelBtnClick:this.handleCancelBtnClick})),i&&s.createElement(ol,{onConfirmHandler:this.closeMatterNoticeConfirmModal}),t&&s.createElement(Yc,{onConfirmHandler:this.closeConfirmModal}),e&&s.createElement(Rd,{page:_.PageName.PREVIEW}))}};_l=ll([Object(l.b)(g.e,g.f,g.j,g.o,g.l,g.m,g.i,g.k),l.c],_l);var El=_l,hl=i(706),Tl=i.n(hl);const yl=U.a.bind(Tl.a);class fl extends Se.b{constructor(){super(...arguments),this.cancel=()=>{this.props.onCancelHandler()},this.confirm=()=>{this.props.onConfirmHandler()}}rendering(){return a.a.createElement("div",{className:yl("lobby-modal")},a.a.createElement("div",{className:yl("lobby-container")},a.a.createElement("div",{className:yl("lobby-header")},a.a.createElement(Yi.a,null),a.a.createElement("span",{className:yl("lobby-title")},this.intl("View_M_SureToLeaveMeetingQuestion"))),a.a.createElement("div",{className:yl("lobby-footer")},a.a.createElement("button",{onClick:this.cancel,className:yl("btn","cancel")},this.intl("View_G_CancelButton")),a.a.createElement("button",{onClick:this.confirm,className:yl("btn","confirm")},this.intl("View_VM_LeaveButton")))))}}var Il=i(707),gl=i.n(Il),Sl=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};const Cl=U.a.bind(gl.a);let ml=class extends ge{constructor(e){super(e),this.pageTitle=this.intl("View_W_JoinMeetingAppName",{appName:this.props.appStore.appName}),this.state={isShowLeaveConfirm:!1},this.beforeunloadEventHandle=()=>{var e;T.c.info("lobby beforeunload: "+this.props.pageStore.isInMeeting);const{isInMeeting:t,needHangupBeforeunload:i}=this.props.pageStore,{nickname:n}=null===(e=this.props.userStore)||void 0===e?void 0:e.currentUser.participantSettings,{tempCameraMuted:r,tempMicrophoneMuted:o}=this.props.settingStore,{currentDevice:s}=this.props.rtcStore;t&&(T.c.info("In LobbyPage and emit before unload"),Object(_n.f)({isMicMuted:o,isCameraMuted:r,nickname:n,micDeviceId:s[se.DeviceType.kRecord],camDeviceId:s[se.DeviceType.kCamera],speakerDeviceId:s[se.DeviceType.kPlayback]}),i&&S.a.cancelWait(_.LocalEndReason.LEAVE_LOBBY))},this.onCameraChange=e=>{T.c.info("preview onCameraChange: "+e),this.props.previewStore.setCamDeviceId(e)},this.onMicrophoneChange=e=>{T.c.info("preview onMicrophoneChange: "+e),this.props.previewStore.setMicDeviceId(e)},this.onSpeakerChange=e=>{T.c.info("lobby onSpeakerChange: "+e),this.props.previewStore.setSpeakerDeviceId(e)},this.toggleVideoBackground=()=>{},this.onToggleMicrophone=e=>{},this.onToggleCamera=e=>{},this.openLeaveModal=()=>{this.setState({isShowLeaveConfirm:!0})},this.hideLeaveModal=()=>{this.setState({isShowLeaveConfirm:!1})},this.leaveLobby=()=>{T.c.info("leave lobby"),this.setState({isShowLeaveConfirm:!1}),ne.a.stopPreview(),S.a.cancelWait(_.LocalEndReason.LEAVE_LOBBY)},window.VC_WEB_APP_INSTANCE.messager&&(window.VC_WEB_APP_INSTANCE.messager.init(),window.VC_WEB_APP_INSTANCE.messager.startup(_.PageName.LOBBY))}getDisplayName(){return"Lobby"}componentDidMount(){super.componentDidMount(),this.props.meetingStore.setLoadModalStatus(!1),window.addEventListener("beforeunload",this.beforeunloadEventHandle)}componentWillUnmount(){super.componentWillUnmount(),window.VC_WEB_APP_INSTANCE.messager&&window.VC_WEB_APP_INSTANCE.messager.shutdown(_.PageName.LOBBY),window.removeEventListener("beforeunload",this.beforeunloadEventHandle)}renderAvatar(){const{settingStore:e,rtcStore:t,userStore:i}=this.props,{avatar:n}=i.currentUser;let r=al.a;n&&(r=n[200]||al.a);const{hasCamera:o,hasCameraAccess:s,cameraHasWarnCode:d}=t,c=e.tempCameraMuted,l=o&&s&&!d&&c;return T.c.info("fetch video_frame success",{hasCamera:o,hasCameraAccess:s,isCameraMuted:c,shouldRenderAvatar:l}),l?a.a.createElement(Ce.a,{url:r,className:Cl("lobby-avatar")}):null}rendering(){const{isShowBrowserDeviceAccessModal:e}=this.props.meetingStore,{isShowLeaveConfirm:t}=this.state;return a.a.createElement("div",{className:"lobby-container "+Cl("lobby-container")},a.a.createElement("p",{className:Cl("lobby-title")},this.intl("View_M_WaitForHostToLetYouIn")),a.a.createElement(Tc,{showVirtualBackground:!1}),this.renderAvatar(),a.a.createElement("div",{className:Cl("lobby-operation")},a.a.createElement(Ac,{onCameraChange:this.onCameraChange,onMicrophoneChange:this.onMicrophoneChange,onSpeakerChange:this.onSpeakerChange,toggleVideoBackground:this.toggleVideoBackground,onToggleMicrophone:this.onToggleMicrophone,onToggleCamera:this.onToggleCamera}),a.a.createElement("div",null,a.a.createElement("button",{onClick:this.openLeaveModal,className:Cl("lobby-leave-btn")},this.intl("View_VM_LeaveButton")))),t&&a.a.createElement(fl,{onCancelHandler:this.hideLeaveModal,onConfirmHandler:this.leaveLobby}),e&&a.a.createElement(Rd,{page:_.PageName.LOBBY}))}};ml=Sl([Object(l.b)(g.f,g.k,g.i,g.m,g.l,g.o,g.e,g.j),l.c],ml);var Nl=ml,Al=(i(960),i(457),i(961),i(454)),Rl=(i(1035),i(337)),Ol=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const vl={[_d.b.en]:{text:"English"},[_d.b["zh-CN"]]:{text:"简体中文"}};class Pl extends a.a.Component{constructor(e){super(e),this.onTopCubeVisibleChange=e=>{e&&(pe.b.emit(pe.a.VC_MEETING_PRE_CLICK,{click:"topcube",target:"website_topcube_view"}),pe.b.emit(pe.a.WEBSITE_TOPCUBE_VIEW))},this.state={langSelected:_d.c.langCode,hoverOnSwitcher:!1,isLogin:!1,utmFrom:e.utmFrom||"organic_vc_guest_web"},this.initLoginInfo()}get getLogoUrl(){let e="";return e=/feishu.*\.cn/.test(location.hostname)?_d.c.langCode===_d.b["zh-CN"]?me.e.feishu_zh_CN_logo:me.e.feishu_en_US_logo:me.e.lark_logo,e}initLoginInfo(){return Ol(this,void 0,void 0,(function*(){const e=yield Object(dl.a)(),t=Boolean((null==e?void 0:e.isLogin)&&!(null==e?void 0:e.anonymous));this.setState({isLogin:t}),t||this.props.handleLogin&&this.props.handleLogin(null)}))}goOfficialWebsite(){location.href=`https://${me.b.official_origin}/?utm_from=organic_vc_guest_web`}setSwitcherHoverState(e){this.setState({hoverOnSwitcher:e})}selectLanguage(e){this.setState({langSelected:e,hoverOnSwitcher:!1});const[t,i=""]=window.location.href.split("#"),[n,r=""]=t.split("?"),o={};r&&r.split("&").forEach(e=>{const[t,i]=e.split("=");o[t]=i}),o.lang=e;let s="";Object.entries(o).forEach(([e,t])=>{s+=`&${e}=${t}`}),location.href=n+(s&&"?"+s.slice(1))+(i&&"#"+i)}getCurLoginUrl(){return`https://${me.b.passport}${me.a.login_path}`}login(){this.props.track&&this.props.track("log_in"),pe.b.emit(pe.a.VC_MEETING_PRE_CLICK,{click:"log_in",target:"passport_login_view"});const e=location.href,t=this.getCurLoginUrl(),i=encodeURIComponent(e);setTimeout(()=>{window.location.href=`${t}?app_id=1&lang=${_d.c.langCode}&loginType=account&utm_from=${this.state.utmFrom}&redirect_uri=${i}`},100)}userInfo(){return a.a.createElement("div",{className:"passport-container"},a.a.createElement("span",{className:"gap"}),a.a.createElement(Al.ProductList,{dropdownProps:{onVisibleChange:this.onTopCubeVisibleChange},config:{appId:1,locale:_d.c.langCode},wrapperClassName:this.state.isLogin?"login-product-container":""}),a.a.createElement(Al.UserPanel,{config:{appId:1,locale:_d.c.langCode,origin:"https://"+me.b.passport},withAnimation:!1,preHeader:this.state.isLogin?void 0:a.a.createElement("a",{className:"login-btn",onClick:()=>this.login()},Object(_d.d)("View_W_SignUpLogIn")),onGetData:e=>(this.props.handleLogin&&this.props.handleLogin(e),Promise.resolve(e||void 0)),panelItems:[new Al.TenantMenu({showAddTeam:!0,onSwitchSuccess:()=>{location.reload()}})],onLogout:()=>(this.props.handleLoginOut&&this.props.handleLoginOut(),pe.b.emit(pe.a.VC_MEETING_PRE_CLICK,{click:"log_out",target:"none"}),Object(Rl.b)(100,!0))}))}render(){const{langSelected:e,hoverOnSwitcher:t}=this.state,i=O()({"language-option-list-hidden":!t,"language-option-list-show":t,"language-option-list":!0});return a.a.createElement("header",{className:"landing-header"},a.a.createElement("span",{className:"logo",onClick:()=>{pe.b.emit(pe.a.VC_MEETING_FINISH_CLICK,{click:"about_feishu",target:"website_mainpage_view"}),setTimeout(()=>{this.goOfficialWebsite()},100)}},me.e.app_logo_40?a.a.createElement(a.a.Fragment,null,a.a.createElement("img",{src:me.e.app_logo_40,alt:"logo"}),a.a.createElement("span",{className:"app-name"},me.d.app_name)):a.a.createElement("img",{src:this.getLogoUrl,alt:"logo"})),this.userInfo(),a.a.createElement("div",{className:"language-switcher",onMouseEnter:()=>{this.setSwitcherHoverState(!0)},onMouseLeave:()=>{this.setSwitcherHoverState(!1)}},a.a.createElement("div",{className:"language-selected"},_d.a[e].text),a.a.createElement("div",{className:i},Object.keys(vl).map(t=>{const i=vl[t].text,n=O()({"language-option":!0,"language-option-selected":e===t});return a.a.createElement("div",{className:n,key:t,onClick:()=>{this.props.handleChangeLanguage&&this.props.handleChangeLanguage(t),this.selectLanguage(t)}},a.a.createElement("span",null,i,e===t?a.a.createElement("svg",{className:"select-icon",width:"14",height:"10",viewBox:"0 0 14 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.14482 7.60655L12.4516 0.29978C12.5818 0.169605 12.7928 0.169605 12.923 0.29978L13.3944 0.771184C13.5246 0.901359 13.5246 1.11241 13.3944 1.24259L5.38052 9.25647C5.25035 9.38664 5.03929 9.38664 4.90912 9.25647L0.666479 5.01382C0.536304 4.88365 0.536304 4.67259 0.666479 4.54242L1.13788 4.07102C1.26806 3.94084 1.47911 3.94084 1.60929 4.07102L5.14482 7.60655Z",fill:"#3370FF"})):null))}))))}}i(1036);class Ml extends a.a.Component{get feishuLang(){return _d.c.langCode===_d.b["zh-CN"]?"zh":"en"}get larkLang(){return _d.c.langCode===_d.b["zh-CN"]?"zh_cn":"en_us"}get termsOfService(){return`https://www.feishu.cn/${this.feishuLang}/terms`}get feishuPrivacyPolicy(){return`https://www.feishu.cn/${this.feishuLang}/privacy`}get customerTermsOfService(){return`https://www.larksuite.com/${this.larkLang}/customer-terms-of-service`}get userTermsOfService(){return`https://www.larksuite.com/${this.larkLang}/user-terms-of-service`}get larkPrivacyPolicy(){return`https://www.larksuite.com/${this.larkLang}/privacy-policy`}get acceptableUsePolicy(){return`https://www.larksuite.com/${this.larkLang}/acceptable-use-policy`}get cookiePolicy(){return`https://www.larksuite.com/${this.larkLang}/cookie-policy`}renderFeishuFooter(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("a",{href:this.termsOfService,target:"_blank",className:"footer-item"},Object(_d.d)("View_W_TermsOfService")),a.a.createElement("span",{className:"gap"},"|"),a.a.createElement("a",{href:this.feishuPrivacyPolicy,target:"_blank",className:"footer-item"},Object(_d.d)("View_W_PrivacyPolicy")))}renderLarkFooter(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("p",{className:"footer-line"},Object(_d.d)("View_M_UserAgreeTo",{richTexts:[(e,t)=>a.a.createElement("a",{key:t,href:`https://www.larksuite.com/${this.larkLang}/user-terms-of-service`,rel:"noopener noreferrer",target:"_blank"},e),(e,t)=>a.a.createElement("a",{key:t,href:`https://www.larksuite.com/${this.larkLang}/privacy-policy`,rel:"noopener noreferrer",target:"_blank"},e)]})),a.a.createElement("a",{href:this.customerTermsOfService,target:"_blank",className:"footer-item"},Object(_d.d)("View_W_CustomerTermsOfService")),a.a.createElement("span",{className:"gap"},"|"),a.a.createElement("a",{href:this.acceptableUsePolicy,target:"_blank",className:"footer-item"},Object(_d.d)("View_W_AcceptableUsePolicy")),a.a.createElement("span",{className:"gap"},"|"),a.a.createElement("a",{href:this.cookiePolicy,target:"_blank",className:"footer-item"},Object(_d.d)("View_W_CookiePolicy")))}render(){return me.c.footer_links?a.a.createElement("footer",{className:"footer"},Nn.b?this.renderFeishuFooter():this.renderLarkFooter()):null}}i(1037);var Ll=i(1120),bl=i(1121),Dl=i(261),Ul=(i(1038),function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i});class wl extends s.Component{constructor(){super(...arguments),this.timer=void 0,this.state={scrolling:!1},this.onScroll=e=>{const{scrollTop:t}=e.target,i=this.scrollContainer.offsetHeight,n=this.scrollItemBox.offsetHeight;this.state.scrolling||this.setState({scrolling:!0}),clearTimeout(this.timer),this.timer=window.setTimeout(()=>{this.setState({scrolling:!1})},wl.HIDDE_SCROLLBAR_TIME),t+i>=n-20?this.props.onScrollToBottom():0===t&&this.props.onScrollToTop(),this.props.onScroll(e)},this.setScrollContainerRef=e=>{this.scrollContainer=e},this.setScrollItemBoxRef=e=>{this.scrollItemBox=e}}render(){const e=this.props,{onScrollToBottom:t,onScrollToTop:i,onScroll:n}=e,r=Ul(e,["onScrollToBottom","onScrollToTop","onScroll"]),o=O()("bv-scrollable-content",!this.state.scrolling&&"bv-scrollable-content_still",this.props.className);return s.createElement("div",Object.assign({},r,{ref:this.setScrollContainerRef,className:o,onScroll:this.onScroll}),s.createElement("div",{ref:this.setScrollItemBoxRef},this.props.children))}}wl.HIDDE_SCROLLBAR_TIME=1e3,wl.defaultProps={onScrollToBottom:S.g,onScrollToTop:S.g,onScroll:S.g};var kl=i(43),Gl=i(168);class Vl extends a.a.Component{constructor(){super(...arguments),this.state={isBad:null,reasonTab:kl.c.AUDIO_VIDEO,[kl.c.AUDIO_VIDEO]:new Set,[kl.c.SHARE_SCREEN]:new Set,otherReason:"",hasSubmit:!1},this.handleSubmitClick=()=>{Object(h.d)(Gl.Homeric.VC_MEETING_FINISH_PAGE,{action_name:"submit_feedback"});const{isBad:e,[kl.c.AUDIO_VIDEO]:t,[kl.c.SHARE_SCREEN]:i,otherReason:n}=this.state;e&&pe.b.emit(pe.a.VC_MEETING_FINISH_CLICK,{click:"submit_feedback",target:"none"}),this.props.onSubmitClick(e,t,i,n),this.props.closeFeedback(kl.a.SUBMIT)},this.handleClickAVBtn=()=>{this.setState({reasonTab:kl.c.AUDIO_VIDEO})},this.handleClickSS=()=>{this.setState({reasonTab:kl.c.SHARE_SCREEN})},this.handleOtherReasonChange=e=>{this.setState({otherReason:e.target.value})},this.handleGoodBtnClick=()=>{Object(h.d)(Gl.Homeric.VC_MEETING_FINISH_PAGE,{action_name:"good_feedback"}),pe.b.emit(pe.a.VC_MEETING_FINISH_CLICK,{click:"good_feedback",target:"none"}),this.setState({isBad:!1},()=>this.handleSubmitClick())},this.handleBadBtnClick=()=>{Object(h.d)(Gl.Homeric.VC_MEETING_FINISH_PAGE,{action_name:"bad_feedback"}),pe.b.emit(pe.a.VC_MEETING_FINISH_CLICK,{click:"bad_feedback",target:"none"}),this.setState({isBad:!0})},this.handleCancelBtnClick=()=>{Object(h.d)(Gl.Homeric.VC_MEETING_FINISH_PAGE,{action_name:"cancel_feedback"}),pe.b.emit(pe.a.VC_MEETING_FINISH_CLICK,{click:"cancel_feedback",target:"none"}),this.setState({isBad:null,[kl.c.AUDIO_VIDEO]:new Set,[kl.c.SHARE_SCREEN]:new Set,reasonTab:kl.c.AUDIO_VIDEO,otherReason:"",hasSubmit:!1})},this.renderMeetingFBDetail=()=>{const{reasonTab:e}=this.state;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"question-header"},a.a.createElement("span",{className:O()("header-item","left",{selected:e===kl.c.AUDIO_VIDEO}),onClick:this.handleClickAVBtn},this.props.intl("View_G_AcceptWithAudio"),"&",this.props.intl("View_G_AcceptWithVideo")),a.a.createElement("span",{className:O()("header-item","right",{selected:e===kl.c.SHARE_SCREEN}),onClick:this.handleClickSS},this.props.intl("View_M_ScreenSharingTab"))),this.renderMeetingReasonList())}}get selectedReasonList(){return this.state[this.state.reasonTab]}get reasonList(){const{reasonTab:e}=this.state,{videoItems:t,shareScreenItems:i}=this.props.meetingFBreasons;return e===kl.c.AUDIO_VIDEO?t:i}handleToggleReasonItem(e){const t=new Set(this.selectedReasonList);t.has(e)?t.delete(e):t.add(e),this.state.reasonTab===kl.c.AUDIO_VIDEO?this.setState({[kl.c.AUDIO_VIDEO]:t}):this.setState({[kl.c.SHARE_SCREEN]:t})}renderContent(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Dl.CSSTransition,{unmountOnExit:!0,in:!0,classNames:"transition",timeout:0},a.a.createElement("div",null,a.a.createElement("div",{className:"fb-title"},this.props.intl("View_G_FeedbackTitle")),this.renderQualityTabs(),this.renderBadQualitySelection(),this.renderOtherReason(),this.renderBottomBtns())))}renderQualityTabs(){const{isBad:e}=this.state;return a.a.createElement("div",{className:"tip-container"},a.a.createElement("div",{className:"left-container"},a.a.createElement(Ll.a,{onClick:this.handleGoodBtnClick,className:O()("icon","good",{active:!1===e})}),a.a.createElement("p",{className:"text good"},this.props.intl("View_G_GoodButton"))),a.a.createElement("div",{className:"bar"}),a.a.createElement("div",{className:"right-container"},a.a.createElement(bl.a,{onClick:this.handleBadBtnClick,className:O()("icon","bad",{active:!0===e})}),a.a.createElement("p",{className:"text bad"},this.props.intl("View_G_BadButton"))))}renderBadQualitySelection(){const{isBad:e}=this.state;return e&&a.a.createElement("div",{className:"fb-bad-selection"},this.renderMeetingFBDetail())}renderOtherReason(){const{isBad:e,otherReason:t}=this.state;return e&&a.a.createElement("textarea",{value:t,onChange:this.handleOtherReasonChange,maxLength:256,placeholder:this.props.intl("View_G_OtherProblems"),className:"fb-other-reason-textarea"})}renderBottomBtns(){const{isBad:e}=this.state;return e&&a.a.createElement("div",{className:O()("fb-bottom-btns")},a.a.createElement("div",{onClick:this.handleSubmitClick,className:O()("fb-submit-btn")},this.props.intl("View_G_SubmitButton")),a.a.createElement("div",{onClick:this.handleCancelBtnClick,className:O()("fb-cancel-btn")},this.props.intl("View_G_CancelButton")))}renderMeetingReasonList(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(wl,{className:"fb-reason-list-container"},this.reasonList.map(e=>a.a.createElement("div",{onClick:()=>this.handleToggleReasonItem(e.subkey),key:e.subkey,className:O()("fb-reason-item")},a.a.createElement("div",{className:O()("fb-reason-checkbox",{selected:this.selectedReasonList.has(e.subkey)})},a.a.createElement(Xi.a,null)),a.a.createElement("p",{className:O()("fb-reason-message")},Object(_d.d)(e.subkey))))))}render(){return a.a.createElement("div",{className:O()("feedback-container")},this.renderContent())}}i(1039);var Hl=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};let Bl=class extends ge{constructor(e){var t;super(e),this.pageTitle=this.intl(Nn.c?"View_G_AppNameOverseas":"View_G_AppNameDomestic"),this.pageContentDom=null,this.hasSubmit=!1,this.handleSubmitClick=(e,t,i,n)=>{if(this.hasSubmit)return;this.hasSubmit=!0;const{endStore:r}=this.props,o={audioVideoSubReasons:Array.from(t)},s={shareScreenSubReasons:Array.from(i)},a=e?Ee.r.BAD:Ee.r.GOOD;this.is1v1?e?r.submit1v1Feedback(a,o,s,n):r.submit1v1Feedback(a,{audioVideoSubReasons:[]},{shareScreenSubReasons:[]},""):e?r.submitMeetingFeedback(a,o,s,n):r.submitMeetingFeedback(a,{audioVideoSubReasons:[]},{shareScreenSubReasons:[]},"")},this.closeFeedback=e=>{e&&T.c.info("close feedback reason={}",e),this.setState({showQuestionContainer:!1});const t=new URL(location.href);t.searchParams.set("hasSubmit","1"),history.replaceState({},"end","?"+t.searchParams.toString())};const i="1"===new URL(location.href).searchParams.get("hasSubmit");E.e&&(null===(t=this.props.meetingStore)||void 0===t||t.setInterviewUID(E.e)),console.log("title"),this.state={showSomeQuestion:!1,showQuestionContainer:!i,type:null,interviewUId:E.e,isInterview:Boolean(E.e)}}get is1v1(){return!1}get rejoinURL(){Object(h.d)(Gl.Homeric.VC_MEETING_FINISH_PAGE,{action_name:"rejoin"});const{meetingNumber:e,nickname:t}=this.props.previewStore,{isMicrophoneMuted:i,isCameraMuted:n}=this.props.previewStore.rootStore.conferenceStore.meetingSettings,r=t?"&name="+t:"";let o=`lang=${y.c.langCode}&number=${e}&cam=${n?"1":"0"}&mic=${i?"1":"0"}${r}&no=${e}&operate_env_id=${E.j}&interviewUId=${this.state.interviewUId}`;return o=Object(E.b)(o),`/w/${e}?${o}`}get goLandingURL(){Object(h.d)(Gl.Homeric.VC_MEETING_FINISH_PAGE,{action_name:"back_to_home_page"});const{meetingNumber:e}=this.props.previewStore;let{endReason:t}=this.props.pageStore;return t===kl.b.NONE&&(t=Number(Object(cl.a)("endReason"))||kl.b.MEETING_OVER),this.state.isInterview?`/j/i?v=1&lang=${y.c.langCode}&endReason=${t}&no=${e}&id=${this.state.interviewUId}`:`/j/?v=1&lang=${y.c.langCode}&endReason=${t}`}get jumpEndPageReason(){let{endReason:e}=this.props.pageStore;return e===kl.b.NONE&&(e=Number(Object(cl.a)("endReason"))||kl.b.SOME_ERROR),e}get appName(){return me.d.app_name}getPageContentClass(){const e=[];return E.m===le.b.vc_lark_linux&&e.push("vc_lark_linux"),e.join(" ")}goOfficialWebsite(){Object(h.d)(Gl.Homeric.VC_MEETING_FINISH_PAGE,{action_name:"about_feishu"});const e=this.state.isInterview?"organic_vc_web_interview":"organic_vc_guest_web",t=`https://www.feishu.cn/${y.c.langCode===y.a["zh-CN"]?"zh":"en"}?utm_from=${e}`,i="https://www.larksuite.com/?utm_from="+e;/feishu.*\.cn/.test(location.href)?window.open(t,"_blank"):window.open(i,"_blank")}showQuestion(){this.setState({showSomeQuestion:!0})}getDisplayName(){return"feedback"}didMount(){const{appStore:e,endStore:t,pageStore:i,previewStore:n}=this.props,{hasLogin:r,meetingNumber:o,nickname:s}=n;Object(h.d)(Gl.Homeric.VC_MEETING_FINISH_PAGE,{action_name:"display",is_loged:r?1:0}),pe.b.emit(pe.a.VC_MEETING_FINISH_VIEW),e.setLoading(!1),t.fetchAllFeedbackReasonList(),t.fetchCloseDelay(),this.pageContentDom=document.querySelector(".feedback-container");const{endReason:a}=i,{isMicrophoneMuted:d,isCameraMuted:c}=n.rootStore.conferenceStore.meetingSettings;if(a!==kl.b.NONE){const e=s?"&name="+s:"";let t=`?endReason=${a}&lang=${y.c.langCode}&number=${o}&cam=${c?"1":"0"}&mic=${d?"1":"0"}${e}&no=${o}&operate_env_id=${E.j}&id=${this.state.interviewUId}`;t=Object(E.b)(t),history.replaceState({},"end",t)}}closeWindow(){window.close()}renderTitle(){let e="";switch(this.jumpEndPageReason){case kl.b.LOBBY_LEAVE:case kl.b.MEETING_LEAVE:e=this.state.isInterview?this.intl("View_M_YouLeftInterview"):this.intl("View_M_YouLeftMeeting");break;case kl.b.MEETING_OVER:case kl.b.END_MEETING:e=this.state.isInterview?this.intl("View_M_InterviewHasEnded"):this.intl("View_M_MeetingHasEnded");break;case kl.b.ALREADY_IN_MEETING:e=this.state.isInterview?this.intl("View_W_JoinedInterviewInAnotherTab"):this.intl("View_W_JoinedInAnotherTab");break;case kl.b.MEETING_EXPIRED:e=this.state.isInterview?this.intl("View_M_InterviewExpired"):this.intl("View_M_MeetingExpired");break;case kl.b.KICK_OUT_MEETING:case kl.b.KICK_OUT_LOBBY:e=this.state.isInterview?this.intl("View_M_HostRemovedYouFromInterview"):this.intl("View_M_HostRemovedYou");break;case kl.b.LOG_OUT:e=this.state.isInterview?this.intl("View_W_SignInCredentialsChangedInterview"):this.intl("View_W_SignInCredentialsChanged");break;case kl.b.SOME_ERROR:e=this.state.isInterview?this.intl("View_W_SomethingWentWrongPleaseRejoinInterview"):this.intl("View_W_SomethingWentWrongPleaseRejoin")}return a.a.createElement("h1",{className:"title"},e)}renderQuestionContainer(){return[kl.b.MEETING_LEAVE,kl.b.END_MEETING,kl.b.KICK_OUT_MEETING].includes(this.jumpEndPageReason)?this.state.showQuestionContainer?a.a.createElement("div",{className:"question-container"},a.a.createElement(Vl,{intl:this.intl,closeFeedback:this.closeFeedback,onSubmitClick:this.handleSubmitClick,meetingFBreasons:this.props.endStore.meetingFBreasons})):a.a.createElement("h3",{className:"feedback-over"},this.intl("View_N_ThankYouToast")):null}renderBtn(){if(E.m===le.b.vc_lark_linux)return a.a.createElement("a",{className:"go-back",onClick:this.closeWindow},this.intl("View_N_CloseWindow"));const e=a.a.createElement("a",{className:"re-join",href:this.rejoinURL,onClick:e=>{e.preventDefault(),pe.b.emit(pe.a.VC_MEETING_FINISH_CLICK,{click:"rejoin",target:"vc_meeting_pre_view"}),setTimeout(()=>{location.href=this.rejoinURL},100)}},this.intl("View_G_RejoinButton")),t=a.a.createElement("a",{className:"go-back",href:this.goLandingURL,onClick:e=>{e.preventDefault(),pe.b.emit(pe.a.VC_MEETING_FINISH_CLICK,{click:"back_to_home",target:"vc_web_landing_view"}),setTimeout(()=>{location.href=this.goLandingURL},100)}},this.intl("View_W_ReturnToHomePage")),i=[kl.b.LOBBY_LEAVE,kl.b.MEETING_LEAVE,kl.b.KICK_OUT_MEETING,kl.b.KICK_OUT_LOBBY,kl.b.LOG_OUT,kl.b.SOME_ERROR].includes(this.jumpEndPageReason);return a.a.createElement(a.a.Fragment,null,i&&e,t)}renderNote(){return E.m===le.b.vc_lark_linux?null:a.a.createElement("p",{className:"note"},a.a.createElement("span",{onClick:()=>this.goOfficialWebsite(),className:"link"},Object(y.b)("View_N_AboutFeishuMeetingApp",{APP_DISPLAY_NAME:this.appName})))}rendering(){return a.a.createElement("div",{className:"end-page"},this.renderTitle(),a.a.createElement("div",{className:"btn-container"},this.renderBtn()),this.renderQuestionContainer(),a.a.createElement("div",{className:O()("bg")}))}};Bl=Hl([Object(l.b)(g.e,g.j,g.g,g.k,g.i),l.c],Bl);var Fl=Bl,jl=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Wl="1.0",xl="lark web vc",Kl=!1;function ql(e){switch(e){case _d.b["zh-CN"]:return Ee.h.ZH_CN;case _d.b.en:return Ee.h.EN_US;case _d.b.es:return Ee.h.ES_ES;case _d.b.fr:return Ee.h.FR_FR;case _d.b.hi:return Ee.h.HI_IN;case _d.b.id:return Ee.h.ID_ID;case _d.b.it:return Ee.h.IT_IT;case _d.b["ja-JP"]:return Ee.h.JA_JP;case _d.b.ko:return Ee.h.KO_KR;case _d.b.pt:return Ee.h.PT_BR;case _d.b.ru:return Ee.h.RU_RU;case _d.b.th:return Ee.h.TH_TH;case _d.b.vi:return Ee.h.VI_VN;default:return Ee.h.EN_US}}let Yl={userInfo:{id:""},appInfo:{deviceId:"",appType:Ee.b.WEB,version:Wl,lang:ql(_d.c.langCode),platform:"web",isProduction:!0,appName:xl,productName:"vc-web",isOversea:Kl,sdkServerName:"lark_rtc_production",sdkServerUUID:"",magicUploadDomainConfig:{urlHost:"",spaceAPIHost:"",driveAPIHost:""},sentryDSN:"",domains:{helpCenter:"",vcPrivacy:""}},deviceHardwareInfo:{}};function Jl(e=!1){return jl(this,void 0,void 0,(function*(){return Yl.appInfo.lang=ql(_d.c.langCode),mn.b?Yl.appInfo.appName=_d.c.langCode===_d.b["zh-CN"]?"飞书":"feishu":Yl.appInfo.appName="Lark",T.c.info("getAppConfig"),Yl}))}function zl(e){return jl(this,void 0,void 0,(function*(){return Object.assign(Yl.appInfo,e.appInfo||{}),Object.assign(Yl.userInfo,e.userInfo||{}),Object.assign(Yl.deviceHardwareInfo,e.deviceHardwareInfo||{}),Yl}))}var Xl=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};let Ql;function $l(e){return void 0!==e||(T.c.error("function called before startup"),!1)}function Zl(e){$l(Ql)&&(T.c.info("coreManager - handleVideoChatPrompt"),Ql.handleVideoChatPrompt(e))}function ep(e){$l(Ql)&&(T.c.info("coreManager - handleDynamicNetStatus: "+e.netStatus),Ql.handleDynamicNetStatus(e))}function tp(e,t){$l(Ql)&&(T.c.info("coreManager - handleVCNotice - "+t),Ql.handleVCInfo(Object.assign(Object.assign({},e),{contextId:t})))}function ip(e){$l(Ql)&&(T.c.info("coreManager - handleVCExtraInfo"),Ql.handleVCExtraInfo(e))}function np(e){$l(Ql)&&(e&&e.msgI18nKey&&"object"==typeof e.msgI18nKey&&(e.msgI18nKey.params=Object.assign({appName:window.__ENV__.isOversea?Object(y.b)("View_G_AppNameOverseas"):Object(y.b)("View_G_AppNameDomestic")},e.msgI18nKey.params||{})),T.c.info("handleVCNotice",e),Ql.handleVCNotice(e))}function rp(e){$l(Ql)&&(T.c.info("handleMutex",e),Ql.handleHeartbeatStop(e))}function op(e){$l(Ql)&&Ql.handleParticipantsChange(e)}function sp(){return Xl(this,void 0,void 0,(function*(){$l(Ql)&&(T.c.info("handlePushReconnection in larklet"),Ql.handleReconnect(!1))}))}function ap(e){$l(Ql)&&(T.c.info("handlePushVideoChatCombinedInfo"),Ql.handleVCCombinedInfo(e))}function dp(e){$l(Ql)&&(T.c.info("handleVideoChatNoticeUpdate"),Ql.handleVideoChatNoticeUpdate(e))}var cp=i(709),lp=i.n(cp),pp=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};function up(e){let t;switch(e){case Ee.i.LEAVE:t=kl.b.MEETING_LEAVE;break;case Ee.i.LEAVE_LOBBY:t=kl.b.LOBBY_LEAVE;break;case Ee.i.HOST_END:t=kl.b.END_MEETING;break;case Ee.i.HOST_KICK_OUT:t=kl.b.KICK_OUT_MEETING;break;case Ee.i.HOST_KICK_OUT_LOBBY:t=kl.b.KICK_OUT_LOBBY;break;case Ee.i.LOG_OUT:t=kl.b.LOG_OUT;break;default:t=kl.b.MEETING_OVER}return t}class _p{constructor(e,t){}startup(){return pp(this,void 0,void 0,(function*(){}))}shutdown(){return pp(this,void 0,void 0,(function*(){}))}openNativePageByName(e,t,i){const n={width:i.width,height:i.height};this.send(Ee.k.MEETING,{event:Ee.m.NATIVE_WINDOW,data:{pageName:e,pageData:t,size:n}})}openByName(e,t,i,r){return pp(this,void 0,void 0,(function*(){T.c.info("pm: openByName: "+e,t);const{pageStore:i,previewStore:r,meetingStore:o}=n.a,s=Object(E.c)();if(s!==Ee.k.PREVIEW||e!==Ee.k.MEETING&&e!==Ee.k.LOBBY)if(s!==Ee.k.MEETING&&s!==Ee.k.LOBBY||e!==Ee.k.PREVIEW&&e!==Ee.k.END||!i.isInMeeting){if(s===Ee.k.LOBBY&&e===Ee.k.PREVIEW||s===Ee.k.MEETING&&e===Ee.k.PREVIEW){const e=Object(_n.e)();o.setLoadModalStatus(e)}}else i.isInMeeting=!1;else i.isInMeeting=!0,r.setJoinButtonLoading(!1);switch(e){case Ee.k.PREVIEW:case Ee.k.END:case Ee.k.MEETING:case Ee.k.LOBBY:let n=Object(E.a)("","lang",Object(cl.a)("lang"));n=Object(E.b)(n),i.history.replace(`/${Ee.l[e]}/${r.meetingNumber}${n}`);break;case Ee.k.IN_MEETING_CONFIRM:case Ee.k.IN_MEETING_MIC_CONFIRM:const o={event:Ee.m.NATIVE_WINDOW,data:{pageName:Ee.k.IN_MEETING_CONFIRM,pageData:t}};this.send(e,o)}}))}closeByName(e,t=Ee.i.NOT_DETERMINED){return pp(this,void 0,void 0,(function*(){T.c.info(`pm: closeByName: ${e}, endReason: ${t}`);const{pageStore:i}=n.a;let r;switch(t){case Ee.i.LEAVE:r="hangup";break;case Ee.i.HOST_END:r="host_end";break;case Ee.i.HOST_KICK_OUT:r="kickout";break;case Ee.i.LOG_OUT:r="switch_login_status";break;default:r="other"}switch(r&&Object(h.d)(Ee.g.VC_MEETING_FINISH,{finish_reason:r}),e){case Ee.k.LOBBY:if(!t||t===Ee.i.RELOAD_PAGE)break;i.setEndReason(up(t)),this.openByName(Ee.k.END,{});break;case Ee.k.MEETING:i.setEndReason(up(t)),this.openByName(Ee.k.END,{})}}))}closeExceptByNames(e,t,i){return pp(this,void 0,void 0,(function*(){T.c.info(`closeExceptByNames: ${e}, endReason: ${t}`),t!==Ee.i.RELOAD_PAGE&&this.closeByName(Ee.k.MEETING,t)}))}forceCloseByName(e,t){return pp(this,void 0,void 0,(function*(){}))}hideByName(e){}showByName(e,t){}focusByName(e){}moveTopByName(e){}isExist(e){return Object(E.c)()===e}isShow(e){return Object(E.c)()===e}on(e,t,i){}off(e,t,i){}emit(e,t){}send(e,t){T.c.info("pm send: "+e,t),f.b.emit(f.a.WINDOW_EVENT,e,t)}broadcast(e){T.c.info("pm broadcast: ",e),f.b.emit(f.a.WINDOW_EVENT,null,e)}getWindowInfo(e){return null}restoreByName(e){}setUserId(e){}setDeviceId(e){}setTopMiddlePositionByName(e,t){}setQueueWindowPosition(e){}setPositionWithOnePageByName(e,t,i){}getWindowByName(e){}}var Ep=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};var hp={[Ee.c.GET_USER_PROFILE]:function({userId:e,isFromServer:t}){return Object(r.a)("GET_USER_PROFILE",{userId:e,isFromServer:t})},[Ee.c.SEND_CHAT_APPLICATION]:function({token:e,extraMessage:t,chatId:i}){return Object(r.a)("SEND_CHAT_APPLICATION",{token:e,extraMessage:t,chatId:i})},[Ee.c.GET_USERS]:function(e){return Ep(this,void 0,void 0,(function*(){try{let t={};const i=yield Object(r.a)("MGET_CHATTERS",{chatterIds:e});return t=i.entity.chatters,e.filter(e=>!!t[e]).map(e=>{const i=t[e],{avatarKey:n,localizedName:r}=i,o=Ae(n);return Object.assign(Object.assign({},i),{avatar:o,name:r,avatarUrl:o[72]})})}catch(e){return Promise.reject(e)}}))},[Ee.c.BV_PULL_PARTICIPANT_INFO]:function(e){return Ep(this,void 0,void 0,(function*(){try{const t=yield Object(r.a)("PULL_PARTICIPANT_INFO",{byteviewUsers:e.byteviewUsers,meetingId:e.meetingId});return t.userInfos.map(e=>({id:e.user.userId,deviceId:e.user.deviceId,name:e.displayName||e.fullName||"",avatar:[],avatarUrl:"",type:e.user.userType}))}catch(e){return T.c.error("getChattersReqeust",e),Promise.reject("getChattersReqeust")}}))}},Tp=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};var yp={[Ee.c.GET_ROOMS]:function(e){return Tp(this,void 0,void 0,(function*(){try{let t={};const i=yield Object(r.a)("MGET_ROOMS",{roomIds:e});return t=i.rooms,e.filter(e=>!!t[e]).map(e=>{const i=t[e],{avatarKey:n}=i,r=Ae(n);return Object.assign(Object.assign({},i),{avatar:r,avatarUrl:r[72]})})}catch(e){return T.c.error("getRoomReqeust",e),Promise.reject(e)}}))}},fp=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};var Ip={[Ee.c.GET_GROUP]:function(e){return fp(this,void 0,void 0,(function*(){try{const t=yield Object(r.a)("MGET_CHATS",{chatIds:[e],shouldAuth:!1}),{id:i,name:n,userCount:o}=t.entity.chats[e];return{id:i,name:n,userCount:o}}catch(e){return T.c.error("getChatsRequestError",e),Promise.reject(e)}}))}},gp=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};let Sp;var Cp={[_.Command.LIVE_MEETING_FETCH_LIVE_POLICY]:function(){return gp(this,void 0,void 0,(function*(){if(Sp)return Sp;try{Sp=yield Object(r.a)(_.Command.LIVE_MEETING_FETCH_LIVE_POLICY,{})}catch(e){throw Sp=void 0,e}return Sp}))}};const mp=Object.assign(Object.assign(Object.assign(Object.assign({},hp),Ip),yp),Cp);function Np(e){return mp[e]}const Ap=[Ee.c.CREATE_VIDEO_CHAT,Ee.c.INVITE_VIDEO_CHAT,Ee.c.GET_VIEW_I18N_TEMPLATE,Ee.c.LIVE_MEETING_ACTION,Ee.c.LIVE_MEETING_STREAM_SETTING],Rp=(Ee.f.OFFLINE,[Ee.c.START_HEARTBEAT]);var Op=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};class vp{constructor(e,t){this.containerApi=e,this.i18nKey=t}getI18nText(){return Op(this,void 0,void 0,(function*(){return(yield this.containerApi.getI18NText(this.i18nKey))||""}))}}const Pp=Object(Ee.t)();const Mp=Pp.getViewI18nFromRust.bind(Pp);var Lp=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};class bp{constructor(e){this.shouldOverRide=!1,this.shouldRequestText=!0;const{isShow:t,isOverride:i,msgI18nKey:n}=e;t&&n||(this.shouldRequestText=!1),this.shouldOverRide=Boolean(i),this.i18nKeys=n}getI18nText(){return Lp(this,void 0,void 0,(function*(){return this.shouldRequestText?Mp(this.i18nKeys):""}))}}var Dp=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};var Up=i(141),wp=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))},kp=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i};class Gp{constructor(e){this.appInfo={},this.unsupportedFuncMessage="this function is not supported in web rtc sdk",this.core=null,this.pageManager=null,this.appInfo=e}startup(e){return wp(this,void 0,void 0,(function*(){try{this.core=e,this.pageManager=Object(Up.a)(e.data.coreId),yield ne.a.startup({channel:Nn.c?se.Channel.VA:se.Channel.CN})}catch(e){T.c.error(["[rtc-sdk]","startup error","message: "+e.message,"name: "+e.name,"stack: "+e.stack].join("\n")),Object(h.d)(le.a.VC_WEB_RTC_SDK,{action_name:"rtc_sdk_startup",name:e.name,message:e.message},!1)}}))}shutdown(e){return wp(this,void 0,void 0,(function*(){this.core=e}))}joinMeeting(e){var t,i,r;return wp(this,void 0,void 0,(function*(){Object(h.d)(le.a.VC_WEB_RTC_SDK,{action_name:"join_meeting_start"},!1);try{const{conference:n}=e,r=kp(e,["conference"]),{id:o,info:s}=n,{deviceId:a}=(null===(t=this.core)||void 0===t?void 0:t.data)||{},d=JSON.parse(s),c=e.vendorType;T.c.info(["[joinMeeting]","[rtc-sdk]",`enter ui sdk, try invoke rtcSdk.joinRoom, meeting id: ${o},`,"vendorType: "+c].join("\n")),yield ne.a.joinRoom(d.Token,o,{tenantId:e.conference.tenantId,userId:a,enableaudio:!e.initialSetting.isMicrophoneMuted,enablevideo:!e.initialSetting.isCameraMuted,vendorType:c}),T.c.info(["[joinMeeting]","[rtc-sdk]","invoke rtcSdk.joinRoom success!"].join("\n")),null===(i=this.pageManager)||void 0===i||i.openByName(_.PageName.MEETING,Object.assign(Object.assign({},r),{bot:Date.now()}))}catch(e){null===(r=this.core)||void 0===r||r.hangup(_.Action.SDK_EXCEPTION,_.SDKExceptionReason.JOIN_MEETING_TIMEOUT),de.a.notice(Object(y.b)(n.a.conferenceStore.isPeopleMeeting?"View_W_SomethingWentWrongPleaseRejoinInterview":"View_W_SomethingWentWrongPleaseRejoin"),{theme:ce.b.LARK,iconType:ce.a.ERROR,interval:3e3}),T.c.error(["[joinMeeting]","[rtc-sdk]","joinRoom error","message: "+e.message,"name: "+e.name,"stack: "+e.stack].join("\n")),Object(h.d)(le.a.VC_WEB_RTC_SDK,{action_name:"join_meeting_error",name:e.name,message:e.message},!1),Object(vc.a)(e,"[fatal]rtcSdkJoinMeetingError")}}))}muteVideo(){return wp(this,void 0,void 0,(function*(){ne.a.enableLocalVideo(!1)}))}muteAudio(){return wp(this,void 0,void 0,(function*(){ne.a.enableLocalAudio(!1)}))}unMuteVideo(){return wp(this,void 0,void 0,(function*(){ne.a.enableLocalVideo(!0)}))}unMuteAudio(){return wp(this,void 0,void 0,(function*(){ne.a.enableLocalAudio(!0)}))}getIsSharingAudioEnabled(){return ne.a.getIsSharingAudioEnabled()}getIsSharingAudio(){return ne.a.getIsSharingAudio()}startSharingAudio(){return wp(this,void 0,void 0,(function*(){ne.a.enableSharingAudio(!0)}))}stopSharingAudio(){return wp(this,void 0,void 0,(function*(){ne.a.enableSharingAudio(!1)}))}leaveMeeting(){return wp(this,void 0,void 0,(function*(){yield ne.a.leaveRoom()}))}disconnectSignalServer(){return wp(this,void 0,void 0,(function*(){}))}offSdkEventslisteners(){return wp(this,void 0,void 0,(function*(){}))}startPreview(){return wp(this,void 0,void 0,(function*(){throw new Error(this.unsupportedFuncMessage)}))}stopPreview(){return wp(this,void 0,void 0,(function*(){throw new Error(this.unsupportedFuncMessage)}))}scSetCaptureFrameResolutionLimit(){return wp(this,void 0,void 0,(function*(){throw new Error(this.unsupportedFuncMessage)}))}scSetCaptureFps(){return wp(this,void 0,void 0,(function*(){throw new Error(this.unsupportedFuncMessage)}))}scEnableHighFps(){return wp(this,void 0,void 0,(function*(){throw new Error(this.unsupportedFuncMessage)}))}scEnableDynamicFps(){return wp(this,void 0,void 0,(function*(){throw new Error(this.unsupportedFuncMessage)}))}addIgnoreWindow(){return wp(this,void 0,void 0,(function*(){throw new Error(this.unsupportedFuncMessage)}))}connectSignalServer(){return wp(this,void 0,void 0,(function*(){throw new Error(this.unsupportedFuncMessage)}))}setCurrentPlaybackMute(){return wp(this,void 0,void 0,(function*(){throw new Error(this.unsupportedFuncMessage)}))}stopPlayAudio(){return wp(this,void 0,void 0,(function*(){throw new Error(this.unsupportedFuncMessage)}))}shareDesktop(e){return wp(this,void 0,void 0,(function*(){throw new Error(this.unsupportedFuncMessage)}))}shareWindow(e){return wp(this,void 0,void 0,(function*(){throw new Error(this.unsupportedFuncMessage)}))}getDesktopList(){return wp(this,void 0,void 0,(function*(){throw new Error(this.unsupportedFuncMessage)}))}scSetScreenCaptureConfig(){return wp(this,void 0,void 0,(function*(){throw new Error(this.unsupportedFuncMessage)}))}scShareAudio(){return wp(this,void 0,void 0,(function*(){throw new Error(this.unsupportedFuncMessage)}))}scStopShareAudio(){return wp(this,void 0,void 0,(function*(){throw new Error(this.unsupportedFuncMessage)}))}shareCaptureCard(){return wp(this,void 0,void 0,(function*(){}))}pauseShareScreen(){return wp(this,void 0,void 0,(function*(){}))}resumeShareScreen(){return wp(this,void 0,void 0,(function*(){}))}stopShareScreen(){return wp(this,void 0,void 0,(function*(){}))}}var Vp=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const Hp=function(e,t){return e+t},Bp=function(e){return localStorage.getItem(e)},Fp=function(e,t){return localStorage.setItem(e,t)},jp=function(e){return localStorage.removeItem(e)};const Wp=T.c;Wp.info("[vc settings] init vc page time out setting");class xp{constructor(){this.event=new lp.a}getConfig(){return Vp(this,void 0,void 0,(function*(){return Jl()}))}getPCsdk(e){return new Gp(e)}updateAppConfig(e){return Vp(this,void 0,void 0,(function*(){const t=yield zl(e);return Wp.info(`lark container update appConfig ${t.appInfo.sdkServerName} ${t.appInfo.sdkServerUUID}`,e),t}))}emit(e,t){this.event.emit(e,t)}on(e,t){this.event.on(e,t)}off(e,t){this.event.removeListener(e,t)}rustOn(e,t){Object(r.f)(e,t)}rustOff(e,t){Object(r.d)(e,t)}request(e,...t){return Vp(this,void 0,void 0,(function*(){Wp.info("lark-contaienr.request "+e,...t);const i=void 0===t[1]||t[1];try{return Np(e)?yield Np(e)(...t):yield Object(r.a)(e,t[0])}catch(t){const{code:n,displayMessage:r,xTtLogId:o}=t;if(Rp.includes(e)&&Object(vc.a)(t,`[fatal]fatalRequestError command: ${e}, x-tt-logid: ${o}`),n<22e4||n>24e4)return Promise.reject(t);if(!i)return Promise.reject(t);const s=r.replace(/(_[a-z])/g,(e,t)=>t[1].toUpperCase()),a=function(e){try{return JSON.parse(e)}catch(e){return null}}(s),d=yield function(e,t,i){return Dp(this,void 0,void 0,(function*(){const n=Ee.n[t],r=new vp(e,n);if(!i)return r.getI18nText();if("string"==typeof i)return i;const o=new bp(i),s=yield r.getI18nText();if(o.shouldOverRide||!s){return yield o.getI18nText()}return s}))}(Object(Ee.s)(),n,a||s);let c;t.errorMessage=d,a&&"number"==typeof a.expire&&(c=a.expire);return!Ap.includes(e)&&this.showToastForLarkError(d),e===Ee.c.CREATE_VIDEO_CHAT&&n===Ee.f.EXECUTIVE_MODE_TARGET&&this.showToastForLarkError(d),Promise.reject(t)}}))}syncRequest(e,...t){return""}showToastForLarkError(e){e&&(Object(Ee.s)().toast({type:_.ToastEvent.ERROR,data:e}),de.a.notice(e,{theme:ce.b.LARK,iconType:ce.a.ERROR,interval:2e3}))}getI18NText(e,t){return _d.c.t(e,t)}getFg(e,t){return Vp(this,void 0,void 0,(function*(){return Hp(e,t)}))}getFgs(e){return Vp(this,void 0,void 0,(function*(){const t=Object.keys(e);return(yield Promise.all(t.map(t=>this.getFg(t,e[t].isRuntime)))).reduce((e,i,n)=>(e[t[n]]=i,e),{})}))}getStorage(e){return Bp(e)}setStorage(e,t,i=!1){return Fp(e,t)}delStorage(e){return jp(e)}getI18NResource(){return{}}getEventTimeString(e){return Vp(this,void 0,void 0,(function*(){return""}))}gotoLarkGroup(e,t){return Vp(this,void 0,void 0,(function*(){}))}gotoLarkP2P(e){return Vp(this,void 0,void 0,(function*(){}))}gotoLark(){return Vp(this,void 0,void 0,(function*(){}))}getPageManager(e,t){return new _p(e,t)}getPCSdkLogInfo(){return{}}forceDestorySDKServer(){return Vp(this,void 0,void 0,(function*(){}))}startSDKServer(){return Vp(this,void 0,void 0,(function*(){}))}tryDestroySDKServer(){return Vp(this,void 0,void 0,(function*(){}))}}var Kp=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const qp={confirm:function(e){return Promise.resolve(alert(`${e.title}${e.content}`))}};function Yp(e){const{type:t,data:i,duration:n,onClose:r}=e;T.c.info("handleToastEvent",t,i),Ee.p.HINT}function Jp(e){throw Error("handleAlertEvent has been destory")}function zp(e){return Kp(this,void 0,void 0,(function*(){const{type:t,data:i}=e,n=yield Object(Ee.t)().getNormalMonitorCtx(),r=i&&i.action_name||null;T.c.info(`handleTrackEvent[${t}] ActionName:[${r}]`,i);const o=Object.assign(Object.assign({},n),i);Object(h.d)(t,o)}))}function Xp(e){return Kp(this,void 0,void 0,(function*(){return T.c.info("[core] "+JSON.stringify(e))}))}function Qp({title:e,message:t,confirmHandle:i,cancelHandle:n,confirmText:r="View_G_ConfirmButton",cancelText:o="View_G_CancelButton",iconType:s,showCancel:a}){qp.confirm({title:e,content:t,okText:r,cancelText:o,showCancel:a}).then(e=>{"confirm"===e?i():"cancel"===e&&n()})}var $p=i(169),Zp=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};class eu{startup(){return Zp(this,void 0,void 0,(function*(){yield $p.IMC.init();const e=yield Jl();var t,i;this.larkContainer=new xp,Object(Ee.u)(this.larkContainer,e),(t=this.larkContainer).on(Ee.e.TOAST,Yp),t.on(Ee.e.ALERT,Jp),t.on(Ee.e.TRACK,zp),t.on(Ee.e.NEW_LOG,Xp),t.on(Ee.e.CONFIRM,Qp),yield Object(Ee.w)(),i=Object(Ee.t)(),Ql=i,Object(r.f)(Ee.o.NOTIFY_VIDEO_CHAT,tp),Object(r.f)(Ee.o.NOTIFY_VIDEO_CHAT_EXTRA,ip),Object(r.f)(Ee.o.PUSH_VIDEO_CHAT_NOTICE,np),Object(r.f)(Ee.o.PUSH_BYTEVIEW_HEARTBEAT_STOP,rp),Object(r.f)(Ee.o.PUSH_RECONNECTION,sp),Object(r.f)(Ee.o.PUSH_VIDEO_CHAT_COMBINED_INFO,ap),Object(r.f)(Ee.o.PUSH_VIDEO_CHAT_NOTICE_UPDATE,dp),Object(r.f)(Ee.o.PUSH_VIDEO_CHAT_PROMPT,Zl),Object(r.f)(Ee.o.PUSH_MEETING_PARTICIPANT_CHANGE,op),Object(r.f)(Ee.o.PUSH_DYNAMIC_NET_STATUS,ep)}))}shutdown(){var e;(e=this.larkContainer).off(Ee.e.TOAST,Yp),e.off(Ee.e.ALERT,Jp),e.off(Ee.e.TRACK,zp),e.off(Ee.e.NEW_LOG,Xp),e.off(Ee.e.CONFIRM,Qp),Object(Ee.v)(),Object(Ee.t)(),Object(r.d)(Ee.o.NOTIFY_VIDEO_CHAT,tp),Object(r.d)(Ee.o.NOTIFY_VIDEO_CHAT_EXTRA,ip),Object(r.d)(Ee.o.PUSH_VIDEO_CHAT_NOTICE,np),Object(r.d)(Ee.o.PUSH_BYTEVIEW_HEARTBEAT_STOP,rp),Object(r.d)(Ee.o.PUSH_RECONNECTION,sp),Object(r.d)(Ee.o.PUSH_VIDEO_CHAT_COMBINED_INFO,ap),Object(r.d)(Ee.o.PUSH_VIDEO_CHAT_NOTICE_UPDATE,dp),Object(r.d)(Ee.o.PUSH_VIDEO_CHAT_PROMPT,Zl),Object(r.d)(Ee.o.PUSH_MEETING_PARTICIPANT_CHANGE,op),Object(r.d)(Ee.o.PUSH_DYNAMIC_NET_STATUS,ep)}}var tu=i(710),iu=i.n(tu);const nu=U.a.bind(iu.a);var ru=()=>a.a.createElement("div",{className:nu("ad-block-banner")},a.a.createElement(Yi.a,{className:nu("icon-warning")}),a.a.createElement("span",null,Object(y.b)("View_W_AdblockerDetected")));i(1040);class ou extends A.a{render(){return s.createElement("div",{className:O()("loading")},s.createElement("div",{className:"content"},s.createElement(on,{color:"#fff",style:{height:32,width:32,position:"relative",right:"3px"}}),s.createElement("p",{className:"reconnection"},Object(An.d)("View_G_Reconnecting"))))}}var su=i(714),au=i(280),du=i(346),cu=function(e,t,i,n){return new(i||(i=Promise))((function(r,o){function s(e){try{d(n.next(e))}catch(e){o(e)}}function a(e){try{d(n.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}d((n=n.apply(e,t||[])).next())}))};const lu=[_.PageName.PREVIEW,_.PageName.MEETING,_.PageName.LOBBY];class pu{constructor(){this.messager=null,this.sdkListenerManager=null,this.handleChangeLanguage=e=>{T.c.info("changeLang to: ",e);const t=e===An.a["zh-CN"]?"switch_to_chinese":"switch_to_english";n.a.previewStore.trackForPreviewPage(t),pe.b.emit(pe.a.VC_MEETING_PRE_CLICK,{click:"switch_language",target:"none",language:e===An.a["zh-CN"]?"CH":"EN"})},this.handleLoginOut=()=>{n.a.previewStore.trackForPreviewPage("log_out")},this.render=()=>{const e=Object(l.c)(()=>s.createElement(l.a,Object.assign({},n.a),n.a.meetingStore.isAdBlockEnabled&&s.createElement(ru,null),n.a.meetingStore.showLoadModal&&s.createElement(ou,null),s.createElement(Pl,{handleLoginOut:this.handleLoginOut,handleChangeLanguage:this.handleChangeLanguage,track:n.a.previewStore.trackForPreviewPage,utmFrom:Object(E.c)()===_.PageName.PREVIEW?"organic_vc_web_interview":""}),s.createElement(p.b,{history:n.a.pageStore.history},s.createElement(p.c,null,s.createElement(p.a,{path:Object(E.d)(_.PageName.PREVIEW)},s.createElement(El,null)),s.createElement(p.a,{path:Object(E.d)(_.PageName.MEETING)},s.createElement(ic,null)),s.createElement(p.a,{path:Object(E.d)(_.PageName.LOBBY)},s.createElement(Nl,null)),s.createElement(p.a,{path:Object(E.d)(_.PageName.END)},s.createElement(Fl,null)),s.createElement(p.a,{path:"/"},s.createElement(El,null)))),s.createElement(Ml,null)));c.a.render(s.createElement(e,null),document.getElementById("root"))},this.init().catch(e=>{Object(vc.a)(e,"[fatal]initAppError")}).finally(()=>{Object(du.b)(),this.initHtmlDom(),this.render()})}init(){return cu(this,void 0,void 0,(function*(){yield Object(An.c)(),this.initAppName(),this.initJssdk(),lu.includes(Object(E.c)())&&(yield this.initRtcSdk()),yield this.initLoginInfo()}))}initLoginInfo(){return cu(this,void 0,void 0,(function*(){T.c.info("=== getCurrentUserInfo");const e=yield Object(dl.a)();if(n.a.appStore.setUserInfo(e),e&&(e.isLogin||e.anonymous)){const{isLogin:t,anonymous:i,userId:r,deviceId:s,tenantId:a}=e;T.c.info(`isLogin: ${t}, anonymous: ${i}`),T.c.info(`currentUserId: ${Object(T.b)(r)}, currentDeviceId: ${Object(T.b)(s)}`),n.a.previewStore.hasLogin=!0,n.a.userStore.setCurrentUserId(r),n.a.userStore.setCurrentDeviceId(s),Object(o.d)({userId:r,tenantId:a}),zl({userInfo:{id:r},appInfo:{deviceId:s}}),yield this.initWithLogin()}else[_.PageName.MEETING,_.PageName.LOBBY].includes(Object(E.c)())&&(T.c.info("not login. redirect to preview page"),Object(E.l)(_.PageName.PREVIEW))}))}initWithLogin(){return cu(this,void 0,void 0,(function*(){this.messager=new oe(n.a);const e=new eu;yield e.startup(),T.c.info("Larklet service startup end"),yield Object(S.f)(),T.c.info("Init byteviewApi end"),yield this.initFeatureGating(),n.a.userStore.initCurrentUser(),this.initWatermark(),S.a.initClient().then(e=>{const{appStore:t,conferenceStore:i}=n.a;t.appInfo=e,t.setLang(e.lang),t.initTimeZone(),i.live.fetchLivePolicy()})}))}initFeatureGating(){return cu(this,void 0,void 0,(function*(){const{meetingStore:e}=n.a;yield e.getFeatureGating().catch(e=>{T.c.error("getFeatureGating error, "+e)})}))}initAppName(){const e=me.d.app_name;n.a.appStore.setAppName(e),me.e.app_logo_40&&Object(An.e)()}initJssdk(){const e=n.a.appStore.appName||"Lark",t=An.b.langCode===An.a.en?2:1;try{Object(r.h)(T.c),Object(r.c)({initFeedCount:200,i18nConfig:{appName:e,language:t},appMeta:{appVersion:"3.2.0",appId:161471,appChannel:me.a.lark_app_channel,appKey:me.a.lark_app_key},domainAlias:{api:me.b.api,file:me.b.file,internal_api:me.b.internal_api,long:me.b.long,open:me.b.open,passport:me.b.passport,suite_tklog:me.b.suite_tklog,suite_main_domain:me.b.suite_main_domain,open_appcenter3:me.b.open_appcenter3}}),Object(r.i)()}catch(e){Object(vc.a)(e,"[fatal]initJSSDKError")}T.c.info("Init jssdk end")}initWatermark(){Cn.b.init({appName:au.name,appVersion:au.version,appRegion:Nn.c?"va":"cn",env:mn.c?Cn.a.Dev:Cn.a.Production,locale:An.b.langCode,urls:{larkAPIDomain:me.b.api}}).then(()=>Object(su.a)({clearSelector:{selector:".bv-watermark:after"}})).then(({clear:e})=>{const t=e.watermark.getStyleData(),i=document.createElement("style");i.innerText=`.bv-watermark:after { background-image: url(${t.src}), url(${t.src}); }`,document.head.append(i)})}initRtcSdk(){return cu(this,void 0,void 0,(function*(){ae.a.setLogger(T.c),yield this.startRtcSDK(),yield n.a.rtcStore.getDevices(),yield n.a.rtcStore.fetchCameraStatus(),yield n.a.rtcStore.fetchMicStatus();Object(E.c)()===_.PageName.PREVIEW&&(T.c.info("startPreview"),ne.a.startPreview().catch(e=>T.c.error(["startPreview error: ",e.message].join("\n")))),this.sdkListenerManager=new _e,yield this.sdkListenerManager.addListeners()}))}startRtcSDK(){return cu(this,void 0,void 0,(function*(){try{yield ne.a.startup({channel:Nn.c?se.Channel.VA:se.Channel.CN})}catch(e){T.c.error(["[rtc-sdk]","startup error","message: "+e.message,"name: "+e.name,"stack: "+e.stack].join("\n")),Object(h.d)(le.a.VC_WEB_RTC_SDK,{action_name:"rtc_sdk_startup",name:e.name,message:e.message},!1)}}))}initHtmlDom(){Object(u.g)(()=>{const{layout:e}=n.a.meetingStore,{hasSidebar:t,hasASList:i}=e;t?document.body.classList.add("has-sidebar"):document.body.classList.remove("has-sidebar"),i?document.body.classList.add("has-as-list"):document.body.classList.remove("has-as-list")})}}if(Object(gi.b)()){const e=new pu;window.VC_WEB_APP_INSTANCE=e}else Object(E.k)()}]]);
//# sourceMappingURL=commons-595a6deb250b5905a61a.js.map